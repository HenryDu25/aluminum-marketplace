function T9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function st(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w3={exports:{}},py={},x3={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh=Symbol.for("react.element"),w9=Symbol.for("react.portal"),x9=Symbol.for("react.fragment"),A9=Symbol.for("react.strict_mode"),S9=Symbol.for("react.profiler"),I9=Symbol.for("react.provider"),P9=Symbol.for("react.context"),C9=Symbol.for("react.forward_ref"),O9=Symbol.for("react.suspense"),N9=Symbol.for("react.memo"),R9=Symbol.for("react.lazy"),l2=Symbol.iterator;function k9(t){return t===null||typeof t!="object"?null:(t=l2&&t[l2]||t["@@iterator"],typeof t=="function"?t:null)}var A3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S3=Object.assign,I3={};function ac(t,e,n){this.props=t,this.context=e,this.refs=I3,this.updater=n||A3}ac.prototype.isReactComponent={};ac.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ac.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function P3(){}P3.prototype=ac.prototype;function Cw(t,e,n){this.props=t,this.context=e,this.refs=I3,this.updater=n||A3}var Ow=Cw.prototype=new P3;Ow.constructor=Cw;S3(Ow,ac.prototype);Ow.isPureReactComponent=!0;var c2=Array.isArray,C3=Object.prototype.hasOwnProperty,Nw={current:null},O3={key:!0,ref:!0,__self:!0,__source:!0};function N3(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)C3.call(e,r)&&!O3.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var u=Array(o),l=0;l<o;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Dh,type:t,key:a,ref:s,props:i,_owner:Nw.current}}function D9(t,e){return{$$typeof:Dh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dh}function M9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var f2=/\/+/g;function Ob(t,e){return typeof t=="object"&&t!==null&&t.key!=null?M9(""+t.key):e.toString(36)}function Im(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Dh:case w9:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ob(s,0):r,c2(i)?(n="",t!=null&&(n=t.replace(f2,"$&/")+"/"),Im(i,e,n,"",function(l){return l})):i!=null&&(Rw(i)&&(i=D9(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(f2,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",c2(t))for(var o=0;o<t.length;o++){a=t[o];var u=r+Ob(a,o);s+=Im(a,e,n,u,i)}else if(u=k9(t),typeof u=="function")for(t=u.call(t),o=0;!(a=t.next()).done;)a=a.value,u=r+Ob(a,o++),s+=Im(a,e,n,u,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function jp(t,e,n){if(t==null)return t;var r=[],i=0;return Im(t,r,"","",function(a){return e.call(n,a,i++)}),r}function L9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zn={current:null},Pm={transition:null},j9={ReactCurrentDispatcher:zn,ReactCurrentBatchConfig:Pm,ReactCurrentOwner:Nw};function R3(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:jp,forEach:function(t,e,n){jp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jp(t,function(){e++}),e},toArray:function(t){return jp(t,function(e){return e})||[]},only:function(t){if(!Rw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=ac;je.Fragment=x9;je.Profiler=S9;je.PureComponent=Cw;je.StrictMode=A9;je.Suspense=O9;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j9;je.act=R3;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=S3({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=Nw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(u in e)C3.call(e,u)&&!O3.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&o!==void 0?o[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var l=0;l<u;l++)o[l]=arguments[l+2];r.children=o}return{$$typeof:Dh,type:t.type,key:i,ref:a,props:r,_owner:s}};je.createContext=function(t){return t={$$typeof:P9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:I9,_context:t},t.Consumer=t};je.createElement=N3;je.createFactory=function(t){var e=N3.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:C9,render:t}};je.isValidElement=Rw;je.lazy=function(t){return{$$typeof:R9,_payload:{_status:-1,_result:t},_init:L9}};je.memo=function(t,e){return{$$typeof:N9,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Pm.transition;Pm.transition={};try{t()}finally{Pm.transition=e}};je.unstable_act=R3;je.useCallback=function(t,e){return zn.current.useCallback(t,e)};je.useContext=function(t){return zn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return zn.current.useDeferredValue(t)};je.useEffect=function(t,e){return zn.current.useEffect(t,e)};je.useId=function(){return zn.current.useId()};je.useImperativeHandle=function(t,e,n){return zn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return zn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return zn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return zn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return zn.current.useReducer(t,e,n)};je.useRef=function(t){return zn.current.useRef(t)};je.useState=function(t){return zn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return zn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return zn.current.useTransition()};je.version="18.3.1";x3.exports=je;var F=x3.exports;const B=st(F),F9=T9({__proto__:null,default:B},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $9=F,B9=Symbol.for("react.element"),U9=Symbol.for("react.fragment"),V9=Object.prototype.hasOwnProperty,H9=$9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q9={key:!0,ref:!0,__self:!0,__source:!0};function k3(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)V9.call(e,r)&&!q9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:B9,type:t,key:a,ref:s,props:i,_owner:H9.current}}py.Fragment=U9;py.jsx=k3;py.jsxs=k3;w3.exports=py;var y=w3.exports,u_={},D3={exports:{}},Ar={},M3={exports:{}},L3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,X){var ie=q.length;q.push(X);e:for(;0<ie;){var he=ie-1>>>1,ae=q[he];if(0<i(ae,X))q[he]=X,q[ie]=ae,ie=he;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var X=q[0],ie=q.pop();if(ie!==X){q[0]=ie;e:for(var he=0,ae=q.length,me=ae>>>1;he<me;){var Ue=2*(he+1)-1,Qe=q[Ue],wt=Ue+1,ln=q[wt];if(0>i(Qe,ie))wt<ae&&0>i(ln,Qe)?(q[he]=ln,q[wt]=ie,he=wt):(q[he]=Qe,q[Ue]=ie,he=Ue);else if(wt<ae&&0>i(ln,ie))q[he]=ln,q[wt]=ie,he=wt;else break e}}return X}function i(q,X){var ie=q.sortIndex-X.sortIndex;return ie!==0?ie:q.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var u=[],l=[],c=1,f=null,h=3,p=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var X=n(l);X!==null;){if(X.callback===null)r(l);else if(X.startTime<=q)r(l),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(l)}}function C(q){if(v=!1,_(q),!g)if(n(u)!==null)g=!0,Z(A);else{var X=n(l);X!==null&&te(C,X.startTime-q)}}function A(q,X){g=!1,v&&(v=!1,w(I),I=-1),p=!0;var ie=h;try{for(_(X),f=n(u);f!==null&&(!(f.expirationTime>X)||q&&!N());){var he=f.callback;if(typeof he=="function"){f.callback=null,h=f.priorityLevel;var ae=he(f.expirationTime<=X);X=t.unstable_now(),typeof ae=="function"?f.callback=ae:f===n(u)&&r(u),_(X)}else r(u);f=n(u)}if(f!==null)var me=!0;else{var Ue=n(l);Ue!==null&&te(C,Ue.startTime-X),me=!1}return me}finally{f=null,h=ie,p=!1}}var S=!1,x=null,I=-1,O=5,R=-1;function N(){return!(t.unstable_now()-R<O)}function D(){if(x!==null){var q=t.unstable_now();R=q;var X=!0;try{X=x(!0,q)}finally{X?k():(S=!1,x=null)}}else S=!1}var k;if(typeof T=="function")k=function(){T(D)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,K=Y.port2;Y.port1.onmessage=D,k=function(){K.postMessage(null)}}else k=function(){b(D,0)};function Z(q){x=q,S||(S=!0,k())}function te(q,X){I=b(function(){q(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,Z(A))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(q){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var ie=h;h=X;try{return q()}finally{h=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,X){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=h;h=q;try{return X()}finally{h=ie}},t.unstable_scheduleCallback=function(q,X,ie){var he=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?he+ie:he):ie=he,q){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=ie+ae,q={id:c++,callback:X,priorityLevel:q,startTime:ie,expirationTime:ae,sortIndex:-1},ie>he?(q.sortIndex=ie,e(l,q),n(u)===null&&q===n(l)&&(v?(w(I),I=-1):v=!0,te(C,ie-he))):(q.sortIndex=ae,e(u,q),g||p||(g=!0,Z(A))),q},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(q){var X=h;return function(){var ie=h;h=X;try{return q.apply(this,arguments)}finally{h=ie}}}})(L3);M3.exports=L3;var z9=M3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W9=F,Er=z9;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j3=new Set,hd={};function ou(t,e){gl(t,e),gl(t+"Capture",e)}function gl(t,e){for(hd[t]=e,t=0;t<e.length;t++)j3.add(e[t])}var ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l_=Object.prototype.hasOwnProperty,G9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d2={},h2={};function K9(t){return l_.call(h2,t)?!0:l_.call(d2,t)?!1:G9.test(t)?h2[t]=!0:(d2[t]=!0,!1)}function Y9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Q9(t,e,n,r){if(e===null||typeof e>"u"||Y9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wn(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vn[t]=new Wn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vn[e]=new Wn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vn[t]=new Wn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vn[t]=new Wn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vn[t]=new Wn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vn[t]=new Wn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vn[t]=new Wn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vn[t]=new Wn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vn[t]=new Wn(t,5,!1,t.toLowerCase(),null,!1,!1)});var kw=/[\-:]([a-z])/g;function Dw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kw,Dw);vn[e]=new Wn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kw,Dw);vn[e]=new Wn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kw,Dw);vn[e]=new Wn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vn[t]=new Wn(t,1,!1,t.toLowerCase(),null,!1,!1)});vn.xlinkHref=new Wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vn[t]=new Wn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mw(t,e,n,r){var i=vn.hasOwnProperty(e)?vn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Q9(e,n,i,r)&&(n=null),r||i===null?K9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pa=W9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fp=Symbol.for("react.element"),Uu=Symbol.for("react.portal"),Vu=Symbol.for("react.fragment"),Lw=Symbol.for("react.strict_mode"),c_=Symbol.for("react.profiler"),F3=Symbol.for("react.provider"),$3=Symbol.for("react.context"),jw=Symbol.for("react.forward_ref"),f_=Symbol.for("react.suspense"),d_=Symbol.for("react.suspense_list"),Fw=Symbol.for("react.memo"),Wa=Symbol.for("react.lazy"),B3=Symbol.for("react.offscreen"),p2=Symbol.iterator;function Kc(t){return t===null||typeof t!="object"?null:(t=p2&&t[p2]||t["@@iterator"],typeof t=="function"?t:null)}var Pt=Object.assign,Nb;function Sf(t){if(Nb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nb=e&&e[1]||""}return`
`+Nb+t}var Rb=!1;function kb(t,e){if(!t||Rb)return"";Rb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=o);break}}}finally{Rb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sf(t):""}function X9(t){switch(t.tag){case 5:return Sf(t.type);case 16:return Sf("Lazy");case 13:return Sf("Suspense");case 19:return Sf("SuspenseList");case 0:case 2:case 15:return t=kb(t.type,!1),t;case 11:return t=kb(t.type.render,!1),t;case 1:return t=kb(t.type,!0),t;default:return""}}function h_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vu:return"Fragment";case Uu:return"Portal";case c_:return"Profiler";case Lw:return"StrictMode";case f_:return"Suspense";case d_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $3:return(t.displayName||"Context")+".Consumer";case F3:return(t._context.displayName||"Context")+".Provider";case jw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fw:return e=t.displayName||null,e!==null?e:h_(t.type)||"Memo";case Wa:e=t._payload,t=t._init;try{return h_(t(e))}catch{}}return null}function J9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h_(e);case 8:return e===Lw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ss(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function U3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Z9(t){var e=U3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $p(t){t._valueTracker||(t._valueTracker=Z9(t))}function V3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=U3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function a0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function p_(t,e){var n=e.checked;return Pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function m2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ss(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function H3(t,e){e=e.checked,e!=null&&Mw(t,"checked",e,!1)}function m_(t,e){H3(t,e);var n=Ss(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?g_(t,e.type,n):e.hasOwnProperty("defaultValue")&&g_(t,e.type,Ss(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function g2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function g_(t,e,n){(e!=="number"||a0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var If=Array.isArray;function nl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ss(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function y_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function y2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(If(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ss(n)}}function q3(t,e){var n=Ss(e.value),r=Ss(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function v2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function z3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function v_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?z3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bp,W3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bp=Bp||document.createElement("div"),Bp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $f={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eV=["Webkit","ms","Moz","O"];Object.keys($f).forEach(function(t){eV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$f[e]=$f[t]})});function G3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$f.hasOwnProperty(t)&&$f[t]?(""+e).trim():e+"px"}function K3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=G3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tV=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function b_(t,e){if(e){if(tV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function __(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E_=null;function $w(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var T_=null,rl=null,il=null;function b2(t){if(t=jh(t)){if(typeof T_!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=by(e),T_(t.stateNode,t.type,e))}}function Y3(t){rl?il?il.push(t):il=[t]:rl=t}function Q3(){if(rl){var t=rl,e=il;if(il=rl=null,b2(t),e)for(t=0;t<e.length;t++)b2(e[t])}}function X3(t,e){return t(e)}function J3(){}var Db=!1;function Z3(t,e,n){if(Db)return t(e,n);Db=!0;try{return X3(t,e,n)}finally{Db=!1,(rl!==null||il!==null)&&(J3(),Q3())}}function md(t,e){var n=t.stateNode;if(n===null)return null;var r=by(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var w_=!1;if(ga)try{var Yc={};Object.defineProperty(Yc,"passive",{get:function(){w_=!0}}),window.addEventListener("test",Yc,Yc),window.removeEventListener("test",Yc,Yc)}catch{w_=!1}function nV(t,e,n,r,i,a,s,o,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Bf=!1,s0=null,o0=!1,x_=null,rV={onError:function(t){Bf=!0,s0=t}};function iV(t,e,n,r,i,a,s,o,u){Bf=!1,s0=null,nV.apply(rV,arguments)}function aV(t,e,n,r,i,a,s,o,u){if(iV.apply(this,arguments),Bf){if(Bf){var l=s0;Bf=!1,s0=null}else throw Error(ue(198));o0||(o0=!0,x_=l)}}function uu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _2(t){if(uu(t)!==t)throw Error(ue(188))}function sV(t){var e=t.alternate;if(!e){if(e=uu(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return _2(i),t;if(a===r)return _2(i),e;a=a.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function tM(t){return t=sV(t),t!==null?nM(t):null}function nM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nM(t);if(e!==null)return e;t=t.sibling}return null}var rM=Er.unstable_scheduleCallback,E2=Er.unstable_cancelCallback,oV=Er.unstable_shouldYield,uV=Er.unstable_requestPaint,jt=Er.unstable_now,lV=Er.unstable_getCurrentPriorityLevel,Bw=Er.unstable_ImmediatePriority,iM=Er.unstable_UserBlockingPriority,u0=Er.unstable_NormalPriority,cV=Er.unstable_LowPriority,aM=Er.unstable_IdlePriority,my=null,Oi=null;function fV(t){if(Oi&&typeof Oi.onCommitFiberRoot=="function")try{Oi.onCommitFiberRoot(my,t,void 0,(t.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:pV,dV=Math.log,hV=Math.LN2;function pV(t){return t>>>=0,t===0?32:31-(dV(t)/hV|0)|0}var Up=64,Vp=4194304;function Pf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function l0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Pf(o):(a&=s,a!==0&&(r=Pf(a)))}else s=n&~i,s!==0?r=Pf(s):a!==0&&(r=Pf(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-li(e),i=1<<n,r|=t[n],e&=~i;return r}function mV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-li(a),o=1<<s,u=i[s];u===-1?(!(o&n)||o&r)&&(i[s]=mV(o,e)):u<=e&&(t.expiredLanes|=o),a&=~o}}function A_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sM(){var t=Up;return Up<<=1,!(Up&4194240)&&(Up=64),t}function Mb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-li(e),t[e]=n}function yV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-li(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Uw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-li(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var tt=0;function oM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uM,Vw,lM,cM,fM,S_=!1,Hp=[],ds=null,hs=null,ps=null,gd=new Map,yd=new Map,Qa=[],vV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T2(t,e){switch(t){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":gd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yd.delete(e.pointerId)}}function Qc(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=jh(e),e!==null&&Vw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bV(t,e,n,r,i){switch(e){case"focusin":return ds=Qc(ds,t,e,n,r,i),!0;case"dragenter":return hs=Qc(hs,t,e,n,r,i),!0;case"mouseover":return ps=Qc(ps,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return gd.set(a,Qc(gd.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,yd.set(a,Qc(yd.get(a)||null,t,e,n,r,i)),!0}return!1}function dM(t){var e=go(t.target);if(e!==null){var n=uu(e);if(n!==null){if(e=n.tag,e===13){if(e=eM(n),e!==null){t.blockedOn=e,fM(t.priority,function(){lM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=I_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);E_=r,n.target.dispatchEvent(r),E_=null}else return e=jh(n),e!==null&&Vw(e),t.blockedOn=n,!1;e.shift()}return!0}function w2(t,e,n){Cm(t)&&n.delete(e)}function _V(){S_=!1,ds!==null&&Cm(ds)&&(ds=null),hs!==null&&Cm(hs)&&(hs=null),ps!==null&&Cm(ps)&&(ps=null),gd.forEach(w2),yd.forEach(w2)}function Xc(t,e){t.blockedOn===e&&(t.blockedOn=null,S_||(S_=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,_V)))}function vd(t){function e(i){return Xc(i,t)}if(0<Hp.length){Xc(Hp[0],t);for(var n=1;n<Hp.length;n++){var r=Hp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ds!==null&&Xc(ds,t),hs!==null&&Xc(hs,t),ps!==null&&Xc(ps,t),gd.forEach(e),yd.forEach(e),n=0;n<Qa.length;n++)r=Qa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qa.length&&(n=Qa[0],n.blockedOn===null);)dM(n),n.blockedOn===null&&Qa.shift()}var al=Pa.ReactCurrentBatchConfig,c0=!0;function EV(t,e,n,r){var i=tt,a=al.transition;al.transition=null;try{tt=1,Hw(t,e,n,r)}finally{tt=i,al.transition=a}}function TV(t,e,n,r){var i=tt,a=al.transition;al.transition=null;try{tt=4,Hw(t,e,n,r)}finally{tt=i,al.transition=a}}function Hw(t,e,n,r){if(c0){var i=I_(t,e,n,r);if(i===null)zb(t,e,r,f0,n),T2(t,r);else if(bV(i,t,e,n,r))r.stopPropagation();else if(T2(t,r),e&4&&-1<vV.indexOf(t)){for(;i!==null;){var a=jh(i);if(a!==null&&uM(a),a=I_(t,e,n,r),a===null&&zb(t,e,r,f0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else zb(t,e,r,null,n)}}var f0=null;function I_(t,e,n,r){if(f0=null,t=$w(r),t=go(t),t!==null)if(e=uu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=eM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return f0=t,null}function hM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lV()){case Bw:return 1;case iM:return 4;case u0:case cV:return 16;case aM:return 536870912;default:return 16}default:return 16}}var as=null,qw=null,Om=null;function pM(){if(Om)return Om;var t,e=qw,n=e.length,r,i="value"in as?as.value:as.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Om=i.slice(t,1<r?1-r:void 0)}function Nm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qp(){return!0}function x2(){return!1}function Sr(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?qp:x2,this.isPropagationStopped=x2,this}return Pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qp)},persist:function(){},isPersistent:qp}),e}var sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zw=Sr(sc),Lh=Pt({},sc,{view:0,detail:0}),wV=Sr(Lh),Lb,jb,Jc,gy=Pt({},Lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ww,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jc&&(Jc&&t.type==="mousemove"?(Lb=t.screenX-Jc.screenX,jb=t.screenY-Jc.screenY):jb=Lb=0,Jc=t),Lb)},movementY:function(t){return"movementY"in t?t.movementY:jb}}),A2=Sr(gy),xV=Pt({},gy,{dataTransfer:0}),AV=Sr(xV),SV=Pt({},Lh,{relatedTarget:0}),Fb=Sr(SV),IV=Pt({},sc,{animationName:0,elapsedTime:0,pseudoElement:0}),PV=Sr(IV),CV=Pt({},sc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OV=Sr(CV),NV=Pt({},sc,{data:0}),S2=Sr(NV),RV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DV[t])?!!e[t]:!1}function Ww(){return MV}var LV=Pt({},Lh,{key:function(t){if(t.key){var e=RV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ww,charCode:function(t){return t.type==="keypress"?Nm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jV=Sr(LV),FV=Pt({},gy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I2=Sr(FV),$V=Pt({},Lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ww}),BV=Sr($V),UV=Pt({},sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),VV=Sr(UV),HV=Pt({},gy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qV=Sr(HV),zV=[9,13,27,32],Gw=ga&&"CompositionEvent"in window,Uf=null;ga&&"documentMode"in document&&(Uf=document.documentMode);var WV=ga&&"TextEvent"in window&&!Uf,mM=ga&&(!Gw||Uf&&8<Uf&&11>=Uf),P2=" ",C2=!1;function gM(t,e){switch(t){case"keyup":return zV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hu=!1;function GV(t,e){switch(t){case"compositionend":return yM(e);case"keypress":return e.which!==32?null:(C2=!0,P2);case"textInput":return t=e.data,t===P2&&C2?null:t;default:return null}}function KV(t,e){if(Hu)return t==="compositionend"||!Gw&&gM(t,e)?(t=pM(),Om=qw=as=null,Hu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mM&&e.locale!=="ko"?null:e.data;default:return null}}var YV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YV[t.type]:e==="textarea"}function vM(t,e,n,r){Y3(r),e=d0(e,"onChange"),0<e.length&&(n=new zw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vf=null,bd=null;function QV(t){CM(t,0)}function yy(t){var e=Wu(t);if(V3(e))return t}function XV(t,e){if(t==="change")return e}var bM=!1;if(ga){var $b;if(ga){var Bb="oninput"in document;if(!Bb){var N2=document.createElement("div");N2.setAttribute("oninput","return;"),Bb=typeof N2.oninput=="function"}$b=Bb}else $b=!1;bM=$b&&(!document.documentMode||9<document.documentMode)}function R2(){Vf&&(Vf.detachEvent("onpropertychange",_M),bd=Vf=null)}function _M(t){if(t.propertyName==="value"&&yy(bd)){var e=[];vM(e,bd,t,$w(t)),Z3(QV,e)}}function JV(t,e,n){t==="focusin"?(R2(),Vf=e,bd=n,Vf.attachEvent("onpropertychange",_M)):t==="focusout"&&R2()}function ZV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yy(bd)}function e7(t,e){if(t==="click")return yy(e)}function t7(t,e){if(t==="input"||t==="change")return yy(e)}function n7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var di=typeof Object.is=="function"?Object.is:n7;function _d(t,e){if(di(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!l_.call(e,i)||!di(t[i],e[i]))return!1}return!0}function k2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function D2(t,e){var n=k2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=k2(n)}}function EM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?EM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function TM(){for(var t=window,e=a0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=a0(t.document)}return e}function Kw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function r7(t){var e=TM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&EM(n.ownerDocument.documentElement,n)){if(r!==null&&Kw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=D2(n,a);var s=D2(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var i7=ga&&"documentMode"in document&&11>=document.documentMode,qu=null,P_=null,Hf=null,C_=!1;function M2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;C_||qu==null||qu!==a0(r)||(r=qu,"selectionStart"in r&&Kw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hf&&_d(Hf,r)||(Hf=r,r=d0(P_,"onSelect"),0<r.length&&(e=new zw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qu)))}function zp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zu={animationend:zp("Animation","AnimationEnd"),animationiteration:zp("Animation","AnimationIteration"),animationstart:zp("Animation","AnimationStart"),transitionend:zp("Transition","TransitionEnd")},Ub={},wM={};ga&&(wM=document.createElement("div").style,"AnimationEvent"in window||(delete zu.animationend.animation,delete zu.animationiteration.animation,delete zu.animationstart.animation),"TransitionEvent"in window||delete zu.transitionend.transition);function vy(t){if(Ub[t])return Ub[t];if(!zu[t])return t;var e=zu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wM)return Ub[t]=e[n];return t}var xM=vy("animationend"),AM=vy("animationiteration"),SM=vy("animationstart"),IM=vy("transitionend"),PM=new Map,L2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(t,e){PM.set(t,e),ou(e,[t])}for(var Vb=0;Vb<L2.length;Vb++){var Hb=L2[Vb],a7=Hb.toLowerCase(),s7=Hb[0].toUpperCase()+Hb.slice(1);ks(a7,"on"+s7)}ks(xM,"onAnimationEnd");ks(AM,"onAnimationIteration");ks(SM,"onAnimationStart");ks("dblclick","onDoubleClick");ks("focusin","onFocus");ks("focusout","onBlur");ks(IM,"onTransitionEnd");gl("onMouseEnter",["mouseout","mouseover"]);gl("onMouseLeave",["mouseout","mouseover"]);gl("onPointerEnter",["pointerout","pointerover"]);gl("onPointerLeave",["pointerout","pointerover"]);ou("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ou("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ou("onBeforeInput",["compositionend","keypress","textInput","paste"]);ou("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ou("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ou("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cf));function j2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aV(r,e,void 0,t),t.currentTarget=null}function CM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],u=o.instance,l=o.currentTarget;if(o=o.listener,u!==a&&i.isPropagationStopped())break e;j2(i,o,l),a=u}else for(s=0;s<r.length;s++){if(o=r[s],u=o.instance,l=o.currentTarget,o=o.listener,u!==a&&i.isPropagationStopped())break e;j2(i,o,l),a=u}}}if(o0)throw t=x_,o0=!1,x_=null,t}function pt(t,e){var n=e[D_];n===void 0&&(n=e[D_]=new Set);var r=t+"__bubble";n.has(r)||(OM(e,t,2,!1),n.add(r))}function qb(t,e,n){var r=0;e&&(r|=4),OM(n,t,r,e)}var Wp="_reactListening"+Math.random().toString(36).slice(2);function Ed(t){if(!t[Wp]){t[Wp]=!0,j3.forEach(function(n){n!=="selectionchange"&&(o7.has(n)||qb(n,!1,t),qb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wp]||(e[Wp]=!0,qb("selectionchange",!1,e))}}function OM(t,e,n,r){switch(hM(e)){case 1:var i=EV;break;case 4:i=TV;break;default:i=Hw}n=i.bind(null,e,n,t),i=void 0,!w_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zb(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;o!==null;){if(s=go(o),s===null)return;if(u=s.tag,u===5||u===6){r=a=s;continue e}o=o.parentNode}}r=r.return}Z3(function(){var l=a,c=$w(n),f=[];e:{var h=PM.get(t);if(h!==void 0){var p=zw,g=t;switch(t){case"keypress":if(Nm(n)===0)break e;case"keydown":case"keyup":p=jV;break;case"focusin":g="focus",p=Fb;break;case"focusout":g="blur",p=Fb;break;case"beforeblur":case"afterblur":p=Fb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=A2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=AV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=BV;break;case xM:case AM:case SM:p=PV;break;case IM:p=VV;break;case"scroll":p=wV;break;case"wheel":p=qV;break;case"copy":case"cut":case"paste":p=OV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=I2}var v=(e&4)!==0,b=!v&&t==="scroll",w=v?h!==null?h+"Capture":null:h;v=[];for(var T=l,_;T!==null;){_=T;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,w!==null&&(C=md(T,w),C!=null&&v.push(Td(T,C,_)))),b)break;T=T.return}0<v.length&&(h=new p(h,g,null,n,c),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==E_&&(g=n.relatedTarget||n.fromElement)&&(go(g)||g[ya]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=l,g=g?go(g):null,g!==null&&(b=uu(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=l),p!==g)){if(v=A2,C="onMouseLeave",w="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(v=I2,C="onPointerLeave",w="onPointerEnter",T="pointer"),b=p==null?h:Wu(p),_=g==null?h:Wu(g),h=new v(C,T+"leave",p,n,c),h.target=b,h.relatedTarget=_,C=null,go(c)===l&&(v=new v(w,T+"enter",g,n,c),v.target=_,v.relatedTarget=b,C=v),b=C,p&&g)t:{for(v=p,w=g,T=0,_=v;_;_=Au(_))T++;for(_=0,C=w;C;C=Au(C))_++;for(;0<T-_;)v=Au(v),T--;for(;0<_-T;)w=Au(w),_--;for(;T--;){if(v===w||w!==null&&v===w.alternate)break t;v=Au(v),w=Au(w)}v=null}else v=null;p!==null&&F2(f,h,p,v,!1),g!==null&&b!==null&&F2(f,b,g,v,!0)}}e:{if(h=l?Wu(l):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var A=XV;else if(O2(h))if(bM)A=t7;else{A=ZV;var S=JV}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=e7);if(A&&(A=A(t,l))){vM(f,A,n,c);break e}S&&S(t,h,l),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&g_(h,"number",h.value)}switch(S=l?Wu(l):window,t){case"focusin":(O2(S)||S.contentEditable==="true")&&(qu=S,P_=l,Hf=null);break;case"focusout":Hf=P_=qu=null;break;case"mousedown":C_=!0;break;case"contextmenu":case"mouseup":case"dragend":C_=!1,M2(f,n,c);break;case"selectionchange":if(i7)break;case"keydown":case"keyup":M2(f,n,c)}var x;if(Gw)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Hu?gM(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(mM&&n.locale!=="ko"&&(Hu||I!=="onCompositionStart"?I==="onCompositionEnd"&&Hu&&(x=pM()):(as=c,qw="value"in as?as.value:as.textContent,Hu=!0)),S=d0(l,I),0<S.length&&(I=new S2(I,t,null,n,c),f.push({event:I,listeners:S}),x?I.data=x:(x=yM(n),x!==null&&(I.data=x)))),(x=WV?GV(t,n):KV(t,n))&&(l=d0(l,"onBeforeInput"),0<l.length&&(c=new S2("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=x))}CM(f,e)})}function Td(t,e,n){return{instance:t,listener:e,currentTarget:n}}function d0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=md(t,n),a!=null&&r.unshift(Td(t,a,i)),a=md(t,e),a!=null&&r.push(Td(t,a,i))),t=t.return}return r}function Au(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function F2(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,u=o.alternate,l=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&l!==null&&(o=l,i?(u=md(n,a),u!=null&&s.unshift(Td(n,u,o))):i||(u=md(n,a),u!=null&&s.push(Td(n,u,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var u7=/\r\n?/g,l7=/\u0000|\uFFFD/g;function $2(t){return(typeof t=="string"?t:""+t).replace(u7,`
`).replace(l7,"")}function Gp(t,e,n){if(e=$2(e),$2(t)!==e&&n)throw Error(ue(425))}function h0(){}var O_=null,N_=null;function R_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var k_=typeof setTimeout=="function"?setTimeout:void 0,c7=typeof clearTimeout=="function"?clearTimeout:void 0,B2=typeof Promise=="function"?Promise:void 0,f7=typeof queueMicrotask=="function"?queueMicrotask:typeof B2<"u"?function(t){return B2.resolve(null).then(t).catch(d7)}:k_;function d7(t){setTimeout(function(){throw t})}function Wb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),vd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vd(e)}function ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function U2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var oc=Math.random().toString(36).slice(2),Ai="__reactFiber$"+oc,wd="__reactProps$"+oc,ya="__reactContainer$"+oc,D_="__reactEvents$"+oc,h7="__reactListeners$"+oc,p7="__reactHandles$"+oc;function go(t){var e=t[Ai];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ya]||n[Ai]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=U2(t);t!==null;){if(n=t[Ai])return n;t=U2(t)}return e}t=n,n=t.parentNode}return null}function jh(t){return t=t[Ai]||t[ya],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function by(t){return t[wd]||null}var M_=[],Gu=-1;function Ds(t){return{current:t}}function yt(t){0>Gu||(t.current=M_[Gu],M_[Gu]=null,Gu--)}function ft(t,e){Gu++,M_[Gu]=t.current,t.current=e}var Is={},kn=Ds(Is),er=Ds(!1),jo=Is;function yl(t,e){var n=t.type.contextTypes;if(!n)return Is;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tr(t){return t=t.childContextTypes,t!=null}function p0(){yt(er),yt(kn)}function V2(t,e,n){if(kn.current!==Is)throw Error(ue(168));ft(kn,e),ft(er,n)}function NM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ue(108,J9(t)||"Unknown",i));return Pt({},n,r)}function m0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Is,jo=kn.current,ft(kn,t),ft(er,er.current),!0}function H2(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=NM(t,e,jo),r.__reactInternalMemoizedMergedChildContext=t,yt(er),yt(kn),ft(kn,t)):yt(er),ft(er,n)}var Ji=null,_y=!1,Gb=!1;function RM(t){Ji===null?Ji=[t]:Ji.push(t)}function m7(t){_y=!0,RM(t)}function Ms(){if(!Gb&&Ji!==null){Gb=!0;var t=0,e=tt;try{var n=Ji;for(tt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ji=null,_y=!1}catch(i){throw Ji!==null&&(Ji=Ji.slice(t+1)),rM(Bw,Ms),i}finally{tt=e,Gb=!1}}return null}var Ku=[],Yu=0,g0=null,y0=0,Nr=[],Rr=0,Fo=null,ea=1,ta="";function no(t,e){Ku[Yu++]=y0,Ku[Yu++]=g0,g0=t,y0=e}function kM(t,e,n){Nr[Rr++]=ea,Nr[Rr++]=ta,Nr[Rr++]=Fo,Fo=t;var r=ea;t=ta;var i=32-li(r)-1;r&=~(1<<i),n+=1;var a=32-li(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ea=1<<32-li(e)+i|n<<i|r,ta=a+t}else ea=1<<a|n<<i|r,ta=t}function Yw(t){t.return!==null&&(no(t,1),kM(t,1,0))}function Qw(t){for(;t===g0;)g0=Ku[--Yu],Ku[Yu]=null,y0=Ku[--Yu],Ku[Yu]=null;for(;t===Fo;)Fo=Nr[--Rr],Nr[Rr]=null,ta=Nr[--Rr],Nr[Rr]=null,ea=Nr[--Rr],Nr[Rr]=null}var vr=null,pr=null,_t=!1,ii=null;function DM(t,e){var n=Mr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function q2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vr=t,pr=ms(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vr=t,pr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fo!==null?{id:ea,overflow:ta}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vr=t,pr=null,!0):!1;default:return!1}}function L_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function j_(t){if(_t){var e=pr;if(e){var n=e;if(!q2(t,e)){if(L_(t))throw Error(ue(418));e=ms(n.nextSibling);var r=vr;e&&q2(t,e)?DM(r,n):(t.flags=t.flags&-4097|2,_t=!1,vr=t)}}else{if(L_(t))throw Error(ue(418));t.flags=t.flags&-4097|2,_t=!1,vr=t}}}function z2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vr=t}function Kp(t){if(t!==vr)return!1;if(!_t)return z2(t),_t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!R_(t.type,t.memoizedProps)),e&&(e=pr)){if(L_(t))throw MM(),Error(ue(418));for(;e;)DM(t,e),e=ms(e.nextSibling)}if(z2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pr=ms(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pr=null}}else pr=vr?ms(t.stateNode.nextSibling):null;return!0}function MM(){for(var t=pr;t;)t=ms(t.nextSibling)}function vl(){pr=vr=null,_t=!1}function Xw(t){ii===null?ii=[t]:ii.push(t)}var g7=Pa.ReactCurrentBatchConfig;function Zc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function Yp(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function W2(t){var e=t._init;return e(t._payload)}function LM(t){function e(w,T){if(t){var _=w.deletions;_===null?(w.deletions=[T],w.flags|=16):_.push(T)}}function n(w,T){if(!t)return null;for(;T!==null;)e(w,T),T=T.sibling;return null}function r(w,T){for(w=new Map;T!==null;)T.key!==null?w.set(T.key,T):w.set(T.index,T),T=T.sibling;return w}function i(w,T){return w=bs(w,T),w.index=0,w.sibling=null,w}function a(w,T,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<T?(w.flags|=2,T):_):(w.flags|=2,T)):(w.flags|=1048576,T)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,T,_,C){return T===null||T.tag!==6?(T=e1(_,w.mode,C),T.return=w,T):(T=i(T,_),T.return=w,T)}function u(w,T,_,C){var A=_.type;return A===Vu?c(w,T,_.props.children,C,_.key):T!==null&&(T.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Wa&&W2(A)===T.type)?(C=i(T,_.props),C.ref=Zc(w,T,_),C.return=w,C):(C=Fm(_.type,_.key,_.props,null,w.mode,C),C.ref=Zc(w,T,_),C.return=w,C)}function l(w,T,_,C){return T===null||T.tag!==4||T.stateNode.containerInfo!==_.containerInfo||T.stateNode.implementation!==_.implementation?(T=t1(_,w.mode,C),T.return=w,T):(T=i(T,_.children||[]),T.return=w,T)}function c(w,T,_,C,A){return T===null||T.tag!==7?(T=Io(_,w.mode,C,A),T.return=w,T):(T=i(T,_),T.return=w,T)}function f(w,T,_){if(typeof T=="string"&&T!==""||typeof T=="number")return T=e1(""+T,w.mode,_),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Fp:return _=Fm(T.type,T.key,T.props,null,w.mode,_),_.ref=Zc(w,null,T),_.return=w,_;case Uu:return T=t1(T,w.mode,_),T.return=w,T;case Wa:var C=T._init;return f(w,C(T._payload),_)}if(If(T)||Kc(T))return T=Io(T,w.mode,_,null),T.return=w,T;Yp(w,T)}return null}function h(w,T,_,C){var A=T!==null?T.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return A!==null?null:o(w,T,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Fp:return _.key===A?u(w,T,_,C):null;case Uu:return _.key===A?l(w,T,_,C):null;case Wa:return A=_._init,h(w,T,A(_._payload),C)}if(If(_)||Kc(_))return A!==null?null:c(w,T,_,C,null);Yp(w,_)}return null}function p(w,T,_,C,A){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(_)||null,o(T,w,""+C,A);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Fp:return w=w.get(C.key===null?_:C.key)||null,u(T,w,C,A);case Uu:return w=w.get(C.key===null?_:C.key)||null,l(T,w,C,A);case Wa:var S=C._init;return p(w,T,_,S(C._payload),A)}if(If(C)||Kc(C))return w=w.get(_)||null,c(T,w,C,A,null);Yp(T,C)}return null}function g(w,T,_,C){for(var A=null,S=null,x=T,I=T=0,O=null;x!==null&&I<_.length;I++){x.index>I?(O=x,x=null):O=x.sibling;var R=h(w,x,_[I],C);if(R===null){x===null&&(x=O);break}t&&x&&R.alternate===null&&e(w,x),T=a(R,T,I),S===null?A=R:S.sibling=R,S=R,x=O}if(I===_.length)return n(w,x),_t&&no(w,I),A;if(x===null){for(;I<_.length;I++)x=f(w,_[I],C),x!==null&&(T=a(x,T,I),S===null?A=x:S.sibling=x,S=x);return _t&&no(w,I),A}for(x=r(w,x);I<_.length;I++)O=p(x,w,I,_[I],C),O!==null&&(t&&O.alternate!==null&&x.delete(O.key===null?I:O.key),T=a(O,T,I),S===null?A=O:S.sibling=O,S=O);return t&&x.forEach(function(N){return e(w,N)}),_t&&no(w,I),A}function v(w,T,_,C){var A=Kc(_);if(typeof A!="function")throw Error(ue(150));if(_=A.call(_),_==null)throw Error(ue(151));for(var S=A=null,x=T,I=T=0,O=null,R=_.next();x!==null&&!R.done;I++,R=_.next()){x.index>I?(O=x,x=null):O=x.sibling;var N=h(w,x,R.value,C);if(N===null){x===null&&(x=O);break}t&&x&&N.alternate===null&&e(w,x),T=a(N,T,I),S===null?A=N:S.sibling=N,S=N,x=O}if(R.done)return n(w,x),_t&&no(w,I),A;if(x===null){for(;!R.done;I++,R=_.next())R=f(w,R.value,C),R!==null&&(T=a(R,T,I),S===null?A=R:S.sibling=R,S=R);return _t&&no(w,I),A}for(x=r(w,x);!R.done;I++,R=_.next())R=p(x,w,I,R.value,C),R!==null&&(t&&R.alternate!==null&&x.delete(R.key===null?I:R.key),T=a(R,T,I),S===null?A=R:S.sibling=R,S=R);return t&&x.forEach(function(D){return e(w,D)}),_t&&no(w,I),A}function b(w,T,_,C){if(typeof _=="object"&&_!==null&&_.type===Vu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Fp:e:{for(var A=_.key,S=T;S!==null;){if(S.key===A){if(A=_.type,A===Vu){if(S.tag===7){n(w,S.sibling),T=i(S,_.props.children),T.return=w,w=T;break e}}else if(S.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Wa&&W2(A)===S.type){n(w,S.sibling),T=i(S,_.props),T.ref=Zc(w,S,_),T.return=w,w=T;break e}n(w,S);break}else e(w,S);S=S.sibling}_.type===Vu?(T=Io(_.props.children,w.mode,C,_.key),T.return=w,w=T):(C=Fm(_.type,_.key,_.props,null,w.mode,C),C.ref=Zc(w,T,_),C.return=w,w=C)}return s(w);case Uu:e:{for(S=_.key;T!==null;){if(T.key===S)if(T.tag===4&&T.stateNode.containerInfo===_.containerInfo&&T.stateNode.implementation===_.implementation){n(w,T.sibling),T=i(T,_.children||[]),T.return=w,w=T;break e}else{n(w,T);break}else e(w,T);T=T.sibling}T=t1(_,w.mode,C),T.return=w,w=T}return s(w);case Wa:return S=_._init,b(w,T,S(_._payload),C)}if(If(_))return g(w,T,_,C);if(Kc(_))return v(w,T,_,C);Yp(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,T!==null&&T.tag===6?(n(w,T.sibling),T=i(T,_),T.return=w,w=T):(n(w,T),T=e1(_,w.mode,C),T.return=w,w=T),s(w)):n(w,T)}return b}var bl=LM(!0),jM=LM(!1),v0=Ds(null),b0=null,Qu=null,Jw=null;function Zw(){Jw=Qu=b0=null}function ex(t){var e=v0.current;yt(v0),t._currentValue=e}function F_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function sl(t,e){b0=t,Jw=Qu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jn=!0),t.firstContext=null)}function qr(t){var e=t._currentValue;if(Jw!==t)if(t={context:t,memoizedValue:e,next:null},Qu===null){if(b0===null)throw Error(ue(308));Qu=t,b0.dependencies={lanes:0,firstContext:t}}else Qu=Qu.next=t;return e}var yo=null;function tx(t){yo===null?yo=[t]:yo.push(t)}function FM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,tx(e)):(n.next=i.next,i.next=n),e.interleaved=n,va(t,r)}function va(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ga=!1;function nx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $M(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function la(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,va(t,n)}return i=r.interleaved,i===null?(e.next=e,tx(r)):(e.next=i.next,i.next=e),r.interleaved=e,va(t,n)}function Rm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uw(t,n)}}function G2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _0(t,e,n,r){var i=t.updateQueue;Ga=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,l=u.next;u.next=null,s===null?a=l:s.next=l,s=u;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=u))}if(a!==null){var f=i.baseState;s=0,c=l=u=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,v=o;switch(h=e,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Pt({},f,h);break e;case 2:Ga=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(l=c=p,u=f):c=c.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Bo|=s,t.lanes=s,t.memoizedState=f}}function K2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ue(191,i));i.call(r)}}}var Fh={},Ni=Ds(Fh),xd=Ds(Fh),Ad=Ds(Fh);function vo(t){if(t===Fh)throw Error(ue(174));return t}function rx(t,e){switch(ft(Ad,e),ft(xd,t),ft(Ni,Fh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:v_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=v_(e,t)}yt(Ni),ft(Ni,e)}function _l(){yt(Ni),yt(xd),yt(Ad)}function BM(t){vo(Ad.current);var e=vo(Ni.current),n=v_(e,t.type);e!==n&&(ft(xd,t),ft(Ni,n))}function ix(t){xd.current===t&&(yt(Ni),yt(xd))}var At=Ds(0);function E0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kb=[];function ax(){for(var t=0;t<Kb.length;t++)Kb[t]._workInProgressVersionPrimary=null;Kb.length=0}var km=Pa.ReactCurrentDispatcher,Yb=Pa.ReactCurrentBatchConfig,$o=0,It=null,Gt=null,rn=null,T0=!1,qf=!1,Sd=0,y7=0;function xn(){throw Error(ue(321))}function sx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!di(t[n],e[n]))return!1;return!0}function ox(t,e,n,r,i,a){if($o=a,It=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,km.current=t===null||t.memoizedState===null?E7:T7,t=n(r,i),qf){a=0;do{if(qf=!1,Sd=0,25<=a)throw Error(ue(301));a+=1,rn=Gt=null,e.updateQueue=null,km.current=w7,t=n(r,i)}while(qf)}if(km.current=w0,e=Gt!==null&&Gt.next!==null,$o=0,rn=Gt=It=null,T0=!1,e)throw Error(ue(300));return t}function ux(){var t=Sd!==0;return Sd=0,t}function Ti(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?It.memoizedState=rn=t:rn=rn.next=t,rn}function zr(){if(Gt===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var e=rn===null?It.memoizedState:rn.next;if(e!==null)rn=e,Gt=t;else{if(t===null)throw Error(ue(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},rn===null?It.memoizedState=rn=t:rn=rn.next=t}return rn}function Id(t,e){return typeof e=="function"?e(t):e}function Qb(t){var e=zr(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=Gt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,u=null,l=a;do{var c=l.lane;if(($o&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(o=u=f,s=r):u=u.next=f,It.lanes|=c,Bo|=c}l=l.next}while(l!==null&&l!==a);u===null?s=r:u.next=o,di(r,e.memoizedState)||(Jn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,It.lanes|=a,Bo|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xb(t){var e=zr(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);di(a,e.memoizedState)||(Jn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function UM(){}function VM(t,e){var n=It,r=zr(),i=e(),a=!di(r.memoizedState,i);if(a&&(r.memoizedState=i,Jn=!0),r=r.queue,lx(zM.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||rn!==null&&rn.memoizedState.tag&1){if(n.flags|=2048,Pd(9,qM.bind(null,n,r,i,e),void 0,null),sn===null)throw Error(ue(349));$o&30||HM(n,e,i)}return i}function HM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qM(t,e,n,r){e.value=n,e.getSnapshot=r,WM(e)&&GM(t)}function zM(t,e,n){return n(function(){WM(e)&&GM(t)})}function WM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!di(t,n)}catch{return!0}}function GM(t){var e=va(t,1);e!==null&&ci(e,t,1,-1)}function Y2(t){var e=Ti();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Id,lastRenderedState:t},e.queue=t,t=t.dispatch=_7.bind(null,It,t),[e.memoizedState,t]}function Pd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function KM(){return zr().memoizedState}function Dm(t,e,n,r){var i=Ti();It.flags|=t,i.memoizedState=Pd(1|e,n,void 0,r===void 0?null:r)}function Ey(t,e,n,r){var i=zr();r=r===void 0?null:r;var a=void 0;if(Gt!==null){var s=Gt.memoizedState;if(a=s.destroy,r!==null&&sx(r,s.deps)){i.memoizedState=Pd(e,n,a,r);return}}It.flags|=t,i.memoizedState=Pd(1|e,n,a,r)}function Q2(t,e){return Dm(8390656,8,t,e)}function lx(t,e){return Ey(2048,8,t,e)}function YM(t,e){return Ey(4,2,t,e)}function QM(t,e){return Ey(4,4,t,e)}function XM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JM(t,e,n){return n=n!=null?n.concat([t]):null,Ey(4,4,XM.bind(null,e,t),n)}function cx(){}function ZM(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function eL(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function tL(t,e,n){return $o&21?(di(n,e)||(n=sM(),It.lanes|=n,Bo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jn=!0),t.memoizedState=n)}function v7(t,e){var n=tt;tt=n!==0&&4>n?n:4,t(!0);var r=Yb.transition;Yb.transition={};try{t(!1),e()}finally{tt=n,Yb.transition=r}}function nL(){return zr().memoizedState}function b7(t,e,n){var r=vs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rL(t))iL(e,n);else if(n=FM(t,e,n,r),n!==null){var i=Vn();ci(n,t,r,i),aL(n,e,r)}}function _7(t,e,n){var r=vs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rL(t))iL(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,di(o,s)){var u=e.interleaved;u===null?(i.next=i,tx(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=FM(t,e,i,r),n!==null&&(i=Vn(),ci(n,t,r,i),aL(n,e,r))}}function rL(t){var e=t.alternate;return t===It||e!==null&&e===It}function iL(t,e){qf=T0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function aL(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uw(t,n)}}var w0={readContext:qr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},E7={readContext:qr,useCallback:function(t,e){return Ti().memoizedState=[t,e===void 0?null:e],t},useContext:qr,useEffect:Q2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dm(4194308,4,XM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dm(4,2,t,e)},useMemo:function(t,e){var n=Ti();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ti();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=b7.bind(null,It,t),[r.memoizedState,t]},useRef:function(t){var e=Ti();return t={current:t},e.memoizedState=t},useState:Y2,useDebugValue:cx,useDeferredValue:function(t){return Ti().memoizedState=t},useTransition:function(){var t=Y2(!1),e=t[0];return t=v7.bind(null,t[1]),Ti().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=It,i=Ti();if(_t){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),sn===null)throw Error(ue(349));$o&30||HM(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Q2(zM.bind(null,r,a,t),[t]),r.flags|=2048,Pd(9,qM.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Ti(),e=sn.identifierPrefix;if(_t){var n=ta,r=ea;n=(r&~(1<<32-li(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=y7++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},T7={readContext:qr,useCallback:ZM,useContext:qr,useEffect:lx,useImperativeHandle:JM,useInsertionEffect:YM,useLayoutEffect:QM,useMemo:eL,useReducer:Qb,useRef:KM,useState:function(){return Qb(Id)},useDebugValue:cx,useDeferredValue:function(t){var e=zr();return tL(e,Gt.memoizedState,t)},useTransition:function(){var t=Qb(Id)[0],e=zr().memoizedState;return[t,e]},useMutableSource:UM,useSyncExternalStore:VM,useId:nL,unstable_isNewReconciler:!1},w7={readContext:qr,useCallback:ZM,useContext:qr,useEffect:lx,useImperativeHandle:JM,useInsertionEffect:YM,useLayoutEffect:QM,useMemo:eL,useReducer:Xb,useRef:KM,useState:function(){return Xb(Id)},useDebugValue:cx,useDeferredValue:function(t){var e=zr();return Gt===null?e.memoizedState=t:tL(e,Gt.memoizedState,t)},useTransition:function(){var t=Xb(Id)[0],e=zr().memoizedState;return[t,e]},useMutableSource:UM,useSyncExternalStore:VM,useId:nL,unstable_isNewReconciler:!1};function Zr(t,e){if(t&&t.defaultProps){e=Pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ty={isMounted:function(t){return(t=t._reactInternals)?uu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=vs(t),a=la(r,i);a.payload=e,n!=null&&(a.callback=n),e=gs(t,a,i),e!==null&&(ci(e,t,i,r),Rm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=vs(t),a=la(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=gs(t,a,i),e!==null&&(ci(e,t,i,r),Rm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vn(),r=vs(t),i=la(n,r);i.tag=2,e!=null&&(i.callback=e),e=gs(t,i,r),e!==null&&(ci(e,t,r,n),Rm(e,t,r))}};function X2(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!_d(n,r)||!_d(i,a):!0}function sL(t,e,n){var r=!1,i=Is,a=e.contextType;return typeof a=="object"&&a!==null?a=qr(a):(i=tr(e)?jo:kn.current,r=e.contextTypes,a=(r=r!=null)?yl(t,i):Is),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ty,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function J2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ty.enqueueReplaceState(e,e.state,null)}function B_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},nx(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=qr(a):(a=tr(e)?jo:kn.current,i.context=yl(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&($_(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ty.enqueueReplaceState(i,i.state,null),_0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function El(t,e){try{var n="",r=e;do n+=X9(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Jb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function U_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var x7=typeof WeakMap=="function"?WeakMap:Map;function oL(t,e,n){n=la(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){A0||(A0=!0,X_=r),U_(t,e)},n}function uL(t,e,n){n=la(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){U_(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){U_(t,e),typeof r!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Z2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new x7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=F7.bind(null,t,e,n),e.then(t,t))}function eP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=la(-1,1),e.tag=2,gs(n,e,1))),n.lanes|=1),t)}var A7=Pa.ReactCurrentOwner,Jn=!1;function Fn(t,e,n,r){e.child=t===null?jM(e,null,n,r):bl(e,t.child,n,r)}function nP(t,e,n,r,i){n=n.render;var a=e.ref;return sl(e,i),r=ox(t,e,n,r,a,i),n=ux(),t!==null&&!Jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ba(t,e,i)):(_t&&n&&Yw(e),e.flags|=1,Fn(t,e,r,i),e.child)}function rP(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!vx(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,lL(t,e,a,r,i)):(t=Fm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:_d,n(s,r)&&t.ref===e.ref)return ba(t,e,i)}return e.flags|=1,t=bs(a,r),t.ref=e.ref,t.return=e,e.child=t}function lL(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(_d(a,r)&&t.ref===e.ref)if(Jn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Jn=!0);else return e.lanes=t.lanes,ba(t,e,i)}return V_(t,e,n,r,i)}function cL(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Ju,cr),cr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ft(Ju,cr),cr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ft(Ju,cr),cr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,ft(Ju,cr),cr|=r;return Fn(t,e,i,n),e.child}function fL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function V_(t,e,n,r,i){var a=tr(n)?jo:kn.current;return a=yl(e,a),sl(e,i),n=ox(t,e,n,r,a,i),r=ux(),t!==null&&!Jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ba(t,e,i)):(_t&&r&&Yw(e),e.flags|=1,Fn(t,e,n,i),e.child)}function iP(t,e,n,r,i){if(tr(n)){var a=!0;m0(e)}else a=!1;if(sl(e,i),e.stateNode===null)Mm(t,e),sL(e,n,r),B_(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var u=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=qr(l):(l=tr(n)?jo:kn.current,l=yl(e,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||u!==l)&&J2(e,s,r,l),Ga=!1;var h=e.memoizedState;s.state=h,_0(e,r,s,i),u=e.memoizedState,o!==r||h!==u||er.current||Ga?(typeof c=="function"&&($_(e,n,c,r),u=e.memoizedState),(o=Ga||X2(e,n,o,r,h,u,l))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=l,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,$M(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:Zr(e.type,o),s.props=l,f=e.pendingProps,h=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=qr(u):(u=tr(n)?jo:kn.current,u=yl(e,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==u)&&J2(e,s,r,u),Ga=!1,h=e.memoizedState,s.state=h,_0(e,r,s,i);var g=e.memoizedState;o!==f||h!==g||er.current||Ga?(typeof p=="function"&&($_(e,n,p,r),g=e.memoizedState),(l=Ga||X2(e,n,l,r,h,g,u)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=u,r=l):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return H_(t,e,n,r,a,i)}function H_(t,e,n,r,i,a){fL(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&H2(e,n,!1),ba(t,e,a);r=e.stateNode,A7.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=bl(e,t.child,null,a),e.child=bl(e,null,o,a)):Fn(t,e,o,a),e.memoizedState=r.state,i&&H2(e,n,!0),e.child}function dL(t){var e=t.stateNode;e.pendingContext?V2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&V2(t,e.context,!1),rx(t,e.containerInfo)}function aP(t,e,n,r,i){return vl(),Xw(i),e.flags|=256,Fn(t,e,n,r),e.child}var q_={dehydrated:null,treeContext:null,retryLane:0};function z_(t){return{baseLanes:t,cachePool:null,transitions:null}}function hL(t,e,n){var r=e.pendingProps,i=At.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ft(At,i&1),t===null)return j_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Ay(s,r,0,null),t=Io(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=z_(n),e.memoizedState=q_,t):fx(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return S7(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=bs(i,u),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=bs(o,a):(a=Io(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?z_(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=q_,r}return a=t.child,t=a.sibling,r=bs(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fx(t,e){return e=Ay({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qp(t,e,n,r){return r!==null&&Xw(r),bl(e,t.child,null,n),t=fx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function S7(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=Jb(Error(ue(422))),Qp(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Ay({mode:"visible",children:r.children},i,0,null),a=Io(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&bl(e,t.child,null,s),e.child.memoizedState=z_(s),e.memoizedState=q_,a);if(!(e.mode&1))return Qp(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(ue(419)),r=Jb(a,r,void 0),Qp(t,e,s,r)}if(o=(s&t.childLanes)!==0,Jn||o){if(r=sn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,va(t,i),ci(r,t,i,-1))}return yx(),r=Jb(Error(ue(421))),Qp(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$7.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,pr=ms(i.nextSibling),vr=e,_t=!0,ii=null,t!==null&&(Nr[Rr++]=ea,Nr[Rr++]=ta,Nr[Rr++]=Fo,ea=t.id,ta=t.overflow,Fo=e),e=fx(e,r.children),e.flags|=4096,e)}function sP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),F_(t.return,e,n)}function Zb(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function pL(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Fn(t,e,r.children,n),r=At.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sP(t,n,e);else if(t.tag===19)sP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ft(At,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&E0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zb(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&E0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zb(e,!0,n,null,a);break;case"together":Zb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ba(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=bs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function I7(t,e,n){switch(e.tag){case 3:dL(e),vl();break;case 5:BM(e);break;case 1:tr(e.type)&&m0(e);break;case 4:rx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ft(v0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ft(At,At.current&1),e.flags|=128,null):n&e.child.childLanes?hL(t,e,n):(ft(At,At.current&1),t=ba(t,e,n),t!==null?t.sibling:null);ft(At,At.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return pL(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ft(At,At.current),r)break;return null;case 22:case 23:return e.lanes=0,cL(t,e,n)}return ba(t,e,n)}var mL,W_,gL,yL;mL=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};W_=function(){};gL=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vo(Ni.current);var a=null;switch(n){case"input":i=p_(t,i),r=p_(t,r),a=[];break;case"select":i=Pt({},i,{value:void 0}),r=Pt({},r,{value:void 0}),a=[];break;case"textarea":i=y_(t,i),r=y_(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=h0)}b_(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var o=i[l];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(hd.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var u=r[l];if(o=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==o&&(u!=null||o!=null))if(l==="style")if(o){for(s in o)!o.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&o[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(a=a||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(hd.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&pt("scroll",t),a||o===u||(a=[])):(a=a||[]).push(l,u))}n&&(a=a||[]).push("style",n);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};yL=function(t,e,n,r){n!==r&&(e.flags|=4)};function ef(t,e){if(!_t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function An(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function P7(t,e,n){var r=e.pendingProps;switch(Qw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(e),null;case 1:return tr(e.type)&&p0(),An(e),null;case 3:return r=e.stateNode,_l(),yt(er),yt(kn),ax(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Kp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ii!==null&&(eE(ii),ii=null))),W_(t,e),An(e),null;case 5:ix(e);var i=vo(Ad.current);if(n=e.type,t!==null&&e.stateNode!=null)gL(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return An(e),null}if(t=vo(Ni.current),Kp(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Ai]=e,r[wd]=a,t=(e.mode&1)!==0,n){case"dialog":pt("cancel",r),pt("close",r);break;case"iframe":case"object":case"embed":pt("load",r);break;case"video":case"audio":for(i=0;i<Cf.length;i++)pt(Cf[i],r);break;case"source":pt("error",r);break;case"img":case"image":case"link":pt("error",r),pt("load",r);break;case"details":pt("toggle",r);break;case"input":m2(r,a),pt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},pt("invalid",r);break;case"textarea":y2(r,a),pt("invalid",r)}b_(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Gp(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Gp(r.textContent,o,t),i=["children",""+o]):hd.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&pt("scroll",r)}switch(n){case"input":$p(r),g2(r,a,!0);break;case"textarea":$p(r),v2(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=h0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=z3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ai]=e,t[wd]=r,mL(t,e,!1,!1),e.stateNode=t;e:{switch(s=__(n,r),n){case"dialog":pt("cancel",t),pt("close",t),i=r;break;case"iframe":case"object":case"embed":pt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Cf.length;i++)pt(Cf[i],t);i=r;break;case"source":pt("error",t),i=r;break;case"img":case"image":case"link":pt("error",t),pt("load",t),i=r;break;case"details":pt("toggle",t),i=r;break;case"input":m2(t,r),i=p_(t,r),pt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Pt({},r,{value:void 0}),pt("invalid",t);break;case"textarea":y2(t,r),i=y_(t,r),pt("invalid",t);break;default:i=r}b_(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="style"?K3(t,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&W3(t,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&pd(t,u):typeof u=="number"&&pd(t,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(hd.hasOwnProperty(a)?u!=null&&a==="onScroll"&&pt("scroll",t):u!=null&&Mw(t,a,u,s))}switch(n){case"input":$p(t),g2(t,r,!1);break;case"textarea":$p(t),v2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ss(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?nl(t,!!r.multiple,a,!1):r.defaultValue!=null&&nl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=h0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return An(e),null;case 6:if(t&&e.stateNode!=null)yL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=vo(Ad.current),vo(Ni.current),Kp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ai]=e,(a=r.nodeValue!==n)&&(t=vr,t!==null))switch(t.tag){case 3:Gp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gp(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ai]=e,e.stateNode=r}return An(e),null;case 13:if(yt(At),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_t&&pr!==null&&e.mode&1&&!(e.flags&128))MM(),vl(),e.flags|=98560,a=!1;else if(a=Kp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(ue(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ue(317));a[Ai]=e}else vl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;An(e),a=!1}else ii!==null&&(eE(ii),ii=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||At.current&1?Yt===0&&(Yt=3):yx())),e.updateQueue!==null&&(e.flags|=4),An(e),null);case 4:return _l(),W_(t,e),t===null&&Ed(e.stateNode.containerInfo),An(e),null;case 10:return ex(e.type._context),An(e),null;case 17:return tr(e.type)&&p0(),An(e),null;case 19:if(yt(At),a=e.memoizedState,a===null)return An(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)ef(a,!1);else{if(Yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=E0(t),s!==null){for(e.flags|=128,ef(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ft(At,At.current&1|2),e.child}t=t.sibling}a.tail!==null&&jt()>Tl&&(e.flags|=128,r=!0,ef(a,!1),e.lanes=4194304)}else{if(!r)if(t=E0(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ef(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!_t)return An(e),null}else 2*jt()-a.renderingStartTime>Tl&&n!==1073741824&&(e.flags|=128,r=!0,ef(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=jt(),e.sibling=null,n=At.current,ft(At,r?n&1|2:n&1),e):(An(e),null);case 22:case 23:return gx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cr&1073741824&&(An(e),e.subtreeFlags&6&&(e.flags|=8192)):An(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function C7(t,e){switch(Qw(e),e.tag){case 1:return tr(e.type)&&p0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _l(),yt(er),yt(kn),ax(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ix(e),null;case 13:if(yt(At),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));vl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(At),null;case 4:return _l(),null;case 10:return ex(e.type._context),null;case 22:case 23:return gx(),null;case 24:return null;default:return null}}var Xp=!1,Pn=!1,O7=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Xu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Dt(t,e,r)}else n.current=null}function G_(t,e,n){try{n()}catch(r){Dt(t,e,r)}}var oP=!1;function N7(t,e){if(O_=c0,t=TM(),Kw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,u=-1,l=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++l===i&&(o=s),h===a&&++c===r&&(u=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(N_={focusedElem:t,selectionRange:n},c0=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,w=e.stateNode,T=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:Zr(e.type,v),b);w.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(C){Dt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return g=oP,oP=!1,g}function zf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&G_(e,n,a)}i=i.next}while(i!==r)}}function wy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function K_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vL(t){var e=t.alternate;e!==null&&(t.alternate=null,vL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ai],delete e[wd],delete e[D_],delete e[h7],delete e[p7])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bL(t){return t.tag===5||t.tag===3||t.tag===4}function uP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Y_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=h0));else if(r!==4&&(t=t.child,t!==null))for(Y_(t,e,n),t=t.sibling;t!==null;)Y_(t,e,n),t=t.sibling}function Q_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Q_(t,e,n),t=t.sibling;t!==null;)Q_(t,e,n),t=t.sibling}var hn=null,ti=!1;function $a(t,e,n){for(n=n.child;n!==null;)_L(t,e,n),n=n.sibling}function _L(t,e,n){if(Oi&&typeof Oi.onCommitFiberUnmount=="function")try{Oi.onCommitFiberUnmount(my,n)}catch{}switch(n.tag){case 5:Pn||Xu(n,e);case 6:var r=hn,i=ti;hn=null,$a(t,e,n),hn=r,ti=i,hn!==null&&(ti?(t=hn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):hn.removeChild(n.stateNode));break;case 18:hn!==null&&(ti?(t=hn,n=n.stateNode,t.nodeType===8?Wb(t.parentNode,n):t.nodeType===1&&Wb(t,n),vd(t)):Wb(hn,n.stateNode));break;case 4:r=hn,i=ti,hn=n.stateNode.containerInfo,ti=!0,$a(t,e,n),hn=r,ti=i;break;case 0:case 11:case 14:case 15:if(!Pn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&G_(n,e,s),i=i.next}while(i!==r)}$a(t,e,n);break;case 1:if(!Pn&&(Xu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Dt(n,e,o)}$a(t,e,n);break;case 21:$a(t,e,n);break;case 22:n.mode&1?(Pn=(r=Pn)||n.memoizedState!==null,$a(t,e,n),Pn=r):$a(t,e,n);break;default:$a(t,e,n)}}function lP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new O7),e.forEach(function(r){var i=B7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:hn=o.stateNode,ti=!1;break e;case 3:hn=o.stateNode.containerInfo,ti=!0;break e;case 4:hn=o.stateNode.containerInfo,ti=!0;break e}o=o.return}if(hn===null)throw Error(ue(160));_L(a,s,i),hn=null,ti=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Dt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)EL(e,t),e=e.sibling}function EL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xr(e,t),Ei(t),r&4){try{zf(3,t,t.return),wy(3,t)}catch(v){Dt(t,t.return,v)}try{zf(5,t,t.return)}catch(v){Dt(t,t.return,v)}}break;case 1:Xr(e,t),Ei(t),r&512&&n!==null&&Xu(n,n.return);break;case 5:if(Xr(e,t),Ei(t),r&512&&n!==null&&Xu(n,n.return),t.flags&32){var i=t.stateNode;try{pd(i,"")}catch(v){Dt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&H3(i,a),__(o,s);var l=__(o,a);for(s=0;s<u.length;s+=2){var c=u[s],f=u[s+1];c==="style"?K3(i,f):c==="dangerouslySetInnerHTML"?W3(i,f):c==="children"?pd(i,f):Mw(i,c,f,l)}switch(o){case"input":m_(i,a);break;case"textarea":q3(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?nl(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?nl(i,!!a.multiple,a.defaultValue,!0):nl(i,!!a.multiple,a.multiple?[]:"",!1))}i[wd]=a}catch(v){Dt(t,t.return,v)}}break;case 6:if(Xr(e,t),Ei(t),r&4){if(t.stateNode===null)throw Error(ue(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){Dt(t,t.return,v)}}break;case 3:if(Xr(e,t),Ei(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vd(e.containerInfo)}catch(v){Dt(t,t.return,v)}break;case 4:Xr(e,t),Ei(t);break;case 13:Xr(e,t),Ei(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(px=jt())),r&4&&lP(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Pn=(l=Pn)||c,Xr(e,t),Pn=l):Xr(e,t),Ei(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(ge=t,c=t.child;c!==null;){for(f=ge=c;ge!==null;){switch(h=ge,p=h.child,h.tag){case 0:case 11:case 14:case 15:zf(4,h,h.return);break;case 1:Xu(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Dt(r,n,v)}}break;case 5:Xu(h,h.return);break;case 22:if(h.memoizedState!==null){fP(f);continue}}p!==null?(p.return=h,ge=p):fP(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=G3("display",s))}catch(v){Dt(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(v){Dt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xr(e,t),Ei(t),r&4&&lP(t);break;case 21:break;default:Xr(e,t),Ei(t)}}function Ei(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bL(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pd(i,""),r.flags&=-33);var a=uP(t);Q_(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=uP(t);Y_(t,o,s);break;default:throw Error(ue(161))}}catch(u){Dt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function R7(t,e,n){ge=t,TL(t)}function TL(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var i=ge,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Xp;if(!s){var o=i.alternate,u=o!==null&&o.memoizedState!==null||Pn;o=Xp;var l=Pn;if(Xp=s,(Pn=u)&&!l)for(ge=i;ge!==null;)s=ge,u=s.child,s.tag===22&&s.memoizedState!==null?dP(i):u!==null?(u.return=s,ge=u):dP(i);for(;a!==null;)ge=a,TL(a),a=a.sibling;ge=i,Xp=o,Pn=l}cP(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ge=a):cP(t)}}function cP(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pn||wy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&K2(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}K2(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&vd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Pn||e.flags&512&&K_(e)}catch(h){Dt(e,e.return,h)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function fP(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function dP(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wy(4,e)}catch(u){Dt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Dt(e,i,u)}}var a=e.return;try{K_(e)}catch(u){Dt(e,a,u)}break;case 5:var s=e.return;try{K_(e)}catch(u){Dt(e,s,u)}}}catch(u){Dt(e,e.return,u)}if(e===t){ge=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ge=o;break}ge=e.return}}var k7=Math.ceil,x0=Pa.ReactCurrentDispatcher,dx=Pa.ReactCurrentOwner,Fr=Pa.ReactCurrentBatchConfig,ze=0,sn=null,Vt=null,yn=0,cr=0,Ju=Ds(0),Yt=0,Cd=null,Bo=0,xy=0,hx=0,Wf=null,Qn=null,px=0,Tl=1/0,Qi=null,A0=!1,X_=null,ys=null,Jp=!1,ss=null,S0=0,Gf=0,J_=null,Lm=-1,jm=0;function Vn(){return ze&6?jt():Lm!==-1?Lm:Lm=jt()}function vs(t){return t.mode&1?ze&2&&yn!==0?yn&-yn:g7.transition!==null?(jm===0&&(jm=sM()),jm):(t=tt,t!==0||(t=window.event,t=t===void 0?16:hM(t.type)),t):1}function ci(t,e,n,r){if(50<Gf)throw Gf=0,J_=null,Error(ue(185));Mh(t,n,r),(!(ze&2)||t!==sn)&&(t===sn&&(!(ze&2)&&(xy|=n),Yt===4&&Xa(t,yn)),nr(t,r),n===1&&ze===0&&!(e.mode&1)&&(Tl=jt()+500,_y&&Ms()))}function nr(t,e){var n=t.callbackNode;gV(t,e);var r=l0(t,t===sn?yn:0);if(r===0)n!==null&&E2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&E2(n),e===1)t.tag===0?m7(hP.bind(null,t)):RM(hP.bind(null,t)),f7(function(){!(ze&6)&&Ms()}),n=null;else{switch(oM(r)){case 1:n=Bw;break;case 4:n=iM;break;case 16:n=u0;break;case 536870912:n=aM;break;default:n=u0}n=OL(n,wL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wL(t,e){if(Lm=-1,jm=0,ze&6)throw Error(ue(327));var n=t.callbackNode;if(ol()&&t.callbackNode!==n)return null;var r=l0(t,t===sn?yn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=I0(t,r);else{e=r;var i=ze;ze|=2;var a=AL();(sn!==t||yn!==e)&&(Qi=null,Tl=jt()+500,So(t,e));do try{L7();break}catch(o){xL(t,o)}while(!0);Zw(),x0.current=a,ze=i,Vt!==null?e=0:(sn=null,yn=0,e=Yt)}if(e!==0){if(e===2&&(i=A_(t),i!==0&&(r=i,e=Z_(t,i))),e===1)throw n=Cd,So(t,0),Xa(t,r),nr(t,jt()),n;if(e===6)Xa(t,r);else{if(i=t.current.alternate,!(r&30)&&!D7(i)&&(e=I0(t,r),e===2&&(a=A_(t),a!==0&&(r=a,e=Z_(t,a))),e===1))throw n=Cd,So(t,0),Xa(t,r),nr(t,jt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:ro(t,Qn,Qi);break;case 3:if(Xa(t,r),(r&130023424)===r&&(e=px+500-jt(),10<e)){if(l0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=k_(ro.bind(null,t,Qn,Qi),e);break}ro(t,Qn,Qi);break;case 4:if(Xa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-li(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*k7(r/1960))-r,10<r){t.timeoutHandle=k_(ro.bind(null,t,Qn,Qi),r);break}ro(t,Qn,Qi);break;case 5:ro(t,Qn,Qi);break;default:throw Error(ue(329))}}}return nr(t,jt()),t.callbackNode===n?wL.bind(null,t):null}function Z_(t,e){var n=Wf;return t.current.memoizedState.isDehydrated&&(So(t,e).flags|=256),t=I0(t,e),t!==2&&(e=Qn,Qn=n,e!==null&&eE(e)),t}function eE(t){Qn===null?Qn=t:Qn.push.apply(Qn,t)}function D7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!di(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xa(t,e){for(e&=~hx,e&=~xy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-li(e),r=1<<n;t[n]=-1,e&=~r}}function hP(t){if(ze&6)throw Error(ue(327));ol();var e=l0(t,0);if(!(e&1))return nr(t,jt()),null;var n=I0(t,e);if(t.tag!==0&&n===2){var r=A_(t);r!==0&&(e=r,n=Z_(t,r))}if(n===1)throw n=Cd,So(t,0),Xa(t,e),nr(t,jt()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ro(t,Qn,Qi),nr(t,jt()),null}function mx(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(Tl=jt()+500,_y&&Ms())}}function Uo(t){ss!==null&&ss.tag===0&&!(ze&6)&&ol();var e=ze;ze|=1;var n=Fr.transition,r=tt;try{if(Fr.transition=null,tt=1,t)return t()}finally{tt=r,Fr.transition=n,ze=e,!(ze&6)&&Ms()}}function gx(){cr=Ju.current,yt(Ju)}function So(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,c7(n)),Vt!==null)for(n=Vt.return;n!==null;){var r=n;switch(Qw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&p0();break;case 3:_l(),yt(er),yt(kn),ax();break;case 5:ix(r);break;case 4:_l();break;case 13:yt(At);break;case 19:yt(At);break;case 10:ex(r.type._context);break;case 22:case 23:gx()}n=n.return}if(sn=t,Vt=t=bs(t.current,null),yn=cr=e,Yt=0,Cd=null,hx=xy=Bo=0,Qn=Wf=null,yo!==null){for(e=0;e<yo.length;e++)if(n=yo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}yo=null}return t}function xL(t,e){do{var n=Vt;try{if(Zw(),km.current=w0,T0){for(var r=It.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}T0=!1}if($o=0,rn=Gt=It=null,qf=!1,Sd=0,dx.current=null,n===null||n.return===null){Yt=1,Cd=e,Vt=null;break}e:{var a=t,s=n.return,o=n,u=e;if(e=yn,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=eP(s);if(p!==null){p.flags&=-257,tP(p,s,o,a,e),p.mode&1&&Z2(a,l,e),e=p,u=l;var g=e.updateQueue;if(g===null){var v=new Set;v.add(u),e.updateQueue=v}else g.add(u);break e}else{if(!(e&1)){Z2(a,l,e),yx();break e}u=Error(ue(426))}}else if(_t&&o.mode&1){var b=eP(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),tP(b,s,o,a,e),Xw(El(u,o));break e}}a=u=El(u,o),Yt!==4&&(Yt=2),Wf===null?Wf=[a]:Wf.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var w=oL(a,u,e);G2(a,w);break e;case 1:o=u;var T=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof T.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ys===null||!ys.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var C=uL(a,o,e);G2(a,C);break e}}a=a.return}while(a!==null)}IL(n)}catch(A){e=A,Vt===n&&n!==null&&(Vt=n=n.return);continue}break}while(!0)}function AL(){var t=x0.current;return x0.current=w0,t===null?w0:t}function yx(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),sn===null||!(Bo&268435455)&&!(xy&268435455)||Xa(sn,yn)}function I0(t,e){var n=ze;ze|=2;var r=AL();(sn!==t||yn!==e)&&(Qi=null,So(t,e));do try{M7();break}catch(i){xL(t,i)}while(!0);if(Zw(),ze=n,x0.current=r,Vt!==null)throw Error(ue(261));return sn=null,yn=0,Yt}function M7(){for(;Vt!==null;)SL(Vt)}function L7(){for(;Vt!==null&&!oV();)SL(Vt)}function SL(t){var e=CL(t.alternate,t,cr);t.memoizedProps=t.pendingProps,e===null?IL(t):Vt=e,dx.current=null}function IL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=C7(n,e),n!==null){n.flags&=32767,Vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yt=6,Vt=null;return}}else if(n=P7(n,e,cr),n!==null){Vt=n;return}if(e=e.sibling,e!==null){Vt=e;return}Vt=e=t}while(e!==null);Yt===0&&(Yt=5)}function ro(t,e,n){var r=tt,i=Fr.transition;try{Fr.transition=null,tt=1,j7(t,e,n,r)}finally{Fr.transition=i,tt=r}return null}function j7(t,e,n,r){do ol();while(ss!==null);if(ze&6)throw Error(ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(yV(t,a),t===sn&&(Vt=sn=null,yn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jp||(Jp=!0,OL(u0,function(){return ol(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Fr.transition,Fr.transition=null;var s=tt;tt=1;var o=ze;ze|=4,dx.current=null,N7(t,n),EL(n,t),r7(N_),c0=!!O_,N_=O_=null,t.current=n,R7(n),uV(),ze=o,tt=s,Fr.transition=a}else t.current=n;if(Jp&&(Jp=!1,ss=t,S0=i),a=t.pendingLanes,a===0&&(ys=null),fV(n.stateNode),nr(t,jt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(A0)throw A0=!1,t=X_,X_=null,t;return S0&1&&t.tag!==0&&ol(),a=t.pendingLanes,a&1?t===J_?Gf++:(Gf=0,J_=t):Gf=0,Ms(),null}function ol(){if(ss!==null){var t=oM(S0),e=Fr.transition,n=tt;try{if(Fr.transition=null,tt=16>t?16:t,ss===null)var r=!1;else{if(t=ss,ss=null,S0=0,ze&6)throw Error(ue(331));var i=ze;for(ze|=4,ge=t.current;ge!==null;){var a=ge,s=a.child;if(ge.flags&16){var o=a.deletions;if(o!==null){for(var u=0;u<o.length;u++){var l=o[u];for(ge=l;ge!==null;){var c=ge;switch(c.tag){case 0:case 11:case 15:zf(8,c,a)}var f=c.child;if(f!==null)f.return=c,ge=f;else for(;ge!==null;){c=ge;var h=c.sibling,p=c.return;if(vL(c),c===l){ge=null;break}if(h!==null){h.return=p,ge=h;break}ge=p}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}ge=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ge=s;else e:for(;ge!==null;){if(a=ge,a.flags&2048)switch(a.tag){case 0:case 11:case 15:zf(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,ge=w;break e}ge=a.return}}var T=t.current;for(ge=T;ge!==null;){s=ge;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,ge=_;else e:for(s=T;ge!==null;){if(o=ge,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:wy(9,o)}}catch(A){Dt(o,o.return,A)}if(o===s){ge=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,ge=C;break e}ge=o.return}}if(ze=i,Ms(),Oi&&typeof Oi.onPostCommitFiberRoot=="function")try{Oi.onPostCommitFiberRoot(my,t)}catch{}r=!0}return r}finally{tt=n,Fr.transition=e}}return!1}function pP(t,e,n){e=El(n,e),e=oL(t,e,1),t=gs(t,e,1),e=Vn(),t!==null&&(Mh(t,1,e),nr(t,e))}function Dt(t,e,n){if(t.tag===3)pP(t,t,n);else for(;e!==null;){if(e.tag===3){pP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ys===null||!ys.has(r))){t=El(n,t),t=uL(e,t,1),e=gs(e,t,1),t=Vn(),e!==null&&(Mh(e,1,t),nr(e,t));break}}e=e.return}}function F7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vn(),t.pingedLanes|=t.suspendedLanes&n,sn===t&&(yn&n)===n&&(Yt===4||Yt===3&&(yn&130023424)===yn&&500>jt()-px?So(t,0):hx|=n),nr(t,e)}function PL(t,e){e===0&&(t.mode&1?(e=Vp,Vp<<=1,!(Vp&130023424)&&(Vp=4194304)):e=1);var n=Vn();t=va(t,e),t!==null&&(Mh(t,e,n),nr(t,n))}function $7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),PL(t,n)}function B7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),PL(t,n)}var CL;CL=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||er.current)Jn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jn=!1,I7(t,e,n);Jn=!!(t.flags&131072)}else Jn=!1,_t&&e.flags&1048576&&kM(e,y0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mm(t,e),t=e.pendingProps;var i=yl(e,kn.current);sl(e,n),i=ox(null,e,r,t,i,n);var a=ux();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tr(r)?(a=!0,m0(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nx(e),i.updater=Ty,e.stateNode=i,i._reactInternals=e,B_(e,r,t,n),e=H_(null,e,r,!0,a,n)):(e.tag=0,_t&&a&&Yw(e),Fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=V7(r),t=Zr(r,t),i){case 0:e=V_(null,e,r,t,n);break e;case 1:e=iP(null,e,r,t,n);break e;case 11:e=nP(null,e,r,t,n);break e;case 14:e=rP(null,e,r,Zr(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),V_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),iP(t,e,r,i,n);case 3:e:{if(dL(e),t===null)throw Error(ue(387));r=e.pendingProps,a=e.memoizedState,i=a.element,$M(t,e),_0(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=El(Error(ue(423)),e),e=aP(t,e,r,n,i);break e}else if(r!==i){i=El(Error(ue(424)),e),e=aP(t,e,r,n,i);break e}else for(pr=ms(e.stateNode.containerInfo.firstChild),vr=e,_t=!0,ii=null,n=jM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vl(),r===i){e=ba(t,e,n);break e}Fn(t,e,r,n)}e=e.child}return e;case 5:return BM(e),t===null&&j_(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,R_(r,i)?s=null:a!==null&&R_(r,a)&&(e.flags|=32),fL(t,e),Fn(t,e,s,n),e.child;case 6:return t===null&&j_(e),null;case 13:return hL(t,e,n);case 4:return rx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bl(e,null,r,n):Fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),nP(t,e,r,i,n);case 7:return Fn(t,e,e.pendingProps,n),e.child;case 8:return Fn(t,e,e.pendingProps.children,n),e.child;case 12:return Fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,ft(v0,r._currentValue),r._currentValue=s,a!==null)if(di(a.value,s)){if(a.children===i.children&&!er.current){e=ba(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(a.tag===1){u=la(-1,n&-n),u.tag=2;var l=a.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),F_(a.return,n,e),o.lanes|=n;break}u=u.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ue(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),F_(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,sl(e,n),i=qr(i),r=r(i),e.flags|=1,Fn(t,e,r,n),e.child;case 14:return r=e.type,i=Zr(r,e.pendingProps),i=Zr(r.type,i),rP(t,e,r,i,n);case 15:return lL(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),Mm(t,e),e.tag=1,tr(r)?(t=!0,m0(e)):t=!1,sl(e,n),sL(e,r,i),B_(e,r,i,n),H_(null,e,r,!0,t,n);case 19:return pL(t,e,n);case 22:return cL(t,e,n)}throw Error(ue(156,e.tag))};function OL(t,e){return rM(t,e)}function U7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(t,e,n,r){return new U7(t,e,n,r)}function vx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V7(t){if(typeof t=="function")return vx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jw)return 11;if(t===Fw)return 14}return 2}function bs(t,e){var n=t.alternate;return n===null?(n=Mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fm(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")vx(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Vu:return Io(n.children,i,a,e);case Lw:s=8,i|=8;break;case c_:return t=Mr(12,n,e,i|2),t.elementType=c_,t.lanes=a,t;case f_:return t=Mr(13,n,e,i),t.elementType=f_,t.lanes=a,t;case d_:return t=Mr(19,n,e,i),t.elementType=d_,t.lanes=a,t;case B3:return Ay(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F3:s=10;break e;case $3:s=9;break e;case jw:s=11;break e;case Fw:s=14;break e;case Wa:s=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=Mr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Io(t,e,n,r){return t=Mr(7,t,r,e),t.lanes=n,t}function Ay(t,e,n,r){return t=Mr(22,t,r,e),t.elementType=B3,t.lanes=n,t.stateNode={isHidden:!1},t}function e1(t,e,n){return t=Mr(6,t,null,e),t.lanes=n,t}function t1(t,e,n){return e=Mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function H7(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mb(0),this.expirationTimes=Mb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bx(t,e,n,r,i,a,s,o,u){return t=new H7(t,e,n,o,u),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Mr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nx(a),t}function q7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function NL(t){if(!t)return Is;t=t._reactInternals;e:{if(uu(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(tr(n))return NM(t,n,e)}return e}function RL(t,e,n,r,i,a,s,o,u){return t=bx(n,r,!0,t,i,a,s,o,u),t.context=NL(null),n=t.current,r=Vn(),i=vs(n),a=la(r,i),a.callback=e??null,gs(n,a,i),t.current.lanes=i,Mh(t,i,r),nr(t,r),t}function Sy(t,e,n,r){var i=e.current,a=Vn(),s=vs(i);return n=NL(n),e.context===null?e.context=n:e.pendingContext=n,e=la(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gs(i,e,s),t!==null&&(ci(t,i,s,a),Rm(t,i,s)),s}function P0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _x(t,e){mP(t,e),(t=t.alternate)&&mP(t,e)}function z7(){return null}var kL=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ex(t){this._internalRoot=t}Iy.prototype.render=Ex.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));Sy(t,e,null,null)};Iy.prototype.unmount=Ex.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Uo(function(){Sy(null,t,null,null)}),e[ya]=null}};function Iy(t){this._internalRoot=t}Iy.prototype.unstable_scheduleHydration=function(t){if(t){var e=cM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qa.length&&e!==0&&e<Qa[n].priority;n++);Qa.splice(n,0,t),n===0&&dM(t)}};function Tx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Py(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gP(){}function W7(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var l=P0(s);a.call(l)}}var s=RL(e,r,t,0,null,!1,!1,"",gP);return t._reactRootContainer=s,t[ya]=s.current,Ed(t.nodeType===8?t.parentNode:t),Uo(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var l=P0(u);o.call(l)}}var u=bx(t,0,!1,null,null,!1,!1,"",gP);return t._reactRootContainer=u,t[ya]=u.current,Ed(t.nodeType===8?t.parentNode:t),Uo(function(){Sy(e,u,n,r)}),u}function Cy(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var u=P0(s);o.call(u)}}Sy(e,s,t,i)}else s=W7(n,e,t,i,r);return P0(s)}uM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Pf(e.pendingLanes);n!==0&&(Uw(e,n|1),nr(e,jt()),!(ze&6)&&(Tl=jt()+500,Ms()))}break;case 13:Uo(function(){var r=va(t,1);if(r!==null){var i=Vn();ci(r,t,1,i)}}),_x(t,1)}};Vw=function(t){if(t.tag===13){var e=va(t,134217728);if(e!==null){var n=Vn();ci(e,t,134217728,n)}_x(t,134217728)}};lM=function(t){if(t.tag===13){var e=vs(t),n=va(t,e);if(n!==null){var r=Vn();ci(n,t,e,r)}_x(t,e)}};cM=function(){return tt};fM=function(t,e){var n=tt;try{return tt=t,e()}finally{tt=n}};T_=function(t,e,n){switch(e){case"input":if(m_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=by(r);if(!i)throw Error(ue(90));V3(r),m_(r,i)}}}break;case"textarea":q3(t,n);break;case"select":e=n.value,e!=null&&nl(t,!!n.multiple,e,!1)}};X3=mx;J3=Uo;var G7={usingClientEntryPoint:!1,Events:[jh,Wu,by,Y3,Q3,mx]},tf={findFiberByHostInstance:go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K7={bundleType:tf.bundleType,version:tf.version,rendererPackageName:tf.rendererPackageName,rendererConfig:tf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tM(t),t===null?null:t.stateNode},findFiberByHostInstance:tf.findFiberByHostInstance||z7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zp.isDisabled&&Zp.supportsFiber)try{my=Zp.inject(K7),Oi=Zp}catch{}}Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G7;Ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tx(e))throw Error(ue(200));return q7(t,e,null,n)};Ar.createRoot=function(t,e){if(!Tx(t))throw Error(ue(299));var n=!1,r="",i=kL;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bx(t,1,!1,null,null,n,!1,r,i),t[ya]=e.current,Ed(t.nodeType===8?t.parentNode:t),new Ex(e)};Ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=tM(e),t=t===null?null:t.stateNode,t};Ar.flushSync=function(t){return Uo(t)};Ar.hydrate=function(t,e,n){if(!Py(e))throw Error(ue(200));return Cy(null,t,e,!0,n)};Ar.hydrateRoot=function(t,e,n){if(!Tx(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=kL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=RL(e,null,t,1,n??null,i,!1,a,s),t[ya]=e.current,Ed(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Iy(e)};Ar.render=function(t,e,n){if(!Py(e))throw Error(ue(200));return Cy(null,t,e,!1,n)};Ar.unmountComponentAtNode=function(t){if(!Py(t))throw Error(ue(40));return t._reactRootContainer?(Uo(function(){Cy(null,null,t,!1,function(){t._reactRootContainer=null,t[ya]=null})}),!0):!1};Ar.unstable_batchedUpdates=mx;Ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Py(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return Cy(t,e,n,!1,r)};Ar.version="18.3.1-next-f1338f8080-20240426";function DL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DL)}catch(t){console.error(t)}}DL(),D3.exports=Ar;var Y7=D3.exports,yP=Y7;u_.createRoot=yP.createRoot,u_.hydrateRoot=yP.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Od.apply(this,arguments)}var os;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(os||(os={}));const vP="popstate";function Q7(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return tE("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:LL(i)}return J7(e,n,null,t)}function Ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ML(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X7(){return Math.random().toString(36).substr(2,8)}function bP(t,e){return{usr:t.state,key:t.key,idx:e}}function tE(t,e,n,r){return n===void 0&&(n=null),Od({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?uc(e):e,{state:n,key:e&&e.key||r||X7()})}function LL(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function uc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function J7(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=os.Pop,u=null,l=c();l==null&&(l=0,s.replaceState(Od({},s.state,{idx:l}),""));function c(){return(s.state||{idx:null}).idx}function f(){o=os.Pop;let b=c(),w=b==null?null:b-l;l=b,u&&u({action:o,location:v.location,delta:w})}function h(b,w){o=os.Push;let T=tE(v.location,b,w);l=c()+1;let _=bP(T,l),C=v.createHref(T);try{s.pushState(_,"",C)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(C)}a&&u&&u({action:o,location:v.location,delta:1})}function p(b,w){o=os.Replace;let T=tE(v.location,b,w);l=c();let _=bP(T,l),C=v.createHref(T);s.replaceState(_,"",C),a&&u&&u({action:o,location:v.location,delta:0})}function g(b){let w=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof b=="string"?b:LL(b);return T=T.replace(/ $/,"%20"),Ht(w,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,w)}let v={get action(){return o},get location(){return t(i,s)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(vP,f),u=b,()=>{i.removeEventListener(vP,f),u=null}},createHref(b){return e(i,b)},createURL:g,encodeLocation(b){let w=g(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(b){return s.go(b)}};return v}var _P;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_P||(_P={}));function Z7(t,e,n){return n===void 0&&(n="/"),eH(t,e,n,!1)}function eH(t,e,n,r){let i=typeof e=="string"?uc(e):e,a=$L(i.pathname||"/",n);if(a==null)return null;let s=jL(t);tH(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let l=dH(a);o=cH(s[u],l,r)}return o}function jL(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let u={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};u.relativePath.startsWith("/")&&(Ht(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Po([r,u.relativePath]),c=n.concat(u);a.children&&a.children.length>0&&(Ht(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),jL(a.children,e,c,l)),!(a.path==null&&!a.index)&&e.push({path:l,score:uH(l,a.index),routesMeta:c})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let u of FL(a.path))i(a,s,u)}),e}function FL(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=FL(r.join("/")),o=[];return o.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&o.push(...s),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function tH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lH(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nH=/^:[\w-]+$/,rH=3,iH=2,aH=1,sH=10,oH=-2,EP=t=>t==="*";function uH(t,e){let n=t.split("/"),r=n.length;return n.some(EP)&&(r+=oH),e&&(r+=iH),n.filter(i=>!EP(i)).reduce((i,a)=>i+(nH.test(a)?rH:a===""?aH:sH),r)}function lH(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function cH(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let u=r[o],l=o===r.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=TP({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},c),h=u.route;if(!f&&l&&n&&!r[r.length-1].route.index&&(f=TP({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Po([a,f.pathname]),pathnameBase:gH(Po([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Po([a,f.pathnameBase]))}return s}function TP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fH(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((l,c,f)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let v=o[f]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?l[h]=void 0:l[h]=(g||"").replace(/%2F/g,"/"),l},{}),pathname:a,pathnameBase:s,pattern:t}}function fH(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ML(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function dH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ML(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $L(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function hH(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?uc(t):t;return{pathname:n?n.startsWith("/")?n:pH(n,e):e,search:yH(r),hash:vH(i)}}function pH(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function n1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function BL(t,e){let n=mH(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function UL(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=uc(t):(i=Od({},t),Ht(!i.pathname||!i.pathname.includes("?"),n1("?","pathname","search",i)),Ht(!i.pathname||!i.pathname.includes("#"),n1("#","pathname","hash",i)),Ht(!i.search||!i.search.includes("#"),n1("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let u=hH(i,o),l=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Po=t=>t.join("/").replace(/\/\/+/g,"/"),gH=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bH(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VL=["post","put","patch","delete"];new Set(VL);const _H=["get",...VL];new Set(_H);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nd.apply(this,arguments)}const wx=F.createContext(null),EH=F.createContext(null),$h=F.createContext(null),Oy=F.createContext(null),lu=F.createContext({outlet:null,matches:[],isDataRoute:!1}),HL=F.createContext(null);function Bh(){return F.useContext(Oy)!=null}function Uh(){return Bh()||Ht(!1),F.useContext(Oy).location}function qL(t){F.useContext($h).static||F.useLayoutEffect(t)}function xx(){let{isDataRoute:t}=F.useContext(lu);return t?DH():TH()}function TH(){Bh()||Ht(!1);let t=F.useContext(wx),{basename:e,future:n,navigator:r}=F.useContext($h),{matches:i}=F.useContext(lu),{pathname:a}=Uh(),s=JSON.stringify(BL(i,n.v7_relativeSplatPath)),o=F.useRef(!1);return qL(()=>{o.current=!0}),F.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){r.go(l);return}let f=UL(l,JSON.parse(s),a,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Po([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,a,t])}function wH(t,e){return xH(t,e)}function xH(t,e,n,r){Bh()||Ht(!1);let{navigator:i}=F.useContext($h),{matches:a}=F.useContext(lu),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let l=Uh(),c;if(e){var f;let b=typeof e=="string"?uc(e):e;u==="/"||(f=b.pathname)!=null&&f.startsWith(u)||Ht(!1),c=b}else c=l;let h=c.pathname||"/",p=h;if(u!=="/"){let b=u.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=Z7(t,{pathname:p}),v=CH(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Po([u,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:Po([u,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,r);return e&&v?F.createElement(Oy.Provider,{value:{location:Nd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:os.Pop}},v):v}function AH(){let t=kH(),e=bH(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,null)}const SH=F.createElement(AH,null);class IH extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(lu.Provider,{value:this.props.routeContext},F.createElement(HL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PH(t){let{routeContext:e,match:n,children:r}=t,i=F.useContext(wx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(lu.Provider,{value:e},r)}function CH(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let c=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);c>=0||Ht(!1),s=s.slice(0,Math.min(s.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:h,errors:p}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){u=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,f,h)=>{let p,g=!1,v=null,b=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||SH,u&&(l<0&&h===0?(g=!0,b=null):l===h&&(g=!0,b=f.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,h+1)),T=()=>{let _;return p?_=v:g?_=b:f.route.Component?_=F.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,F.createElement(PH,{match:f,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?F.createElement(IH,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):T()},null)}var zL=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zL||{}),C0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(C0||{});function OH(t){let e=F.useContext(wx);return e||Ht(!1),e}function NH(t){let e=F.useContext(EH);return e||Ht(!1),e}function RH(t){let e=F.useContext(lu);return e||Ht(!1),e}function WL(t){let e=RH(),n=e.matches[e.matches.length-1];return n.route.id||Ht(!1),n.route.id}function kH(){var t;let e=F.useContext(HL),n=NH(C0.UseRouteError),r=WL(C0.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function DH(){let{router:t}=OH(zL.UseNavigateStable),e=WL(C0.UseNavigateStable),n=F.useRef(!1);return qL(()=>{n.current=!0}),F.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nd({fromRouteId:e},a)))},[t,e])}const wP={};function MH(t,e){wP[e]||(wP[e]=!0,console.warn(e))}const xP=(t,e,n)=>MH(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function LH(t,e){t!=null&&t.v7_startTransition||xP("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&xP("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function GL(t){let{to:e,replace:n,state:r,relative:i}=t;Bh()||Ht(!1);let{future:a,static:s}=F.useContext($h),{matches:o}=F.useContext(lu),{pathname:u}=Uh(),l=xx(),c=UL(e,BL(o,a.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(c);return F.useEffect(()=>l(JSON.parse(f),{replace:n,state:r,relative:i}),[l,f,i,n,r]),null}function Ki(t){Ht(!1)}function jH(t){let{basename:e="/",children:n=null,location:r,navigationType:i=os.Pop,navigator:a,static:s=!1,future:o}=t;Bh()&&Ht(!1);let u=e.replace(/^\/*/,"/"),l=F.useMemo(()=>({basename:u,navigator:a,static:s,future:Nd({v7_relativeSplatPath:!1},o)}),[u,o,a,s]);typeof r=="string"&&(r=uc(r));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,v=F.useMemo(()=>{let b=$L(c,u);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:g},navigationType:i}},[u,c,f,h,p,g,i]);return v==null?null:F.createElement($h.Provider,{value:l},F.createElement(Oy.Provider,{children:n,value:v}))}function FH(t){let{children:e,location:n}=t;return wH(nE(e),n)}new Promise(()=>{});function nE(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(r,i)=>{if(!F.isValidElement(r))return;let a=[...e,i];if(r.type===F.Fragment){n.push.apply(n,nE(r.props.children,a));return}r.type!==Ki&&Ht(!1),!r.props.index||!r.props.children||Ht(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=nE(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const $H="6";try{window.__reactRouterVersion=$H}catch{}const BH="startTransition",AP=F9[BH];function UH(t){let{basename:e,children:n,future:r,window:i}=t,a=F.useRef();a.current==null&&(a.current=Q7({window:i,v5Compat:!0}));let s=a.current,[o,u]=F.useState({action:s.action,location:s.location}),{v7_startTransition:l}=r||{},c=F.useCallback(f=>{l&&AP?AP(()=>u(f)):u(f)},[u,l]);return F.useLayoutEffect(()=>s.listen(c),[s,c]),F.useEffect(()=>LH(r),[r]),F.createElement(jH,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}var SP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(SP||(SP={}));var IP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(IP||(IP={}));var PP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],u=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},YL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=a>>2,f=(a&3)<<4|o>>4;let h=(o&15)<<2|l>>6,p=l&63;u||(p=64,s||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||l==null||f==null)throw new HH;const h=a<<2|o>>4;if(r.push(h),l!==64){const p=o<<4&240|l>>2;if(r.push(p),f!==64){const g=l<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qH=function(t){const e=KL(t);return YL.encodeByteArray(e,!0)},O0=function(t){return qH(t).replace(/\./g,"")},QL=function(t){try{return YL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH=()=>zH().__FIREBASE_DEFAULTS__,GH=()=>{if(typeof process>"u"||typeof PP>"u")return;const t=PP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QL(t[1]);return e&&JSON.parse(e)},Ny=()=>{try{return WH()||GH()||KH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XL=t=>{var e,n;return(n=(e=Ny())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},YH=t=>{const e=XL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},JL=()=>{var t;return(t=Ny())===null||t===void 0?void 0:t.config},ZL=t=>{var e;return(e=Ny())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XH(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[O0(JSON.stringify(n)),O0(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function ZH(){var t;const e=(t=Ny())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nq(){const t=Xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function t6(){return!ZH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ax(){try{return typeof indexedDB=="object"}catch{return!1}}function n6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function rq(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq="FirebaseError";class pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iq,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?aq(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new pi(i,o,r)}}function aq(t,e){return t.replace(sq,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sq=/\{\$([^}]+)}/g;function oq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(CP(a)&&CP(s)){if(!wl(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function CP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Of(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Nf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uq(t,e){const n=new lq(t,e);return n.subscribe.bind(n)}class lq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cq(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=r1),i.error===void 0&&(i.error=r1),i.complete===void 0&&(i.complete=r1);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cq(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function r1(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq=1e3,dq=2,hq=4*60*60*1e3,pq=.5;function OP(t,e=fq,n=dq){const r=e*Math.pow(n,t),i=Math.round(pq*r*(Math.random()-.5)*2);return Math.min(hq,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class hi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QH;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yq(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gq(t){return t===io?void 0:t}function yq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const bq={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},_q=Fe.INFO,Eq={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},Tq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Eq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ry{constructor(e){this.name=e,this._logLevel=_q,this._logHandler=Tq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const wq=(t,e)=>e.some(n=>t instanceof n);let NP,RP;function xq(){return NP||(NP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Aq(){return RP||(RP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r6=new WeakMap,rE=new WeakMap,i6=new WeakMap,i1=new WeakMap,Sx=new WeakMap;function Sq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(_s(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&r6.set(n,t)}).catch(()=>{}),Sx.set(e,t),e}function Iq(t){if(rE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});rE.set(t,e)}let iE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||i6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Pq(t){iE=t(iE)}function Cq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(a1(this),e,...n);return i6.set(r,e.sort?e.sort():[e]),_s(r)}:Aq().includes(t)?function(...e){return t.apply(a1(this),e),_s(r6.get(this))}:function(...e){return _s(t.apply(a1(this),e))}}function Oq(t){return typeof t=="function"?Cq(t):(t instanceof IDBTransaction&&Iq(t),wq(t,xq())?new Proxy(t,iE):t)}function _s(t){if(t instanceof IDBRequest)return Sq(t);if(i1.has(t))return i1.get(t);const e=Oq(t);return e!==t&&(i1.set(t,e),Sx.set(e,t)),e}const a1=t=>Sx.get(t);function a6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=_s(s);return r&&s.addEventListener("upgradeneeded",u=>{r(_s(s.result),u.oldVersion,u.newVersion,_s(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const Nq=["get","getKey","getAll","getAllKeys","count"],Rq=["put","add","delete","clear"],s1=new Map;function kP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(s1.get(e))return s1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Rq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Nq.includes(n)))return;const a=async function(s,...o){const u=this.transaction(s,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(o.shift())),(await Promise.all([l[n](...o),i&&u.done]))[0]};return s1.set(e,a),a}Pq(t=>({...t,get:(e,n,r)=>kP(e,n)||t.get(e,n,r),has:(e,n)=>!!kP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Dq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const aE="@firebase/app",DP="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new Ry("@firebase/app"),Mq="@firebase/app-compat",Lq="@firebase/analytics-compat",jq="@firebase/analytics",Fq="@firebase/app-check-compat",$q="@firebase/app-check",Bq="@firebase/auth",Uq="@firebase/auth-compat",Vq="@firebase/database",Hq="@firebase/data-connect",qq="@firebase/database-compat",zq="@firebase/functions",Wq="@firebase/functions-compat",Gq="@firebase/installations",Kq="@firebase/installations-compat",Yq="@firebase/messaging",Qq="@firebase/messaging-compat",Xq="@firebase/performance",Jq="@firebase/performance-compat",Zq="@firebase/remote-config",ez="@firebase/remote-config-compat",tz="@firebase/storage",nz="@firebase/storage-compat",rz="@firebase/firestore",iz="@firebase/vertexai-preview",az="@firebase/firestore-compat",sz="firebase",oz="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="[DEFAULT]",uz={[aE]:"fire-core",[Mq]:"fire-core-compat",[jq]:"fire-analytics",[Lq]:"fire-analytics-compat",[$q]:"fire-app-check",[Fq]:"fire-app-check-compat",[Bq]:"fire-auth",[Uq]:"fire-auth-compat",[Vq]:"fire-rtdb",[Hq]:"fire-data-connect",[qq]:"fire-rtdb-compat",[zq]:"fire-fn",[Wq]:"fire-fn-compat",[Gq]:"fire-iid",[Kq]:"fire-iid-compat",[Yq]:"fire-fcm",[Qq]:"fire-fcm-compat",[Xq]:"fire-perf",[Jq]:"fire-perf-compat",[Zq]:"fire-rc",[ez]:"fire-rc-compat",[tz]:"fire-gcs",[nz]:"fire-gcs-compat",[rz]:"fire-fst",[az]:"fire-fst-compat",[iz]:"fire-vertex","fire-js":"fire-js",[sz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map,lz=new Map,oE=new Map;function MP(t,e){try{t.container.addComponent(e)}catch(n){_a.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ji(t){const e=t.name;if(oE.has(e))return _a.debug(`There were multiple attempts to register component ${e}.`),!1;oE.set(e,t);for(const n of N0.values())MP(n,t);for(const n of lz.values())MP(n,t);return!0}function Ls(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new cu("app","Firebase",cz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=oz;function uE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sE,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Es.create("bad-app-name",{appName:String(i)});if(n||(n=JL()),!n)throw Es.create("no-options");const a=N0.get(i);if(a){if(wl(n,a.options)&&wl(r,a.config))return a;throw Es.create("duplicate-app",{appName:i})}const s=new vq(i);for(const u of oE.values())s.addComponent(u);const o=new fz(n,r,s);return N0.set(i,o),o}function Ix(t=sE){const e=N0.get(t);if(!e&&t===sE&&JL())return uE();if(!e)throw Es.create("no-app",{appName:t});return e}function $r(t,e,n){var r;let i=(r=uz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${e}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_a.warn(o.join(" "));return}ji(new hi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz="firebase-heartbeat-database",hz=1,Rd="firebase-heartbeat-store";let o1=null;function s6(){return o1||(o1=a6(dz,hz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Es.create("idb-open",{originalErrorMessage:t.message})})),o1}async function pz(t){try{const n=(await s6()).transaction(Rd),r=await n.objectStore(Rd).get(o6(t));return await n.done,r}catch(e){if(e instanceof pi)_a.warn(e.message);else{const n=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_a.warn(n.message)}}}async function LP(t,e){try{const r=(await s6()).transaction(Rd,"readwrite");await r.objectStore(Rd).put(e,o6(t)),await r.done}catch(n){if(n instanceof pi)_a.warn(n.message);else{const r=Es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_a.warn(r.message)}}}function o6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=1024,gz=30*24*60*60*1e3;class yz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=jP();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=gz}),this._storage.overwrite(this._heartbeatsCache))}catch(r){_a.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jP(),{heartbeatsToSend:r,unsentEntries:i}=vz(this._heartbeatsCache.heartbeats),a=O0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return _a.warn(n),""}}}function jP(){return new Date().toISOString().substring(0,10)}function vz(t,e=mz){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),FP(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),FP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ax()?n6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return LP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return LP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function FP(t){return O0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(t){ji(new hi("platform-logger",e=>new kq(e),"PRIVATE")),ji(new hi("heartbeat",e=>new yz(e),"PRIVATE")),$r(aE,DP,t),$r(aE,DP,"esm2017"),$r("fire-js","")}_z("");function Px(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function u6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ez=u6,l6=new cu("auth","Firebase",u6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=new Ry("@firebase/auth");function Tz(t,...e){R0.logLevel<=Fe.WARN&&R0.warn(`Auth (${lc}): ${t}`,...e)}function $m(t,...e){R0.logLevel<=Fe.ERROR&&R0.error(`Auth (${lc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t,...e){throw Ox(t,...e)}function fi(t,...e){return Ox(t,...e)}function Cx(t,e,n){const r=Object.assign(Object.assign({},Ez()),{[e]:n});return new cu("auth","Firebase",r).create(e,{appName:t.name})}function ca(t){return Cx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wr(t,"argument-error"),Cx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ox(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return l6.create(t,...e)}function xe(t,e,...n){if(!t)throw Ox(e,...n)}function na(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $m(e),new Error(e)}function Ea(t,e){t||na(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xz(){return $P()==="http:"||$P()==="https:"}function $P(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xz()||e6()||"connection"in navigator)?navigator.onLine:!0}function Sz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ea(n>e,"Short delay should be less than long delay!"),this.isMobile=JH()||tq()}get(){return Az()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e){Ea(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=new Hh(3e4,6e4);function Ca(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bi(t,e,n,r,i={}){return f6(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=Vh(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:u},a);return eq()||(l.referrerPolicy="no-referrer"),c6.fetch()(d6(t,t.config.apiHost,n,o),l)})}async function f6(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Iz),e);try{const i=new Oz(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw em(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[u,l]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw em(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw em(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw em(t,"user-disabled",s);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Cx(t,c,l);Wr(t,c)}}catch(i){if(i instanceof pi)throw i;Wr(t,"network-request-failed",{message:String(i)})}}async function qh(t,e,n,r,i={}){const a=await Bi(t,e,n,r,i);return"mfaPendingCredential"in a&&Wr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function d6(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Nx(t.config,i):`${t.config.apiScheme}://${i}`}function Cz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Oz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fi(this.auth,"network-request-failed")),Pz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function em(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fi(t,e,r);return i.customData._tokenResponse=n,i}function BP(t){return t!==void 0&&t.enterprise!==void 0}class Nz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Cz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Rz(t,e){return Bi(t,"GET","/v2/recaptchaConfig",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kz(t,e){return Bi(t,"POST","/v1/accounts:delete",e)}async function h6(t,e){return Bi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Dz(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),i=Rx(r);xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Kf(u1(i.auth_time)),issuedAtTime:Kf(u1(i.iat)),expirationTime:Kf(u1(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function u1(t){return Number(t)*1e3}function Rx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $m("JWT malformed, contained fewer than 3 sections"),null;try{const i=QL(n);return i?JSON.parse(i):($m("Failed to decode base64 JWT payload"),null)}catch(i){return $m("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function UP(t){const e=Rx(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pi&&Mz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Mz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kf(this.lastLoginAt),this.creationTime=Kf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(t){var e;const n=t.auth,r=await t.getIdToken(),i=await xl(t,h6(n,{idToken:r}));xe(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?p6(a.providerUserInfo):[],o=Fz(t.providerData,s),u=t.isAnonymous,l=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),c=u?l:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new cE(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function jz(t){const e=Ct(t);await k0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function p6(t){return t.map(e=>{var{providerId:n}=e,r=Px(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $z(t,e){const n=await f6(t,{},async()=>{const r=Vh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=d6(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",c6.fetch()(s,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Bz(t,e){return Bi(t,"POST","/v2/accounts:revokeToken",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=UP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await $z(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new ul;return r&&(xe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(xe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(xe(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ra{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=Px(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new cE(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await xl(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Dz(this,e)}reload(){return jz(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ra(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await k0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(ca(this.auth));const e=await this.getIdToken();return await xl(this,kz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,o,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(o=n.tenantId)!==null&&o!==void 0?o:void 0,b=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,w=(l=n.createdAt)!==null&&l!==void 0?l:void 0,T=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:C,isAnonymous:A,providerData:S,stsTokenManager:x}=n;xe(_&&x,e,"internal-error");const I=ul.fromJSON(this.name,x);xe(typeof _=="string",e,"internal-error"),Ba(f,e.name),Ba(h,e.name),xe(typeof C=="boolean",e,"internal-error"),xe(typeof A=="boolean",e,"internal-error"),Ba(p,e.name),Ba(g,e.name),Ba(v,e.name),Ba(b,e.name),Ba(w,e.name),Ba(T,e.name);const O=new ra({uid:_,auth:e,email:h,emailVerified:C,displayName:f,isAnonymous:A,photoURL:g,phoneNumber:p,tenantId:v,stsTokenManager:I,createdAt:w,lastLoginAt:T});return S&&Array.isArray(S)&&(O.providerData=S.map(R=>Object.assign({},R))),b&&(O._redirectEventId=b),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new ul;i.updateFromServerResponse(n);const a=new ra({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await k0(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];xe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?p6(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new ul;o.updateFromIdToken(r);const u=new ra({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new cE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,l),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=new Map;function ia(t){Ea(t instanceof Function,"Expected a class definition");let e=VP.get(t);return e?(Ea(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}m6.type="NONE";const HP=m6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t,e,n){return`firebase:${t}:${e}:${n}`}class ll{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Bm(this.userKey,i.apiKey,a),this.fullPersistenceKey=Bm("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ra._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ll(ia(HP),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let a=i[0]||ia(HP);const s=Bm(r,e.config.apiKey,e.name);let o=null;for(const l of n)try{const c=await l._get(s);if(c){const f=ra._fromJSON(e,c);l!==a&&(o=f),a=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new ll(a,e,r):(a=u[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async l=>{if(l!==a)try{await l._remove(s)}catch{}})),new ll(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(b6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E6(e))return"Blackberry";if(T6(e))return"Webos";if(y6(e))return"Safari";if((e.includes("chrome/")||v6(e))&&!e.includes("edge/"))return"Chrome";if(_6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function g6(t=Xt()){return/firefox\//i.test(t)}function y6(t=Xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v6(t=Xt()){return/crios\//i.test(t)}function b6(t=Xt()){return/iemobile/i.test(t)}function _6(t=Xt()){return/android/i.test(t)}function E6(t=Xt()){return/blackberry/i.test(t)}function T6(t=Xt()){return/webos/i.test(t)}function kx(t=Xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Uz(t=Xt()){var e;return kx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Vz(){return nq()&&document.documentMode===10}function w6(t=Xt()){return kx(t)||_6(t)||T6(t)||E6(t)||/windows phone/i.test(t)||b6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t,e=[]){let n;switch(t){case"Browser":n=qP(Xt());break;case"Worker":n=`${qP(Xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const u=e(a);s(u)}catch(u){o(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qz(t,e={}){return Bi(t,"GET","/v2/passwordPolicy",Ca(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=6;class Wz{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:zz,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,o;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zP(this),this.idTokenSubscription=new zP(this),this.beforeStateQueue=new Hz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ia(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await h6(this,{idToken:e}),r=await ra._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(oi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===o)&&(u!=null&&u.user)&&(i=u.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await k0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Sz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(ca(this));const n=e?Ct(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ia(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qz(this),n=new Wz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Bz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ia(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[ia(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Tz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Oa(t){return Ct(t)}class zP{constructor(e){this.auth=e,this.observer=null,this.addObserver=uq(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ky={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kz(t){ky=t}function A6(t){return ky.loadJS(t)}function Yz(){return ky.recaptchaEnterpriseScript}function Qz(){return ky.gapiScript}function Xz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Jz="recaptcha-enterprise",Zz="NO_RECAPTCHA";class eW{constructor(e){this.type=Jz,this.auth=Oa(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{Rz(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const l=new Nz(u);return a.tenantId==null?a._agentRecaptchaConfig=l:a._tenantRecaptchaConfigs[a.tenantId]=l,s(l.siteKey)}}).catch(u=>{o(u)})})}function i(a,s,o){const u=window.grecaptcha;BP(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(l=>{s(l)}).catch(()=>{s(Zz)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&BP(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Yz();u.length!==0&&(u+=o),A6(u).then(()=>{i(o,a,s)}).catch(l=>{s(l)})}}).catch(o=>{s(o)})})}}async function WP(t,e,n,r=!1){const i=new eW(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function D0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await WP(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await WP(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(t,e){const n=Ls(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(wl(a,e??{}))return i;Wr(i,"already-initialized")}return n.initialize({options:e})}function nW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ia);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rW(t,e,n){const r=Oa(t);xe(r._canInitEmulator,r,"emulator-config-failed"),xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=S6(e),{host:s,port:o}=iW(e),u=o===null?"":`:${o}`;r.config.emulator={url:`${a}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),aW()}function S6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iW(t){const e=S6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:GP(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:GP(s)}}}function GP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return na("not implemented")}_getIdTokenResponse(e){return na("not implemented")}_linkToIdToken(e,n){return na("not implemented")}_getReauthenticationResolver(e){return na("not implemented")}}async function sW(t,e){return Bi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oW(t,e){return qh(t,"POST","/v1/accounts:signInWithPassword",Ca(t,e))}async function I6(t,e){return Bi(t,"POST","/v1/accounts:sendOobCode",Ca(t,e))}async function uW(t,e){return I6(t,e)}async function lW(t,e){return I6(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cW(t,e){return qh(t,"POST","/v1/accounts:signInWithEmailLink",Ca(t,e))}async function fW(t,e){return qh(t,"POST","/v1/accounts:signInWithEmailLink",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends Dx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new kd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new kd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D0(e,n,"signInWithPassword",oW);case"emailLink":return cW(e,{email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D0(e,r,"signUpPassword",sW);case"emailLink":return fW(e,{idToken:n,email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t,e){return qh(t,"POST","/v1/accounts:signInWithIdp",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW="http://localhost";class Vo extends Dx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=Px(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Vo(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return cl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,cl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cl(e,n)}buildRequest(){const e={requestUri:dW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pW(t){const e=Of(Nf(t)).link,n=e?Of(Nf(e)).deep_link_id:null,r=Of(Nf(t)).deep_link_id;return(r?Of(Nf(r)).link:null)||r||n||e||t}class Mx{constructor(e){var n,r,i,a,s,o;const u=Of(Nf(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,c=(r=u.oobCode)!==null&&r!==void 0?r:null,f=hW((i=u.mode)!==null&&i!==void 0?i:null);xe(l&&c&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=c,this.continueUrl=(a=u.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=u.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=pW(e);try{return new Mx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this.providerId=cc.PROVIDER_ID}static credential(e,n){return kd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Mx.parseLink(n);return xe(r,"argument-error"),kd._fromEmailAndCode(e,r.code,r.tenantId)}}cc.PROVIDER_ID="password";cc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends Lx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends zh{constructor(){super("facebook.com")}static credential(e){return Vo._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ja.credential(e.oauthAccessToken)}catch{return null}}}Ja.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ja.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends zh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vo._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zi.credential(n,r)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends zh{constructor(){super("github.com")}static credential(e){return Vo._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Za.credential(e.oauthAccessToken)}catch{return null}}}Za.GITHUB_SIGN_IN_METHOD="github.com";Za.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends zh{constructor(){super("twitter.com")}static credential(e,n){return Vo._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return es.credential(n,r)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mW(t,e){return qh(t,"POST","/v1/accounts:signUp",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ra._fromIdTokenResponse(e,r,i),s=KP(r);return new Ho({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=KP(r);return new Ho({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function KP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends pi{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,M0.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new M0(e,n,r,i)}}function P6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?M0._fromErrorAndOperation(t,a,e,r):a})}async function gW(t,e,n=!1){const r=await xl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ho._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yW(t,e,n=!1){const{auth:r}=t;if(oi(r.app))return Promise.reject(ca(r));const i="reauthenticate";try{const a=await xl(t,P6(r,i,e,t),n);xe(a.idToken,r,"internal-error");const s=Rx(a.idToken);xe(s,r,"internal-error");const{sub:o}=s;return xe(t.uid===o,r,"user-mismatch"),Ho._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Wr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C6(t,e,n=!1){if(oi(t.app))return Promise.reject(ca(t));const r="signIn",i=await P6(t,r,e),a=await Ho._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function vW(t,e){return C6(Oa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t){const e=Oa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bW(t,e,n){const r=Oa(t);await D0(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",lW)}async function _W(t,e,n){if(oi(t.app))return Promise.reject(ca(t));const r=Oa(t),s=await D0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mW).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&O6(t),u}),o=await Ho._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function EW(t,e,n){return oi(t.app)?Promise.reject(ca(t)):vW(Ct(t),cc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&O6(t),r})}async function TW(t,e){const n=Ct(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:a}=await uW(n.auth,i);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wW(t,e){return Bi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xW(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ct(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await xl(r,wW(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find(({providerId:u})=>u==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t,e){return Ct(t).setPersistence(e)}function SW(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function IW(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function PW(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function YP(t){return Ct(t).signOut()}const L0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(L0,"1"),this.storage.removeItem(L0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW=1e3,OW=10;class R6 extends N6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);Vz()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,OW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},CW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R6.type="LOCAL";const k6=R6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6 extends N6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}D6.type="SESSION";const M6=D6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Dy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async l=>l(n.origin,a)),u=await NW(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,u)=>{const l=jx("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(c),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function kW(t){Ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function DW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function LW(){return L6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6="firebaseLocalStorageDb",jW=1,j0="firebaseLocalStorage",F6="fbase_key";class Wh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function My(t,e){return t.transaction([j0],e?"readwrite":"readonly").objectStore(j0)}function FW(){const t=indexedDB.deleteDatabase(j6);return new Wh(t).toPromise()}function fE(){const t=indexedDB.open(j6,jW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(j0,{keyPath:F6})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(j0)?e(r):(r.close(),await FW(),e(await fE()))})})}async function QP(t,e,n){const r=My(t,!0).put({[F6]:e,value:n});return new Wh(r).toPromise()}async function $W(t,e){const n=My(t,!1).get(e),r=await new Wh(n).toPromise();return r===void 0?null:r.value}function XP(t,e){const n=My(t,!0).delete(e);return new Wh(n).toPromise()}const BW=800,UW=3;class $6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dy._getInstance(LW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DW(),!this.activeServiceWorker)return;this.sender=new RW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fE();return await QP(e,L0,"1"),await XP(e,L0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>QP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$W(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>XP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=My(i,!1).getAll();return new Wh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$6.type="LOCAL";const VW=$6;new Hh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t,e){return e?ia(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx extends Dx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HW(t){return C6(t.auth,new Fx(t),t.bypassAuthState)}function qW(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),yW(n,new Fx(t),t.bypassAuthState)}async function zW(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),gW(n,new Fx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HW;case"linkViaPopup":case"linkViaRedirect":return zW;case"reauthViaPopup":case"reauthViaRedirect":return qW;default:Wr(this.auth,"internal-error")}}resolve(e){Ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=new Hh(2e3,1e4);async function GW(t,e,n){if(oi(t.app))return Promise.reject(fi(t,"operation-not-supported-in-this-environment"));const r=Oa(t);wz(t,e,Lx);const i=B6(r,n);return new bo(r,"signInViaPopup",e,i).executeNotNull()}class bo extends U6{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,bo.currentPopupAction&&bo.currentPopupAction.cancel(),bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Ea(this.filter.length===1,"Popup operations only handle one event");const e=jx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WW.get())};e()}}bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW="pendingRedirect",Um=new Map;class YW extends U6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Um.get(this.auth._key());if(!e){try{const r=await QW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Um.set(this.auth._key(),e)}return this.bypassAuthState||Um.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QW(t,e){const n=ZW(e),r=JW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function XW(t,e){Um.set(t._key(),e)}function JW(t){return ia(t._redirectPersistence)}function ZW(t){return Bm(KW,t.config.apiKey,t.name)}async function eG(t,e,n=!1){if(oi(t.app))return Promise.reject(ca(t));const r=Oa(t),i=B6(r,e),s=await new YW(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG=10*60*1e3;class nG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!V6(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tG&&this.cachedEventUids.clear(),this.cachedEventUids.has(JP(e))}saveEventToCache(e){this.cachedEventUids.add(JP(e)),this.lastProcessedEventTime=Date.now()}}function JP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function V6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iG(t,e={}){return Bi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sG=/^https?/;async function oG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iG(t);for(const n of e)try{if(uG(n))return}catch{}Wr(t,"unauthorized-domain")}function uG(t){const e=lE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!sG.test(n))return!1;if(aG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=new Hh(3e4,6e4);function ZP(){const t=Ri().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cG(t){return new Promise((e,n)=>{var r,i,a;function s(){ZP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZP(),n(fi(t,"network-request-failed"))},timeout:lG.get()})}if(!((i=(r=Ri().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ri().gapi)===null||a===void 0)&&a.load)s();else{const o=Xz("iframefcb");return Ri()[o]=()=>{gapi.load?s():n(fi(t,"network-request-failed"))},A6(`${Qz()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Vm=null,e})}let Vm=null;function fG(t){return Vm=Vm||cG(t),Vm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=new Hh(5e3,15e3),hG="__/auth/iframe",pG="emulator/auth/iframe",mG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yG(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Nx(e,pG):`https://${t.config.authDomain}/${hG}`,r={apiKey:e.apiKey,appName:t.name,v:lc},i=gG.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Vh(r).slice(1)}`}async function vG(t){const e=await fG(t),n=Ri().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:yG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mG,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=fi(t,"network-request-failed"),o=Ri().setTimeout(()=>{a(s)},dG.get());function u(){Ri().clearTimeout(o),i(r)}r.ping(u).then(u,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_G=500,EG=600,TG="_blank",wG="http://localhost";class eC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xG(t,e,n,r=_G,i=EG){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const u=Object.assign(Object.assign({},bG),{width:r.toString(),height:i.toString(),top:a,left:s}),l=Xt().toLowerCase();n&&(o=v6(l)?TG:n),g6(l)&&(e=e||wG,u.scrollbars="yes");const c=Object.entries(u).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(Uz(l)&&o!=="_self")return AG(e||"",o),new eC(null);const f=window.open(e||"",o,c);xe(f,t,"popup-blocked");try{f.focus()}catch{}return new eC(f)}function AG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG="__/auth/handler",IG="emulator/auth/handler",PG=encodeURIComponent("fac");async function tC(t,e,n,r,i,a){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lc,eventId:i};if(e instanceof Lx){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",oq(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof zh){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const u=await t._getAppCheckToken(),l=u?`#${PG}=${encodeURIComponent(u)}`:"";return`${CG(t)}?${Vh(o).slice(1)}${l}`}function CG({config:t}){return t.emulator?Nx(t,IG):`https://${t.authDomain}/${SG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="webStorageSupport";class OG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M6,this._completeRedirectFn=eG,this._overrideRedirectResult=XW}async _openPopup(e,n,r,i){var a;Ea((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await tC(e,n,r,lE(),i);return xG(e,s,jx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await tC(e,n,r,lE(),i);return kW(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ea(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vG(e),r=new nG(e);return n.register("authEvent",i=>(xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(l1,{type:l1},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[l1];s!==void 0&&n(!!s),Wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return w6()||y6()||kx()}}const NG=OG;var nC="@firebase/auth",rC="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DG(t){ji(new hi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;xe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x6(t)},l=new Gz(r,i,a,u);return nW(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ji(new hi("auth-internal",e=>{const n=Oa(e.getProvider("auth").getImmediate());return(r=>new RG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(nC,rC,kG(t)),$r(nC,rC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG=5*60,LG=ZL("authIdTokenMaxAge")||MG;let iC=null;const jG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LG)return;const i=n==null?void 0:n.token;iC!==i&&(iC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function aC(t=Ix()){const e=Ls(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tW(t,{popupRedirectResolver:NG,persistence:[VW,k6,M6]}),r=ZL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=jG(a.toString());IW(n,s,()=>s(n.currentUser)),SW(n,o=>s(o))}}const i=XL("auth");return i&&rW(n,`http://${i}`),n}function FG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Kz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=fi("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",FG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DG("Browser");var sC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Co,H6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,I){function O(){}O.prototype=I.prototype,x.D=I.prototype,x.prototype=new O,x.prototype.constructor=x,x.C=function(R,N,D){for(var k=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)k[Y-2]=arguments[Y];return I.prototype[N].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,I,O){O||(O=0);var R=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)R[N]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(N=0;16>N;++N)R[N]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=x.g[0],O=x.g[1],N=x.g[2];var D=x.g[3],k=I+(D^O&(N^D))+R[0]+3614090360&4294967295;I=O+(k<<7&4294967295|k>>>25),k=D+(N^I&(O^N))+R[1]+3905402710&4294967295,D=I+(k<<12&4294967295|k>>>20),k=N+(O^D&(I^O))+R[2]+606105819&4294967295,N=D+(k<<17&4294967295|k>>>15),k=O+(I^N&(D^I))+R[3]+3250441966&4294967295,O=N+(k<<22&4294967295|k>>>10),k=I+(D^O&(N^D))+R[4]+4118548399&4294967295,I=O+(k<<7&4294967295|k>>>25),k=D+(N^I&(O^N))+R[5]+1200080426&4294967295,D=I+(k<<12&4294967295|k>>>20),k=N+(O^D&(I^O))+R[6]+2821735955&4294967295,N=D+(k<<17&4294967295|k>>>15),k=O+(I^N&(D^I))+R[7]+4249261313&4294967295,O=N+(k<<22&4294967295|k>>>10),k=I+(D^O&(N^D))+R[8]+1770035416&4294967295,I=O+(k<<7&4294967295|k>>>25),k=D+(N^I&(O^N))+R[9]+2336552879&4294967295,D=I+(k<<12&4294967295|k>>>20),k=N+(O^D&(I^O))+R[10]+4294925233&4294967295,N=D+(k<<17&4294967295|k>>>15),k=O+(I^N&(D^I))+R[11]+2304563134&4294967295,O=N+(k<<22&4294967295|k>>>10),k=I+(D^O&(N^D))+R[12]+1804603682&4294967295,I=O+(k<<7&4294967295|k>>>25),k=D+(N^I&(O^N))+R[13]+4254626195&4294967295,D=I+(k<<12&4294967295|k>>>20),k=N+(O^D&(I^O))+R[14]+2792965006&4294967295,N=D+(k<<17&4294967295|k>>>15),k=O+(I^N&(D^I))+R[15]+1236535329&4294967295,O=N+(k<<22&4294967295|k>>>10),k=I+(N^D&(O^N))+R[1]+4129170786&4294967295,I=O+(k<<5&4294967295|k>>>27),k=D+(O^N&(I^O))+R[6]+3225465664&4294967295,D=I+(k<<9&4294967295|k>>>23),k=N+(I^O&(D^I))+R[11]+643717713&4294967295,N=D+(k<<14&4294967295|k>>>18),k=O+(D^I&(N^D))+R[0]+3921069994&4294967295,O=N+(k<<20&4294967295|k>>>12),k=I+(N^D&(O^N))+R[5]+3593408605&4294967295,I=O+(k<<5&4294967295|k>>>27),k=D+(O^N&(I^O))+R[10]+38016083&4294967295,D=I+(k<<9&4294967295|k>>>23),k=N+(I^O&(D^I))+R[15]+3634488961&4294967295,N=D+(k<<14&4294967295|k>>>18),k=O+(D^I&(N^D))+R[4]+3889429448&4294967295,O=N+(k<<20&4294967295|k>>>12),k=I+(N^D&(O^N))+R[9]+568446438&4294967295,I=O+(k<<5&4294967295|k>>>27),k=D+(O^N&(I^O))+R[14]+3275163606&4294967295,D=I+(k<<9&4294967295|k>>>23),k=N+(I^O&(D^I))+R[3]+4107603335&4294967295,N=D+(k<<14&4294967295|k>>>18),k=O+(D^I&(N^D))+R[8]+1163531501&4294967295,O=N+(k<<20&4294967295|k>>>12),k=I+(N^D&(O^N))+R[13]+2850285829&4294967295,I=O+(k<<5&4294967295|k>>>27),k=D+(O^N&(I^O))+R[2]+4243563512&4294967295,D=I+(k<<9&4294967295|k>>>23),k=N+(I^O&(D^I))+R[7]+1735328473&4294967295,N=D+(k<<14&4294967295|k>>>18),k=O+(D^I&(N^D))+R[12]+2368359562&4294967295,O=N+(k<<20&4294967295|k>>>12),k=I+(O^N^D)+R[5]+4294588738&4294967295,I=O+(k<<4&4294967295|k>>>28),k=D+(I^O^N)+R[8]+2272392833&4294967295,D=I+(k<<11&4294967295|k>>>21),k=N+(D^I^O)+R[11]+1839030562&4294967295,N=D+(k<<16&4294967295|k>>>16),k=O+(N^D^I)+R[14]+4259657740&4294967295,O=N+(k<<23&4294967295|k>>>9),k=I+(O^N^D)+R[1]+2763975236&4294967295,I=O+(k<<4&4294967295|k>>>28),k=D+(I^O^N)+R[4]+1272893353&4294967295,D=I+(k<<11&4294967295|k>>>21),k=N+(D^I^O)+R[7]+4139469664&4294967295,N=D+(k<<16&4294967295|k>>>16),k=O+(N^D^I)+R[10]+3200236656&4294967295,O=N+(k<<23&4294967295|k>>>9),k=I+(O^N^D)+R[13]+681279174&4294967295,I=O+(k<<4&4294967295|k>>>28),k=D+(I^O^N)+R[0]+3936430074&4294967295,D=I+(k<<11&4294967295|k>>>21),k=N+(D^I^O)+R[3]+3572445317&4294967295,N=D+(k<<16&4294967295|k>>>16),k=O+(N^D^I)+R[6]+76029189&4294967295,O=N+(k<<23&4294967295|k>>>9),k=I+(O^N^D)+R[9]+3654602809&4294967295,I=O+(k<<4&4294967295|k>>>28),k=D+(I^O^N)+R[12]+3873151461&4294967295,D=I+(k<<11&4294967295|k>>>21),k=N+(D^I^O)+R[15]+530742520&4294967295,N=D+(k<<16&4294967295|k>>>16),k=O+(N^D^I)+R[2]+3299628645&4294967295,O=N+(k<<23&4294967295|k>>>9),k=I+(N^(O|~D))+R[0]+4096336452&4294967295,I=O+(k<<6&4294967295|k>>>26),k=D+(O^(I|~N))+R[7]+1126891415&4294967295,D=I+(k<<10&4294967295|k>>>22),k=N+(I^(D|~O))+R[14]+2878612391&4294967295,N=D+(k<<15&4294967295|k>>>17),k=O+(D^(N|~I))+R[5]+4237533241&4294967295,O=N+(k<<21&4294967295|k>>>11),k=I+(N^(O|~D))+R[12]+1700485571&4294967295,I=O+(k<<6&4294967295|k>>>26),k=D+(O^(I|~N))+R[3]+2399980690&4294967295,D=I+(k<<10&4294967295|k>>>22),k=N+(I^(D|~O))+R[10]+4293915773&4294967295,N=D+(k<<15&4294967295|k>>>17),k=O+(D^(N|~I))+R[1]+2240044497&4294967295,O=N+(k<<21&4294967295|k>>>11),k=I+(N^(O|~D))+R[8]+1873313359&4294967295,I=O+(k<<6&4294967295|k>>>26),k=D+(O^(I|~N))+R[15]+4264355552&4294967295,D=I+(k<<10&4294967295|k>>>22),k=N+(I^(D|~O))+R[6]+2734768916&4294967295,N=D+(k<<15&4294967295|k>>>17),k=O+(D^(N|~I))+R[13]+1309151649&4294967295,O=N+(k<<21&4294967295|k>>>11),k=I+(N^(O|~D))+R[4]+4149444226&4294967295,I=O+(k<<6&4294967295|k>>>26),k=D+(O^(I|~N))+R[11]+3174756917&4294967295,D=I+(k<<10&4294967295|k>>>22),k=N+(I^(D|~O))+R[2]+718787259&4294967295,N=D+(k<<15&4294967295|k>>>17),k=O+(D^(N|~I))+R[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+D&4294967295}r.prototype.u=function(x,I){I===void 0&&(I=x.length);for(var O=I-this.blockSize,R=this.B,N=this.h,D=0;D<I;){if(N==0)for(;D<=O;)i(this,x,D),D+=this.blockSize;if(typeof x=="string"){for(;D<I;)if(R[N++]=x.charCodeAt(D++),N==this.blockSize){i(this,R),N=0;break}}else for(;D<I;)if(R[N++]=x[D++],N==this.blockSize){i(this,R),N=0;break}}this.h=N,this.o+=I},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;var O=8*this.o;for(I=x.length-8;I<x.length;++I)x[I]=O&255,O/=256;for(this.u(x),x=Array(16),I=O=0;4>I;++I)for(var R=0;32>R;R+=8)x[O++]=this.g[I]>>>R&255;return x};function a(x,I){var O=o;return Object.prototype.hasOwnProperty.call(O,x)?O[x]:O[x]=I(x)}function s(x,I){this.h=I;for(var O=[],R=!0,N=x.length-1;0<=N;N--){var D=x[N]|0;R&&D==I||(O[N]=D,R=!1)}this.g=O}var o={};function u(x){return-128<=x&&128>x?a(x,function(I){return new s([I|0],0>I?-1:0)}):new s([x|0],0>x?-1:0)}function l(x){if(isNaN(x)||!isFinite(x))return f;if(0>x)return b(l(-x));for(var I=[],O=1,R=0;x>=O;R++)I[R]=x/O|0,O*=4294967296;return new s(I,0)}function c(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return b(c(x.substring(1),I));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=l(Math.pow(I,8)),R=f,N=0;N<x.length;N+=8){var D=Math.min(8,x.length-N),k=parseInt(x.substring(N,N+D),I);8>D?(D=l(Math.pow(I,D)),R=R.j(D).add(l(k))):(R=R.j(O),R=R.add(l(k)))}return R}var f=u(0),h=u(1),p=u(16777216);t=s.prototype,t.m=function(){if(v(this))return-b(this).m();for(var x=0,I=1,O=0;O<this.g.length;O++){var R=this.i(O);x+=(0<=R?R:4294967296+R)*I,I*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(g(this))return"0";if(v(this))return"-"+b(this).toString(x);for(var I=l(Math.pow(x,6)),O=this,R="";;){var N=C(O,I).g;O=w(O,N.j(I));var D=((0<O.g.length?O.g[0]:O.h)>>>0).toString(x);if(O=N,g(O))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function g(x){if(x.h!=0)return!1;for(var I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function v(x){return x.h==-1}t.l=function(x){return x=w(this,x),v(x)?-1:g(x)?0:1};function b(x){for(var I=x.g.length,O=[],R=0;R<I;R++)O[R]=~x.g[R];return new s(O,~x.h).add(h)}t.abs=function(){return v(this)?b(this):this},t.add=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],R=0,N=0;N<=I;N++){var D=R+(this.i(N)&65535)+(x.i(N)&65535),k=(D>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);R=k>>>16,D&=65535,k&=65535,O[N]=k<<16|D}return new s(O,O[O.length-1]&-2147483648?-1:0)};function w(x,I){return x.add(b(I))}t.j=function(x){if(g(this)||g(x))return f;if(v(this))return v(x)?b(this).j(b(x)):b(b(this).j(x));if(v(x))return b(this.j(b(x)));if(0>this.l(p)&&0>x.l(p))return l(this.m()*x.m());for(var I=this.g.length+x.g.length,O=[],R=0;R<2*I;R++)O[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<x.g.length;N++){var D=this.i(R)>>>16,k=this.i(R)&65535,Y=x.i(N)>>>16,K=x.i(N)&65535;O[2*R+2*N]+=k*K,T(O,2*R+2*N),O[2*R+2*N+1]+=D*K,T(O,2*R+2*N+1),O[2*R+2*N+1]+=k*Y,T(O,2*R+2*N+1),O[2*R+2*N+2]+=D*Y,T(O,2*R+2*N+2)}for(R=0;R<I;R++)O[R]=O[2*R+1]<<16|O[2*R];for(R=I;R<2*I;R++)O[R]=0;return new s(O,0)};function T(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function _(x,I){this.g=x,this.h=I}function C(x,I){if(g(I))throw Error("division by zero");if(g(x))return new _(f,f);if(v(x))return I=C(b(x),I),new _(b(I.g),b(I.h));if(v(I))return I=C(x,b(I)),new _(b(I.g),I.h);if(30<x.g.length){if(v(x)||v(I))throw Error("slowDivide_ only works with positive integers.");for(var O=h,R=I;0>=R.l(x);)O=A(O),R=A(R);var N=S(O,1),D=S(R,1);for(R=S(R,2),O=S(O,2);!g(R);){var k=D.add(R);0>=k.l(x)&&(N=N.add(O),D=k),R=S(R,1),O=S(O,1)}return I=w(x,N.j(I)),new _(N,I)}for(N=f;0<=x.l(I);){for(O=Math.max(1,Math.floor(x.m()/I.m())),R=Math.ceil(Math.log(O)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=l(O),k=D.j(I);v(k)||0<k.l(x);)O-=R,D=l(O),k=D.j(I);g(D)&&(D=h),N=N.add(D),x=w(x,k)}return new _(N,x)}t.A=function(x){return C(this,x).h},t.and=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],R=0;R<I;R++)O[R]=this.i(R)&x.i(R);return new s(O,this.h&x.h)},t.or=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],R=0;R<I;R++)O[R]=this.i(R)|x.i(R);return new s(O,this.h|x.h)},t.xor=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],R=0;R<I;R++)O[R]=this.i(R)^x.i(R);return new s(O,this.h^x.h)};function A(x){for(var I=x.g.length+1,O=[],R=0;R<I;R++)O[R]=x.i(R)<<1|x.i(R-1)>>>31;return new s(O,x.h)}function S(x,I){var O=I>>5;I%=32;for(var R=x.g.length-O,N=[],D=0;D<R;D++)N[D]=0<I?x.i(D+O)>>>I|x.i(D+O+1)<<32-I:x.i(D+O);return new s(N,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,H6=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=c,Co=s}).apply(typeof sC<"u"?sC:typeof self<"u"?self:typeof window<"u"?window:{});var tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q6,Rf,z6,Hm,dE,W6,G6,K6;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,E,P){return d==Array.prototype||d==Object.prototype||(d[E]=P.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof tm=="object"&&tm];for(var E=0;E<d.length;++E){var P=d[E];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(d,E){if(E)e:{var P=r;d=d.split(".");for(var M=0;M<d.length-1;M++){var V=d[M];if(!(V in P))break e;P=P[V]}d=d[d.length-1],M=P[d],E=E(M),E!=M&&E!=null&&e(P,d,{configurable:!0,writable:!0,value:E})}}function a(d,E){d instanceof String&&(d+="");var P=0,M=!1,V={next:function(){if(!M&&P<d.length){var z=P++;return{value:E(z,d[z]),done:!1}}return M=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(d){return d||function(){return a(this,function(E,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function u(d){var E=typeof d;return E=E!="object"?E:d?Array.isArray(d)?"array":E:"null",E=="array"||E=="object"&&typeof d.length=="number"}function l(d){var E=typeof d;return E=="object"&&d!=null||E=="function"}function c(d,E,P){return d.call.apply(d.bind,arguments)}function f(d,E,P){if(!d)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,M),d.apply(E,V)}}return function(){return d.apply(E,arguments)}}function h(d,E,P){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function p(d,E){var P=Array.prototype.slice.call(arguments,1);return function(){var M=P.slice();return M.push.apply(M,arguments),d.apply(this,M)}}function g(d,E){function P(){}P.prototype=E.prototype,d.aa=E.prototype,d.prototype=new P,d.prototype.constructor=d,d.Qb=function(M,V,z){for(var le=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)le[ot-2]=arguments[ot];return E.prototype[V].apply(M,le)}}function v(d){const E=d.length;if(0<E){const P=Array(E);for(let M=0;M<E;M++)P[M]=d[M];return P}return[]}function b(d,E){for(let P=1;P<arguments.length;P++){const M=arguments[P];if(u(M)){const V=d.length||0,z=M.length||0;d.length=V+z;for(let le=0;le<z;le++)d[V+le]=M[le]}else d.push(M)}}class w{constructor(E,P){this.i=E,this.j=P,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function T(d){return/^[\s\xa0]*$/.test(d)}function _(){var d=o.navigator;return d&&(d=d.userAgent)?d:""}function C(d){return C[" "](d),d}C[" "]=function(){};var A=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function S(d,E,P){for(const M in d)E.call(P,d[M],M,d)}function x(d,E){for(const P in d)E.call(void 0,d[P],P,d)}function I(d){const E={};for(const P in d)E[P]=d[P];return E}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(d,E){let P,M;for(let V=1;V<arguments.length;V++){M=arguments[V];for(P in M)d[P]=M[P];for(let z=0;z<O.length;z++)P=O[z],Object.prototype.hasOwnProperty.call(M,P)&&(d[P]=M[P])}}function N(d){var E=1;d=d.split(":");const P=[];for(;0<E&&d.length;)P.push(d.shift()),E--;return d.length&&P.push(d.join(":")),P}function D(d){o.setTimeout(()=>{throw d},0)}function k(){var d=X;let E=null;return d.g&&(E=d.g,d.g=d.g.next,d.g||(d.h=null),E.next=null),E}class Y{constructor(){this.h=this.g=null}add(E,P){const M=K.get();M.set(E,P),this.h?this.h.next=M:this.g=M,this.h=M}}var K=new w(()=>new Z,d=>d.reset());class Z{constructor(){this.next=this.g=this.h=null}set(E,P){this.h=E,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let te,q=!1,X=new Y,ie=()=>{const d=o.Promise.resolve(void 0);te=()=>{d.then(he)}};var he=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(P){D(P)}var E=K;E.j(d),100>E.h&&(E.h++,d.next=E.g,E.g=d)}q=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(d,E){this.type=d,this.g=this.target=E,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ue=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var d=!1,E=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const P=()=>{};o.addEventListener("test",P,E),o.removeEventListener("test",P,E)}catch{}return d}();function Qe(d,E){if(me.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var P=this.type=d.type,M=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=E,E=d.relatedTarget){if(A){e:{try{C(E.nodeName);var V=!0;break e}catch{}V=!1}V||(E=null)}}else P=="mouseover"?E=d.fromElement:P=="mouseout"&&(E=d.toElement);this.relatedTarget=E,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:wt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Qe.aa.h.call(this)}}g(Qe,me);var wt={2:"touch",3:"pen",4:"mouse"};Qe.prototype.h=function(){Qe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ln="closure_listenable_"+(1e6*Math.random()|0),bn=0;function pe(d,E,P,M,V){this.listener=d,this.proxy=null,this.src=E,this.type=P,this.capture=!!M,this.ha=V,this.key=++bn,this.da=this.fa=!1}function Se(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ce(d){this.src=d,this.g={},this.h=0}Ce.prototype.add=function(d,E,P,M,V){var z=d.toString();d=this.g[z],d||(d=this.g[z]=[],this.h++);var le=lt(d,E,M,V);return-1<le?(E=d[le],P||(E.fa=!1)):(E=new pe(E,this.src,z,!!M,V),E.fa=P,d.push(E)),E};function ne(d,E){var P=E.type;if(P in d.g){var M=d.g[P],V=Array.prototype.indexOf.call(M,E,void 0),z;(z=0<=V)&&Array.prototype.splice.call(M,V,1),z&&(Se(E),d.g[P].length==0&&(delete d.g[P],d.h--))}}function lt(d,E,P,M){for(var V=0;V<d.length;++V){var z=d[V];if(!z.da&&z.listener==E&&z.capture==!!P&&z.ha==M)return V}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),xt={};function Rt(d,E,P,M,V){if(Array.isArray(E)){for(var z=0;z<E.length;z++)Rt(d,E[z],P,M,V);return null}return P=Dc(P),d&&d[ln]?d.K(E,P,l(M)?!!M.capture:!!M,V):_n(d,E,P,!1,M,V)}function _n(d,E,P,M,V,z){if(!E)throw Error("Invalid event type");var le=l(V)?!!V.capture:!!V,ot=Ks(d);if(ot||(d[Me]=ot=new Ce(d)),P=ot.add(E,P,M,le,z),P.proxy)return P;if(M=bi(),P.proxy=M,M.src=d,M.listener=P,d.addEventListener)Ue||(V=le),V===void 0&&(V=!1),d.addEventListener(E.toString(),M,V);else if(d.attachEvent)d.attachEvent(_i(E.toString()),M);else if(d.addListener&&d.removeListener)d.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return P}function bi(){function d(P){return E.call(d.src,d.listener,P)}const E=Hi;return d}function Vi(d,E,P,M,V){if(Array.isArray(E))for(var z=0;z<E.length;z++)Vi(d,E[z],P,M,V);else M=l(M)?!!M.capture:!!M,P=Dc(P),d&&d[ln]?(d=d.i,E=String(E).toString(),E in d.g&&(z=d.g[E],P=lt(z,P,M,V),-1<P&&(Se(z[P]),Array.prototype.splice.call(z,P,1),z.length==0&&(delete d.g[E],d.h--)))):d&&(d=Ks(d))&&(E=d.g[E.toString()],d=-1,E&&(d=lt(E,P,M,V)),(P=-1<d?E[d]:null)&&Ma(P))}function Ma(d){if(typeof d!="number"&&d&&!d.da){var E=d.src;if(E&&E[ln])ne(E.i,d);else{var P=d.type,M=d.proxy;E.removeEventListener?E.removeEventListener(P,M,d.capture):E.detachEvent?E.detachEvent(_i(P),M):E.addListener&&E.removeListener&&E.removeListener(M),(P=Ks(E))?(ne(P,d),P.h==0&&(P.src=null,E[Me]=null)):Se(d)}}}function _i(d){return d in xt?xt[d]:xt[d]="on"+d}function Hi(d,E){if(d.da)d=!0;else{E=new Qe(E,this);var P=d.listener,M=d.ha||d.src;d.fa&&Ma(d),d=P.call(M,E)}return d}function Ks(d){return d=d[Me],d instanceof Ce?d:null}var _u="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dc(d){return typeof d=="function"?d:(d[_u]||(d[_u]=function(E){return d.handleEvent(E)}),d[_u])}function En(){ae.call(this),this.i=new Ce(this),this.M=this,this.F=null}g(En,ae),En.prototype[ln]=!0,En.prototype.removeEventListener=function(d,E,P,M){Vi(this,d,E,P,M)};function Mn(d,E){var P,M=d.F;if(M)for(P=[];M;M=M.F)P.push(M);if(d=d.M,M=E.type||E,typeof E=="string")E=new me(E,d);else if(E instanceof me)E.target=E.target||d;else{var V=E;E=new me(M,d),R(E,V)}if(V=!0,P)for(var z=P.length-1;0<=z;z--){var le=E.g=P[z];V=_p(le,M,!0,E)&&V}if(le=E.g=d,V=_p(le,M,!0,E)&&V,V=_p(le,M,!1,E)&&V,P)for(z=0;z<P.length;z++)le=E.g=P[z],V=_p(le,M,!1,E)&&V}En.prototype.N=function(){if(En.aa.N.call(this),this.i){var d=this.i,E;for(E in d.g){for(var P=d.g[E],M=0;M<P.length;M++)Se(P[M]);delete d.g[E],d.h--}}this.F=null},En.prototype.K=function(d,E,P,M){return this.i.add(String(d),E,!1,P,M)},En.prototype.L=function(d,E,P,M){return this.i.add(String(d),E,!0,P,M)};function _p(d,E,P,M){if(E=d.i.g[String(E)],!E)return!0;E=E.concat();for(var V=!0,z=0;z<E.length;++z){var le=E[z];if(le&&!le.da&&le.capture==P){var ot=le.listener,cn=le.ha||le.src;le.fa&&ne(d.i,le),V=ot.call(cn,M)!==!1&&V}}return V&&!M.defaultPrevented}function pI(d,E,P){if(typeof d=="function")P&&(d=h(d,P));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:o.setTimeout(d,E||0)}function mI(d){d.g=pI(()=>{d.g=null,d.i&&(d.i=!1,mI(d))},d.l);const E=d.h;d.h=null,d.m.apply(null,E)}class QU extends ae{constructor(E,P){super(),this.m=E,this.l=P,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:mI(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mc(d){ae.call(this),this.h=d,this.g={}}g(Mc,ae);var gI=[];function yI(d){S(d.g,function(E,P){this.g.hasOwnProperty(P)&&Ma(E)},d),d.g={}}Mc.prototype.N=function(){Mc.aa.N.call(this),yI(this)},Mc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pb=o.JSON.stringify,XU=o.JSON.parse,JU=class{stringify(d){return o.JSON.stringify(d,void 0)}parse(d){return o.JSON.parse(d,void 0)}};function mb(){}mb.prototype.h=null;function vI(d){return d.h||(d.h=d.i())}function bI(){}var Lc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gb(){me.call(this,"d")}g(gb,me);function yb(){me.call(this,"c")}g(yb,me);var Ys={},_I=null;function Ep(){return _I=_I||new En}Ys.La="serverreachability";function EI(d){me.call(this,Ys.La,d)}g(EI,me);function jc(d){const E=Ep();Mn(E,new EI(E))}Ys.STAT_EVENT="statevent";function TI(d,E){me.call(this,Ys.STAT_EVENT,d),this.stat=E}g(TI,me);function Ln(d){const E=Ep();Mn(E,new TI(E,d))}Ys.Ma="timingevent";function wI(d,E){me.call(this,Ys.Ma,d),this.size=E}g(wI,me);function Fc(d,E){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){d()},E)}function $c(){this.g=!0}$c.prototype.xa=function(){this.g=!1};function ZU(d,E,P,M,V,z){d.info(function(){if(d.g)if(z)for(var le="",ot=z.split("&"),cn=0;cn<ot.length;cn++){var We=ot[cn].split("=");if(1<We.length){var Tn=We[0];We=We[1];var wn=Tn.split("_");le=2<=wn.length&&wn[1]=="type"?le+(Tn+"="+We+"&"):le+(Tn+"=redacted&")}}else le=null;else le=z;return"XMLHTTP REQ ("+M+") [attempt "+V+"]: "+E+`
`+P+`
`+le})}function e9(d,E,P,M,V,z,le){d.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+V+"]: "+E+`
`+P+`
`+z+" "+le})}function Eu(d,E,P,M){d.info(function(){return"XMLHTTP TEXT ("+E+"): "+n9(d,P)+(M?" "+M:"")})}function t9(d,E){d.info(function(){return"TIMEOUT: "+E})}$c.prototype.info=function(){};function n9(d,E){if(!d.g)return E;if(!E)return null;try{var P=JSON.parse(E);if(P){for(d=0;d<P.length;d++)if(Array.isArray(P[d])){var M=P[d];if(!(2>M.length)){var V=M[1];if(Array.isArray(V)&&!(1>V.length)){var z=V[0];if(z!="noop"&&z!="stop"&&z!="close")for(var le=1;le<V.length;le++)V[le]=""}}}}return pb(P)}catch{return E}}var Tp={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vb;function wp(){}g(wp,mb),wp.prototype.g=function(){return new XMLHttpRequest},wp.prototype.i=function(){return{}},vb=new wp;function La(d,E,P,M){this.j=d,this.i=E,this.l=P,this.R=M||1,this.U=new Mc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new AI}function AI(){this.i=null,this.g="",this.h=!1}var SI={},bb={};function _b(d,E,P){d.L=1,d.v=Ip(qi(E)),d.m=P,d.P=!0,II(d,null)}function II(d,E){d.F=Date.now(),xp(d),d.A=qi(d.v);var P=d.A,M=d.R;Array.isArray(M)||(M=[String(M)]),UI(P.i,"t",M),d.C=0,P=d.j.J,d.h=new AI,d.g=a2(d.j,P?E:null,!d.m),0<d.O&&(d.M=new QU(h(d.Y,d,d.g),d.O)),E=d.U,P=d.g,M=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(gI[0]=V.toString()),V=gI);for(var z=0;z<V.length;z++){var le=Rt(P,V[z],M||E.handleEvent,!1,E.h||E);if(!le)break;E.g[le.key]=le}E=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,E)):(d.u="GET",d.g.ea(d.A,d.u,null,E)),jc(),ZU(d.i,d.u,d.A,d.l,d.R,d.m)}La.prototype.ca=function(d){d=d.target;const E=this.M;E&&zi(d)==3?E.j():this.Y(d)},La.prototype.Y=function(d){try{if(d==this.g)e:{const wn=zi(this.g);var E=this.g.Ba();const xu=this.g.Z();if(!(3>wn)&&(wn!=3||this.g&&(this.h.h||this.g.oa()||KI(this.g)))){this.J||wn!=4||E==7||(E==8||0>=xu?jc(3):jc(2)),Eb(this);var P=this.g.Z();this.X=P;t:if(PI(this)){var M=KI(this.g);d="";var V=M.length,z=zi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qs(this),Bc(this);var le="";break t}this.h.i=new o.TextDecoder}for(E=0;E<V;E++)this.h.h=!0,d+=this.h.i.decode(M[E],{stream:!(z&&E==V-1)});M.length=0,this.h.g+=d,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=P==200,e9(this.i,this.u,this.A,this.l,this.R,wn,P),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,cn=this.g;if((ot=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(ot)){var We=ot;break t}}We=null}if(P=We)Eu(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tb(this,P);else{this.o=!1,this.s=3,Ln(12),Qs(this),Bc(this);break e}}if(this.P){P=!0;let Qr;for(;!this.J&&this.C<le.length;)if(Qr=r9(this,le),Qr==bb){wn==4&&(this.s=4,Ln(14),P=!1),Eu(this.i,this.l,null,"[Incomplete Response]");break}else if(Qr==SI){this.s=4,Ln(15),Eu(this.i,this.l,le,"[Invalid Chunk]"),P=!1;break}else Eu(this.i,this.l,Qr,null),Tb(this,Qr);if(PI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wn!=4||le.length!=0||this.h.h||(this.s=1,Ln(16),P=!1),this.o=this.o&&P,!P)Eu(this.i,this.l,le,"[Invalid Chunked Response]"),Qs(this),Bc(this);else if(0<le.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Pb(Tn),Tn.M=!0,Ln(11))}}else Eu(this.i,this.l,le,null),Tb(this,le);wn==4&&Qs(this),this.o&&!this.J&&(wn==4?t2(this.j,this):(this.o=!1,xp(this)))}else _9(this.g),P==400&&0<le.indexOf("Unknown SID")?(this.s=3,Ln(12)):(this.s=0,Ln(13)),Qs(this),Bc(this)}}}catch{}finally{}};function PI(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function r9(d,E){var P=d.C,M=E.indexOf(`
`,P);return M==-1?bb:(P=Number(E.substring(P,M)),isNaN(P)?SI:(M+=1,M+P>E.length?bb:(E=E.slice(M,M+P),d.C=M+P,E)))}La.prototype.cancel=function(){this.J=!0,Qs(this)};function xp(d){d.S=Date.now()+d.I,CI(d,d.I)}function CI(d,E){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Fc(h(d.ba,d),E)}function Eb(d){d.B&&(o.clearTimeout(d.B),d.B=null)}La.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(t9(this.i,this.A),this.L!=2&&(jc(),Ln(17)),Qs(this),this.s=2,Bc(this)):CI(this,this.S-d)};function Bc(d){d.j.G==0||d.J||t2(d.j,d)}function Qs(d){Eb(d);var E=d.M;E&&typeof E.ma=="function"&&E.ma(),d.M=null,yI(d.U),d.g&&(E=d.g,d.g=null,E.abort(),E.ma())}function Tb(d,E){try{var P=d.j;if(P.G!=0&&(P.g==d||wb(P.h,d))){if(!d.K&&wb(P.h,d)&&P.G==3){try{var M=P.Da.g.parse(E)}catch{M=null}if(Array.isArray(M)&&M.length==3){var V=M;if(V[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<d.F)kp(P),Np(P);else break e;Ib(P),Ln(18)}}else P.za=V[1],0<P.za-P.T&&37500>V[2]&&P.F&&P.v==0&&!P.C&&(P.C=Fc(h(P.Za,P),6e3));if(1>=RI(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Js(P,11)}else if((d.K||P.g==d)&&kp(P),!T(E))for(V=P.Da.g.parse(E),E=0;E<V.length;E++){let We=V[E];if(P.T=We[0],We=We[1],P.G==2)if(We[0]=="c"){P.K=We[1],P.ia=We[2];const Tn=We[3];Tn!=null&&(P.la=Tn,P.j.info("VER="+P.la));const wn=We[4];wn!=null&&(P.Aa=wn,P.j.info("SVER="+P.Aa));const xu=We[5];xu!=null&&typeof xu=="number"&&0<xu&&(M=1.5*xu,P.L=M,P.j.info("backChannelRequestTimeoutMs_="+M)),M=P;const Qr=d.g;if(Qr){const Mp=Qr.g?Qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mp){var z=M.h;z.g||Mp.indexOf("spdy")==-1&&Mp.indexOf("quic")==-1&&Mp.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(xb(z,z.h),z.h=null))}if(M.D){const Cb=Qr.g?Qr.g.getResponseHeader("X-HTTP-Session-Id"):null;Cb&&(M.ya=Cb,ht(M.I,M.D,Cb))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-d.F,P.j.info("Handshake RTT: "+P.R+"ms")),M=P;var le=d;if(M.qa=i2(M,M.J?M.ia:null,M.W),le.K){kI(M.h,le);var ot=le,cn=M.L;cn&&(ot.I=cn),ot.B&&(Eb(ot),xp(ot)),M.g=le}else ZI(M);0<P.i.length&&Rp(P)}else We[0]!="stop"&&We[0]!="close"||Js(P,7);else P.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Js(P,7):Sb(P):We[0]!="noop"&&P.l&&P.l.ta(We),P.v=0)}}jc(4)}catch{}}var i9=class{constructor(d,E){this.g=d,this.map=E}};function OI(d){this.l=d||10,o.PerformanceNavigationTiming?(d=o.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function NI(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function RI(d){return d.h?1:d.g?d.g.size:0}function wb(d,E){return d.h?d.h==E:d.g?d.g.has(E):!1}function xb(d,E){d.g?d.g.add(E):d.h=E}function kI(d,E){d.h&&d.h==E?d.h=null:d.g&&d.g.has(E)&&d.g.delete(E)}OI.prototype.cancel=function(){if(this.i=DI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function DI(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let E=d.i;for(const P of d.g.values())E=E.concat(P.D);return E}return v(d.i)}function a9(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(u(d)){for(var E=[],P=d.length,M=0;M<P;M++)E.push(d[M]);return E}E=[],P=0;for(M in d)E[P++]=d[M];return E}function s9(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(u(d)||typeof d=="string"){var E=[];d=d.length;for(var P=0;P<d;P++)E.push(P);return E}E=[],P=0;for(const M in d)E[P++]=M;return E}}}function MI(d,E){if(d.forEach&&typeof d.forEach=="function")d.forEach(E,void 0);else if(u(d)||typeof d=="string")Array.prototype.forEach.call(d,E,void 0);else for(var P=s9(d),M=a9(d),V=M.length,z=0;z<V;z++)E.call(void 0,M[z],P&&P[z],d)}var LI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function o9(d,E){if(d){d=d.split("&");for(var P=0;P<d.length;P++){var M=d[P].indexOf("="),V=null;if(0<=M){var z=d[P].substring(0,M);V=d[P].substring(M+1)}else z=d[P];E(z,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Xs(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Xs){this.h=d.h,Ap(this,d.j),this.o=d.o,this.g=d.g,Sp(this,d.s),this.l=d.l;var E=d.i,P=new Hc;P.i=E.i,E.g&&(P.g=new Map(E.g),P.h=E.h),jI(this,P),this.m=d.m}else d&&(E=String(d).match(LI))?(this.h=!1,Ap(this,E[1]||"",!0),this.o=Uc(E[2]||""),this.g=Uc(E[3]||"",!0),Sp(this,E[4]),this.l=Uc(E[5]||"",!0),jI(this,E[6]||"",!0),this.m=Uc(E[7]||"")):(this.h=!1,this.i=new Hc(null,this.h))}Xs.prototype.toString=function(){var d=[],E=this.j;E&&d.push(Vc(E,FI,!0),":");var P=this.g;return(P||E=="file")&&(d.push("//"),(E=this.o)&&d.push(Vc(E,FI,!0),"@"),d.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&d.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&d.push("/"),d.push(Vc(P,P.charAt(0)=="/"?c9:l9,!0))),(P=this.i.toString())&&d.push("?",P),(P=this.m)&&d.push("#",Vc(P,d9)),d.join("")};function qi(d){return new Xs(d)}function Ap(d,E,P){d.j=P?Uc(E,!0):E,d.j&&(d.j=d.j.replace(/:$/,""))}function Sp(d,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);d.s=E}else d.s=null}function jI(d,E,P){E instanceof Hc?(d.i=E,h9(d.i,d.h)):(P||(E=Vc(E,f9)),d.i=new Hc(E,d.h))}function ht(d,E,P){d.i.set(E,P)}function Ip(d){return ht(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Uc(d,E){return d?E?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Vc(d,E,P){return typeof d=="string"?(d=encodeURI(d).replace(E,u9),P&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function u9(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var FI=/[#\/\?@]/g,l9=/[#\?:]/g,c9=/[#\?]/g,f9=/[#\?@]/g,d9=/#/g;function Hc(d,E){this.h=this.g=null,this.i=d||null,this.j=!!E}function ja(d){d.g||(d.g=new Map,d.h=0,d.i&&o9(d.i,function(E,P){d.add(decodeURIComponent(E.replace(/\+/g," ")),P)}))}t=Hc.prototype,t.add=function(d,E){ja(this),this.i=null,d=Tu(this,d);var P=this.g.get(d);return P||this.g.set(d,P=[]),P.push(E),this.h+=1,this};function $I(d,E){ja(d),E=Tu(d,E),d.g.has(E)&&(d.i=null,d.h-=d.g.get(E).length,d.g.delete(E))}function BI(d,E){return ja(d),E=Tu(d,E),d.g.has(E)}t.forEach=function(d,E){ja(this),this.g.forEach(function(P,M){P.forEach(function(V){d.call(E,V,M,this)},this)},this)},t.na=function(){ja(this);const d=Array.from(this.g.values()),E=Array.from(this.g.keys()),P=[];for(let M=0;M<E.length;M++){const V=d[M];for(let z=0;z<V.length;z++)P.push(E[M])}return P},t.V=function(d){ja(this);let E=[];if(typeof d=="string")BI(this,d)&&(E=E.concat(this.g.get(Tu(this,d))));else{d=Array.from(this.g.values());for(let P=0;P<d.length;P++)E=E.concat(d[P])}return E},t.set=function(d,E){return ja(this),this.i=null,d=Tu(this,d),BI(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[E]),this.h+=1,this},t.get=function(d,E){return d?(d=this.V(d),0<d.length?String(d[0]):E):E};function UI(d,E,P){$I(d,E),0<P.length&&(d.i=null,d.g.set(Tu(d,E),v(P)),d.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],E=Array.from(this.g.keys());for(var P=0;P<E.length;P++){var M=E[P];const z=encodeURIComponent(String(M)),le=this.V(M);for(M=0;M<le.length;M++){var V=z;le[M]!==""&&(V+="="+encodeURIComponent(String(le[M]))),d.push(V)}}return this.i=d.join("&")};function Tu(d,E){return E=String(E),d.j&&(E=E.toLowerCase()),E}function h9(d,E){E&&!d.j&&(ja(d),d.i=null,d.g.forEach(function(P,M){var V=M.toLowerCase();M!=V&&($I(this,M),UI(this,V,P))},d)),d.j=E}function p9(d,E){const P=new $c;if(o.Image){const M=new Image;M.onload=p(Fa,P,"TestLoadImage: loaded",!0,E,M),M.onerror=p(Fa,P,"TestLoadImage: error",!1,E,M),M.onabort=p(Fa,P,"TestLoadImage: abort",!1,E,M),M.ontimeout=p(Fa,P,"TestLoadImage: timeout",!1,E,M),o.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=d}else E(!1)}function m9(d,E){const P=new $c,M=new AbortController,V=setTimeout(()=>{M.abort(),Fa(P,"TestPingServer: timeout",!1,E)},1e4);fetch(d,{signal:M.signal}).then(z=>{clearTimeout(V),z.ok?Fa(P,"TestPingServer: ok",!0,E):Fa(P,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(V),Fa(P,"TestPingServer: error",!1,E)})}function Fa(d,E,P,M,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),M(P)}catch{}}function g9(){this.g=new JU}function y9(d,E,P){const M=P||"";try{MI(d,function(V,z){let le=V;l(V)&&(le=pb(V)),E.push(M+z+"="+encodeURIComponent(le))})}catch(V){throw E.push(M+"type="+encodeURIComponent("_badmap")),V}}function Pp(d){this.l=d.Ub||null,this.j=d.eb||!1}g(Pp,mb),Pp.prototype.g=function(){return new Cp(this.l,this.j)},Pp.prototype.i=function(d){return function(){return d}}({});function Cp(d,E){En.call(this),this.D=d,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Cp,En),t=Cp.prototype,t.open=function(d,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=E,this.readyState=1,zc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(E.body=d),(this.D||o).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,zc(this)),this.g&&(this.readyState=3,zc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;VI(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function VI(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var E=d.value?d.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!d.done}))&&(this.response=this.responseText+=E)}d.done?qc(this):zc(this),this.readyState==3&&VI(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,qc(this))},t.Qa=function(d){this.g&&(this.response=d,qc(this))},t.ga=function(){this.g&&qc(this)};function qc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,zc(d)}t.setRequestHeader=function(d,E){this.u.append(d,E)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],E=this.h.entries();for(var P=E.next();!P.done;)P=P.value,d.push(P[0]+": "+P[1]),P=E.next();return d.join(`\r
`)};function zc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Cp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function HI(d){let E="";return S(d,function(P,M){E+=M,E+=":",E+=P,E+=`\r
`}),E}function Ab(d,E,P){e:{for(M in P){var M=!1;break e}M=!0}M||(P=HI(P),typeof d=="string"?P!=null&&encodeURIComponent(String(P)):ht(d,E,P))}function kt(d){En.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(kt,En);var v9=/^https?$/i,b9=["POST","PUT"];t=kt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,E,P,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);E=E?E.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vb.g(),this.v=this.o?vI(this.o):vI(vb),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(E,String(d),!0),this.B=!1}catch(z){qI(this,z);return}if(d=P||"",P=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var V in M)P.set(V,M[V]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const z of M.keys())P.set(z,M.get(z));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(P.keys()).find(z=>z.toLowerCase()=="content-type"),V=o.FormData&&d instanceof o.FormData,!(0<=Array.prototype.indexOf.call(b9,E,void 0))||M||V||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,le]of P)this.g.setRequestHeader(z,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{GI(this),this.u=!0,this.g.send(d),this.u=!1}catch(z){qI(this,z)}};function qI(d,E){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=E,d.m=5,zI(d),Op(d)}function zI(d){d.A||(d.A=!0,Mn(d,"complete"),Mn(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Mn(this,"complete"),Mn(this,"abort"),Op(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Op(this,!0)),kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?WI(this):this.bb())},t.bb=function(){WI(this)};function WI(d){if(d.h&&typeof s<"u"&&(!d.v[1]||zi(d)!=4||d.Z()!=2)){if(d.u&&zi(d)==4)pI(d.Ea,0,d);else if(Mn(d,"readystatechange"),zi(d)==4){d.h=!1;try{const le=d.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var P;if(!(P=E)){var M;if(M=le===0){var V=String(d.D).match(LI)[1]||null;!V&&o.self&&o.self.location&&(V=o.self.location.protocol.slice(0,-1)),M=!v9.test(V?V.toLowerCase():"")}P=M}if(P)Mn(d,"complete"),Mn(d,"success");else{d.m=6;try{var z=2<zi(d)?d.g.statusText:""}catch{z=""}d.l=z+" ["+d.Z()+"]",zI(d)}}finally{Op(d)}}}}function Op(d,E){if(d.g){GI(d);const P=d.g,M=d.v[0]?()=>{}:null;d.g=null,d.v=null,E||Mn(d,"ready");try{P.onreadystatechange=M}catch{}}}function GI(d){d.I&&(o.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function zi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<zi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var E=this.g.responseText;return d&&E.indexOf(d)==0&&(E=E.substring(d.length)),XU(E)}};function KI(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function _9(d){const E={};d=(d.g&&2<=zi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<d.length;M++){if(T(d[M]))continue;var P=N(d[M]);const V=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const z=E[V]||[];E[V]=z,z.push(P)}x(E,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wc(d,E,P){return P&&P.internalChannelParams&&P.internalChannelParams[d]||E}function YI(d){this.Aa=0,this.i=[],this.j=new $c,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wc("baseRetryDelayMs",5e3,d),this.cb=Wc("retryDelaySeedMs",1e4,d),this.Wa=Wc("forwardChannelMaxRetries",2,d),this.wa=Wc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new OI(d&&d.concurrentRequestLimit),this.Da=new g9,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=YI.prototype,t.la=8,t.G=1,t.connect=function(d,E,P,M){Ln(0),this.W=d,this.H=E||{},P&&M!==void 0&&(this.H.OSID=P,this.H.OAID=M),this.F=this.X,this.I=i2(this,null,this.W),Rp(this)};function Sb(d){if(QI(d),d.G==3){var E=d.U++,P=qi(d.I);if(ht(P,"SID",d.K),ht(P,"RID",E),ht(P,"TYPE","terminate"),Gc(d,P),E=new La(d,d.j,E),E.L=2,E.v=Ip(qi(P)),P=!1,o.navigator&&o.navigator.sendBeacon)try{P=o.navigator.sendBeacon(E.v.toString(),"")}catch{}!P&&o.Image&&(new Image().src=E.v,P=!0),P||(E.g=a2(E.j,null),E.g.ea(E.v)),E.F=Date.now(),xp(E)}r2(d)}function Np(d){d.g&&(Pb(d),d.g.cancel(),d.g=null)}function QI(d){Np(d),d.u&&(o.clearTimeout(d.u),d.u=null),kp(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&o.clearTimeout(d.s),d.s=null)}function Rp(d){if(!NI(d.h)&&!d.s){d.s=!0;var E=d.Ga;te||ie(),q||(te(),q=!0),X.add(E,d),d.B=0}}function E9(d,E){return RI(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=E.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Fc(h(d.Ga,d,E),n2(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new La(this,this.j,d);let z=this.o;if(this.S&&(z?(z=I(z),R(z,this.S)):z=this.S),this.m!==null||this.O||(V.H=z,z=null),this.P)e:{for(var E=0,P=0;P<this.i.length;P++){t:{var M=this.i[P];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(E+=M,4096<E){E=P;break e}if(E===4096||P===this.i.length-1){E=P+1;break e}}E=1e3}else E=1e3;E=JI(this,V,E),P=qi(this.I),ht(P,"RID",d),ht(P,"CVER",22),this.D&&ht(P,"X-HTTP-Session-Id",this.D),Gc(this,P),z&&(this.O?E="headers="+encodeURIComponent(String(HI(z)))+"&"+E:this.m&&Ab(P,this.m,z)),xb(this.h,V),this.Ua&&ht(P,"TYPE","init"),this.P?(ht(P,"$req",E),ht(P,"SID","null"),V.T=!0,_b(V,P,null)):_b(V,P,E),this.G=2}}else this.G==3&&(d?XI(this,d):this.i.length==0||NI(this.h)||XI(this))};function XI(d,E){var P;E?P=E.l:P=d.U++;const M=qi(d.I);ht(M,"SID",d.K),ht(M,"RID",P),ht(M,"AID",d.T),Gc(d,M),d.m&&d.o&&Ab(M,d.m,d.o),P=new La(d,d.j,P,d.B+1),d.m===null&&(P.H=d.o),E&&(d.i=E.D.concat(d.i)),E=JI(d,P,1e3),P.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),xb(d.h,P),_b(P,M,E)}function Gc(d,E){d.H&&S(d.H,function(P,M){ht(E,M,P)}),d.l&&MI({},function(P,M){ht(E,M,P)})}function JI(d,E,P){P=Math.min(d.i.length,P);var M=d.l?h(d.l.Na,d.l,d):null;e:{var V=d.i;let z=-1;for(;;){const le=["count="+P];z==-1?0<P?(z=V[0].g,le.push("ofs="+z)):z=0:le.push("ofs="+z);let ot=!0;for(let cn=0;cn<P;cn++){let We=V[cn].g;const Tn=V[cn].map;if(We-=z,0>We)z=Math.max(0,V[cn].g-100),ot=!1;else try{y9(Tn,le,"req"+We+"_")}catch{M&&M(Tn)}}if(ot){M=le.join("&");break e}}}return d=d.i.splice(0,P),E.D=d,M}function ZI(d){if(!d.g&&!d.u){d.Y=1;var E=d.Fa;te||ie(),q||(te(),q=!0),X.add(E,d),d.v=0}}function Ib(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Fc(h(d.Fa,d),n2(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,e2(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Fc(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ln(10),Np(this),e2(this))};function Pb(d){d.A!=null&&(o.clearTimeout(d.A),d.A=null)}function e2(d){d.g=new La(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var E=qi(d.qa);ht(E,"RID","rpc"),ht(E,"SID",d.K),ht(E,"AID",d.T),ht(E,"CI",d.F?"0":"1"),!d.F&&d.ja&&ht(E,"TO",d.ja),ht(E,"TYPE","xmlhttp"),Gc(d,E),d.m&&d.o&&Ab(E,d.m,d.o),d.L&&(d.g.I=d.L);var P=d.g;d=d.ia,P.L=1,P.v=Ip(qi(E)),P.m=null,P.P=!0,II(P,d)}t.Za=function(){this.C!=null&&(this.C=null,Np(this),Ib(this),Ln(19))};function kp(d){d.C!=null&&(o.clearTimeout(d.C),d.C=null)}function t2(d,E){var P=null;if(d.g==E){kp(d),Pb(d),d.g=null;var M=2}else if(wb(d.h,E))P=E.D,kI(d.h,E),M=1;else return;if(d.G!=0){if(E.o)if(M==1){P=E.m?E.m.length:0,E=Date.now()-E.F;var V=d.B;M=Ep(),Mn(M,new wI(M,P)),Rp(d)}else ZI(d);else if(V=E.s,V==3||V==0&&0<E.X||!(M==1&&E9(d,E)||M==2&&Ib(d)))switch(P&&0<P.length&&(E=d.h,E.i=E.i.concat(P)),V){case 1:Js(d,5);break;case 4:Js(d,10);break;case 3:Js(d,6);break;default:Js(d,2)}}}function n2(d,E){let P=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(P*=2),P*E}function Js(d,E){if(d.j.info("Error code "+E),E==2){var P=h(d.fb,d),M=d.Xa;const V=!M;M=new Xs(M||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ap(M,"https"),Ip(M),V?p9(M.toString(),P):m9(M.toString(),P)}else Ln(2);d.G=0,d.l&&d.l.sa(E),r2(d),QI(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ln(2)):(this.j.info("Failed to ping google.com"),Ln(1))};function r2(d){if(d.G=0,d.ka=[],d.l){const E=DI(d.h);(E.length!=0||d.i.length!=0)&&(b(d.ka,E),b(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function i2(d,E,P){var M=P instanceof Xs?qi(P):new Xs(P);if(M.g!="")E&&(M.g=E+"."+M.g),Sp(M,M.s);else{var V=o.location;M=V.protocol,E=E?E+"."+V.hostname:V.hostname,V=+V.port;var z=new Xs(null);M&&Ap(z,M),E&&(z.g=E),V&&Sp(z,V),P&&(z.l=P),M=z}return P=d.D,E=d.ya,P&&E&&ht(M,P,E),ht(M,"VER",d.la),Gc(d,M),M}function a2(d,E,P){if(E&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=d.Ca&&!d.pa?new kt(new Pp({eb:P})):new kt(d.pa),E.Ha(d.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function s2(){}t=s2.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Dp(){}Dp.prototype.g=function(d,E){return new or(d,E)};function or(d,E){En.call(this),this.g=new YI(E),this.l=d,this.h=E&&E.messageUrlParams||null,d=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(d?d["X-WebChannel-Content-Type"]=E.messageContentType:d={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(d?d["X-WebChannel-Client-Profile"]=E.va:d={"X-WebChannel-Client-Profile":E.va}),this.g.S=d,(d=E&&E.Sb)&&!T(d)&&(this.g.m=d),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!T(E)&&(this.g.D=E,d=this.h,d!==null&&E in d&&(d=this.h,E in d&&delete d[E])),this.j=new wu(this)}g(or,En),or.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},or.prototype.close=function(){Sb(this.g)},or.prototype.o=function(d){var E=this.g;if(typeof d=="string"){var P={};P.__data__=d,d=P}else this.u&&(P={},P.__data__=pb(d),d=P);E.i.push(new i9(E.Ya++,d)),E.G==3&&Rp(E)},or.prototype.N=function(){this.g.l=null,delete this.j,Sb(this.g),delete this.g,or.aa.N.call(this)};function o2(d){gb.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var E=d.__sm__;if(E){e:{for(const P in E){d=P;break e}d=void 0}(this.i=d)&&(d=this.i,E=E!==null&&d in E?E[d]:void 0),this.data=E}else this.data=d}g(o2,gb);function u2(){yb.call(this),this.status=1}g(u2,yb);function wu(d){this.g=d}g(wu,s2),wu.prototype.ua=function(){Mn(this.g,"a")},wu.prototype.ta=function(d){Mn(this.g,new o2(d))},wu.prototype.sa=function(d){Mn(this.g,new u2)},wu.prototype.ra=function(){Mn(this.g,"b")},Dp.prototype.createWebChannel=Dp.prototype.g,or.prototype.send=or.prototype.o,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,K6=function(){return new Dp},G6=function(){return Ep()},W6=Ys,dE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tp.NO_ERROR=0,Tp.TIMEOUT=8,Tp.HTTP_ERROR=6,Hm=Tp,xI.COMPLETE="complete",z6=xI,bI.EventType=Lc,Lc.OPEN="a",Lc.CLOSE="b",Lc.ERROR="c",Lc.MESSAGE="d",En.prototype.listen=En.prototype.K,Rf=bI,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,q6=kt}).apply(typeof tm<"u"?tm:typeof self<"u"?self:typeof window<"u"?window:{});const oC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Ry("@firebase/firestore");function Lu(){return qo.logLevel}function oe(t,...e){if(qo.logLevel<=Fe.DEBUG){const n=e.map($x);qo.debug(`Firestore (${fc}): ${t}`,...n)}}function $n(t,...e){if(qo.logLevel<=Fe.ERROR){const n=e.map($x);qo.error(`Firestore (${fc}): ${t}`,...n)}}function Al(t,...e){if(qo.logLevel<=Fe.WARN){const n=e.map($x);qo.warn(`Firestore (${fc}): ${t}`,...n)}}function $x(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${fc}) INTERNAL ASSERTION FAILED: `+t;throw $n(e),new Error(e)}function be(t,e){t||ve()}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $G{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pn.UNAUTHENTICATED))}shutdown(){}}class BG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UG{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){be(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new fa,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},o=u=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new fa)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new Y6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new pn(e)}}class VG{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class HG{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new VG(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zG{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){be(this.o===void 0);const r=a=>{a.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,oe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new qG(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=WG(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function Sl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function X6(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new dt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new dt(0,0))}static max(){return new _e(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Dd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Dd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),s=n.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends Dd{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const GG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Dd{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return GG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(Xe.fromString(e))}static fromName(e){return new de(Xe.fromString(e).popFirst(5))}static empty(){return new de(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function hE(t){return t.fields.find(e=>e.kind===2)}function ao(t){return t.fields.filter(e=>e.kind!==2)}F0.UNKNOWN_ID=-1;class qm{constructor(e,n){this.fieldPath=e,this.kind=n}}class Md{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Md(0,Tr.min())}}function KG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new dt(n+1,0):new dt(n,r));return new Tr(i,de.empty(),e)}function J6(t){return new Tr(t.readTime,t.key,-1)}class Tr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Tr(_e.min(),de.empty(),-1)}static max(){return new Tr(_e.max(),de.empty(),-1)}}function Bx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==Z6)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},u=>r(u))}),s=!0,a===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let u=0;u<a;u++){const l=u;n(e[l]).next(c=>{s[l]=c,++o,o===a&&r(s)},c=>i(c))}})}static doWhile(e,n){return new H((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new fa,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Yf(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Ux(r.target.error);this.V.reject(new Yf(e,i))}}static open(e,n,r,i){try{return new Ly(n,e.transaction(i,r))}catch(a){throw new Yf(n,a)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new QG(n)}}class Ts{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ts.S(Xt())===12.2&&$n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return oe("SimpleDb","Removing database:",e),co(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ax())return!1;if(Ts.v())return!0;const e=Xt(),n=Ts.S(e),r=0<n&&n<10,i=t4(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(oe("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const s=a.target.result;n(s)},i.onblocked=()=>{r(new Yf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const s=a.target.error;s.name==="VersionError"?r(new ce(J.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new ce(J.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Yf(e,s))},i.onupgradeneeded=a=>{oe("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const s=a.target.result;this.p.O(s,i.transaction,a.oldVersion,this.version).next(()=>{oe("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const o=Ly.open(this.db,e,a?"readonly":"readwrite",r),u=i(o).next(l=>(o.g(),l)).catch(l=>(o.abort(l),H.reject(l))).toPromise();return u.catch(()=>{}),await o.m,u}catch(o){const u=o,l=u.name!=="FirebaseError"&&s<3;if(oe("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function t4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class YG{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return co(this.B.delete())}}class Yf extends ce{constructor(e,n){super(J.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function js(t){return t.name==="IndexedDbTransactionError"}class QG{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(oe("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),co(r)}add(e){return oe("SimpleDb","ADD",this.store.name,e,e),co(this.store.add(e))}get(e){return co(this.store.get(e)).next(n=>(n===void 0&&(n=null),oe("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return oe("SimpleDb","DELETE",this.store.name,e),co(this.store.delete(e))}count(){return oe("SimpleDb","COUNT",this.store.name),co(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new H((s,o)=>{a.onerror=u=>{o(u.target.error)},a.onsuccess=u=>{s(u.target.result)}})}{const a=this.cursor(r),s=[];return this.W(a,(o,u)=>{s.push(u)}).next(()=>s)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new H((i,a)=>{r.onerror=s=>{a(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,n){oe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(a,s,o)=>o.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new H((r,i)=>{n.onerror=a=>{const s=Ux(a.target.error);i(s)},n.onsuccess=a=>{const s=a.target.result;s?e(s.primaryKey,s.value).next(o=>{o?s.continue():r()}):r()}})}W(e,n){const r=[];return new H((i,a)=>{e.onerror=s=>{a(s.target.error)},e.onsuccess=s=>{const o=s.target.result;if(!o)return void i();const u=new YG(o),l=n(o.primaryKey,o.value,u);if(l instanceof H){const c=l.catch(f=>(u.done(),H.reject(f)));r.push(c)}u.isDone?i():u.K===null?o.continue():o.continue(u.K)}}).next(()=>H.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function co(t){return new H((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Ux(r.target.error);n(i)}})}let uC=!1;function Ux(t){const e=Ts.S(Xt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return uC||(uC=!0,setTimeout(()=>{throw r},0)),r}}return t}class XG{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){oe("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{oe("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){js(n)?oe("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await fu(n)}await this.X(6e4)})}}class JG{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,a=!0;return H.doWhile(()=>a===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return oe("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(o=>{i-=o,r.add(s)});a=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(a=>{const s=a.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,a)).next(o=>(oe("IndexBackfiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o))).next(()=>s.size)}))}re(e,n){let r=e;return n.changes.forEach((i,a)=>{const s=J6(a);Bx(s,r)>0&&(r=s)}),new Tr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Lr.oe=-1;function jy(t){return t==null}function Ld(t){return t===0&&1/t==-1/0}function ZG(t){return typeof t=="number"&&Number.isInteger(t)&&!Ld(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lC(e)),e=eK(t.get(n),e);return lC(e)}function eK(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function lC(t){return t+""}function Ii(t){const e=t.length;if(be(e>=2),e===2)return be(t.charAt(0)===""&&t.charAt(1)===""),Xe.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const s=t.indexOf("",a);switch((s<0||s>n)&&ve(),t.charAt(s+1)){case"":const o=t.substring(a,s);let u;i.length===0?u=o:(i+=o,u=i,i=""),r.push(u);break;case"":i+=t.substring(a,s),i+="\0";break;case"":i+=t.substring(a,s+1);break;default:ve()}a=s+2}return new Xe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t,e){return[t,Hn(e)]}function n4(t,e,n){return[t,Hn(e),n]}const tK={},nK=["prefixPath","collectionGroup","readTime","documentId"],rK=["prefixPath","collectionGroup","documentId"],iK=["collectionGroup","readTime","prefixPath","documentId"],aK=["canonicalId","targetId"],sK=["targetId","path"],oK=["path","targetId"],uK=["collectionId","parent"],lK=["indexId","uid"],cK=["uid","sequenceNumber"],fK=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dK=["indexId","uid","orderedDocumentKey"],hK=["userId","collectionPath","documentId"],pK=["userId","collectionPath","largestBatchId"],mK=["userId","collectionGroup","largestBatchId"],r4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gK=[...r4,"documentOverlays"],i4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],a4=i4,Vx=[...a4,"indexConfiguration","indexState","indexEntries"],yK=Vx,vK=[...Vx,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE extends e4{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Jt(t,e){const n=Ie(t);return Ts.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function du(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function s4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nm(this.root,e,this.comparator,!1)}getReverseIterator(){return new nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nm(this.root,e,this.comparator,!0)}}class nm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??mn.RED,this.left=i??mn.EMPTY,this.right=a??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new mn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,r,i,a){return this}insert(e,n,r){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dC(this.data.getIterator())}getIteratorFrom(e){return new dC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new at(this.comparator);return n.data=e,n}}class dC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Su(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new mr([])}unionWith(e){let n=new at(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new o4("Invalid base64 string: "+a):a}}(e);return new zt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const bK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ta(t){if(be(!!t),typeof t=="string"){let e=0;const n=bK.exec(t);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ps(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qx(t){const e=t.mapValue.fields.__previous_value__;return Hx(e)?qx(e):e}function jd(t){const e=Ta(t.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(e,n,r,i,a,s,o,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=l}}class zo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wm={nullValue:"NULL_VALUE"};function Wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hx(t)?4:u4(t)?9007199254740991:Fy(t)?10:11:ve()}function Fi(t,e){if(t===e)return!0;const n=Wo(t);if(n!==Wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jd(t).isEqual(jd(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Ta(i.timestampValue),o=Ta(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ps(i.bytesValue).isEqual(Ps(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return bt(i.geoPointValue.latitude)===bt(a.geoPointValue.latitude)&&bt(i.geoPointValue.longitude)===bt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return bt(i.integerValue)===bt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=bt(i.doubleValue),o=bt(a.doubleValue);return s===o?Ld(s)===Ld(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Sl(t.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(fC(s)!==fC(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!Fi(s[u],o[u])))return!1;return!0}(t,e);default:return ve()}}function Fd(t,e){return(t.values||[]).find(n=>Fi(n,e))!==void 0}function Cs(t,e){if(t===e)return 0;const n=Wo(t),r=Wo(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=bt(a.integerValue||a.doubleValue),u=bt(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(t,e);case 3:return hC(t.timestampValue,e.timestampValue);case 4:return hC(jd(t),jd(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Ps(a),u=Ps(s);return o.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),u=s.split("/");for(let l=0;l<o.length&&l<u.length;l++){const c=Oe(o[l],u[l]);if(c!==0)return c}return Oe(o.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=Oe(bt(a.latitude),bt(s.latitude));return o!==0?o:Oe(bt(a.longitude),bt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pC(t.arrayValue,e.arrayValue);case 10:return function(a,s){var o,u,l,c;const f=a.fields||{},h=s.fields||{},p=(o=f.value)===null||o===void 0?void 0:o.arrayValue,g=(u=h.value)===null||u===void 0?void 0:u.arrayValue,v=Oe(((l=p==null?void 0:p.values)===null||l===void 0?void 0:l.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return v!==0?v:pC(p,g)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===us.mapValue&&s===us.mapValue)return 0;if(a===us.mapValue)return 1;if(s===us.mapValue)return-1;const o=a.fields||{},u=Object.keys(o),l=s.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const h=Oe(u[f],c[f]);if(h!==0)return h;const p=Cs(o[u[f]],l[c[f]]);if(p!==0)return p}return Oe(u.length,c.length)}(t.mapValue,e.mapValue);default:throw ve()}}function hC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Ta(t),r=Ta(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function pC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Cs(n[i],r[i]);if(a)return a}return Oe(n.length,r.length)}function Il(t){return mE(t)}function mE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ta(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ps(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=mE(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${mE(n.fields[s])}`;return i+"}"}(t.mapValue):ve()}function $d(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gE(t){return!!t&&"integerValue"in t}function Bd(t){return!!t&&"arrayValue"in t}function mC(t){return!!t&&"nullValue"in t}function gC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gm(t){return!!t&&"mapValue"in t}function Fy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return du(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function u4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const l4={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function EK(t){return"nullValue"in t?Wm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?$d(zo.empty(),de.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Fy(t)?l4:{mapValue:{}}:ve()}function TK(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?$d(zo.empty(),de.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?l4:"mapValue"in t?Fy(t)?{mapValue:{}}:us:ve()}function yC(t,e){const n=Cs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function vC(t,e){const n=Cs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qf(n)}setAll(e){let n=St.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Qf(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Gm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){du(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Bn(Qf(this.value))}}function c4(t){const e=[];return du(t.fields,(n,r)=>{const i=new St([n]);if(Gm(r)){const a=c4(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Lt(e,0,_e.min(),_e.min(),_e.min(),Bn.empty(),0)}static newFoundDocument(e,n,r,i){return new Lt(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new Lt(e,2,n,_e.min(),_e.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new Lt(e,3,n,_e.min(),_e.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this.position=e,this.inclusive=n}}function bC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=de.comparator(de.fromName(s.referenceValue),n.key):r=Cs(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function _C(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n="asc"){this.field=e,this.dir=n}}function wK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f4=class{};class $e extends f4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xK(e,n,r):n==="array-contains"?new IK(e,r):n==="in"?new y4(e,r):n==="not-in"?new PK(e,r):n==="array-contains-any"?new CK(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AK(e,r):new SK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Cs(n,this.value)):n!==null&&Wo(this.value)===Wo(n)&&this.matchesComparison(Cs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class et extends f4{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new et(e,n)}matches(e){return Cl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Cl(t){return t.op==="and"}function yE(t){return t.op==="or"}function zx(t){return d4(t)&&Cl(t)}function d4(t){for(const e of t.filters)if(e instanceof et)return!1;return!0}function vE(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+Il(t.value);if(zx(t))return t.filters.map(e=>vE(e)).join(",");{const e=t.filters.map(n=>vE(n)).join(",");return`${t.op}(${e})`}}function h4(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&Fi(r.value,i.value)}(t,e):t instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&h4(s,i.filters[o]),!0):!1}(t,e):void ve()}function p4(t,e){const n=t.filters.concat(e);return et.create(n,t.op)}function m4(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${Il(n.value)}`}(t):t instanceof et?function(n){return n.op.toString()+" {"+n.getFilters().map(m4).join(" ,")+"}"}(t):"Filter"}class xK extends $e{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class AK extends $e{constructor(e,n){super(e,"in",n),this.keys=g4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SK extends $e{constructor(e,n){super(e,"not-in",n),this.keys=g4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function g4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class IK extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bd(n)&&Fd(n.arrayValue,this.value)}}class y4 extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fd(this.value.arrayValue,n)}}class PK extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fd(this.value.arrayValue,n)}}class CK extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function bE(t,e=null,n=[],r=[],i=null,a=null,s=null){return new OK(t,e,n,r,i,a,s)}function Go(t){const e=Ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),jy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Il(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Il(r)).join(",")),e.ue=n}return e.ue}function Gh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!h4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_C(t.startAt,e.startAt)&&_C(t.endAt,e.endAt)}function $0(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function B0(t,e){return t.filters.filter(n=>n instanceof $e&&n.field.isEqual(e))}function EC(t,e,n){let r=Wm,i=!0;for(const a of B0(t,e)){let s=Wm,o=!0;switch(a.op){case"<":case"<=":s=EK(a.value);break;case"==":case"in":case">=":s=a.value;break;case">":s=a.value,o=!1;break;case"!=":case"not-in":s=Wm}yC({value:r,inclusive:i},{value:s,inclusive:o})<0&&(r=s,i=o)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];yC({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function TC(t,e,n){let r=us,i=!0;for(const a of B0(t,e)){let s=us,o=!0;switch(a.op){case">=":case">":s=TK(a.value),o=!1;break;case"==":case"in":case"<=":s=a.value;break;case"<":s=a.value,o=!1;break;case"!=":case"not-in":s=us}vC({value:r,inclusive:i},{value:s,inclusive:o})>0&&(r=s,i=o)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];vC({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function NK(t,e,n,r,i,a,s,o){return new dc(t,e,n,r,i,a,s,o)}function Kh(t){return new dc(t)}function wC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function v4(t){return t.collectionGroup!==null}function Xf(t){const e=Ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new at(St.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(o=o.add(l.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Ud(a,r))}),n.has(St.keyField().canonicalString())||e.ce.push(new Ud(St.keyField(),r))}return e.ce}function Br(t){const e=Ie(t);return e.le||(e.le=RK(e,Xf(t))),e.le}function RK(t,e){if(t.limitType==="F")return bE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ud(i.field,a)});const n=t.endAt?new Pl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pl(t.startAt.position,t.startAt.inclusive):null;return bE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _E(t,e){const n=t.filters.concat([e]);return new dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function U0(t,e,n){return new dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $y(t,e){return Gh(Br(t),Br(e))&&t.limitType===e.limitType}function b4(t){return`${Go(Br(t))}|lt:${t.limitType}`}function ju(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>m4(i)).join(", ")}]`),jy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Il(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Il(i)).join(",")),`Target(${r})`}(Br(t))}; limitType=${t.limitType})`}function Yh(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):de.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Xf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,u){const l=bC(s,o,u);return s.inclusive?l<=0:l<0}(r.startAt,Xf(r),i)||r.endAt&&!function(s,o,u){const l=bC(s,o,u);return s.inclusive?l>=0:l>0}(r.endAt,Xf(r),i))}(t,e)}function kK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _4(t){return(e,n)=>{let r=!1;for(const i of Xf(t)){const a=DK(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function DK(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(a,s,o){const u=s.data.field(a),l=o.data.field(a);return u!==null&&l!==null?Cs(u,l):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){du(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return s4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MK=new Tt(de.comparator);function gr(){return MK}const E4=new Tt(de.comparator);function kf(...t){let e=E4;for(const n of t)e=e.insert(n.key,n);return e}function T4(t){let e=E4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pi(){return Jf()}function w4(){return Jf()}function Jf(){return new Fs(t=>t.toString(),(t,e)=>t.isEqual(e))}const LK=new Tt(de.comparator),jK=new at(de.comparator);function ke(...t){let e=jK;for(const n of t)e=e.add(n);return e}const FK=new at(Oe);function $K(){return FK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ld(e)?"-0":e}}function x4(t){return{integerValue:""+t}}function BK(t,e){return ZG(e)?x4(e):Wx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this._=void 0}}function UK(t,e,n){return t instanceof Vd?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Hx(a)&&(a=qx(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(n,e):t instanceof Ol?S4(t,e):t instanceof Nl?I4(t,e):function(i,a){const s=A4(i,a),o=xC(s)+xC(i.Pe);return gE(s)&&gE(i.Pe)?x4(o):Wx(i.serializer,o)}(t,e)}function VK(t,e,n){return t instanceof Ol?S4(t,e):t instanceof Nl?I4(t,e):n}function A4(t,e){return t instanceof Hd?function(r){return gE(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Vd extends By{}class Ol extends By{constructor(e){super(),this.elements=e}}function S4(t,e){const n=P4(e);for(const r of t.elements)n.some(i=>Fi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Nl extends By{constructor(e){super(),this.elements=e}}function I4(t,e){let n=P4(e);for(const r of t.elements)n=n.filter(i=>!Fi(i,r));return{arrayValue:{values:n}}}class Hd extends By{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function xC(t){return bt(t.integerValue||t.doubleValue)}function P4(t){return Bd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(e,n){this.field=e,this.transform=n}}function qK(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ol&&i instanceof Ol||r instanceof Nl&&i instanceof Nl?Sl(r.elements,i.elements,Fi):r instanceof Hd&&i instanceof Hd?Fi(r.Pe,i.Pe):r instanceof Vd&&i instanceof Vd}(t.transform,e.transform)}class zK{constructor(e,n){this.version=e,this.transformResults=n}}class Nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Km(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uy{}function C4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vy(t.key,Nn.none()):new hc(t.key,t.data,Nn.none());{const n=t.data,r=Bn.empty();let i=new at(St.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Na(t.key,r,new mr(i.toArray()),Nn.none())}}function WK(t,e,n){t instanceof hc?function(i,a,s){const o=i.value.clone(),u=SC(i.fieldTransforms,a,s.transformResults);o.setAll(u),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Na?function(i,a,s){if(!Km(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=SC(i.fieldTransforms,a,s.transformResults),u=a.data;u.setAll(O4(i)),u.setAll(o),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Zf(t,e,n,r){return t instanceof hc?function(a,s,o,u){if(!Km(a.precondition,s))return o;const l=a.value.clone(),c=IC(a.fieldTransforms,u,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Na?function(a,s,o,u){if(!Km(a.precondition,s))return o;const l=IC(a.fieldTransforms,u,s),c=s.data;return c.setAll(O4(a)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,s,o){return Km(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function GK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=A4(r.transform,i||null);a!=null&&(n===null&&(n=Bn.empty()),n.set(r.field,a))}return n||null}function AC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Sl(r,i,(a,s)=>qK(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hc extends Uy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Na extends Uy{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function O4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function SC(t,e,n){const r=new Map;be(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,VK(s,o,n[i]))}return r}function IC(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,UK(a,s,e))}return r}class Vy extends Uy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N4 extends Uy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&WK(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=w4();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const u=C4(s,o);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&Sl(this.mutations,e.mutations,(n,r)=>AC(n,r))&&Sl(this.baseMutations,e.baseMutations,(n,r)=>AC(n,r))}}class Kx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){be(e.mutations.length===r.length);let i=function(){return LK}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new Kx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KK{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,He;function YK(t){switch(t){default:return ve();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function R4(t){if(t===void 0)return $n("GRPC error has no .code"),J.UNKNOWN;switch(t){case Bt.OK:return J.OK;case Bt.CANCELLED:return J.CANCELLED;case Bt.UNKNOWN:return J.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return J.INTERNAL;case Bt.UNAVAILABLE:return J.UNAVAILABLE;case Bt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Bt.NOT_FOUND:return J.NOT_FOUND;case Bt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Bt.ABORTED:return J.ABORTED;case Bt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Bt.DATA_LOSS:return J.DATA_LOSS;default:return ve()}}(He=Bt||(Bt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QK(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XK=new Co([4294967295,4294967295],0);function PC(t){const e=QK().encode(t),n=new H6;return n.update(e),new Uint8Array(n.digest())}function CC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Co([n,r],0),new Co([i,a],0)]}class Qx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Df(`Invalid padding: ${n}`);if(r<0)throw new Df(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Df(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Df(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Co.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Co.fromNumber(r)));return i.compare(XK)===1&&(i=new Co([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=PC(e),[r,i]=CC(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new Qx(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.Ie===0)return;const n=PC(e),[r,i]=CC(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Df extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Qh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hy(_e.min(),i,new Tt(Oe),gr(),ke())}}class Qh{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qh(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class k4{constructor(e,n){this.targetId=e,this.me=n}}class D4{constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class OC{constructor(){this.fe=0,this.ge=RC(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),n=ke(),r=ke();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ve()}}),new Qh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=RC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class JK{constructor(e){this.Le=e,this.Be=new Map,this.ke=gr(),this.qe=NC(),this.Qe=new Tt(Oe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if($0(a))if(r===0){const s=new de(a.path);this.Ue(n,s,Lt.newNoDocument(s,_e.min()))}else be(r===1);else{const s=this.Ye(n);if(s!==r){const o=this.Ze(e),u=o?this.Xe(o,e,s):1;if(u!==0){this.je(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Ps(r).toUint8Array()}catch(u){if(u instanceof o4)return Al("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new Qx(s,i,a)}catch(u){return Al(u instanceof Df?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,s)=>{const o=this.Je(s);if(o){if(a.current&&$0(o.target)){const u=new de(o.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Lt.newNoDocument(u,e))}a.be&&(n.set(s,a.ve()),a.Ce())}});let r=ke();this.qe.forEach((a,s)=>{let o=!0;s.forEachWhile(u=>{const l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new Hy(e,n,this.Qe,this.ke,r);return this.ke=gr(),this.qe=NC(),this.Qe=new Tt(Oe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new OC,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new at(Oe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new OC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function NC(){return new Tt(de.comparator)}function RC(){return new Tt(de.comparator)}const ZK={asc:"ASCENDING",desc:"DESCENDING"},eY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tY={and:"AND",or:"OR"};class nY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function EE(t,e){return t.useProto3Json||jy(e)?e:{value:e}}function Rl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rY(t,e){return Rl(t,e.toTimestamp())}function qn(t){return be(!!t),_e.fromTimestamp(function(n){const r=Ta(n);return new dt(r.seconds,r.nanos)}(t))}function Xx(t,e){return TE(t,e).canonicalString()}function TE(t,e){const n=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function L4(t){const e=Xe.fromString(t);return be(z4(e)),e}function V0(t,e){return Xx(t.databaseId,e.path)}function Oo(t,e){const n=L4(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de($4(n))}function j4(t,e){return Xx(t.databaseId,e)}function F4(t){const e=L4(t);return e.length===4?Xe.emptyPath():$4(e)}function wE(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $4(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kC(t,e,n){return{name:V0(t,e),fields:n.value.mapValue.fields}}function iY(t,e,n){const r=Oo(t,e.name),i=qn(e.updateTime),a=e.createTime?qn(e.createTime):_e.min(),s=new Bn({mapValue:{fields:e.fields}}),o=Lt.newFoundDocument(r,i,a,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function aY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(l,c){return l.useProto3Json?(be(c===void 0||typeof c=="string"),zt.fromBase64String(c||"")):(be(c===void 0||c instanceof Buffer||c instanceof Uint8Array),zt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(l){const c=l.code===void 0?J.UNKNOWN:R4(l.code);return new ce(c,l.message||"")}(s);n=new D4(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Oo(t,r.document.name),a=qn(r.document.updateTime),s=r.document.createTime?qn(r.document.createTime):_e.min(),o=new Bn({mapValue:{fields:r.document.fields}}),u=Lt.newFoundDocument(i,a,s,o),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Ym(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Oo(t,r.document),a=r.readTime?qn(r.readTime):_e.min(),s=Lt.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Ym([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Oo(t,r.document),a=r.removedTargetIds||[];n=new Ym([],a,i,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new KK(i,a),o=r.targetId;n=new k4(o,s)}}return n}function H0(t,e){let n;if(e instanceof hc)n={update:kC(t,e.key,e.value)};else if(e instanceof Vy)n={delete:V0(t,e.key)};else if(e instanceof Na)n={update:kC(t,e.key,e.data),updateMask:fY(e.fieldMask)};else{if(!(e instanceof N4))return ve();n={verify:V0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof Vd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ol)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Nl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Hd)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:rY(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ve()}(t,e.precondition)),n}function xE(t,e){const n=e.currentDocument?function(a){return a.updateTime!==void 0?Nn.updateTime(qn(a.updateTime)):a.exists!==void 0?Nn.exists(a.exists):Nn.none()}(e.currentDocument):Nn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let u=null;if("setToServerValue"in o)be(o.setToServerValue==="REQUEST_TIME"),u=new Vd;else if("appendMissingElements"in o){const c=o.appendMissingElements.values||[];u=new Ol(c)}else if("removeAllFromArray"in o){const c=o.removeAllFromArray.values||[];u=new Nl(c)}else"increment"in o?u=new Hd(s,o.increment):ve();const l=St.fromServerFormat(o.fieldPath);return new HK(l,u)}(t,i)):[];if(e.update){e.update.name;const i=Oo(t,e.update.name),a=new Bn({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(u){const l=u.fieldPaths||[];return new mr(l.map(c=>St.fromServerFormat(c)))}(e.updateMask);return new Na(i,a,s,n,r)}return new hc(i,a,n,r)}if(e.delete){const i=Oo(t,e.delete);return new Vy(i,n)}if(e.verify){const i=Oo(t,e.verify);return new N4(i,n)}return ve()}function sY(t,e){return t&&t.length>0?(be(e!==void 0),t.map(n=>function(i,a){let s=i.updateTime?qn(i.updateTime):qn(a);return s.isEqual(_e.min())&&(s=qn(a)),new zK(s,i.transformResults||[])}(n,e))):[]}function B4(t,e){return{documents:[j4(t,e.path)]}}function U4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=j4(t,i);const a=function(l){if(l.length!==0)return q4(et.create(l,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:Fu(h.field),direction:uY(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=EE(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function V4(t){let e=F4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){be(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];n.where&&(a=function(f){const h=H4(f);return h instanceof et&&zx(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(g){return new Ud($u(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,jy(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(f){const h=!!f.before,p=f.values||[];return new Pl(p,h)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const h=!f.before,p=f.values||[];return new Pl(p,h)}(n.endAt)),NK(e,i,s,a,o,"F",u,l)}function oY(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function H4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$u(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$u(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=$u(n.unaryFilter.field);return $e.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=$u(n.unaryFilter.field);return $e.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(n){return $e.create($u(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return et.create(n.compositeFilter.filters.map(r=>H4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(t):ve()}function uY(t){return ZK[t]}function lY(t){return eY[t]}function cY(t){return tY[t]}function Fu(t){return{fieldPath:t.canonicalString()}}function $u(t){return St.fromServerFormat(t.fieldPath)}function q4(t){return t instanceof $e?function(n){if(n.op==="=="){if(gC(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NAN"}};if(mC(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gC(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NOT_NAN"}};if(mC(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fu(n.field),op:lY(n.op),value:n.value}}}(t):t instanceof et?function(n){const r=n.getFilters().map(i=>q4(i));return r.length===1?r[0]:{compositeFilter:{op:cY(n.op),filters:r}}}(t):ve()}function fY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function z4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,r,i,a=_e.min(),s=_e.min(),o=zt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.ct=e}}function dY(t,e){let n;if(e.document)n=iY(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=de.fromSegments(e.noDocument.path),i=Yo(e.noDocument.readTime);n=Lt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ve();{const r=de.fromSegments(e.unknownDocument.path),i=Yo(e.unknownDocument.version);n=Lt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const a=new dt(i[0],i[1]);return _e.fromTimestamp(a)}(e.readTime)),n}function DC(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:q0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(a,s){return{name:V0(a,s.key),fields:s.data.value.mapValue.fields,updateTime:Rl(a,s.version.toTimestamp()),createTime:Rl(a,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ko(e.version)};else{if(!e.isUnknownDocument())return ve();r.unknownDocument={path:n.path.toArray(),version:Ko(e.version)}}return r}function q0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ko(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Yo(t){const e=new dt(t.seconds,t.nanoseconds);return _e.fromTimestamp(e)}function fo(t,e){const n=(e.baseMutations||[]).map(a=>xE(t.ct,a));for(let a=0;a<e.mutations.length-1;++a){const s=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const o=e.mutations[a+1];s.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map(a=>xE(t.ct,a)),i=dt.fromMillis(e.localWriteTimeMs);return new Gx(e.batchId,i,n,r)}function Mf(t){const e=Yo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Yo(t.lastLimboFreeSnapshotVersion):_e.min();let r;return r=function(a){return a.documents!==void 0}(t.query)?function(a){return be(a.documents.length===1),Br(Kh(F4(a.documents[0])))}(t.query):function(a){return Br(V4(a))}(t.query),new aa(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,zt.fromBase64String(t.resumeToken))}function G4(t,e){const n=Ko(e.snapshotVersion),r=Ko(e.lastLimboFreeSnapshotVersion);let i;i=$0(e.target)?B4(t.ct,e.target):U4(t.ct,e.target)._t;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Go(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function K4(t){const e=V4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?U0(e,e.limit,"L"):e}function c1(t,e){return new Yx(e.largestBatchId,xE(t.ct,e.overlayMutation))}function MC(t,e){const n=e.path.lastSegment();return[t,Hn(e.path.popLast()),n]}function LC(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Ko(r.readTime),documentKey:Hn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{getBundleMetadata(e,n){return jC(e).get(n).next(r=>{if(r)return function(a){return{id:a.bundleId,createTime:Yo(a.createTime),version:a.version}}(r)})}saveBundleMetadata(e,n){return jC(e).put(function(i){return{bundleId:i.id,createTime:Ko(qn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return FC(e).get(n).next(r=>{if(r)return function(a){return{name:a.name,query:K4(a.bundledQuery),readTime:Yo(a.readTime)}}(r)})}saveNamedQuery(e,n){return FC(e).put(function(i){return{name:i.name,readTime:Ko(qn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function jC(t){return Jt(t,"bundles")}function FC(t){return Jt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new qy(e,r)}getOverlay(e,n){return nf(e).get(MC(this.userId,n)).next(r=>r?c1(this.serializer,r):null)}getOverlays(e,n){const r=Pi();return H.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((a,s)=>{const o=new Yx(n,s);i.push(this.ht(e,o))}),H.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(Hn(s.getCollectionPath())));const a=[];return i.forEach(s=>{const o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);a.push(nf(e).j("collectionPathOverlayIndex",o))}),H.waitFor(a)}getOverlaysForCollection(e,n,r){const i=Pi(),a=Hn(n),s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return nf(e).U("collectionPathOverlayIndex",s).next(o=>{for(const u of o){const l=c1(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const a=Pi();let s;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return nf(e).J({index:"collectionGroupOverlayIndex",range:o},(u,l,c)=>{const f=c1(this.serializer,l);a.size()<i||f.largestBatchId===s?(a.set(f.getKey(),f),s=f.largestBatchId):c.done()}).next(()=>a)}ht(e,n){return nf(e).put(function(i,a,s){const[o,u,l]=MC(a,s.mutation.key);return{userId:a,collectionPath:u,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:H0(i.ct,s.mutation)}}(this.serializer,this.userId,n))}}function nf(t){return Jt(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{Pt(e){return Jt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?zt.fromUint8Array(r):zt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(bt(e.integerValue));else if("doubleValue"in e){const r=bt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Ld(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Ta(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ps(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?u4(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Fy(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ve()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const a=e.fields||{};this.dt(n,53);const s="value",o=((i=(r=a[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(bt(o)),this.Vt(s,n),this.Tt(a[s],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),de.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}ho.vt=new ho;function mY(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function $C(t){const e=64-function(r){let i=0;for(let a=0;a<8;++a){const s=mY(255&r[a]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}class gY{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=$C(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=$C(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(a){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,a,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class yY{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class vY{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class rf{constructor(){this.jt=new gY,this.Ht=new yY(this.jt),this.Jt=new vY(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new po(this.indexId,this.documentKey,this.arrayValue,r)}}function Ua(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=BC(t.arrayValue,e.arrayValue),n!==0?n:(n=BC(t.directionalValue,e.directionalValue),n!==0?n:de.comparator(t.documentKey,e.documentKey)))}function BC(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.Xt=new at((n,r)=>St.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(be(e.collectionGroup===this.collectionId),this.nn)return!1;const n=hE(e);if(n!==void 0&&!this.sn(n))return!1;const r=ao(e);let i=new Set,a=0,s=0;for(;a<r.length&&this.sn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.Xt.size>0){const o=this.Xt.getIterator().getNext();if(!i.has(o.field.canonicalString())){const u=r[a];if(!this.on(o,u)||!this._n(this.en[s++],u))return!1}++a}for(;a<r.length;++a){const o=r[a];if(s>=this.en.length||!this._n(this.en[s++],o))return!1}return!0}an(){if(this.nn)return null;let e=new at(St.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new qm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new qm(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new qm(r.field,r.dir==="asc"?0:1)));return new F0(F0.UNKNOWN_ID,this.collectionId,n,Md.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){var e,n;if(be(t instanceof $e||t instanceof et),t instanceof $e){if(t instanceof y4){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(a=>$e.create(t.field,"==",a)))||[];return et.create(i,"or")}return t}const r=t.filters.map(i=>Y4(i));return et.create(r,t.op)}function bY(t){if(t.getFilters().length===0)return[];const e=IE(Y4(t));return be(Q4(e)),AE(e)||SE(e)?[e]:e.getFilters()}function AE(t){return t instanceof $e}function SE(t){return t instanceof et&&zx(t)}function Q4(t){return AE(t)||SE(t)||function(n){if(n instanceof et&&yE(n)){for(const r of n.getFilters())if(!AE(r)&&!SE(r))return!1;return!0}return!1}(t)}function IE(t){if(be(t instanceof $e||t instanceof et),t instanceof $e)return t;if(t.filters.length===1)return IE(t.filters[0]);const e=t.filters.map(r=>IE(r));let n=et.create(e,t.op);return n=z0(n),Q4(n)?n:(be(n instanceof et),be(Cl(n)),be(n.filters.length>1),n.filters.reduce((r,i)=>Jx(r,i)))}function Jx(t,e){let n;return be(t instanceof $e||t instanceof et),be(e instanceof $e||e instanceof et),n=t instanceof $e?e instanceof $e?function(i,a){return et.create([i,a],"and")}(t,e):VC(t,e):e instanceof $e?VC(e,t):function(i,a){if(be(i.filters.length>0&&a.filters.length>0),Cl(i)&&Cl(a))return p4(i,a.getFilters());const s=yE(i)?i:a,o=yE(i)?a:i,u=s.filters.map(l=>Jx(l,o));return et.create(u,"or")}(t,e),z0(n)}function VC(t,e){if(Cl(e))return p4(e,t.getFilters());{const n=e.filters.map(r=>Jx(t,r));return et.create(n,"or")}}function z0(t){if(be(t instanceof $e||t instanceof et),t instanceof $e)return t;const e=t.getFilters();if(e.length===1)return z0(e[0]);if(d4(t))return t;const n=e.map(i=>z0(i)),r=[];return n.forEach(i=>{i instanceof $e?r.push(i):i instanceof et&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:et.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y{constructor(){this.un=new Zx}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Tr.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class Zx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new at(Xe.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new Uint8Array(0);class EY{constructor(e,n){this.databaseId=n,this.cn=new Zx,this.ln=new Fs(r=>Go(r),(r,i)=>Gh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const a={collectionId:r,parent:Hn(i)};return HC(e).put(a)}return H.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[X6(n),""],!1,!0);return HC(e).U(i).next(a=>{for(const s of a){if(s.collectionId!==n)break;r.push(Ii(s.parent))}return r})}addFieldIndex(e,n){const r=af(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])}}(n);delete i.indexId;const a=r.add(i);if(n.indexState){const s=Pu(e);return a.next(o=>{s.put(LC(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return a.next()}deleteFieldIndex(e,n){const r=af(e),i=Pu(e),a=Iu(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=af(e),r=Iu(e),i=Pu(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return H.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const a=new UC(r).an();if(a!=null)return this.addFieldIndex(e,a)}}))}getDocumentsMatchingTarget(e,n){const r=Iu(e);let i=!0;const a=new Map;return H.forEach(this.hn(n),s=>this.Pn(e,s).next(o=>{i&&(i=!!o),a.set(s,o)})).next(()=>{if(i){let s=ke();const o=[];return H.forEach(a,(u,l)=>{oe("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(C=>`${C.fieldPath}:${C.kind}`).join(",")}`}(u)} to execute ${Go(n)}`);const c=function(_,C){const A=hE(C);if(A===void 0)return null;for(const S of B0(_,A.fieldPath))switch(S.op){case"array-contains-any":return S.value.arrayValue.values||[];case"array-contains":return[S.value]}return null}(l,u),f=function(_,C){const A=new Map;for(const S of ao(C))for(const x of B0(_,S.fieldPath))switch(x.op){case"==":case"in":A.set(S.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return A.set(S.fieldPath.canonicalString(),x.value),Array.from(A.values())}return null}(l,u),h=function(_,C){const A=[];let S=!0;for(const x of ao(C)){const I=x.kind===0?EC(_,x.fieldPath,_.startAt):TC(_,x.fieldPath,_.startAt);A.push(I.value),S&&(S=I.inclusive)}return new Pl(A,S)}(l,u),p=function(_,C){const A=[];let S=!0;for(const x of ao(C)){const I=x.kind===0?TC(_,x.fieldPath,_.endAt):EC(_,x.fieldPath,_.endAt);A.push(I.value),S&&(S=I.inclusive)}return new Pl(A,S)}(l,u),g=this.In(u,l,h),v=this.In(u,l,p),b=this.Tn(u,l,f),w=this.En(u.indexId,c,g,h.inclusive,v,p.inclusive,b);return H.forEach(w,T=>r.G(T,n.limit).next(_=>{_.forEach(C=>{const A=de.fromSegments(C.documentKey);s.has(A)||(s=s.add(A),o.push(A))})}))}).next(()=>o)}return H.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=bY(et.create(e.filters,"and")).map(r=>bE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,a,s,o){const u=(n!=null?n.length:1)*Math.max(r.length,a.length),l=u/(n!=null?n.length:1),c=[];for(let f=0;f<u;++f){const h=n?this.dn(n[f/l]):rm,p=this.An(e,h,r[f%l],i),g=this.Rn(e,h,a[f%l],s),v=o.map(b=>this.An(e,h,b,!0));c.push(...this.createRange(p,g,v))}return c}An(e,n,r,i){const a=new po(e,de.empty(),n,r);return i?a:a.Zt()}Rn(e,n,r,i){const a=new po(e,de.empty(),n,r);return i?a.Zt():a}Pn(e,n){const r=new UC(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let s=null;for(const o of a)r.rn(o)&&(!s||o.fields.length>s.fields.length)&&(s=o);return s})}getIndexType(e,n){let r=2;const i=this.hn(n);return H.forEach(i,a=>this.Pn(e,a).next(s=>{s?r!==0&&s.fields.length<function(u){let l=new at(St.comparator),c=!1;for(const f of u.filters)for(const h of f.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:l=l.add(h.field));for(const f of u.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(c?1:0)}(a)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new rf;for(const i of ao(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const s=r.Yt(i.kind);ho.vt.It(a,s)}return r.zt()}dn(e){const n=new rf;return ho.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new rf;return ho.vt.It($d(this.databaseId,n),r.Yt(function(a){const s=ao(a);return s.length===0?0:s[s.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new rf);let a=0;for(const s of ao(e)){const o=r[a++];for(const u of i)if(this.fn(n,s.fieldPath)&&Bd(o))i=this.gn(i,s,o);else{const l=u.Yt(s.kind);ho.vt.It(o,l)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],a=[];for(const s of r.arrayValue.values||[])for(const o of i){const u=new rf;u.seed(o.zt()),ho.vt.It(s,u.Yt(n.kind)),a.push(u)}return a}fn(e,n){return!!e.filters.find(r=>r instanceof $e&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=af(e),i=Pu(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(a=>{const s=[];return H.forEach(a,o=>i.get([o.indexId,this.uid]).next(u=>{s.push(function(c,f){const h=f?new Md(f.sequenceNumber,new Tr(Yo(f.readTime),new de(Ii(f.documentKey)),f.largestBatchId)):Md.empty(),p=c.fields.map(([g,v])=>new qm(St.fromServerFormat(g),v));return new F0(c.indexId,c.collectionGroup,p,h)}(o,u))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:Oe(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=af(e),a=Pu(e);return this.yn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(o=>H.forEach(o,u=>a.put(LC(u.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return H.forEach(n,(i,a)=>{const s=r.get(i.collectionGroup);return(s?H.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(o=>(r.set(i.collectionGroup,o),H.forEach(o,u=>this.wn(e,i,u).next(l=>{const c=this.Sn(a,u);return l.isEqual(c)?H.resolve():this.bn(e,a,u,l,c)}))))})}Dn(e,n,r,i){return Iu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return Iu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=Iu(e);let a=new at(Ua);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(s,o)=>{a=a.add(new po(r.indexId,n,o.arrayValue,o.directionalValue))}).next(()=>a)}Sn(e,n){let r=new at(Ua);const i=this.Vn(n,e);if(i==null)return r;const a=hE(n);if(a!=null){const s=e.data.field(a.fieldPath);if(Bd(s))for(const o of s.arrayValue.values||[])r=r.add(new po(n.indexId,e.key,this.dn(o),i))}else r=r.add(new po(n.indexId,e.key,rm,i));return r}bn(e,n,r,i,a){oe("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(u,l,c,f,h){const p=u.getIterator(),g=l.getIterator();let v=Su(p),b=Su(g);for(;v||b;){let w=!1,T=!1;if(v&&b){const _=c(v,b);_<0?T=!0:_>0&&(w=!0)}else v!=null?T=!0:w=!0;w?(f(b),b=Su(g)):T?(h(v),v=Su(p)):(v=Su(p),b=Su(g))}}(i,a,Ua,o=>{s.push(this.Dn(e,n,r,o))},o=>{s.push(this.vn(e,n,r,o))}),H.waitFor(s)}yn(e){let n=1;return Pu(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,o)=>Ua(s,o)).filter((s,o,u)=>!o||Ua(s,u[o-1])!==0);const i=[];i.push(e);for(const s of r){const o=Ua(s,e),u=Ua(s,n);if(o===0)i[0]=e.Zt();else if(o>0&&u<0)i.push(s),i.push(s.Zt());else if(u>0)break}i.push(n);const a=[];for(let s=0;s<i.length;s+=2){if(this.Cn(i[s],i[s+1]))return[];const o=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,rm,[]],u=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,rm,[]];a.push(IDBKeyRange.bound(o,u))}return a}Cn(e,n){return Ua(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(qC)}getMinOffset(e,n){return H.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||ve())).next(qC)}}function HC(t){return Jt(t,"collectionParents")}function Iu(t){return Jt(t,"indexEntries")}function af(t){return Jt(t,"indexConfiguration")}function Pu(t){return Jt(t,"indexState")}function qC(t){be(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Bx(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Tr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Kn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Kn(e,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),a=[],s=IDBKeyRange.only(n.batchId);let o=0;const u=r.J({range:s},(c,f,h)=>(o++,h.delete()));a.push(u.next(()=>{be(o===1)}));const l=[];for(const c of n.mutations){const f=n4(e,c.key.path,n.batchId);a.push(i.delete(f)),l.push(c.key)}return H.waitFor(a).next(()=>l)}function W0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ve();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(41943040,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);class zy{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){be(e.uid!=="");const a=e.isAuthenticated()?e.uid:"";return new zy(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Va(e).J({index:"userMutationsIndex",range:r},(i,a,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const a=Bu(e),s=Va(e);return s.add({}).next(o=>{be(typeof o=="number");const u=new Gx(o,n,r,i),l=function(p,g,v){const b=v.baseMutations.map(T=>H0(p.ct,T)),w=v.mutations.map(T=>H0(p.ct,T));return{userId:g,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:b,mutations:w}}(this.serializer,this.userId,u),c=[];let f=new at((h,p)=>Oe(h.canonicalString(),p.canonicalString()));for(const h of i){const p=n4(this.userId,h.key.path,o);f=f.add(h.key.path.popLast()),c.push(s.put(l)),c.push(a.put(p,tK))}return f.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Fn[o]=u.keys()}),H.waitFor(c).next(()=>u)})}lookupMutationBatch(e,n){return Va(e).get(n).next(r=>r?(be(r.userId===this.userId),fo(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?H.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Va(e).J({index:"userMutationsIndex",range:i},(s,o,u)=>{o.userId===this.userId&&(be(o.batchId>=r),a=fo(this.serializer,o)),u.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Va(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,a,s)=>{r=a.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Va(e).U("userMutationsIndex",n).next(r=>r.map(i=>fo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=zm(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return Bu(e).J({range:i},(s,o,u)=>{const[l,c,f]=s,h=Ii(c);if(l===this.userId&&n.path.isEqual(h))return Va(e).get(f).next(p=>{if(!p)throw ve();be(p.userId===this.userId),a.push(fo(this.serializer,p))});u.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(Oe);const i=[];return n.forEach(a=>{const s=zm(this.userId,a.path),o=IDBKeyRange.lowerBound(s),u=Bu(e).J({range:o},(l,c,f)=>{const[h,p,g]=l,v=Ii(p);h===this.userId&&a.path.isEqual(v)?r=r.add(g):f.done()});i.push(u)}),H.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=zm(this.userId,r),s=IDBKeyRange.lowerBound(a);let o=new at(Oe);return Bu(e).J({range:s},(u,l,c)=>{const[f,h,p]=u,g=Ii(h);f===this.userId&&r.isPrefixOf(g)?g.length===i&&(o=o.add(p)):c.done()}).next(()=>this.xn(e,o))}xn(e,n){const r=[],i=[];return n.forEach(a=>{i.push(Va(e).get(a).next(s=>{if(s===null)throw ve();be(s.userId===this.userId),r.push(fo(this.serializer,s))}))}),H.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return X4(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),H.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return H.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return Bu(e).J({range:r},(a,s,o)=>{if(a[0]===this.userId){const u=Ii(a[1]);i.push(u)}else o.done()}).next(()=>{be(i.length===0)})})}containsKey(e,n){return J4(e,this.userId,n)}Nn(e){return Z4(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function J4(t,e,n){const r=zm(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let s=!1;return Bu(t).J({range:a,H:!0},(o,u,l)=>{const[c,f,h]=o;c===e&&f===i&&(s=!0),l.done()}).next(()=>s)}function Va(t){return Jt(t,"mutations")}function Bu(t){return Jt(t,"documentMutations")}function Z4(t){return Jt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Qo(0)}static kn(){return new Qo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TY{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Qo(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>_e.fromTimestamp(new dt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Cu(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(be(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const a=[];return Cu(e).J((s,o)=>{const u=Mf(o);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,a.push(this.removeTargetData(e,u)))}).next(()=>H.waitFor(a)).next(()=>i)}forEachTarget(e,n){return Cu(e).J((r,i)=>{const a=Mf(i);n(a)})}qn(e){return WC(e).get("targetGlobalKey").next(n=>(be(n!==null),n))}Qn(e,n){return WC(e).put("targetGlobalKey",n)}Kn(e,n){return Cu(e).put(G4(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Go(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Cu(e).J({range:i,index:"queryTargetsIndex"},(s,o,u)=>{const l=Mf(o);Gh(n,l.target)&&(a=l,u.done())}).next(()=>a)}addMatchingKeys(e,n,r){const i=[],a=ts(e);return n.forEach(s=>{const o=Hn(s.path);i.push(a.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,s))}),H.waitFor(i)}removeMatchingKeys(e,n,r){const i=ts(e);return H.forEach(n,a=>{const s=Hn(a.path);return H.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,n){const r=ts(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ts(e);let a=ke();return i.J({range:r,H:!0},(s,o,u)=>{const l=Ii(s[1]),c=new de(l);a=a.add(c)}).next(()=>a)}containsKey(e,n){const r=Hn(n.path),i=IDBKeyRange.bound([r],[X6(r)],!1,!0);let a=0;return ts(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,o],u,l)=>{s!==0&&(a++,l.done())}).next(()=>a>0)}ot(e,n){return Cu(e).get(n).next(r=>r?Mf(r):null)}}function Cu(t){return Jt(t,"targets")}function WC(t){return Jt(t,"targetGlobal")}function ts(t){return Jt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC([t,e],[n,r]){const i=Oe(t,n);return i===0?Oe(e,r):i}class wY{constructor(e){this.Un=e,this.buffer=new at(GC),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xY{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){js(n)?oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await fu(n)}await this.Hn(3e5)})}}class AY{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(Lr.oe);const r=new wY(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(zC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zC):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,a,s,o,u,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,o=Date.now(),this.removeTargets(e,r,n))).next(f=>(a=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),Lu()<=Fe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(u-o)+`ms
	Removed ${f} documents in `+(l-u)+`ms
Total Duration: ${l-c}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function SY(t,e){return new AY(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(e,n){this.db=e,this.garbageCollector=SY(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return im(e,r)}removeReference(e,n,r){return im(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return im(e,n)}nr(e,n){return function(i,a){let s=!1;return Z4(i).Y(o=>J4(i,o,a).next(u=>(u&&(s=!0),H.resolve(!u)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.tr(e,(s,o)=>{if(o<=n){const u=this.nr(e,s).next(l=>{if(!l)return a++,r.getEntry(e,s).next(()=>(r.removeEntry(s,_e.min()),ts(e).delete(function(f){return[0,Hn(f.path)]}(s))))});i.push(u)}}).next(()=>H.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return im(e,n)}tr(e,n){const r=ts(e);let i,a=Lr.oe;return r.J({index:"documentTargetsIndex"},([s,o],{path:u,sequenceNumber:l})=>{s===0?(a!==Lr.oe&&n(new de(Ii(i)),a),a=l,i=u):a=Lr.oe}).next(()=>{a!==Lr.oe&&n(new de(Ii(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function im(t,e){return ts(t).put(function(r,i){return{targetId:0,path:Hn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(){this.changes=new Fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PY{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Zs(e).put(r)}removeEntry(e,n,r){return Zs(e).delete(function(a,s){const o=a.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],q0(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=Lt.newInvalidDocument(n);return Zs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(sf(n))},(i,a)=>{r=this.ir(n,a)}).next(()=>r)}sr(e,n){let r={size:0,document:Lt.newInvalidDocument(n)};return Zs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(sf(n))},(i,a)=>{r={document:this.ir(n,a),size:W0(a)}}).next(()=>r)}getEntries(e,n){let r=gr();return this._r(e,n,(i,a)=>{const s=this.ir(i,a);r=r.insert(i,s)}).next(()=>r)}ar(e,n){let r=gr(),i=new Tt(de.comparator);return this._r(e,n,(a,s)=>{const o=this.ir(a,s);r=r.insert(a,o),i=i.insert(a,W0(s))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return H.resolve();let i=new at(QC);n.forEach(u=>i=i.add(u));const a=IDBKeyRange.bound(sf(i.first()),sf(i.last())),s=i.getIterator();let o=s.getNext();return Zs(e).J({index:"documentKeyIndex",range:a},(u,l,c)=>{const f=de.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;o&&QC(o,f)<0;)r(o,null),o=s.getNext();o&&o.isEqual(f)&&(r(o,l),o=s.hasNext()?s.getNext():null),o?c.$(sf(o)):c.done()}).next(()=>{for(;o;)r(o,null),o=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,a){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),q0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zs(e).U(IDBKeyRange.bound(o,u,!0)).next(l=>{a==null||a.incrementDocumentReadCount(l.length);let c=gr();for(const f of l){const h=this.ir(de.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h.isFoundDocument()&&(Yh(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let a=gr();const s=YC(n,r),o=YC(n,Tr.max());return Zs(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},(u,l,c)=>{const f=this.ir(de.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);a=a.insert(f.key,f),a.size===i&&c.done()}).next(()=>a)}newChangeBuffer(e){return new CY(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return KC(e).get("remoteDocumentGlobalKey").next(n=>(be(!!n),n))}rr(e,n){return KC(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=dY(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(_e.min())))return r}return Lt.newInvalidDocument(e)}}function t5(t){return new PY(t)}class CY extends e5{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new Fs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new at((a,s)=>Oe(a.canonicalString(),s.canonicalString()));return this.changes.forEach((a,s)=>{const o=this.lr.get(a);if(n.push(this.cr.removeEntry(e,a,o.readTime)),s.isValidDocument()){const u=DC(this.cr.serializer,s);i=i.add(a.path.popLast());const l=W0(u);r+=l-o.size,n.push(this.cr.addEntry(e,a,u))}else if(r-=o.size,this.trackRemovals){const u=DC(this.cr.serializer,s.convertToNoDocument(_e.min()));n.push(this.cr.addEntry(e,a,u))}}),i.forEach(a=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,a))}),n.push(this.cr.updateMetadata(e,r)),H.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((a,s)=>{this.lr.set(a,{size:s,readTime:r.get(a).readTime})}),r))}}function KC(t){return Jt(t,"remoteDocumentGlobal")}function Zs(t){return Jt(t,"remoteDocumentsV14")}function sf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function YC(t,e){const n=e.documentKey.path.toArray();return[t,q0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function QC(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=Oe(n[a],r[a]),i)return i;return i=Oe(n.length,r.length),i||(i=Oe(n[n.length-2],r[r.length-2]),i||Oe(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Zf(r.mutation,i,mr.empty(),dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const i=Pi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=kf();return a.forEach((o,u)=>{s=s.insert(o,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Pi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=gr();const s=Jf(),o=function(){return Jf()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof Na)?a=a.insert(l.key,l):c!==void 0?(s.set(l.key,c.mutation.getFieldMask()),Zf(c.mutation,l,c.mutation.getFieldMask(),dt.now())):s.set(l.key,mr.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((l,c)=>s.set(l,c)),n.forEach((l,c)=>{var f;return o.set(l,new OY(c,(f=s.get(l))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(e,n){const r=Jf();let i=new Tt((s,o)=>s-o),a=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||mr.empty();c=o.applyToLocalView(l,c),r.set(u,c);const f=(i.get(o.batchId)||ke()).add(u);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),l=u.key,c=u.value,f=w4();c.forEach(h=>{if(!a.has(h)){const p=C4(n.get(h),r.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return H.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):H.resolve(Pi());let o=-1,u=a;return s.next(l=>H.forEach(l,(c,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(c)?H.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,a)).next(()=>this.computeViews(e,u,l,ke())).next(c=>({batchId:o,changes:T4(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=kf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=kf();return this.indexManager.getCollectionParents(e,a).next(o=>H.forEach(o,u=>{const l=function(f,h){return new dc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((u,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,Lt.newInvalidDocument(c)))});let o=kf();return s.forEach((u,l)=>{const c=a.get(u);c!==void 0&&Zf(c.mutation,l,mr.empty(),dt.now()),Yh(n,l)&&(o=o.insert(u,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qn(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:K4(i.bundledQuery),readTime:qn(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{constructor(){this.overlays=new Tt(de.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pi();return H.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=Pi(),a=n.length+1,s=new de(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const u=o.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Tt((l,c)=>l-c);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=a.get(l.largestBatchId);c===null&&(c=Pi(),a=a.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const o=Pi(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>o.set(l,c)),!(o.size()>=i)););return H.resolve(o)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Yx(n,r));let a=this.Ir.get(n);a===void 0&&(a=ke(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kY{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.Tr=new at(tn.Er),this.dr=new at(tn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new tn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new tn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new de(new Xe([])),r=new tn(n,e),i=new tn(n,e+1),a=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new de(new Xe([])),r=new tn(n,e),i=new tn(n,e+1);let a=ke();return this.dr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new tn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return de.comparator(e.key,n.key)||Oe(e.wr,n.wr)}static Ar(e,n){return Oe(e.wr,n.wr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new at(tn.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Gx(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.br=this.br.add(new tn(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return H.resolve(s)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return H.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tn(n,0),i=new tn(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],s=>{const o=this.Dr(s.wr);a.push(o)}),H.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(Oe);return n.forEach(i=>{const a=new tn(i,0),s=new tn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],o=>{r=r.add(o.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;de.isDocumentKey(a)||(a=a.child(""));const s=new tn(new de(a),0);let o=new at(Oe);return this.br.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(o=o.add(u.wr)),!0)},s),H.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,i=>{const a=new tn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new tn(n,0),i=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(e){this.Mr=e,this.docs=function(){return new Tt(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Lt.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Lt.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=gr();const s=n.path,o=new de(s.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Bx(J6(c),r)<=0||(i.has(c.key)||Yh(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return H.resolve(a)}getAllFromCollectionGroup(e,n,r,i){ve()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LY(this)}getSize(e){return H.resolve(this.size)}}class LY extends e5{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jY{constructor(e){this.persistence=e,this.Nr=new Fs(n=>Go(n),Gh),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new eA,this.targetCount=0,this.kr=Qo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Qo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),H.waitFor(a).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),H.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Lr(0),this.Kr=!1,this.Kr=!0,this.$r=new kY,this.referenceDelegate=e(this),this.Ur=new jY(this),this.indexManager=new _Y,this.remoteDocumentCache=function(i){return new MY(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new W4(n),this.Gr=new NY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new DY(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new FY(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class FY extends e4{constructor(e){super(),this.currentSequenceNumber=e}}class Wy{constructor(e){this.persistence=e,this.Jr=new eA,this.Yr=null}static Zr(e){return new Wy(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{const i=de.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,_e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e){this.serializer=e}O(e,n,r,i){const a=new Ly("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore("owner")}(e),function(u){u.createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cC,{unique:!0}),u.createObjectStore("documentMutations")}(e),XC(e),function(u){u.createObjectStore("remoteDocuments")}(e));let s=H.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),XC(e)),s=s.next(()=>function(u){const l=u.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_e.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(a))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(u,l){return l.store("mutations").U().next(c=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cC,{unique:!0});const f=l.store("mutations"),h=c.map(p=>f.put(p));return H.waitFor(h)})}(e,a))),s=s.next(()=>{(function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.ni(a))),r<6&&i>=6&&(s=s.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.ri(a)))),r<7&&i>=7&&(s=s.next(()=>this.ii(a))),r<8&&i>=8&&(s=s.next(()=>this.si(e,a))),r<9&&i>=9&&(s=s.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.oi(a))),r<11&&i>=11&&(s=s.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(u){const l=u.createObjectStore("documentOverlays",{keyPath:hK});l.createIndex("collectionPathOverlayIndex",pK,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",mK,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(u){const l=u.createObjectStore("remoteDocumentsV14",{keyPath:nK});l.createIndex("documentKeyIndex",rK),l.createIndex("collectionGroupIndex",iK)}(e)).next(()=>this._i(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ai(e,a))),r<15&&i>=15&&(s=s.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:lK}).createIndex("sequenceNumberIndex",cK,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:fK}).createIndex("documentKeyIndex",dK,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(u){u.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=W0(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>H.forEach(i,a=>{const s=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(o=>H.forEach(o,u=>{be(u.userId===a.userId);const l=fo(this.serializer,u);return X4(e,a.userId,l).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.J((s,o)=>{const u=new Xe(s),l=function(f){return[0,Hn(f)]}(u);a.push(n.get(l).next(c=>c?H.resolve():(f=>n.put({targetId:0,path:Hn(f),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>H.waitFor(a))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:uK});const r=n.store("collectionParents"),i=new Zx,a=s=>{if(i.add(s)){const o=s.lastSegment(),u=s.popLast();return r.put({collectionId:o,parent:Hn(u)})}};return n.store("remoteDocuments").J({H:!0},(s,o)=>{const u=new Xe(s);return a(u.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,o,u],l)=>{const c=Ii(o);return a(c.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const a=Mf(i),s=G4(this.serializer,a);return n.put(s)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((a,s)=>{const o=n.store("remoteDocumentsV14"),u=function(f){return f.document?new de(Xe.fromString(f.document.name).popFirst(5)):f.noDocument?de.fromSegments(f.noDocument.path):f.unknownDocument?de.fromSegments(f.unknownDocument.path):ve()}(s).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(o.put(l))}).next(()=>H.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=t5(this.serializer),a=new r5(Wy.Zr,this.serializer.ct);return r.U().next(s=>{const o=new Map;return s.forEach(u=>{var l;let c=(l=o.get(u.userId))!==null&&l!==void 0?l:ke();fo(this.serializer,u).keys().forEach(f=>c=c.add(f)),o.set(u.userId,c)}),H.forEach(o,(u,l)=>{const c=new pn(l),f=qy.lt(this.serializer,c),h=a.getIndexManager(c),p=zy.lt(c,this.serializer,h,a.referenceDelegate);return new n5(i,p,f,h).recalculateAndSaveOverlaysForDocumentKeys(new pE(n,Lr.oe),u).next()})})}}function XC(t){t.createObjectStore("targetDocuments",{keyPath:sK}).createIndex("documentTargetsIndex",oK,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",aK,{unique:!0}),t.createObjectStore("targetGlobal")}const f1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tA{constructor(e,n,r,i,a,s,o,u,l,c,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=a,this.window=s,this.document=o,this.ci=l,this.li=c,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=h=>Promise.resolve(),!tA.D())throw new ce(J.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new IY(this,i),this.Ai=n+"main",this.serializer=new W4(u),this.Ri=new Ts(this.Ai,this.hi,new $Y(this.serializer)),this.$r=new pY,this.Ur=new TY(this.referenceDelegate,this.serializer),this.remoteDocumentCache=t5(this.serializer),this.Gr=new hY,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,c===!1&&$n("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(J.FAILED_PRECONDITION,f1);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Lr(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>am(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(js(e))return oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return of(e).get("owner").next(n=>H.resolve(this.vi(n)))}Ci(e){return am(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Jt(n,"clientMetadata");return r.U().next(i=>{const a=this.xi(i,18e5),s=i.filter(o=>a.indexOf(o)===-1);return H.forEach(s,o=>r.delete(o.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?H.resolve(!0):of(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new ce(J.FAILED_PRECONDITION,f1);return!1}}return!(!this.networkEnabled||!this.inForeground)||am(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(a||s&&o)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&oe("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new pE(e,Lr.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>am(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return zy.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new EY(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return qy.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){oe("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=function(u){return u===17?vK:u===16?yK:u===15?Vx:u===14?a4:u===13?i4:u===12?gK:u===11?r4:void ve()}(this.hi);let s;return this.Ri.runTransaction(e,i,a,o=>(s=new pE(o,this.Qr?this.Qr.next():Lr.oe),n==="readwrite-primary"?this.wi(s).next(u=>!!u||this.Si(s)).next(u=>{if(!u)throw $n(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new ce(J.FAILED_PRECONDITION,Z6);return r(s)}).next(u=>this.Di(s).next(()=>u)):this.Ki(s).next(()=>r(s)))).then(o=>(s.raiseOnCommittedEvent(),o))}Ki(e){return of(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ce(J.FAILED_PRECONDITION,f1)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return of(e).put("owner",n)}static D(){return Ts.D()}bi(e){const n=of(e);return n.get("owner").next(r=>this.vi(r)?(oe("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):H.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||($n(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;t6()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return oe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return $n("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){$n("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function of(t){return Jt(t,"owner")}function am(t){return Jt(t,"clientMetadata")}function BY(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ke(),i=ke();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new nA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return t6()?8:t4(Xt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new UY;return this.Xi(e,n,s).next(o=>{if(a.result=o,this.zi)return this.es(e,n,s,o.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Lu()<=Fe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ju(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(Lu()<=Fe.DEBUG&&oe("QueryEngine","Query:",ju(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Lu()<=Fe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ju(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(n))):H.resolve())}Yi(e,n){if(wC(n))return H.resolve(null);let r=Br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=U0(n,null,"F"),r=Br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=ke(...a);return this.Ji.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.ts(n,o);return this.ns(n,l,s,u.readTime)?this.Yi(e,U0(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return wC(n)||i.isEqual(_e.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const s=this.ts(n,a);return this.ns(n,s,r,i)?H.resolve(null):(Lu()<=Fe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ju(n)),this.rs(e,s,n,KG(i,-1)).next(o=>o))})}ts(e,n){let r=new at(_4(e));return n.forEach((i,a)=>{Yh(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return Lu()<=Fe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ju(n)),this.Ji.getDocumentsMatchingQuery(e,n,Tr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Tt(Oe),this._s=new Fs(a=>Go(a),Gh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function a5(t,e,n,r){return new VY(t,e,n,r)}async function s5(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let u=ke();for(const l of i){s.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of a){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:o}))})})}function HY(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,u,l,c){const f=l.batch,h=f.keys();let p=H.resolve();return h.forEach(g=>{p=p.next(()=>c.getEntry(u,g)).next(v=>{const b=l.docVersions.get(g);be(b!==null),v.version.compareTo(b)<0&&(f.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),c.addEntry(v)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(u,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=ke();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(u=u.add(o.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function o5(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function qY(t,e){const n=Ie(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;o.push(n.Ur.removeMatchingKeys(a,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(a,c.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(zt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(v,b,w){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,c)&&o.push(n.Ur.updateTargetData(a,p))});let u=gr(),l=ke();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(zY(a,s,e.documentUpdates).next(c=>{u=c.Ps,l=c.Is})),!r.isEqual(_e.min())){const c=n.Ur.getLastRemoteSnapshotVersion(a).next(f=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(c)}return H.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,u,l)).next(()=>u)}).then(a=>(n.os=i,a))}function zY(t,e,n){let r=ke(),i=ke();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=gr();return n.forEach((o,u)=>{const l=a.get(o);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(o)),u.isNoDocument()&&u.version.isEqual(_e.min())?(e.removeEntry(o,u.readTime),s=s.insert(o,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(o,u)):oe("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function WY(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GY(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,H.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new aa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function PE(t,e,n){const r=Ie(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!js(s))throw s;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function JC(t,e,n){const r=Ie(t);let i=_e.min(),a=ke();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,c){const f=Ie(u),h=f._s.get(c);return h!==void 0?H.resolve(f.os.get(h)):f.Ur.getTargetData(l,c)}(r,s,Br(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,o.targetId).next(u=>{a=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:_e.min(),n?a:ke())).next(o=>(KY(r,kK(e),o),{documents:o,Ts:a})))}function KY(t,e,n){let r=t.us.get(e)||_e.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class ZC{constructor(){this.activeTargetIds=$K()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u5{constructor(){this.so=new ZC,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ZC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YY{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sm=null;function d1(){return sm===null?sm=function(){return 268435456+Math.round(2147483648*Math.random())}():sm++,"0x"+sm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class JY extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,s){const o=d1(),u=this.xo(n,r.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${o}:`,u,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,a,s),this.No(n,u,l,i).then(c=>(oe("RestConnection",`Received RPC '${n}' ${o}: `,c),c),c=>{throw Al("RestConnection",`RPC '${n}' ${o} failed with error: `,c,"url: ",u,"request:",i),c})}Lo(n,r,i,a,s,o){return this.Mo(n,r,i,a,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>n[s]=a),i&&i.headers.forEach((a,s)=>n[s]=a)}xo(n,r){const i=QY[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=d1();return new Promise((s,o)=>{const u=new q6;u.setWithCredentials(!0),u.listenOnce(z6.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Hm.NO_ERROR:const c=u.getResponseJson();oe(Sn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(c)),s(c);break;case Hm.TIMEOUT:oe(Sn,`RPC '${e}' ${a} timed out`),o(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case Hm.HTTP_ERROR:const f=u.getStatus();if(oe(Sn,`RPC '${e}' ${a} failed with status:`,f,"response text:",u.getResponseText()),f>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(w)>=0?w:J.UNKNOWN}(p.status);o(new ce(g,p.message))}else o(new ce(J.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new ce(J.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{oe(Sn,`RPC '${e}' ${a} completed.`)}});const l=JSON.stringify(i);oe(Sn,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){const i=d1(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=K6(),o=G6(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=a.join("");oe(Sn,`Creating RPC '${e}' stream ${i}: ${c}`,u);const f=s.createWebChannel(c,u);let h=!1,p=!1;const g=new XY({Io:b=>{p?oe(Sn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(oe(Sn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),oe(Sn,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},To:()=>f.close()}),v=(b,w,T)=>{b.listen(w,_=>{try{T(_)}catch(C){setTimeout(()=>{throw C},0)}})};return v(f,Rf.EventType.OPEN,()=>{p||(oe(Sn,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),v(f,Rf.EventType.CLOSE,()=>{p||(p=!0,oe(Sn,`RPC '${e}' stream ${i} transport closed`),g.So())}),v(f,Rf.EventType.ERROR,b=>{p||(p=!0,Al(Sn,`RPC '${e}' stream ${i} transport errored:`,b),g.So(new ce(J.UNAVAILABLE,"The operation could not be completed")))}),v(f,Rf.EventType.MESSAGE,b=>{var w;if(!p){const T=b.data[0];be(!!T);const _=T,C=_.error||((w=_[0])===null||w===void 0?void 0:w.error);if(C){oe(Sn,`RPC '${e}' stream ${i} received error:`,C);const A=C.status;let S=function(O){const R=Bt[O];if(R!==void 0)return R4(R)}(A),x=C.message;S===void 0&&(S=J.INTERNAL,x="Unknown error status: "+A+" with message "+C.message),p=!0,g.So(new ce(S,x)),f.close()}else oe(Sn,`RPC '${e}' stream ${i} received:`,T),g.bo(T)}}),v(o,W6.STAT_EVENT,b=>{b.stat===dE.PROXY?oe(Sn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===dE.NOPROXY&&oe(Sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZY(){return typeof window<"u"?window:null}function Qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t){return new nY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n,r,i,a,s,o,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new l5(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?($n(n.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ce(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eQ extends c5{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=aY(this.serializer,e),r=function(a){if(!("targetChange"in a))return _e.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?_e.min():s.readTime?qn(s.readTime):_e.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=wE(this.serializer),n.addTarget=function(a,s){let o;const u=s.target;if(o=$0(u)?{documents:B4(a,u)}:{query:U4(a,u)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=M4(a,s.resumeToken);const l=EE(a,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(_e.min())>0){o.readTime=Rl(a,s.snapshotVersion.toTimestamp());const l=EE(a,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=oY(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=wE(this.serializer),n.removeTarget=e,this.a_(n)}}class tQ extends c5{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=sY(e.writeResults,e.commitTime),r=qn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=wE(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>H0(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,TE(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(J.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(e,TE(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(J.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class rQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($n(n),this.D_=!1):oe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{r.enqueueAndForget(async()=>{hu(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Ie(u);l.L_.add(4),await Xh(l),l.q_.set("Unknown"),l.L_.delete(4),await Ky(l)}(this))})}),this.q_=new rQ(r,i)}}async function Ky(t){if(hu(t))for(const e of t.B_)await e(!0)}async function Xh(t){for(const e of t.B_)await e(!1)}function f5(t,e){const n=Ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),sA(n)?aA(n):pc(n).r_()&&iA(n,e))}function rA(t,e){const n=Ie(t),r=pc(n);n.N_.delete(e),r.r_()&&d5(n,e),n.N_.size===0&&(r.r_()?r.o_():hu(n)&&n.q_.set("Unknown"))}function iA(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pc(t).A_(e)}function d5(t,e){t.Q_.xe(e),pc(t).R_(e)}function aA(t){t.Q_=new JK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),pc(t).start(),t.q_.v_()}function sA(t){return hu(t)&&!pc(t).n_()&&t.N_.size>0}function hu(t){return Ie(t).L_.size===0}function h5(t){t.Q_=void 0}async function aQ(t){t.q_.set("Online")}async function sQ(t){t.N_.forEach((e,n)=>{iA(t,e)})}async function oQ(t,e){h5(t),sA(t)?(t.q_.M_(e),aA(t)):t.q_.set("Unknown")}async function uQ(t,e,n){if(t.q_.set("Online"),e instanceof D4&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await G0(t,r)}else if(e instanceof Ym?t.Q_.Ke(e):e instanceof k4?t.Q_.He(e):t.Q_.We(e),!n.isEqual(_e.min()))try{const r=await o5(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Q_.rt(s);return o.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=a.N_.get(l);c&&a.N_.set(l,c.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,l)=>{const c=a.N_.get(u);if(!c)return;a.N_.set(u,c.withResumeToken(zt.EMPTY_BYTE_STRING,c.snapshotVersion)),d5(a,u);const f=new aa(c.target,u,l,c.sequenceNumber);iA(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),await G0(t,r)}}async function G0(t,e,n){if(!js(e))throw e;t.L_.add(1),await Xh(t),t.q_.set("Offline"),n||(n=()=>o5(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ky(t)})}function p5(t,e){return e().catch(n=>G0(t,n,e))}async function Jh(t){const e=Ie(t),n=Os(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;lQ(e);)try{const i=await WY(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,cQ(e,i)}catch(i){await G0(e,i)}m5(e)&&g5(e)}function lQ(t){return hu(t)&&t.O_.length<10}function cQ(t,e){t.O_.push(e);const n=Os(t);n.r_()&&n.V_&&n.m_(e.mutations)}function m5(t){return hu(t)&&!Os(t).n_()&&t.O_.length>0}function g5(t){Os(t).start()}async function fQ(t){Os(t).p_()}async function dQ(t){const e=Os(t);for(const n of t.O_)e.m_(n.mutations)}async function hQ(t,e,n){const r=t.O_.shift(),i=Kx.from(r,e,n);await p5(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jh(t)}async function pQ(t,e){e&&Os(t).V_&&await async function(r,i){if(function(s){return YK(s)&&s!==J.ABORTED}(i.code)){const a=r.O_.shift();Os(r).s_(),await p5(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Jh(r)}}(t,e),m5(t)&&g5(t)}async function tO(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=hu(n);n.L_.add(3),await Xh(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ky(n)}async function mQ(t,e){const n=Ie(t);e?(n.L_.delete(2),await Ky(n)):e||(n.L_.add(2),await Xh(n),n.q_.set("Unknown"))}function pc(t){return t.K_||(t.K_=function(n,r,i){const a=Ie(n);return a.w_(),new eQ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:aQ.bind(null,t),Ro:sQ.bind(null,t),mo:oQ.bind(null,t),d_:uQ.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),sA(t)?aA(t):t.q_.set("Unknown")):(await t.K_.stop(),h5(t))})),t.K_}function Os(t){return t.U_||(t.U_=function(n,r,i){const a=Ie(n);return a.w_(),new tQ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:fQ.bind(null,t),mo:pQ.bind(null,t),f_:dQ.bind(null,t),g_:hQ.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Jh(t)):(await t.U_.stop(),t.O_.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new oA(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uA(t,e){if($n("AsyncQueue",`${e}: ${t}`),js(t))return new ce(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=kf(),this.sortedSet=new Tt(this.comparator)}static emptySet(e){return new fl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.W_=new Tt(de.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class kl{constructor(e,n,r,i,a,s,o,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new kl(e,n,fl.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$y(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class yQ{constructor(){this.queries=rO(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ie(n),a=i.queries;i.queries=rO(),a.forEach((s,o)=>{for(const u of o.j_)u.onError(r)})})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function rO(){return new Fs(t=>b4(t),$y)}async function y5(t,e){const n=Ie(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new gQ,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=uA(s,`Initialization of query '${ju(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&lA(n)}async function v5(t,e){const n=Ie(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vQ(t,e){const n=Ie(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.j_)o.X_(i)&&(r=!0);s.z_=i}}r&&lA(n)}function bQ(t,e,n){const r=Ie(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function lA(t){t.Y_.forEach(e=>{e.next()})}var CE,iO;(iO=CE||(CE={})).ea="default",iO.Cache="cache";class b5{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==CE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.key=e}}class E5{constructor(e){this.key=e}}class _Q{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ke(),this.mutatedKeys=ke(),this.Aa=_4(e),this.Ra=new fl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new nO,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=Yh(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;h&&p?h.data.isEqual(p.data)?g!==v&&(r.track({type:3,doc:p}),b=!0):this.ga(h,p)||(r.track({type:2,doc:p}),b=!0,(u&&this.Aa(p,u)>0||l&&this.Aa(p,l)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),b=!0):h&&!p&&(r.track({type:1,doc:h}),b=!0,(u||l)&&(o=!0)),b&&(p?(s=s.add(p),a=v?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:o,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,f)=>function(p,g){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return v(p)-v(g)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new kl(this.query,e.Ra,a,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nO,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ke(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new E5(r))}),this.da.forEach(r=>{e.has(r)||n.push(new _5(r))}),n}ba(e){this.Ta=e.Ts,this.da=ke();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return kl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class EQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TQ{constructor(e){this.key=e,this.va=!1}}class wQ{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Fs(o=>b4(o),$y),this.Ma=new Map,this.xa=new Set,this.Oa=new Tt(de.comparator),this.Na=new Map,this.La=new eA,this.Ba={},this.ka=new Map,this.qa=Qo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function xQ(t,e,n=!0){const r=I5(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await T5(r,e,n,!0),i}async function AQ(t,e){const n=I5(t);await T5(n,e,!0,!1)}async function T5(t,e,n,r){const i=await GY(t.localStore,Br(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await SQ(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&f5(t.remoteStore,i),o}async function SQ(t,e,n,r,i){t.Ka=(f,h,p)=>async function(v,b,w,T){let _=b.view.ma(w);_.ns&&(_=await JC(v.localStore,b.query,!1).then(({documents:x})=>b.view.ma(x,_)));const C=T&&T.targetChanges.get(b.targetId),A=T&&T.targetMismatches.get(b.targetId)!=null,S=b.view.applyChanges(_,v.isPrimaryClient,C,A);return sO(v,b.targetId,S.wa),S.snapshot}(t,f,h,p);const a=await JC(t.localStore,e,!0),s=new _Q(e,a.Ts),o=s.ma(a.documents),u=Qh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(o,t.isPrimaryClient,u);sO(t,n,l.wa);const c=new EQ(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot}async function IQ(t,e,n){const r=Ie(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(s=>!$y(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await PE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rA(r.remoteStore,i.targetId),OE(r,i.targetId)}).catch(fu)):(OE(r,i.targetId),await PE(r.localStore,i.targetId,!0))}async function PQ(t,e){const n=Ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rA(n.remoteStore,r.targetId))}async function CQ(t,e,n){const r=P5(t);try{const i=await function(s,o){const u=Ie(s),l=dt.now(),c=o.reduce((p,g)=>p.add(g.key),ke());let f,h;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=gr(),v=ke();return u.cs.getEntries(p,c).next(b=>{g=b,g.forEach((w,T)=>{T.isValidDocument()||(v=v.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,g)).next(b=>{f=b;const w=[];for(const T of o){const _=GK(T,f.get(T.key).overlayedDocument);_!=null&&w.push(new Na(T.key,_,c4(_.value.mapValue),Nn.exists(!0)))}return u.mutationQueue.addMutationBatch(p,l,w,o)}).next(b=>{h=b;const w=b.applyToLocalDocumentSet(f,v);return u.documentOverlayCache.saveOverlays(p,b.batchId,w)})}).then(()=>({batchId:h.batchId,changes:T4(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Tt(Oe)),l=l.insert(o,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),await Zh(r,i.changes),await Jh(r.remoteStore)}catch(i){const a=uA(i,"Failed to persist write");n.reject(a)}}async function w5(t,e){const n=Ie(t);try{const r=await qY(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Na.get(a);s&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?be(s.va):i.removedDocuments.size>0&&(be(s.va),s.va=!1))}),await Zh(n,r,e)}catch(r){await fu(r)}}function aO(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,s)=>{const o=s.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const u=Ie(s);u.onlineState=o;let l=!1;u.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(o)&&(l=!0)}),l&&lA(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OQ(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let s=new Tt(de.comparator);s=s.insert(a,Lt.newNoDocument(a,_e.min()));const o=ke().add(a),u=new Hy(_e.min(),new Map,new Tt(Oe),s,o);await w5(r,u),r.Oa=r.Oa.remove(a),r.Na.delete(e),cA(r)}else await PE(r.localStore,e,!1).then(()=>OE(r,e,n)).catch(fu)}async function NQ(t,e){const n=Ie(t),r=e.batch.batchId;try{const i=await HY(n.localStore,e);A5(n,r,null),x5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zh(n,i)}catch(i){await fu(i)}}async function RQ(t,e,n){const r=Ie(t);try{const i=await function(s,o){const u=Ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,o).next(f=>(be(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);A5(r,e,n),x5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zh(r,i)}catch(i){await fu(i)}}function x5(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function A5(t,e,n){const r=Ie(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function OE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||S5(t,r)})}function S5(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(rA(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),cA(t))}function sO(t,e,n){for(const r of n)r instanceof _5?(t.La.addReference(r.key,e),kQ(t,r)):r instanceof E5?(oe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||S5(t,r.key)):ve()}function kQ(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(oe("SyncEngine","New document in limbo: "+n),t.xa.add(r),cA(t))}function cA(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new de(Xe.fromString(e)),r=t.qa.next();t.Na.set(r,new TQ(n)),t.Oa=t.Oa.insert(n,r),f5(t.remoteStore,new aa(Br(Kh(n.path)),r,"TargetPurposeLimboResolution",Lr.oe))}}async function Zh(t,e,n){const r=Ie(t),i=[],a=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((o,u)=>{s.push(r.Ka(u,e,n).then(l=>{var c;if((l||n)&&r.isPrimaryClient){const f=l?!l.fromCache:(c=n==null?void 0:n.targetChanges.get(u.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);const f=nA.Wi(u.targetId,l);a.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(u,l){const c=Ie(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(l,h=>H.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>H.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!js(f))throw f;oe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const h=f.targetId;if(!f.fromCache){const p=c.os.get(h),g=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(h,v)}}}(r.localStore,a))}async function DQ(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=await s5(n.localStore,e);n.currentUser=e,function(a,s){a.ka.forEach(o=>{o.forEach(u=>{u.reject(new ce(J.CANCELLED,s))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zh(n,r.hs)}}function MQ(t,e){const n=Ie(t),r=n.Na.get(e);if(r&&r.va)return ke().add(r.key);{let i=ke();const a=n.Ma.get(e);if(!a)return i;for(const s of a){const o=n.Fa.get(s);i=i.unionWith(o.view.Va)}return i}}function I5(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=w5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OQ.bind(null,e),e.Ca.d_=vQ.bind(null,e.eventManager),e.Ca.$a=bQ.bind(null,e.eventManager),e}function P5(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RQ.bind(null,e),e}class qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gy(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return a5(this.persistence,new i5,e.initialUser,this.serializer)}Ga(e){return new r5(Wy.Zr,this.serializer)}Wa(e){return new u5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qd.provider={build:()=>new qd};class LQ extends qd{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await P5(this.Ja.syncEngine),await Jh(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return a5(this.persistence,new i5,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new xY(r,e.asyncQueue,n)}Ha(e,n){const r=new JG(n,this.persistence);return new XG(e.asyncQueue,r)}Ga(e){const n=BY(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new tA(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,ZY(),Qm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new u5}}class K0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DQ.bind(null,this.syncEngine),await mQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yQ}()}createDatastore(e){const n=Gy(e.databaseInfo.databaseId),r=function(a){return new JY(a)}(e.databaseInfo);return function(a,s,o,u){return new nQ(a,s,o,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new iQ(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>aO(this.syncEngine,n,0),function(){return eO.D()?new eO:new YY}())}createSyncEngine(e,n){return function(i,a,s,o,u,l,c){const f=new wQ(i,a,s,o,u,l);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Ie(i);oe("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Xh(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}K0.provider={build:()=>new K0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):$n("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pn.UNAUTHENTICATED,this.clientId=Q6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{oe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(oe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=uA(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function h1(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await s5(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function oO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FQ(t);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>tO(e.remoteStore,i)),t._onlineComponents=e}async function FQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await h1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Al("Error using user provided cache. Falling back to memory cache: "+n),await h1(t,new qd)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await h1(t,new qd);return t._offlineComponents}async function O5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await oO(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await oO(t,new K0))),t._onlineComponents}function $Q(t){return O5(t).then(e=>e.syncEngine)}async function NE(t){const e=await O5(t),n=e.eventManager;return n.onListen=xQ.bind(null,e.syncEngine),n.onUnlisten=IQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PQ.bind(null,e.syncEngine),n}function BQ(t,e,n={}){const r=new fa;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,u,l){const c=new C5({next:h=>{c.Za(),s.enqueueAndForget(()=>v5(a,f));const p=h.docs.has(o);!p&&h.fromCache?l.reject(new ce(J.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&u&&u.source==="server"?l.reject(new ce(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),f=new b5(Kh(o.path),c,{includeMetadataChanges:!0,_a:!0});return y5(a,f)}(await NE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t,e,n){if(!n)throw new ce(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UQ(t,e,n,r){if(e===!0&&r===!0)throw new ce(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lO(t){if(!de.isDocumentKey(t))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cO(t){if(de.isDocumentKey(t))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function Ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yy(t);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N5((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fO({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fO(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $G;switch(r.type){case"firstParty":return new HG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uO.get(n);r&&(oe("ComponentProvider","Removing Datastore"),uO.delete(n),r.terminate())}(this),Promise.resolve()}}function VQ(t,e,n,r={}){var i;const a=(t=Ur(t,Qy))._getSettings(),s=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),r.mockUserToken){let o,u;if(typeof r.mockUserToken=="string")o=r.mockUserToken,u=pn.MOCK_USER;else{o=XH(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new pn(l)}t._authCredentials=new BG(new Y6(o,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $s(this.firestore,e,this._query)}}class Rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class ws extends $s{constructor(e,n,r){super(e,n,Kh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new de(e))}withConverter(e){return new ws(this.firestore,e,this._path)}}function RE(t,e,...n){if(t=Ct(t),R5("collection","path",e),t instanceof Qy){const r=Xe.fromString(e,...n);return cO(r),new ws(t,null,r)}{if(!(t instanceof Rn||t instanceof ws))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return cO(r),new ws(t.firestore,null,r)}}function ns(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=Q6.newId()),R5("doc","path",e),t instanceof Qy){const r=Xe.fromString(e,...n);return lO(r),new Rn(t,null,new de(r))}{if(!(t instanceof Rn||t instanceof ws))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return lO(r),new Rn(t.firestore,t instanceof ws?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new l5(this,"async_queue_retry"),this.Vu=()=>{const r=Qm();r&&oe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new fa;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!js(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw $n("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=oA.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function hO(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Ns extends Qy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new dO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dO(e),this._firestoreClient=void 0,await e}}}function HQ(t,e,n){n||(n="(default)");const r=Ls(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),a=r.getOptions(n);if(wl(a,e))return i;throw new ce(J.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ce(J.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function qQ(t,e){const n=Ix(),r="(default)",i=Ls(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=YH("firestore");a&&VQ(i,...a)}return i}function fA(t){if(t._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zQ(t),t._firestoreClient}function zQ(t){var e,n,r;const i=t._freezeSettings(),a=function(o,u,l,c){return new _K(o,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,N5(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new jQ(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dl(zt.fromBase64String(e))}catch(n){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dl(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ=/^__.*__$/;class GQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Na(e,this.data,this.fieldMask,n,this.fieldTransforms):new hc(e,this.data,n,this.fieldTransforms)}}class KQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Na(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function k5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class mA{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new mA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Y0(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(k5(this.Cu)&&WQ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class YQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gy(e)}Qu(e,n,r,i=!1){return new mA({Cu:e,methodName:n,qu:r,path:St.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jy(t){const e=t._freezeSettings(),n=Gy(t._databaseId);return new YQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function D5(t,e,n,r,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);yA("Data must be an object, but it was:",s,r);const o=M5(r,s);let u,l;if(a.merge)u=new mr(s.fieldMask),l=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const h=j5(e,f,n);if(!s.contains(h))throw new ce(J.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);eX(c,h)||c.push(h)}u=new mr(c),l=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=s.fieldTransforms;return new GQ(new Bn(o),u,l)}class gA extends dA{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gA}}function QQ(t,e,n,r){const i=t.Qu(1,e,n);yA("Data must be an object, but it was:",i,r);const a=[],s=Bn.empty();du(r,(u,l)=>{const c=vA(e,u,n);l=Ct(l);const f=i.Nu(c);if(l instanceof gA)a.push(c);else{const h=Zy(l,f);h!=null&&(a.push(c),s.set(c,h))}});const o=new mr(a);return new KQ(s,o,i.fieldTransforms)}function XQ(t,e,n,r,i,a){if(t.Qu(1,e,n),j5(e,r,n),a.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`)}function JQ(t,e,n,r=!1){return Zy(n,t.Qu(r?4:3,e))}function Zy(t,e){if(L5(t=Ct(t)))return yA("Unsupported field value:",e,t),M5(t,e);if(t instanceof dA)return function(r,i){if(!k5(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let u=Zy(o,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=dt.fromDate(r);return{timestampValue:Rl(i.serializer,a)}}if(r instanceof dt){const a=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rl(i.serializer,a)}}if(r instanceof hA)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dl)return{bytesValue:M4(i.serializer,r._byteString)};if(r instanceof Rn){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Xx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pA)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Bu("VectorValues must only contain numeric values.");return Wx(o.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Yy(r)}`)}(t,e)}function M5(t,e){const n={};return s4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):du(t,(r,i)=>{const a=Zy(i,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function L5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof hA||t instanceof Dl||t instanceof Rn||t instanceof dA||t instanceof pA)}function yA(t,e,n){if(!L5(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Yy(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function j5(t,e,n){if((e=Ct(e))instanceof Xy)return e._internalPath;if(typeof e=="string")return vA(t,e);throw Y0("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZQ=new RegExp("[~\\*/\\[\\]]");function vA(t,e,n){if(e.search(ZQ)>=0)throw Y0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xy(...e.split("."))._internalPath}catch{throw Y0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Y0(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(a||s)&&(u+=" (found",a&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new ce(J.INVALID_ARGUMENT,o+t+u)}function eX(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ev("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tX extends F5{data(){return super.data()}}function ev(t,e){return typeof e=="string"?vA(t,e):e instanceof Xy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nX(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bA{}class _A extends bA{}function rX(t,e,...n){let r=[];e instanceof bA&&r.push(e),r=r.concat(n),function(a){const s=a.filter(u=>u instanceof EA).length,o=a.filter(u=>u instanceof tv).length;if(s>1||s>0&&o>0)throw new ce(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class tv extends _A{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tv(e,n,r)}_apply(e){const n=this._parse(e);return $5(e._query,n),new $s(e.firestore,e.converter,_E(e._query,n))}_parse(e){const n=Jy(e.firestore);return function(a,s,o,u,l,c,f){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ce(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){mO(f,c);const p=[];for(const g of f)p.push(pO(u,a,g));h={arrayValue:{values:p}}}else h=pO(u,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||mO(f,c),h=JQ(o,s,f,c==="in"||c==="not-in");return $e.create(l,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function p1(t,e,n){const r=e,i=ev("where",t);return tv._create(i,r,n)}class EA extends bA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new EA(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:et.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const u of o)$5(s,u),s=_E(s,u)}(e._query,n),new $s(e.firestore,e.converter,_E(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class TA extends _A{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new TA(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ud(a,s)}(e._query,this._field,this._direction);return new $s(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new dc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function iX(t,e="asc"){const n=e,r=ev("orderBy",t);return TA._create(r,n)}class wA extends _A{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new wA(e,n,r)}_apply(e){return new $s(e.firestore,e.converter,U0(e._query,this._limit,this._limitType))}}function aX(t){return wA._create("limit",t,"F")}function pO(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new ce(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v4(e)&&n.indexOf("/")!==-1)throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xe.fromString(n));if(!de.isDocumentKey(r))throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $d(t,new de(r))}if(n instanceof Rn)return $d(t,n._key);throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yy(n)}.`)}function mO(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $5(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sX{convertValue(e,n="none"){switch(Wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return du(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>bt(s.doubleValue));return new pA(a)}convertGeoPoint(e){return new hA(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jd(e));default:return null}}convertTimestamp(e){const n=Ta(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);be(z4(r));const i=new zo(r.get(1),r.get(3)),a=new de(r.popFirst(5));return i.isEqual(n)||$n(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class U5 extends F5{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ev("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xm extends U5{data(e={}){return super.data(e)}}class oX{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xm(this._firestore,this._userDataWriter,r.key,r,new Lf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const u=new Xm(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Lf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const u=new Xm(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Lf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:uX(o.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){t=Ur(t,Rn);const e=Ur(t.firestore,Ns);return BQ(fA(e),t._key).then(n=>q5(e,t,n))}class V5 extends sX{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,n)}}function gO(t,e,n){t=Ur(t,Rn);const r=Ur(t.firestore,Ns),i=B5(t.converter,e);return nv(r,[D5(Jy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Nn.none())])}function lX(t,e,n,...r){t=Ur(t,Rn);const i=Ur(t.firestore,Ns),a=Jy(i);let s;return s=typeof(e=Ct(e))=="string"||e instanceof Xy?XQ(a,"updateDoc",t._key,e,n,r):QQ(a,"updateDoc",t._key,e),nv(i,[s.toMutation(t._key,Nn.exists(!0))])}function cX(t){return nv(Ur(t.firestore,Ns),[new Vy(t._key,Nn.none())])}function H5(t,e){const n=Ur(t.firestore,Ns),r=ns(t),i=B5(t.converter,e);return nv(n,[D5(Jy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Nn.exists(!1))]).then(()=>r)}function fX(t,...e){var n,r,i;t=Ct(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||hO(e[s])||(a=e[s],s++);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(hO(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,l,c;if(t instanceof Rn)l=Ur(t.firestore,Ns),c=Kh(t._key.path),u={next:f=>{e[s]&&e[s](q5(l,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Ur(t,$s);l=Ur(f.firestore,Ns),c=f._query;const h=new V5(l);u={next:p=>{e[s]&&e[s](new oX(l,h,f,p))},error:e[s+1],complete:e[s+2]},nX(t._query)}return function(h,p,g,v){const b=new C5(v),w=new b5(p,b,g);return h.asyncQueue.enqueueAndForget(async()=>y5(await NE(h),w)),()=>{b.Za(),h.asyncQueue.enqueueAndForget(async()=>v5(await NE(h),w))}}(fA(l),c,o,u)}function nv(t,e){return function(r,i){const a=new fa;return r.asyncQueue.enqueueAndForget(async()=>CQ(await $Q(r),i,a)),a.promise}(fA(t),e)}function q5(t,e,n){const r=n.docs.get(e._key),i=new V5(t);return new U5(t,i,e._key,r,new Lf(n.hasPendingWrites,n.fromCache),e.converter)}class dX{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=z5(),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function hX(t){return new dX(t)}class pX{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=K0.provider,this._offlineComponentProvider={build:n=>new LQ(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}function z5(t){return new pX(void 0)}(function(e,n=!0){(function(i){fc=i})(lc),ji(new hi("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new Ns(new UG(r.getProvider("auth-internal")),new zG(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(l.options.projectId,c)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),$r(oC,"4.7.3",e),$r(oC,"4.7.3","esm2017")})();var mX="firebase",gX="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(mX,gX,"app");const W5="@firebase/installations",xA="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=1e4,K5=`w:${xA}`,Y5="FIS_v2",yX="https://firebaseinstallations.googleapis.com/v1",vX=60*60*1e3,bX="installations",_X="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EX={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xo=new cu(bX,_X,EX);function Q5(t){return t instanceof pi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5({projectId:t}){return`${yX}/projects/${t}/installations`}function J5(t){return{token:t.token,requestStatus:2,expiresIn:wX(t.expiresIn),creationTime:Date.now()}}async function Z5(t,e){const r=(await e.json()).error;return Xo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ej({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function TX(t,{refreshToken:e}){const n=ej(t);return n.append("Authorization",xX(e)),n}async function tj(t){const e=await t();return e.status>=500&&e.status<600?t():e}function wX(t){return Number(t.replace("s","000"))}function xX(t){return`${Y5} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AX({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=X5(t),i=ej(t),a=e.getImmediate({optional:!0});if(a){const l=await a.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const s={fid:n,authVersion:Y5,appId:t.appId,sdkVersion:K5},o={method:"POST",headers:i,body:JSON.stringify(s)},u=await tj(()=>fetch(r,o));if(u.ok){const l=await u.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:J5(l.authToken)}}else throw await Z5("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SX(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IX=/^[cdef][\w-]{21}$/,kE="";function PX(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=CX(t);return IX.test(n)?n:kE}catch{return kE}}function CX(t){return SX(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=new Map;function ij(t,e){const n=rv(t);aj(n,e),OX(n,e)}function aj(t,e){const n=rj.get(t);if(n)for(const r of n)r(e)}function OX(t,e){const n=NX();n&&n.postMessage({key:t,fid:e}),RX()}let _o=null;function NX(){return!_o&&"BroadcastChannel"in self&&(_o=new BroadcastChannel("[Firebase] FID Change"),_o.onmessage=t=>{aj(t.data.key,t.data.fid)}),_o}function RX(){rj.size===0&&_o&&(_o.close(),_o=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kX="firebase-installations-database",DX=1,Jo="firebase-installations-store";let m1=null;function AA(){return m1||(m1=a6(kX,DX,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Jo)}}})),m1}async function Q0(t,e){const n=rv(t),i=(await AA()).transaction(Jo,"readwrite"),a=i.objectStore(Jo),s=await a.get(n);return await a.put(e,n),await i.done,(!s||s.fid!==e.fid)&&ij(t,e.fid),e}async function sj(t){const e=rv(t),r=(await AA()).transaction(Jo,"readwrite");await r.objectStore(Jo).delete(e),await r.done}async function iv(t,e){const n=rv(t),i=(await AA()).transaction(Jo,"readwrite"),a=i.objectStore(Jo),s=await a.get(n),o=e(s);return o===void 0?await a.delete(n):await a.put(o,n),await i.done,o&&(!s||s.fid!==o.fid)&&ij(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(t){let e;const n=await iv(t.appConfig,r=>{const i=MX(r),a=LX(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===kE?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function MX(t){const e=t||{fid:PX(),registrationStatus:0};return oj(e)}function LX(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Xo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=jX(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FX(t)}:{installationEntry:e}}async function jX(t,e){try{const n=await AX(t,e);return Q0(t.appConfig,n)}catch(n){throw Q5(n)&&n.customData.serverCode===409?await sj(t.appConfig):await Q0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function FX(t){let e=await yO(t.appConfig);for(;e.registrationStatus===1;)await nj(100),e=await yO(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await SA(t);return r||n}return e}function yO(t){return iv(t,e=>{if(!e)throw Xo.create("installation-not-found");return oj(e)})}function oj(t){return $X(t)?{fid:t.fid,registrationStatus:0}:t}function $X(t){return t.registrationStatus===1&&t.registrationTime+G5<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BX({appConfig:t,heartbeatServiceProvider:e},n){const r=UX(t,n),i=TX(t,n),a=e.getImmediate({optional:!0});if(a){const l=await a.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const s={installation:{sdkVersion:K5,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},u=await tj(()=>fetch(r,o));if(u.ok){const l=await u.json();return J5(l)}else throw await Z5("Generate Auth Token",u)}function UX(t,{fid:e}){return`${X5(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(t,e=!1){let n;const r=await iv(t.appConfig,a=>{if(!uj(a))throw Xo.create("not-registered");const s=a.authToken;if(!e&&qX(s))return a;if(s.requestStatus===1)return n=VX(t,e),a;{if(!navigator.onLine)throw Xo.create("app-offline");const o=WX(a);return n=HX(t,o),o}});return n?await n:r.authToken}async function VX(t,e){let n=await vO(t.appConfig);for(;n.authToken.requestStatus===1;)await nj(100),n=await vO(t.appConfig);const r=n.authToken;return r.requestStatus===0?IA(t,e):r}function vO(t){return iv(t,e=>{if(!uj(e))throw Xo.create("not-registered");const n=e.authToken;return GX(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function HX(t,e){try{const n=await BX(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Q0(t.appConfig,r),n}catch(n){if(Q5(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await sj(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Q0(t.appConfig,r)}throw n}}function uj(t){return t!==void 0&&t.registrationStatus===2}function qX(t){return t.requestStatus===2&&!zX(t)}function zX(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+vX}function WX(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function GX(t){return t.requestStatus===1&&t.requestTime+G5<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KX(t){const e=t,{installationEntry:n,registrationPromise:r}=await SA(e);return r?r.catch(console.error):IA(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YX(t,e=!1){const n=t;return await QX(n),(await IA(n,e)).token}async function QX(t){const{registrationPromise:e}=await SA(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XX(t){if(!t||!t.options)throw g1("App Configuration");if(!t.name)throw g1("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw g1(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function g1(t){return Xo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj="installations",JX="installations-internal",ZX=t=>{const e=t.getProvider("app").getImmediate(),n=XX(e),r=Ls(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},eJ=t=>{const e=t.getProvider("app").getImmediate(),n=Ls(e,lj).getImmediate();return{getId:()=>KX(n),getToken:i=>YX(n,i)}};function tJ(){ji(new hi(lj,ZX,"PUBLIC")),ji(new hi(JX,eJ,"PRIVATE"))}tJ();$r(W5,xA);$r(W5,xA,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="analytics",nJ="firebase_id",rJ="origin",iJ=60*1e3,aJ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",PA="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new Ry("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sJ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},br=new cu("analytics","Analytics",sJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oJ(t){if(!t.startsWith(PA)){const e=br.create("invalid-gtag-resource",{gtagURL:t});return rr.warn(e.message),""}return t}function cj(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function uJ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function lJ(t,e){const n=uJ("firebase-js-sdk-policy",{createScriptURL:oJ}),r=document.createElement("script"),i=`${PA}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function cJ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function fJ(t,e,n,r,i,a){const s=r[i];try{if(s)await e[s];else{const u=(await cj(n)).find(l=>l.measurementId===i);u&&await e[u.appId]}}catch(o){rr.error(o)}t("config",i,a)}async function dJ(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const o=await cj(n);for(const u of s){const l=o.find(f=>f.measurementId===u),c=l&&e[l.appId];if(c)a.push(c);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){rr.error(a)}}function hJ(t,e,n,r){async function i(a,...s){try{if(a==="event"){const[o,u]=s;await dJ(t,e,n,o,u)}else if(a==="config"){const[o,u]=s;await fJ(t,e,n,r,o,u)}else if(a==="consent"){const[o,u]=s;t("consent",o,u)}else if(a==="get"){const[o,u,l]=s;t("get",o,u,l)}else if(a==="set"){const[o]=s;t("set",o)}else t(a,...s)}catch(o){rr.error(o)}}return i}function pJ(t,e,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=hJ(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function mJ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(PA)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gJ=30,yJ=1e3;class vJ{constructor(e={},n=yJ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const fj=new vJ;function bJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function _J(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:bJ(r)},a=aJ.replace("{app-id}",n),s=await fetch(a,i);if(s.status!==200&&s.status!==304){let o="";try{const u=await s.json();!((e=u.error)===null||e===void 0)&&e.message&&(o=u.error.message)}catch{}throw br.create("config-fetch-failed",{httpStatus:s.status,responseMessage:o})}return s.json()}async function EJ(t,e=fj,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw br.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw br.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new xJ;return setTimeout(async()=>{o.abort()},iJ),dj({appId:r,apiKey:i,measurementId:a},s,o,e)}async function dj(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=fj){var a;const{appId:s,measurementId:o}=t;try{await TJ(r,e)}catch(u){if(o)return rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:o};throw u}try{const u=await _J(t);return i.deleteThrottleMetadata(s),u}catch(u){const l=u;if(!wJ(l)){if(i.deleteThrottleMetadata(s),o)return rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:o};throw u}const c=Number((a=l==null?void 0:l.customData)===null||a===void 0?void 0:a.httpStatus)===503?OP(n,i.intervalMillis,gJ):OP(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(s,f),rr.debug(`Calling attemptFetch again in ${c} millis`),dj(t,f,r,i)}}function TJ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(br.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function wJ(t){if(!(t instanceof pi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class xJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function AJ(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,s=Object.assign(Object.assign({},r),{send_to:a});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SJ(){if(Ax())try{await n6()}catch(t){return rr.warn(br.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return rr.warn(br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function IJ(t,e,n,r,i,a,s){var o;const u=EJ(t);u.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&rr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>rr.error(p)),e.push(u);const l=SJ().then(p=>{if(p)return r.getId()}),[c,f]=await Promise.all([u,l]);mJ(a)||lJ(a,c.measurementId),i("js",new Date);const h=(o=s==null?void 0:s.config)!==null&&o!==void 0?o:{};return h[rJ]="firebase",h.update=!0,f!=null&&(h[nJ]=f),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{constructor(e){this.app=e}_delete(){return delete td[this.app.options.appId],Promise.resolve()}}let td={},bO=[];const _O={};let y1="dataLayer",CJ="gtag",EO,hj,TO=!1;function OJ(){const t=[];if(e6()&&t.push("This is a browser extension environment."),rq()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=br.create("invalid-analytics-context",{errorInfo:e});rr.warn(n.message)}}function NJ(t,e,n){OJ();const r=t.options.appId;if(!r)throw br.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw br.create("no-api-key");if(td[r]!=null)throw br.create("already-exists",{id:r});if(!TO){cJ(y1);const{wrappedGtag:a,gtagCore:s}=pJ(td,bO,_O,y1,CJ);hj=a,EO=s,TO=!0}return td[r]=IJ(t,bO,_O,e,EO,y1,n),new PJ(t)}function wO(t=Ix()){t=Ct(t);const e=Ls(t,X0);return e.isInitialized()?e.getImmediate():RJ(t)}function RJ(t,e={}){const n=Ls(t,X0);if(n.isInitialized()){const i=n.getImmediate();if(wl(e,n.getOptions()))return i;throw br.create("already-initialized")}return n.initialize({options:e})}function kJ(t,e,n,r){t=Ct(t),AJ(hj,td[t.app.options.appId],e,n,r).catch(i=>rr.error(i))}const xO="@firebase/analytics",AO="0.10.8";function DJ(){ji(new hi(X0,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return NJ(r,i,n)},"PUBLIC")),ji(new hi("analytics-internal",t,"PRIVATE")),$r(xO,AO),$r(xO,AO,"esm2017");function t(e){try{const n=e.getProvider(X0).getImmediate();return{logEvent:(r,i,a)=>kJ(n,r,i,a)}}catch(n){throw br.create("interop-component-reg-failed",{reason:n})}}}DJ();const SO={apiKey:"AIzaSyBdfU7o3i_2U3oUE_GRKGtUeVuzSJ0RnHU",authDomain:"novexpro-a629e.firebaseapp.com",projectId:"novexpro-a629e",storageBucket:"novexpro-a629e.firebasestorage.app",messagingSenderId:"101696695126",appId:"1:101696695126:web:685125cd6fe5333b23c4f7",measurementId:"G-RBJC2PRDFY"};let uf,ei,kr,IO;try{uf=uE(SO),ei=aC(uf),kr=HQ(uf,{localCache:hX({tabManager:z5(void 0)})}),AW(ei,k6),typeof window<"u"&&(IO=wO(uf))}catch(t){t.code!=="app/duplicate-app"&&console.error("Error initializing Firebase:",t),uf=uE(SO),ei=aC(),kr=qQ(),typeof window<"u"&&(IO=wO())}let MJ={data:""},LJ=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||MJ,jJ=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,FJ=/\/\*[^]*?\*\/|  +/g,PO=/\n+/g,rs=(t,e)=>{let n="",r="",i="";for(let a in t){let s=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+s+";":r+=a[1]=="f"?rs(s,a):a+"{"+rs(s,a[1]=="k"?"":e)+"}":typeof s=="object"?r+=rs(s,e?e.replace(/([^,])+/g,o=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,o):o?o+" "+u:u)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=rs.p?rs.p(a,s):a+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Wi={},pj=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+pj(t[n]);return e}return t},$J=(t,e,n,r,i)=>{let a=pj(t),s=Wi[a]||(Wi[a]=(u=>{let l=0,c=11;for(;l<u.length;)c=101*c+u.charCodeAt(l++)>>>0;return"go"+c})(a));if(!Wi[s]){let u=a!==t?t:(l=>{let c,f,h=[{}];for(;c=jJ.exec(l.replace(FJ,""));)c[4]?h.shift():c[3]?(f=c[3].replace(PO," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][c[1]]=c[2].replace(PO," ").trim();return h[0]})(t);Wi[s]=rs(i?{["@keyframes "+s]:u}:u,n?"":"."+s)}let o=n&&Wi.g?Wi.g:null;return n&&(Wi.g=Wi[s]),((u,l,c,f)=>{f?l.data=l.data.replace(f,u):l.data.indexOf(u)===-1&&(l.data=c?u+l.data:l.data+u)})(Wi[s],e,r,o),s},BJ=(t,e,n)=>t.reduce((r,i,a)=>{let s=e[a];if(s&&s.call){let o=s(n),u=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=u?"."+u:o&&typeof o=="object"?o.props?"":rs(o,""):o===!1?"":o}return r+i+(s??"")},"");function av(t){let e=this||{},n=t.call?t(e.p):t;return $J(n.unshift?n.raw?BJ(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,LJ(e.target),e.g,e.o,e.k)}let mj,DE,ME;av.bind({g:1});let wa=av.bind({k:1});function UJ(t,e,n,r){rs.p=e,mj=t,DE=n,ME=r}function Bs(t,e){let n=this||{};return function(){let r=arguments;function i(a,s){let o=Object.assign({},a),u=o.className||i.className;n.p=Object.assign({theme:DE&&DE()},o),n.o=/ *go\d+/.test(u),o.className=av.apply(n,r)+(u?" "+u:"");let l=t;return t[0]&&(l=o.as||t,delete o.as),ME&&l[0]&&ME(o),mj(l,o)}return i}}var VJ=t=>typeof t=="function",J0=(t,e)=>VJ(t)?t(e):t,HJ=(()=>{let t=0;return()=>(++t).toString()})(),gj=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),qJ=20,Jm=new Map,zJ=1e3,CO=t=>{if(Jm.has(t))return;let e=setTimeout(()=>{Jm.delete(t),pu({type:4,toastId:t})},zJ);Jm.set(t,e)},WJ=t=>{let e=Jm.get(t);e&&clearTimeout(e)},LE=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,qJ)};case 1:return e.toast.id&&WJ(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:n}=e;return t.toasts.find(a=>a.id===n.id)?LE(t,{type:1,toast:n}):LE(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?CO(r):t.toasts.forEach(a=>{CO(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Zm=[],e0={toasts:[],pausedAt:void 0},pu=t=>{e0=LE(e0,t),Zm.forEach(e=>{e(e0)})},GJ={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},KJ=(t={})=>{let[e,n]=F.useState(e0);F.useEffect(()=>(Zm.push(n),()=>{let i=Zm.indexOf(n);i>-1&&Zm.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var a,s;return{...t,...t[i.type],...i,duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||GJ[i.type],style:{...t.style,...(s=t[i.type])==null?void 0:s.style,...i.style}}});return{...e,toasts:r}},YJ=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||HJ()}),ep=t=>(e,n)=>{let r=YJ(e,t,n);return pu({type:2,toast:r}),r.id},yr=(t,e)=>ep("blank")(t,e);yr.error=ep("error");yr.success=ep("success");yr.loading=ep("loading");yr.custom=ep("custom");yr.dismiss=t=>{pu({type:3,toastId:t})};yr.remove=t=>pu({type:4,toastId:t});yr.promise=(t,e,n)=>{let r=yr.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(yr.success(J0(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{yr.error(J0(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var QJ=(t,e)=>{pu({type:1,toast:{id:t,height:e}})},XJ=()=>{pu({type:5,time:Date.now()})},JJ=t=>{let{toasts:e,pausedAt:n}=KJ(t);F.useEffect(()=>{if(n)return;let a=Date.now(),s=e.map(o=>{if(o.duration===1/0)return;let u=(o.duration||0)+o.pauseDuration-(a-o.createdAt);if(u<0){o.visible&&yr.dismiss(o.id);return}return setTimeout(()=>yr.dismiss(o.id),u)});return()=>{s.forEach(o=>o&&clearTimeout(o))}},[e,n]);let r=F.useCallback(()=>{n&&pu({type:6,time:Date.now()})},[n]),i=F.useCallback((a,s)=>{let{reverseOrder:o=!1,gutter:u=8,defaultPosition:l}=s||{},c=e.filter(p=>(p.position||l)===(a.position||l)&&p.height),f=c.findIndex(p=>p.id===a.id),h=c.filter((p,g)=>g<f&&p.visible).length;return c.filter(p=>p.visible).slice(...o?[h+1]:[0,h]).reduce((p,g)=>p+(g.height||0)+u,0)},[e]);return{toasts:e,handlers:{updateHeight:QJ,startPause:XJ,endPause:r,calculateOffset:i}}},ZJ=wa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,eZ=wa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,tZ=wa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,nZ=Bs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ZJ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${eZ} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${tZ} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,rZ=wa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,iZ=Bs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${rZ} 1s linear infinite;
`,aZ=wa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,sZ=wa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,oZ=Bs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${aZ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${sZ} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,uZ=Bs("div")`
  position: absolute;
`,lZ=Bs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,cZ=wa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fZ=Bs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${cZ} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,dZ=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?F.createElement(fZ,null,e):e:n==="blank"?null:F.createElement(lZ,null,F.createElement(iZ,{...r}),n!=="loading"&&F.createElement(uZ,null,n==="error"?F.createElement(nZ,{...r}):F.createElement(oZ,{...r})))},hZ=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,pZ=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,mZ="0%{opacity:0;} 100%{opacity:1;}",gZ="0%{opacity:1;} 100%{opacity:0;}",yZ=Bs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,vZ=Bs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,bZ=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=gj()?[mZ,gZ]:[hZ(n),pZ(n)];return{animation:e?`${wa(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wa(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},_Z=F.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?bZ(t.position||e||"top-center",t.visible):{opacity:0},a=F.createElement(dZ,{toast:t}),s=F.createElement(vZ,{...t.ariaProps},J0(t.message,t));return F.createElement(yZ,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:a,message:s}):F.createElement(F.Fragment,null,a,s))});UJ(F.createElement);var EZ=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let a=F.useCallback(s=>{if(s){let o=()=>{let u=s.getBoundingClientRect().height;r(t,u)};o(),new MutationObserver(o).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return F.createElement("div",{ref:a,className:e,style:n},i)},TZ=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:gj()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},wZ=av`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,om=16,yj=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:a,containerClassName:s})=>{let{toasts:o,handlers:u}=JJ(n);return F.createElement("div",{style:{position:"fixed",zIndex:9999,top:om,left:om,right:om,bottom:om,pointerEvents:"none",...a},className:s,onMouseEnter:u.startPause,onMouseLeave:u.endPause},o.map(l=>{let c=l.position||e,f=u.calculateOffset(l,{reverseOrder:t,gutter:r,defaultPosition:e}),h=TZ(c,f);return F.createElement(EZ,{id:l.id,key:l.id,onHeightUpdate:u.updateHeight,className:l.visible?wZ:"",style:h},l.type==="custom"?J0(l.message,l):i?i(l):F.createElement(_Z,{toast:l,position:c}))}))},Ze=yr;const vj=F.createContext(void 0),um=t=>{switch(t.code){case"auth/invalid-credential":return"Invalid email or password. Please try again.";case"auth/user-not-found":return"No account found with this email address.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/weak-password":return"Password should be at least 6 characters.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/network-request-failed":return"Network error. Please check your connection.";case"auth/too-many-requests":return"Too many attempts. Please try again later.";default:return"An error occurred. Please try again."}};function xZ({children:t}){const[e,n]=F.useState({user:null,isAuthenticated:!1,isLoading:!0,error:null});F.useEffect(()=>{const l=PW(ei,async c=>{if(c)try{const h=(await ed(ns(kr,"users",c.uid))).data();n({user:h?{id:c.uid,...h,emailVerified:c.emailVerified}:null,isAuthenticated:!0,isLoading:!1,error:null}),c.emailVerified||Ze.error("Please verify your email address",{duration:5e3,icon:""})}catch(f){console.error("Error fetching user data:",f),n({user:null,isAuthenticated:!1,isLoading:!1,error:"Failed to load user data"})}else n({user:null,isAuthenticated:!1,isLoading:!1,error:null})});return()=>l()},[]);const r=async()=>{const l=ei.currentUser;if(l&&!l.emailVerified)try{await TW(l),Ze.success("Verification email sent!")}catch(c){console.error("Error sending verification email:",c),Ze.error("Failed to send verification email")}},i=async(l,c)=>{try{const{user:f}=await EW(ei,l,c);if(!f.emailVerified)throw await r(),Ze.error("Please verify your email before signing in"),await YP(ei),new Error("Email not verified");const p=(await ed(ns(kr,"users",f.uid))).data();n(g=>({...g,user:{id:f.uid,...p,emailVerified:f.emailVerified},isAuthenticated:!0,error:null})),Ze.success("Welcome back!")}catch(f){const p=um(f);throw Ze.error(p),n(g=>({...g,error:p})),f}},a=async()=>{try{const l=new Zi,{user:c}=await GW(ei,l);if(!(await ed(ns(kr,"users",c.uid))).exists()){const h={fullName:c.displayName||"",email:c.email||"",phoneNumber:c.phoneNumber||"",countryCode:"+1",createdAt:new Date().toISOString(),emailVerified:!0};await gO(ns(kr,"users",c.uid),h),n(p=>({...p,user:{id:c.uid,...h},isAuthenticated:!0,error:null}))}Ze.success("Successfully signed in with Google")}catch(l){const f=um(l);throw Ze.error(f),n(h=>({...h,error:f})),l}},s=async l=>{try{const{user:c}=await _W(ei,l.email,l.password);await xW(c,{displayName:l.fullName});const f={fullName:l.fullName,email:l.email,phoneNumber:l.phoneNumber,countryCode:l.countryCode,createdAt:new Date().toISOString(),emailVerified:!1};await gO(ns(kr,"users",c.uid),f),await r(),n(h=>({...h,user:{id:c.uid,...f},isAuthenticated:!0,error:null})),Ze.success("Account created successfully! Please verify your email.")}catch(c){const h=um(c);throw Ze.error(h),n(p=>({...p,error:h})),c}},o=async()=>{try{await YP(ei),n({user:null,isAuthenticated:!1,isLoading:!1,error:null}),Ze.success("Signed out successfully")}catch(l){console.error("Error signing out:",l),Ze.error("Failed to sign out")}},u=async l=>{try{await bW(ei,l),Ze.success("Password reset email sent!")}catch(c){const h=um(c);throw Ze.error(h),c}};return y.jsx(vj.Provider,{value:{...e,signIn:i,signInWithGoogle:a,signUp:s,signOut:o,sendVerificationEmail:r,resetPassword:u},children:t})}function tp(){const t=F.useContext(vj);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function lf({children:t}){const{isAuthenticated:e,isLoading:n}=tp(),r=Uh();return n?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e?y.jsx(y.Fragment,{children:t}):y.jsx(GL,{to:"/auth",state:{from:r},replace:!0})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Pe=(t,e)=>{const n=F.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:u,...l},c)=>F.createElement("svg",{ref:c,...AZ,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${SZ(t)}`,o].join(" "),...l},[...e.map(([f,h])=>F.createElement(f,h)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=Pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=Pe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=Pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=Pe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=Pe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=Pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=Pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=Pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=Pe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=Pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=Pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=Pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=Pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=Pe("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=Pe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=Pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=Pe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=Pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=Pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=Pe("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=Pe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=Pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=Pe("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=Pe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=Pe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=Pe("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=Pe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=Pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=Pe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=Pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Pe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function JZ({currentPage:t,isCollapsed:e,onPageChange:n,onCollapse:r,isDarkMode:i,onThemeChange:a}){const s=xx(),[o,u]=F.useState(!1),[l,c]=F.useState(!1),[f,h]=F.useState(!1),p=[{id:"home",label:"Home",icon:MZ,path:"/"},{id:"dashboard",label:"Market Dashboard",icon:LZ,path:"/dashboard"},{id:"trends",label:"Trends",icon:Zo,path:"/trends"},{id:"quote",label:"Get Quote",icon:HZ,path:"/quote"},{id:"aluminum-shorts",label:"Aluminum Shorts",icon:BZ,path:"/aluminum-shorts"},{id:"alerts",label:"Manage Alerts",icon:ki,path:"/alerts"}],g=(v,b)=>{s(v)};return y.jsx("div",{className:"relative",children:y.jsxs("div",{className:`fixed inset-y-0 left-0 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 z-20
          ${e?"w-16":"w-64"}`,children:[y.jsx("button",{onClick:()=>r(!e),className:"absolute -right-3 top-8 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-full p-1 shadow-md",children:e?y.jsx(Tj,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}):y.jsx(Ej,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsx("nav",{className:"flex-1 px-3 py-4",children:p.map(v=>{const b=v.icon,w=t===v.id;return y.jsxs("button",{onClick:()=>g(v.path),className:`w-full flex items-center px-3 py-2 mb-1 rounded-lg transition-all duration-200 ${w?"bg-gradient-to-r from-blue-500/10 to-purple-500/10 text-transparent bg-clip-text":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[y.jsx(b,{className:`w-5 h-5 flex-shrink-0 ${w?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`}),!e&&y.jsx("span",{className:`ml-3 text-sm font-medium ${w?"bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent":""}`,children:v.label})]},v.id)})}),y.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-3",children:y.jsxs("div",{className:"relative",children:[y.jsxs("button",{onClick:()=>u(!o),className:"w-full flex items-center px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[y.jsx(zZ,{className:"w-5 h-5 flex-shrink-0 text-gray-500 dark:text-gray-400"}),!e&&y.jsx("span",{className:"ml-3 text-sm font-medium",children:"Settings"})]}),o&&!e&&y.jsxs("div",{className:"absolute bottom-full left-0 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg mb-1 overflow-hidden",children:[y.jsxs("button",{onClick:()=>a(!i),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:[i?y.jsx(GZ,{className:"w-4 h-4 mr-2"}):y.jsx($Z,{className:"w-4 h-4 mr-2"}),i?"Light Mode":"Dark Mode"]}),y.jsxs("button",{onClick:()=>h(!0),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:[y.jsx(OZ,{className:"w-4 h-4 mr-2"}),"Subscription"]}),y.jsxs("button",{onClick:()=>c(!0),className:"w-full flex items-center px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-50 dark:hover:bg-gray-700",children:[y.jsx(FZ,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})})]})]})})}function Cj({onClose:t}){const e=xx(),n=Uh(),{signIn:r,signUp:i,signInWithGoogle:a}=tp(),[s,o]=F.useState(!0),[u,l]=F.useState(!1),[c,f]=F.useState(!1),[h,p]=F.useState({fullName:"",email:"",phoneNumber:"",countryCode:"+91",password:""}),[g,v]=F.useState({}),b=()=>{const C={};return!s&&!h.fullName.trim()&&(C.fullName="Full name is required"),h.email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)||(C.email="Invalid email address"),!s&&!h.phoneNumber.match(/^\d{10}$/)&&(C.phoneNumber="Phone number must be 10 digits"),h.password.length<8&&(C.password="Password must be at least 8 characters"),v(C),Object.keys(C).length===0},w=()=>{var A,S;const C=((S=(A=n.state)==null?void 0:A.from)==null?void 0:S.pathname)||"/dashboard";t&&t(),e(C,{replace:!0}),Ze.success("Welcome to your dashboard!")},T=async C=>{if(C.preventDefault(),!(!b()||c)){f(!0);try{s?await r(h.email,h.password):await i(h),w()}catch(A){console.error("Authentication error:",A),f(!1)}}},_=async()=>{if(!c){f(!0);try{await a(),w()}catch(C){console.error("Google sign-in error:",C),f(!1)}}};return y.jsxs("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/30 to-purple-600/30 backdrop-blur-lg"}),y.jsxs("div",{className:"relative w-full max-w-md bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl p-8 overflow-hidden",children:[y.jsx("div",{className:"absolute -top-24 -left-24 w-48 h-48 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),y.jsx("div",{className:"absolute -bottom-24 -right-24 w-48 h-48 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),y.jsx("div",{className:"absolute -bottom-16 -left-16 w-36 h-36 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"}),t&&y.jsx("button",{onClick:t,className:"absolute right-4 top-4 p-2 hover:bg-gray-100/80 rounded-full transition-colors",children:y.jsx(sv,{className:"w-5 h-5 text-gray-500"})}),y.jsxs("div",{className:"relative",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h2",{className:"text-3xl font-bold text-[#4A4DE6]",children:s?"Welcome back!":"Create Account"}),y.jsx("p",{className:"text-[#555555] mt-2",children:s?"Sign in to access your dashboard":"Fill in your information to get started"})]}),y.jsx("button",{onClick:_,disabled:c,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-white hover:bg-gray-50 border border-gray-200 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed mb-6",children:c?y.jsx(jE,{className:"w-5 h-5 animate-spin"}):y.jsxs(y.Fragment,{children:[y.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),y.jsx("span",{className:"text-gray-700",children:"Continue with Google"})]})}),y.jsxs("div",{className:"relative mb-8",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-200"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-white/80 text-[#AAAAAA]",children:"or continue with email"})})]}),y.jsxs("form",{onSubmit:T,className:"space-y-4",children:[!s&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),y.jsxs("div",{className:"relative",children:[y.jsx(XZ,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx("input",{type:"text",value:h.fullName,onChange:C=>p({...h,fullName:C.target.value}),className:`w-full pl-10 pr-4 py-3 bg-white/50 border ${g.fullName?"border-red-500":"border-gray-200"} rounded-xl focus:ring-2 focus:ring-[#4A4DE6] focus:border-transparent transition-all`,placeholder:"John Doe"}),g.fullName&&y.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.fullName})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),y.jsxs("div",{className:"relative",children:[y.jsx(np,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx("input",{type:"email",value:h.email,onChange:C=>p({...h,email:C.target.value}),className:`w-full pl-10 pr-4 py-3 bg-white/50 border ${g.email?"border-red-500":"border-gray-200"} rounded-xl focus:ring-2 focus:ring-[#4A4DE6] focus:border-transparent transition-all`,placeholder:"john@example.com"}),g.email&&y.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.email})]})]}),!s&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),y.jsxs("div",{className:"relative flex gap-2",children:[y.jsxs("select",{value:h.countryCode,onChange:C=>p({...h,countryCode:C.target.value}),className:"w-24 pl-3 pr-8 py-3 bg-white/50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#4A4DE6] focus:border-transparent appearance-none",children:[y.jsx("option",{value:"+91",children:"+91"}),y.jsx("option",{value:"+1",children:"+1"}),y.jsx("option",{value:"+44",children:"+44"})]}),y.jsxs("div",{className:"relative flex-1",children:[y.jsx(VZ,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx("input",{type:"tel",value:h.phoneNumber,onChange:C=>p({...h,phoneNumber:C.target.value}),className:`w-full pl-10 pr-4 py-3 bg-white/50 border ${g.phoneNumber?"border-red-500":"border-gray-200"} rounded-xl focus:ring-2 focus:ring-[#4A4DE6] focus:border-transparent transition-all`,placeholder:"9876543210"})]})]}),g.phoneNumber&&y.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.phoneNumber})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx(jZ,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx("input",{type:u?"text":"password",value:h.password,onChange:C=>p({...h,password:C.target.value}),className:`w-full pl-10 pr-12 py-3 bg-white/50 border ${g.password?"border-red-500":"border-gray-200"} rounded-xl focus:ring-2 focus:ring-[#4A4DE6] focus:border-transparent transition-all`,placeholder:""}),y.jsx("button",{type:"button",onClick:()=>l(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?y.jsx(xj,{className:"w-5 h-5"}):y.jsx(Aj,{className:"w-5 h-5"})}),g.password&&y.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.password})]})]}),y.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center items-center gap-2 py-3 px-4 bg-[#4A4DE6] hover:bg-[#3f41c7] text-white rounded-xl font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:c?y.jsx(jE,{className:"w-5 h-5 animate-spin"}):s?"Sign in":"Create account"}),y.jsx("p",{className:"text-center text-sm text-[#555555]",children:s?y.jsxs(y.Fragment,{children:["Don't have an account?"," ",y.jsx("button",{type:"button",onClick:()=>o(!1),className:"text-[#4A4DE6] hover:text-[#3f41c7] font-medium",children:"Sign up"})]}):y.jsxs(y.Fragment,{children:["Already have an account?"," ",y.jsx("button",{type:"button",onClick:()=>o(!0),className:"text-[#4A4DE6] hover:text-[#3f41c7] font-medium",children:"Sign in"})]})})]})]})]})]})}function ZZ(){const t=F.useRef(null);return F.useEffect(()=>{const e=t.current;if(!e)return;const n=()=>{const i=document.createElement("div");i.className="spark";const a=Math.random()*window.innerWidth,s=Math.random()*window.innerHeight;i.style.left=`${a}px`,i.style.top=`${s}px`;const o=(Math.random()-.5)*200,u=(Math.random()-.5)*200,l=Math.random()*360;i.style.setProperty("--travel-x",`${o}px`),i.style.setProperty("--travel-y",`${u}px`),i.style.setProperty("--rotation",`${l}deg`),i.style.animation=`spark ${2+Math.random()*3}s ease-out forwards`,e.appendChild(i),i.addEventListener("animationend",()=>{i.remove()})};for(let i=0;i<50;i++)setTimeout(n,Math.random()*3e3);const r=setInterval(()=>{e.children.length<50&&n()},200);return()=>{clearInterval(r)}},[]),y.jsx("div",{className:"fixed inset-0 pointer-events-none z-0 bg-black overflow-hidden",children:y.jsx("div",{ref:t,className:"absolute inset-0"})})}function eee(){return y.jsx("div",{className:"relative w-full h-32 overflow-hidden -mx-8 px-8",children:y.jsxs("svg",{className:"w-[130%] h-full -ml-[15%]",preserveAspectRatio:"none",viewBox:"0 0 1400 100",children:[y.jsxs("defs",{children:[y.jsxs("linearGradient",{id:"stockLine",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[y.jsx("stop",{offset:"0%",stopColor:"#3B82F6",stopOpacity:"1",children:y.jsx("animate",{attributeName:"stop-color",values:"#3B82F6; #2563EB; #3B82F6",dur:"4s",repeatCount:"indefinite"})}),y.jsx("stop",{offset:"100%",stopColor:"#2563EB",stopOpacity:"1",children:y.jsx("animate",{attributeName:"stop-color",values:"#2563EB; #3B82F6; #2563EB",dur:"4s",repeatCount:"indefinite"})})]}),y.jsxs("filter",{id:"glow",children:[y.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),y.jsxs("feMerge",{children:[y.jsx("feMergeNode",{in:"coloredBlur"}),y.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),[...Array(16)].map((t,e)=>y.jsx("rect",{x:e*90,y:100-(e*6+15),width:"60",height:e*6+15,fill:"url(#stockLine)",opacity:"0.3",rx:"2",children:y.jsx("animate",{attributeName:"height",values:`${e*6+15};${e*6+20};${e*6+15}`,dur:"2s",repeatCount:"indefinite",begin:`${e*.2}s`})},`bar-${e}`)),y.jsx("path",{d:"M0,80 Q350,70 700,50 T1400,20",fill:"none",stroke:"url(#stockLine)",strokeWidth:"4",filter:"url(#glow)",className:"animate-draw",children:y.jsx("animate",{attributeName:"d",values:`
              M0,80 Q350,70 700,50 T1400,20;
              M0,70 Q350,60 700,40 T1400,10;
              M0,80 Q350,70 700,50 T1400,20
            `,dur:"4s",repeatCount:"indefinite"})}),[0,350,700,1050,1400].map((t,e)=>y.jsx("circle",{cx:t,cy:50,r:"4",fill:"#fff",className:"animate-pulse",filter:"url(#glow)",children:y.jsx("animate",{attributeName:"cy",values:`${80-e*15};${70-e*15};${80-e*15}`,dur:"4s",repeatCount:"indefinite"})},e))]})})}function tee(){const[t,e]=F.useState(!1);return y.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-black",children:[y.jsx(ZZ,{}),y.jsx("div",{className:"relative z-10 min-h-screen flex flex-col items-center justify-center p-4",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:y.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[y.jsx("div",{className:"relative mb-4",children:y.jsx("h1",{className:"text-7xl md:text-8xl lg:text-9xl font-bold",style:{background:"linear-gradient(135deg, #FF6B6B 0%, #4ECDC4 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 40px rgba(255, 107, 107, 0.3)",fontFamily:"'Poppins', sans-serif",letterSpacing:"-2px",filter:"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.2))",transform:"translateZ(0)"},children:"NOVEX PRO"})}),y.jsx(eee,{}),y.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-extrabold max-w-4xl mx-auto leading-tight text-gray-200 -mt-12 mb-6",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"},children:"Empowering Metal Buyers with Real-Time Insights"}),y.jsxs("div",{className:"flex flex-col items-center space-y-3 text-xl text-gray-300 mb-8",children:[y.jsxs("p",{className:"flex items-center gap-2",children:[y.jsx(ki,{className:"w-6 h-6 text-blue-400"}),"Set custom alerts"]}),y.jsxs("p",{className:"flex items-center gap-2",children:[y.jsx(Zo,{className:"w-6 h-6 text-green-400"}),"Analyze global trends"]}),y.jsxs("p",{className:"flex items-center gap-2",children:[y.jsx(YZ,{className:"w-6 h-6 text-purple-400"}),"Optimize your metal procurement strategies"]}),y.jsxs("p",{className:"flex items-center gap-2",children:[y.jsx(NZ,{className:"w-6 h-6 text-orange-400"}),"Get quotes and manage hedge positions"]})]}),y.jsxs("button",{onClick:()=>e(!0),className:"group inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-xl font-semibold rounded-full hover:from-blue-700 hover:to-purple-700 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:["Get Started",y.jsx(IZ,{className:"w-6 h-6 transition-transform group-hover:translate-x-1"})]})]})})}),t&&y.jsx(Cj,{onClose:()=>e(!1)})]})}function Oj(t,e){return function(){return t.apply(e,arguments)}}const{toString:nee}=Object.prototype,{getPrototypeOf:NA}=Object,ov=(t=>e=>{const n=nee.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),mi=t=>(t=t.toLowerCase(),e=>ov(e)===t),uv=t=>e=>typeof e===t,{isArray:mc}=Array,Wd=uv("undefined");function ree(t){return t!==null&&!Wd(t)&&t.constructor!==null&&!Wd(t.constructor)&&_r(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Nj=mi("ArrayBuffer");function iee(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Nj(t.buffer),e}const aee=uv("string"),_r=uv("function"),Rj=uv("number"),lv=t=>t!==null&&typeof t=="object",see=t=>t===!0||t===!1,t0=t=>{if(ov(t)!=="object")return!1;const e=NA(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},oee=mi("Date"),uee=mi("File"),lee=mi("Blob"),cee=mi("FileList"),fee=t=>lv(t)&&_r(t.pipe),dee=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||_r(t.append)&&((e=ov(t))==="formdata"||e==="object"&&_r(t.toString)&&t.toString()==="[object FormData]"))},hee=mi("URLSearchParams"),[pee,mee,gee,yee]=["ReadableStream","Request","Response","Headers"].map(mi),vee=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rp(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),mc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),s=a.length;let o;for(r=0;r<s;r++)o=a[r],e.call(null,t[o],o,t)}}function kj(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Dj=t=>!Wd(t)&&t!==Eo;function FE(){const{caseless:t}=Dj(this)&&this||{},e={},n=(r,i)=>{const a=t&&kj(e,i)||i;t0(e[a])&&t0(r)?e[a]=FE(e[a],r):t0(r)?e[a]=FE({},r):mc(r)?e[a]=r.slice():e[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&rp(arguments[r],n);return e}const bee=(t,e,n,{allOwnKeys:r}={})=>(rp(e,(i,a)=>{n&&_r(i)?t[a]=Oj(i,n):t[a]=i},{allOwnKeys:r}),t),_ee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Eee=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Tee=(t,e,n,r)=>{let i,a,s;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)s=i[a],(!r||r(s,t,e))&&!o[s]&&(e[s]=t[s],o[s]=!0);t=n!==!1&&NA(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},wee=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},xee=t=>{if(!t)return null;if(mc(t))return t;let e=t.length;if(!Rj(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Aee=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&NA(Uint8Array)),See=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},Iee=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Pee=mi("HTMLFormElement"),Cee=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),RO=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Oee=mi("RegExp"),Mj=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};rp(n,(i,a)=>{let s;(s=e(i,a,t))!==!1&&(r[a]=s||i)}),Object.defineProperties(t,r)},Nee=t=>{Mj(t,(e,n)=>{if(_r(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(_r(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ree=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return mc(t)?r(t):r(String(t).split(e)),n},kee=()=>{},Dee=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,v1="abcdefghijklmnopqrstuvwxyz",kO="0123456789",Lj={DIGIT:kO,ALPHA:v1,ALPHA_DIGIT:v1+v1.toUpperCase()+kO},Mee=(t=16,e=Lj.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function Lee(t){return!!(t&&_r(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const jee=t=>{const e=new Array(10),n=(r,i)=>{if(lv(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const a=mc(r)?[]:{};return rp(r,(s,o)=>{const u=n(s,i+1);!Wd(u)&&(a[o]=u)}),e[i]=void 0,a}}return r};return n(t,0)},Fee=mi("AsyncFunction"),$ee=t=>t&&(lv(t)||_r(t))&&_r(t.then)&&_r(t.catch),jj=((t,e)=>t?setImmediate:e?((n,r)=>(Eo.addEventListener("message",({source:i,data:a})=>{i===Eo&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Eo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",_r(Eo.postMessage)),Bee=typeof queueMicrotask<"u"?queueMicrotask.bind(Eo):typeof process<"u"&&process.nextTick||jj,G={isArray:mc,isArrayBuffer:Nj,isBuffer:ree,isFormData:dee,isArrayBufferView:iee,isString:aee,isNumber:Rj,isBoolean:see,isObject:lv,isPlainObject:t0,isReadableStream:pee,isRequest:mee,isResponse:gee,isHeaders:yee,isUndefined:Wd,isDate:oee,isFile:uee,isBlob:lee,isRegExp:Oee,isFunction:_r,isStream:fee,isURLSearchParams:hee,isTypedArray:Aee,isFileList:cee,forEach:rp,merge:FE,extend:bee,trim:vee,stripBOM:_ee,inherits:Eee,toFlatObject:Tee,kindOf:ov,kindOfTest:mi,endsWith:wee,toArray:xee,forEachEntry:See,matchAll:Iee,isHTMLForm:Pee,hasOwnProperty:RO,hasOwnProp:RO,reduceDescriptors:Mj,freezeMethods:Nee,toObjectSet:Ree,toCamelCase:Cee,noop:kee,toFiniteNumber:Dee,findKey:kj,global:Eo,isContextDefined:Dj,ALPHABET:Lj,generateString:Mee,isSpecCompliantForm:Lee,toJSONObject:jee,isAsyncFn:Fee,isThenable:$ee,setImmediate:jj,asap:Bee};function Ne(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}G.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const Fj=Ne.prototype,$j={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{$j[t]={value:t}});Object.defineProperties(Ne,$j);Object.defineProperty(Fj,"isAxiosError",{value:!0});Ne.from=(t,e,n,r,i,a)=>{const s=Object.create(Fj);return G.toFlatObject(t,s,function(u){return u!==Error.prototype},o=>o!=="isAxiosError"),Ne.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,a&&Object.assign(s,a),s};const Uee=null;function $E(t){return G.isPlainObject(t)||G.isArray(t)}function Bj(t){return G.endsWith(t,"[]")?t.slice(0,-2):t}function DO(t,e,n){return t?t.concat(e).map(function(i,a){return i=Bj(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function Vee(t){return G.isArray(t)&&!t.some($E)}const Hee=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function cv(t,e,n){if(!G.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=G.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!G.isUndefined(b[v])});const r=n.metaTokens,i=n.visitor||c,a=n.dots,s=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(e);if(!G.isFunction(i))throw new TypeError("visitor must be a function");function l(g){if(g===null)return"";if(G.isDate(g))return g.toISOString();if(!u&&G.isBlob(g))throw new Ne("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(g)||G.isTypedArray(g)?u&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,v,b){let w=g;if(g&&!b&&typeof g=="object"){if(G.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(G.isArray(g)&&Vee(g)||(G.isFileList(g)||G.endsWith(v,"[]"))&&(w=G.toArray(g)))return v=Bj(v),w.forEach(function(_,C){!(G.isUndefined(_)||_===null)&&e.append(s===!0?DO([v],C,a):s===null?v:v+"[]",l(_))}),!1}return $E(g)?!0:(e.append(DO(b,v,a),l(g)),!1)}const f=[],h=Object.assign(Hee,{defaultVisitor:c,convertValue:l,isVisitable:$E});function p(g,v){if(!G.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(g),G.forEach(g,function(w,T){(!(G.isUndefined(w)||w===null)&&i.call(e,w,G.isString(T)?T.trim():T,v,h))===!0&&p(w,v?v.concat(T):[T])}),f.pop()}}if(!G.isObject(t))throw new TypeError("data must be an object");return p(t),e}function MO(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function RA(t,e){this._pairs=[],t&&cv(t,this,e)}const Uj=RA.prototype;Uj.append=function(e,n){this._pairs.push([e,n])};Uj.toString=function(e){const n=e?function(r){return e.call(this,r,MO)}:MO;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function qee(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vj(t,e,n){if(!e)return t;const r=n&&n.encode||qee,i=n&&n.serialize;let a;if(i?a=i(e,n):a=G.isURLSearchParams(e)?e.toString():new RA(e,n).toString(r),a){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class LO{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Hj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zee=typeof URLSearchParams<"u"?URLSearchParams:RA,Wee=typeof FormData<"u"?FormData:null,Gee=typeof Blob<"u"?Blob:null,Kee={isBrowser:!0,classes:{URLSearchParams:zee,FormData:Wee,Blob:Gee},protocols:["http","https","file","blob","url","data"]},kA=typeof window<"u"&&typeof document<"u",BE=typeof navigator=="object"&&navigator||void 0,Yee=kA&&(!BE||["ReactNative","NativeScript","NS"].indexOf(BE.product)<0),Qee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Xee=kA&&window.location.href||"http://localhost",Jee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kA,hasStandardBrowserEnv:Yee,hasStandardBrowserWebWorkerEnv:Qee,navigator:BE,origin:Xee},Symbol.toStringTag,{value:"Module"})),ir={...Jee,...Kee};function Zee(t,e){return cv(t,new ir.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,a){return ir.isNode&&G.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function ete(t){return G.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function tte(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function qj(t){function e(n,r,i,a){let s=n[a++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),u=a>=n.length;return s=!s&&G.isArray(i)?i.length:s,u?(G.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!o):((!i[s]||!G.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],a)&&G.isArray(i[s])&&(i[s]=tte(i[s])),!o)}if(G.isFormData(t)&&G.isFunction(t.entries)){const n={};return G.forEachEntry(t,(r,i)=>{e(ete(r),i,n,0)}),n}return null}function nte(t,e,n){if(G.isString(t))try{return(e||JSON.parse)(t),G.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const ip={transitional:Hj,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=G.isObject(e);if(a&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return i?JSON.stringify(qj(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Zee(e,this.formSerializer).toString();if((o=G.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return cv(o?{"files[]":e}:e,u&&new u,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),nte(e)):e}],transformResponse:[function(e){const n=this.transitional||ip.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?Ne.from(o,Ne.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ir.classes.FormData,Blob:ir.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],t=>{ip.headers[t]={}});const rte=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ite=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&rte[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},jO=Symbol("internals");function cf(t){return t&&String(t).trim().toLowerCase()}function n0(t){return t===!1||t==null?t:G.isArray(t)?t.map(n0):String(t)}function ate(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const ste=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function b1(t,e,n,r,i){if(G.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!G.isString(e)){if(G.isString(r))return e.indexOf(r)!==-1;if(G.isRegExp(r))return r.test(e)}}function ote(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function ute(t,e){const n=G.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,s){return this[r].call(this,e,i,a,s)},configurable:!0})})}let ar=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(o,u,l){const c=cf(u);if(!c)throw new Error("header name must be a non-empty string");const f=G.findKey(i,c);(!f||i[f]===void 0||l===!0||l===void 0&&i[f]!==!1)&&(i[f||u]=n0(o))}const s=(o,u)=>G.forEach(o,(l,c)=>a(l,c,u));if(G.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(G.isString(e)&&(e=e.trim())&&!ste(e))s(ite(e),n);else if(G.isHeaders(e))for(const[o,u]of e.entries())a(u,o,r);else e!=null&&a(n,e,r);return this}get(e,n){if(e=cf(e),e){const r=G.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return ate(i);if(G.isFunction(n))return n.call(this,i,r);if(G.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=cf(e),e){const r=G.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||b1(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(s){if(s=cf(s),s){const o=G.findKey(r,s);o&&(!n||b1(r,r[o],o,n))&&(delete r[o],i=!0)}}return G.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||b1(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return G.forEach(this,(i,a)=>{const s=G.findKey(r,a);if(s){n[s]=n0(i),delete n[a];return}const o=e?ote(a):String(a).trim();o!==a&&delete n[a],n[o]=n0(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return G.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&G.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[jO]=this[jO]={accessors:{}}).accessors,i=this.prototype;function a(s){const o=cf(s);r[o]||(ute(i,s),r[o]=!0)}return G.isArray(e)?e.forEach(a):a(e),this}};ar.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(ar.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});G.freezeMethods(ar);function _1(t,e){const n=this||ip,r=e||n,i=ar.from(r.headers);let a=r.data;return G.forEach(t,function(o){a=o.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function zj(t){return!!(t&&t.__CANCEL__)}function gc(t,e,n){Ne.call(this,t??"canceled",Ne.ERR_CANCELED,e,n),this.name="CanceledError"}G.inherits(gc,Ne,{__CANCEL__:!0});function Wj(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ne("Request failed with status code "+n.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function lte(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function cte(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,s;return e=e!==void 0?e:1e3,function(u){const l=Date.now(),c=r[a];s||(s=l),n[i]=u,r[i]=l;let f=a,h=0;for(;f!==i;)h+=n[f++],f=f%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),l-s<e)return;const p=c&&l-c;return p?Math.round(h*1e3/p):void 0}}function fte(t,e){let n=0,r=1e3/e,i,a;const s=(l,c=Date.now())=>{n=c,i=null,a&&(clearTimeout(a),a=null),t.apply(null,l)};return[(...l)=>{const c=Date.now(),f=c-n;f>=r?s(l,c):(i=l,a||(a=setTimeout(()=>{a=null,s(i)},r-f)))},()=>i&&s(i)]}const Z0=(t,e,n=3)=>{let r=0;const i=cte(50,250);return fte(a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,u=s-r,l=i(u),c=s<=o;r=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:u,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:a,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(f)},n)},FO=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},$O=t=>(...e)=>G.asap(()=>t(...e)),dte=ir.hasStandardBrowserEnv?function(){const e=ir.navigator&&/(msie|trident)/i.test(ir.navigator.userAgent),n=document.createElement("a");let r;function i(a){let s=a;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const o=G.isString(s)?i(s):s;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}(),hte=ir.hasStandardBrowserEnv?{write(t,e,n,r,i,a){const s=[t+"="+encodeURIComponent(e)];G.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),G.isString(r)&&s.push("path="+r),G.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pte(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function mte(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Gj(t,e){return t&&!pte(e)?mte(t,e):e}const BO=t=>t instanceof ar?{...t}:t;function eu(t,e){e=e||{};const n={};function r(l,c,f){return G.isPlainObject(l)&&G.isPlainObject(c)?G.merge.call({caseless:f},l,c):G.isPlainObject(c)?G.merge({},c):G.isArray(c)?c.slice():c}function i(l,c,f){if(G.isUndefined(c)){if(!G.isUndefined(l))return r(void 0,l,f)}else return r(l,c,f)}function a(l,c){if(!G.isUndefined(c))return r(void 0,c)}function s(l,c){if(G.isUndefined(c)){if(!G.isUndefined(l))return r(void 0,l)}else return r(void 0,c)}function o(l,c,f){if(f in e)return r(l,c);if(f in t)return r(void 0,l)}const u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(l,c)=>i(BO(l),BO(c),!0)};return G.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=u[c]||i,h=f(t[c],e[c],c);G.isUndefined(h)&&f!==o||(n[c]=h)}),n}const Kj=t=>{const e=eu({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:o}=e;e.headers=s=ar.from(s),e.url=Vj(Gj(e.baseURL,e.url),t.params,t.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let u;if(G.isFormData(n)){if(ir.hasStandardBrowserEnv||ir.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((u=s.getContentType())!==!1){const[l,...c]=u?u.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([l||"multipart/form-data",...c].join("; "))}}if(ir.hasStandardBrowserEnv&&(r&&G.isFunction(r)&&(r=r(e)),r||r!==!1&&dte(e.url))){const l=i&&a&&hte.read(a);l&&s.set(i,l)}return e},gte=typeof XMLHttpRequest<"u",yte=gte&&function(t){return new Promise(function(n,r){const i=Kj(t);let a=i.data;const s=ar.from(i.headers).normalize();let{responseType:o,onUploadProgress:u,onDownloadProgress:l}=i,c,f,h,p,g;function v(){p&&p(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function w(){if(!b)return;const _=ar.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),A={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:_,config:t,request:b};Wj(function(x){n(x),v()},function(x){r(x),v()},A),b=null}"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(w)},b.onabort=function(){b&&(r(new Ne("Request aborted",Ne.ECONNABORTED,t,b)),b=null)},b.onerror=function(){r(new Ne("Network Error",Ne.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||Hj;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),r(new Ne(C,A.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,t,b)),b=null},a===void 0&&s.setContentType(null),"setRequestHeader"in b&&G.forEach(s.toJSON(),function(C,A){b.setRequestHeader(A,C)}),G.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),o&&o!=="json"&&(b.responseType=i.responseType),l&&([h,g]=Z0(l,!0),b.addEventListener("progress",h)),u&&b.upload&&([f,p]=Z0(u),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(c=_=>{b&&(r(!_||_.type?new gc(null,t,b):_),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const T=lte(i.url);if(T&&ir.protocols.indexOf(T)===-1){r(new Ne("Unsupported protocol "+T+":",Ne.ERR_BAD_REQUEST,t));return}b.send(a||null)})},vte=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(l){if(!i){i=!0,o();const c=l instanceof Error?l:this.reason;r.abort(c instanceof Ne?c:new gc(c instanceof Error?c.message:c))}};let s=e&&setTimeout(()=>{s=null,a(new Ne(`timeout ${e} of ms exceeded`,Ne.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(a):l.removeEventListener("abort",a)}),t=null)};t.forEach(l=>l.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>G.asap(o),u}},bte=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},_te=async function*(t,e){for await(const n of Ete(t))yield*bte(n,e)},Ete=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},UO=(t,e,n,r)=>{const i=_te(t,e);let a=0,s,o=u=>{s||(s=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:l,value:c}=await i.next();if(l){o(),u.close();return}let f=c.byteLength;if(n){let h=a+=f;n(h)}u.enqueue(new Uint8Array(c))}catch(l){throw o(l),l}},cancel(u){return o(u),i.return()}},{highWaterMark:2})},fv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Yj=fv&&typeof ReadableStream=="function",Tte=fv&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Qj=(t,...e)=>{try{return!!t(...e)}catch{return!1}},wte=Yj&&Qj(()=>{let t=!1;const e=new Request(ir.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),VO=64*1024,UE=Yj&&Qj(()=>G.isReadableStream(new Response("").body)),eg={stream:UE&&(t=>t.body)};fv&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!eg[e]&&(eg[e]=G.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ne(`Response type '${e}' is not supported`,Ne.ERR_NOT_SUPPORT,r)})})})(new Response);const xte=async t=>{if(t==null)return 0;if(G.isBlob(t))return t.size;if(G.isSpecCompliantForm(t))return(await new Request(ir.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(G.isArrayBufferView(t)||G.isArrayBuffer(t))return t.byteLength;if(G.isURLSearchParams(t)&&(t=t+""),G.isString(t))return(await Tte(t)).byteLength},Ate=async(t,e)=>{const n=G.toFiniteNumber(t.getContentLength());return n??xte(e)},Ste=fv&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:o,onUploadProgress:u,responseType:l,headers:c,withCredentials:f="same-origin",fetchOptions:h}=Kj(t);l=l?(l+"").toLowerCase():"text";let p=vte([i,a&&a.toAbortSignal()],s),g;const v=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let b;try{if(u&&wte&&n!=="get"&&n!=="head"&&(b=await Ate(c,r))!==0){let A=new Request(e,{method:"POST",body:r,duplex:"half"}),S;if(G.isFormData(r)&&(S=A.headers.get("content-type"))&&c.setContentType(S),A.body){const[x,I]=FO(b,Z0($O(u)));r=UO(A.body,VO,x,I)}}G.isString(f)||(f=f?"include":"omit");const w="credentials"in Request.prototype;g=new Request(e,{...h,signal:p,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:w?f:void 0});let T=await fetch(g);const _=UE&&(l==="stream"||l==="response");if(UE&&(o||_&&v)){const A={};["status","statusText","headers"].forEach(O=>{A[O]=T[O]});const S=G.toFiniteNumber(T.headers.get("content-length")),[x,I]=o&&FO(S,Z0($O(o),!0))||[];T=new Response(UO(T.body,VO,x,()=>{I&&I(),v&&v()}),A)}l=l||"text";let C=await eg[G.findKey(eg,l)||"text"](T,t);return!_&&v&&v(),await new Promise((A,S)=>{Wj(A,S,{data:C,headers:ar.from(T.headers),status:T.status,statusText:T.statusText,config:t,request:g})})}catch(w){throw v&&v(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,t,g),{cause:w.cause||w}):Ne.from(w,w&&w.code,t,g)}}),VE={http:Uee,xhr:yte,fetch:Ste};G.forEach(VE,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const HO=t=>`- ${t}`,Ite=t=>G.isFunction(t)||t===null||t===!1,Xj={getAdapter:t=>{t=G.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let a=0;a<e;a++){n=t[a];let s;if(r=n,!Ite(n)&&(r=VE[(s=String(n)).toLowerCase()],r===void 0))throw new Ne(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([o,u])=>`adapter ${o} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=e?a.length>1?`since :
`+a.map(HO).join(`
`):" "+HO(a[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:VE};function E1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new gc(null,t)}function qO(t){return E1(t),t.headers=ar.from(t.headers),t.data=_1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Xj.getAdapter(t.adapter||ip.adapter)(t).then(function(r){return E1(t),r.data=_1.call(t,t.transformResponse,r),r.headers=ar.from(r.headers),r},function(r){return zj(r)||(E1(t),r&&r.response&&(r.response.data=_1.call(t,t.transformResponse,r.response),r.response.headers=ar.from(r.response.headers))),Promise.reject(r)})}const Jj="1.7.7",DA={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{DA[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const zO={};DA.transitional=function(e,n,r){function i(a,s){return"[Axios v"+Jj+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,o)=>{if(e===!1)throw new Ne(i(s," has been removed"+(n?" in "+n:"")),Ne.ERR_DEPRECATED);return n&&!zO[s]&&(zO[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,s,o):!0}};function Pte(t,e,n){if(typeof t!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],s=e[a];if(s){const o=t[a],u=o===void 0||s(o,a,t);if(u!==!0)throw new Ne("option "+a+" must be "+u,Ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ne("Unknown option "+a,Ne.ERR_BAD_OPTION)}}const HE={assertOptions:Pte,validators:DA},Ha=HE.validators;let No=class{constructor(e){this.defaults=e,this.interceptors={request:new LO,response:new LO}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=eu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&HE.assertOptions(r,{silentJSONParsing:Ha.transitional(Ha.boolean),forcedJSONParsing:Ha.transitional(Ha.boolean),clarifyTimeoutError:Ha.transitional(Ha.boolean)},!1),i!=null&&(G.isFunction(i)?n.paramsSerializer={serialize:i}:HE.assertOptions(i,{encode:Ha.function,serialize:Ha.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=a&&G.merge(a.common,a[n.method]);a&&G.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),n.headers=ar.concat(s,a);const o=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(u=u&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const l=[];this.interceptors.response.forEach(function(v){l.push(v.fulfilled,v.rejected)});let c,f=0,h;if(!u){const g=[qO.bind(this),void 0];for(g.unshift.apply(g,o),g.push.apply(g,l),h=g.length,c=Promise.resolve(n);f<h;)c=c.then(g[f++],g[f++]);return c}h=o.length;let p=n;for(f=0;f<h;){const g=o[f++],v=o[f++];try{p=g(p)}catch(b){v.call(this,b);break}}try{c=qO.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,h=l.length;f<h;)c=c.then(l[f++],l[f++]);return c}getUri(e){e=eu(this.defaults,e);const n=Gj(e.baseURL,e.url);return Vj(n,e.params,e.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(e){No.prototype[e]=function(n,r){return this.request(eu(r||{},{method:e,url:n,data:(r||{}).data}))}});G.forEach(["post","put","patch"],function(e){function n(r){return function(a,s,o){return this.request(eu(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}No.prototype[e]=n(),No.prototype[e+"Form"]=n(!0)});let Cte=class Zj{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(o=>{r.subscribe(o),a=o}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},e(function(a,s,o){r.reason||(r.reason=new gc(a,s,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Zj(function(i){e=i}),cancel:e}}};function Ote(t){return function(n){return t.apply(null,n)}}function Nte(t){return G.isObject(t)&&t.isAxiosError===!0}const qE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qE).forEach(([t,e])=>{qE[e]=t});function eF(t){const e=new No(t),n=Oj(No.prototype.request,e);return G.extend(n,No.prototype,e,{allOwnKeys:!0}),G.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return eF(eu(t,i))},n}const Ot=eF(ip);Ot.Axios=No;Ot.CanceledError=gc;Ot.CancelToken=Cte;Ot.isCancel=zj;Ot.VERSION=Jj;Ot.toFormData=cv;Ot.AxiosError=Ne;Ot.Cancel=Ot.CanceledError;Ot.all=function(e){return Promise.all(e)};Ot.spread=Ote;Ot.isAxiosError=Nte;Ot.mergeConfig=eu;Ot.AxiosHeaders=ar;Ot.formToJSON=t=>qj(G.isHTMLForm(t)?new FormData(t):t);Ot.getAdapter=Xj.getAdapter;Ot.HttpStatusCode=qE;Ot.default=Ot;const{Axios:gDe,AxiosError:yDe,CanceledError:vDe,isCancel:bDe,CancelToken:_De,VERSION:EDe,all:TDe,Cancel:wDe,isAxiosError:xDe,spread:ADe,toFormData:SDe,AxiosHeaders:IDe,HttpStatusCode:PDe,formToJSON:CDe,getAdapter:ODe,mergeConfig:NDe}=Ot;var Ye;(function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"})(Ye||(Ye={}));function Rte(t){return t.type===Ye.Tag||t.type===Ye.Script||t.type===Ye.Style}const kte=Ye.Root,Dte=Ye.Text,Mte=Ye.Directive,Lte=Ye.Comment,jte=Ye.Script,Fte=Ye.Style,$te=Ye.Tag,Bte=Ye.CDATA,Ute=Ye.Doctype;class tF{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return Kd(this,e)}}class MA extends tF{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}}let Gd=class extends MA{constructor(){super(...arguments),this.type=Ye.Text}get nodeType(){return 3}};class LA extends MA{constructor(){super(...arguments),this.type=Ye.Comment}get nodeType(){return 8}}class jA extends MA{constructor(e,n){super(n),this.name=e,this.type=Ye.Directive}get nodeType(){return 1}}class FA extends tF{constructor(e){super(),this.children=e}get firstChild(){var e;return(e=this.children[0])!==null&&e!==void 0?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}}class nF extends FA{constructor(){super(...arguments),this.type=Ye.CDATA}get nodeType(){return 4}}class tu extends FA{constructor(){super(...arguments),this.type=Ye.Root}get nodeType(){return 9}}class $A extends FA{constructor(e,n,r=[],i=e==="script"?Ye.Script:e==="style"?Ye.Style:Ye.Tag){super(r),this.name=e,this.attribs=n,this.type=i}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map(e=>{var n,r;return{name:e,value:this.attribs[e],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[e],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[e]}})}}function Ae(t){return Rte(t)}function dv(t){return t.type===Ye.CDATA}function Di(t){return t.type===Ye.Text}function hv(t){return t.type===Ye.Comment}function zE(t){return t.type===Ye.Directive}function Us(t){return t.type===Ye.Root}function on(t){return Object.prototype.hasOwnProperty.call(t,"children")}function Kd(t,e=!1){let n;if(Di(t))n=new Gd(t.data);else if(hv(t))n=new LA(t.data);else if(Ae(t)){const r=e?T1(t.children):[],i=new $A(t.name,{...t.attribs},r);r.forEach(a=>a.parent=i),t.namespace!=null&&(i.namespace=t.namespace),t["x-attribsNamespace"]&&(i["x-attribsNamespace"]={...t["x-attribsNamespace"]}),t["x-attribsPrefix"]&&(i["x-attribsPrefix"]={...t["x-attribsPrefix"]}),n=i}else if(dv(t)){const r=e?T1(t.children):[],i=new nF(r);r.forEach(a=>a.parent=i),n=i}else if(Us(t)){const r=e?T1(t.children):[],i=new tu(r);r.forEach(a=>a.parent=i),t["x-mode"]&&(i["x-mode"]=t["x-mode"]),n=i}else if(zE(t)){const r=new jA(t.name,t.data);t["x-name"]!=null&&(r["x-name"]=t["x-name"],r["x-publicId"]=t["x-publicId"],r["x-systemId"]=t["x-systemId"]),n=r}else throw new Error(`Not implemented yet: ${t.type}`);return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}function T1(t){const e=t.map(n=>Kd(n,!0));for(let n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}const WO={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class Vte{constructor(e,n,r){this.dom=[],this.root=new tu(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(r=n,n=WO),typeof e=="object"&&(n=e,e=void 0),this.callback=e??null,this.options=n??WO,this.elementCB=r??null}onparserinit(e){this.parser=e}onreset(){this.dom=[],this.root=new tu(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(e){this.handleCallback(e)}onclosetag(){this.lastNode=null;const e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)}onopentag(e,n){const r=this.options.xmlMode?Ye.Tag:void 0,i=new $A(e,n,void 0,r);this.addNode(i),this.tagStack.push(i)}ontext(e){const{lastNode:n}=this;if(n&&n.type===Ye.Text)n.data+=e,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const r=new Gd(e);this.addNode(r),this.lastNode=r}}oncomment(e){if(this.lastNode&&this.lastNode.type===Ye.Comment){this.lastNode.data+=e;return}const n=new LA(e);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const e=new Gd(""),n=new nF([e]);this.addNode(n),e.parent=n,this.lastNode=e}oncdataend(){this.lastNode=null}onprocessinginstruction(e,n){const r=new jA(e,n);this.addNode(r)}handleCallback(e){if(typeof this.callback=="function")this.callback(e,this.dom);else if(e)throw e}addNode(e){const n=this.tagStack[this.tagStack.length-1],r=n.children[n.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),n.children.push(e),r&&(e.prev=r,r.next=e),e.parent=n,this.lastNode=null}}const BA=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),rF=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var w1;const Hte=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),WE=(w1=String.fromCodePoint)!==null&&w1!==void 0?w1:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function qte(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=Hte.get(t))!==null&&e!==void 0?e:t}var an;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(an||(an={}));const zte=32;var ls;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(ls||(ls={}));function GE(t){return t>=an.ZERO&&t<=an.NINE}function Wte(t){return t>=an.UPPER_A&&t<=an.UPPER_F||t>=an.LOWER_A&&t<=an.LOWER_F}function Gte(t){return t>=an.UPPER_A&&t<=an.UPPER_Z||t>=an.LOWER_A&&t<=an.LOWER_Z||GE(t)}function Kte(t){return t===an.EQUALS||Gte(t)}var en;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(en||(en={}));var Dr;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Dr||(Dr={}));class UA{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=en.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Dr.Strict}startEntity(e){this.decodeMode=e,this.state=en.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case en.EntityStart:return e.charCodeAt(n)===an.NUM?(this.state=en.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=en.NamedEntity,this.stateNamedEntity(e,n));case en.NumericStart:return this.stateNumericStart(e,n);case en.NumericDecimal:return this.stateNumericDecimal(e,n);case en.NumericHex:return this.stateNumericHex(e,n);case en.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|zte)===an.LOWER_X?(this.state=en.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=en.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const a=r-n;this.result=this.result*Math.pow(i,a)+parseInt(e.substr(n,a),i),this.consumed+=a}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(GE(i)||Wte(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(GE(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===an.SEMI)this.consumed+=1;else if(this.decodeMode===Dr.Strict)return 0;return this.emitCodePoint(qte(this.result),this.consumed),this.errors&&(e!==an.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],a=(i&ls.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const s=e.charCodeAt(n);if(this.treeIndex=Yte(r,i,this.treeIndex+Math.max(1,a),s),this.treeIndex<0)return this.result===0||this.decodeMode===Dr.Attribute&&(a===0||Kte(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],a=(i&ls.VALUE_LENGTH)>>14,a!==0){if(s===an.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==Dr.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&ls.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~ls.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case en.NamedEntity:return this.result!==0&&(this.decodeMode!==Dr.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case en.NumericDecimal:return this.emitNumericEntity(0,2);case en.NumericHex:return this.emitNumericEntity(0,3);case en.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case en.EntityStart:return 0}}}function iF(t){let e="";const n=new UA(t,r=>e+=WE(r));return function(i,a){let s=0,o=0;for(;(o=i.indexOf("&",o))>=0;){e+=i.slice(s,o),n.startEntity(a);const l=n.write(i,o+1);if(l<0){s=o+n.end();break}s=o+l,o=l===0?s+1:s}const u=e+i.slice(s);return e="",u}}function Yte(t,e,n,r){const i=(e&ls.BRANCH_LENGTH)>>7,a=e&ls.JUMP_TABLE;if(i===0)return a!==0&&r===a?n:-1;if(a){const u=r-a;return u<0||u>=i?-1:t[n+u]-1}let s=n,o=s+i-1;for(;s<=o;){const u=s+o>>>1,l=t[u];if(l<r)s=u+1;else if(l>r)o=u-1;else return t[u+i]}return-1}iF(BA);iF(rF);const GO=/["&'<>$\x80-\uFFFF]/g,Qte=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),Xte=String.prototype.codePointAt!=null?(t,e)=>t.codePointAt(e):(t,e)=>(t.charCodeAt(e)&64512)===55296?(t.charCodeAt(e)-55296)*1024+t.charCodeAt(e+1)-56320+65536:t.charCodeAt(e);function aF(t){let e="",n=0,r;for(;(r=GO.exec(t))!==null;){const i=r.index,a=t.charCodeAt(i),s=Qte.get(a);s!==void 0?(e+=t.substring(n,i)+s,n=i+1):(e+=`${t.substring(n,i)}&#x${Xte(t,i).toString(16)};`,n=GO.lastIndex+=+((a&64512)===55296))}return e+t.substr(n)}function sF(t,e){return function(r){let i,a=0,s="";for(;i=t.exec(r);)a!==i.index&&(s+=r.substring(a,i.index)),s+=e.get(i[0].charCodeAt(0)),a=i.index+1;return s+r.substring(a)}}const oF=sF(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),uF=sF(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),Jte=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),Zte=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),ene=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function tne(t){return t.replace(/"/g,"&quot;")}function nne(t,e){var n;if(!t)return;const r=((n=e.encodeEntities)!==null&&n!==void 0?n:e.decodeEntities)===!1?tne:e.xmlMode||e.encodeEntities!=="utf8"?aF:oF;return Object.keys(t).map(i=>{var a,s;const o=(a=t[i])!==null&&a!==void 0?a:"";return e.xmlMode==="foreign"&&(i=(s=Zte.get(i))!==null&&s!==void 0?s:i),!e.emptyAttrs&&!e.xmlMode&&o===""?i:`${i}="${r(o)}"`}).join(" ")}const KO=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function pv(t,e={}){const n="length"in t?t:[t];let r="";for(let i=0;i<n.length;i++)r+=rne(n[i],e);return r}function rne(t,e){switch(t.type){case kte:return pv(t.children,e);case Ute:case Mte:return one(t);case Lte:return cne(t);case Bte:return lne(t);case jte:case Fte:case $te:return sne(t,e);case Dte:return une(t,e)}}const ine=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),ane=new Set(["svg","math"]);function sne(t,e){var n;e.xmlMode==="foreign"&&(t.name=(n=Jte.get(t.name))!==null&&n!==void 0?n:t.name,t.parent&&ine.has(t.parent.name)&&(e={...e,xmlMode:!1})),!e.xmlMode&&ane.has(t.name)&&(e={...e,xmlMode:"foreign"});let r=`<${t.name}`;const i=nne(t.attribs,e);return i&&(r+=` ${i}`),t.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&KO.has(t.name))?(e.xmlMode||(r+=" "),r+="/>"):(r+=">",t.children.length>0&&(r+=pv(t.children,e)),(e.xmlMode||!KO.has(t.name))&&(r+=`</${t.name}>`)),r}function one(t){return`<${t.data}>`}function une(t,e){var n;let r=t.data||"";return((n=e.encodeEntities)!==null&&n!==void 0?n:e.decodeEntities)!==!1&&!(!e.xmlMode&&t.parent&&ene.has(t.parent.name))&&(r=e.xmlMode||e.encodeEntities!=="utf8"?aF(r):uF(r)),r}function lne(t){return`<![CDATA[${t.children[0].data}]]>`}function cne(t){return`<!--${t.data}-->`}function lF(t,e){return pv(t,e)}function fne(t,e){return on(t)?t.children.map(n=>lF(n,e)).join(""):""}function r0(t){return Array.isArray(t)?t.map(r0).join(""):Ae(t)?t.name==="br"?`
`:r0(t.children):dv(t)?r0(t.children):Di(t)?t.data:""}function Ml(t){return Array.isArray(t)?t.map(Ml).join(""):on(t)&&!hv(t)?Ml(t.children):Di(t)?t.data:""}function tg(t){return Array.isArray(t)?t.map(tg).join(""):on(t)&&(t.type===Ye.Tag||dv(t))?tg(t.children):Di(t)?t.data:""}function mv(t){return on(t)?t.children:[]}function cF(t){return t.parent||null}function fF(t){const e=cF(t);if(e!=null)return mv(e);const n=[t];let{prev:r,next:i}=t;for(;r!=null;)n.unshift(r),{prev:r}=r;for(;i!=null;)n.push(i),{next:i}=i;return n}function dne(t,e){var n;return(n=t.attribs)===null||n===void 0?void 0:n[e]}function hne(t,e){return t.attribs!=null&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&t.attribs[e]!=null}function pne(t){return t.name}function VA(t){let{next:e}=t;for(;e!==null&&!Ae(e);)({next:e}=e);return e}function HA(t){let{prev:e}=t;for(;e!==null&&!Ae(e);)({prev:e}=e);return e}function mu(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){const e=t.parent.children,n=e.lastIndexOf(t);n>=0&&e.splice(n,1)}t.next=null,t.prev=null,t.parent=null}function mne(t,e){const n=e.prev=t.prev;n&&(n.next=e);const r=e.next=t.next;r&&(r.prev=e);const i=e.parent=t.parent;if(i){const a=i.children;a[a.lastIndexOf(t)]=e,t.parent=null}}function gne(t,e){if(mu(e),e.next=null,e.parent=t,t.children.push(e)>1){const n=t.children[t.children.length-2];n.next=e,e.prev=n}else e.prev=null}function yne(t,e){mu(e);const{parent:n}=t,r=t.next;if(e.next=r,e.prev=t,t.next=e,e.parent=n,r){if(r.prev=e,n){const i=n.children;i.splice(i.lastIndexOf(r),0,e)}}else n&&n.children.push(e)}function vne(t,e){if(mu(e),e.parent=t,e.prev=null,t.children.unshift(e)!==1){const n=t.children[1];n.prev=e,e.next=n}else e.next=null}function bne(t,e){mu(e);const{parent:n}=t;if(n){const r=n.children;r.splice(r.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=n,e.prev=t.prev,e.next=t,t.prev=e}function gv(t,e,n=!0,r=1/0){return qA(t,Array.isArray(e)?e:[e],n,r)}function qA(t,e,n,r){const i=[],a=[e],s=[0];for(;;){if(s[0]>=a[0].length){if(s.length===1)return i;a.shift(),s.shift();continue}const o=a[0][s[0]++];if(t(o)&&(i.push(o),--r<=0))return i;n&&on(o)&&o.children.length>0&&(s.unshift(0),a.unshift(o.children))}}function _ne(t,e){return e.find(t)}function zA(t,e,n=!0){let r=null;for(let i=0;i<e.length&&!r;i++){const a=e[i];if(Ae(a))t(a)?r=a:n&&a.children.length>0&&(r=zA(t,a.children,!0));else continue}return r}function dF(t,e){return e.some(n=>Ae(n)&&(t(n)||dF(t,n.children)))}function Ene(t,e){const n=[],r=[e],i=[0];for(;;){if(i[0]>=r[0].length){if(r.length===1)return n;r.shift(),i.shift();continue}const a=r[0][i[0]++];Ae(a)&&(t(a)&&n.push(a),a.children.length>0&&(i.unshift(0),r.unshift(a.children)))}}const ng={tag_name(t){return typeof t=="function"?e=>Ae(e)&&t(e.name):t==="*"?Ae:e=>Ae(e)&&e.name===t},tag_type(t){return typeof t=="function"?e=>t(e.type):e=>e.type===t},tag_contains(t){return typeof t=="function"?e=>Di(e)&&t(e.data):e=>Di(e)&&e.data===t}};function hF(t,e){return typeof e=="function"?n=>Ae(n)&&e(n.attribs[t]):n=>Ae(n)&&n.attribs[t]===e}function Tne(t,e){return n=>t(n)||e(n)}function pF(t){const e=Object.keys(t).map(n=>{const r=t[n];return Object.prototype.hasOwnProperty.call(ng,n)?ng[n](r):hF(n,r)});return e.length===0?null:e.reduce(Tne)}function wne(t,e){const n=pF(t);return n?n(e):!0}function xne(t,e,n,r=1/0){const i=pF(t);return i?gv(i,e,n,r):[]}function Ane(t,e,n=!0){return Array.isArray(e)||(e=[e]),zA(hF("id",t),e,n)}function yc(t,e,n=!0,r=1/0){return gv(ng.tag_name(t),e,n,r)}function Sne(t,e,n=!0,r=1/0){return gv(ng.tag_type(t),e,n,r)}function Ine(t){let e=t.length;for(;--e>=0;){const n=t[e];if(e>0&&t.lastIndexOf(n,e-1)>=0){t.splice(e,1);continue}for(let r=n.parent;r;r=r.parent)if(t.includes(r)){t.splice(e,1);break}}return t}var Or;(function(t){t[t.DISCONNECTED=1]="DISCONNECTED",t[t.PRECEDING=2]="PRECEDING",t[t.FOLLOWING=4]="FOLLOWING",t[t.CONTAINS=8]="CONTAINS",t[t.CONTAINED_BY=16]="CONTAINED_BY"})(Or||(Or={}));function mF(t,e){const n=[],r=[];if(t===e)return 0;let i=on(t)?t:t.parent;for(;i;)n.unshift(i),i=i.parent;for(i=on(e)?e:e.parent;i;)r.unshift(i),i=i.parent;const a=Math.min(n.length,r.length);let s=0;for(;s<a&&n[s]===r[s];)s++;if(s===0)return Or.DISCONNECTED;const o=n[s-1],u=o.children,l=n[s],c=r[s];return u.indexOf(l)>u.indexOf(c)?o===e?Or.FOLLOWING|Or.CONTAINED_BY:Or.FOLLOWING:o===t?Or.PRECEDING|Or.CONTAINS:Or.PRECEDING}function vc(t){return t=t.filter((e,n,r)=>!r.includes(e,n+1)),t.sort((e,n)=>{const r=mF(e,n);return r&Or.PRECEDING?-1:r&Or.FOLLOWING?1:0}),t}function Pne(t){const e=rg(kne,t);return e?e.name==="feed"?Cne(e):One(e):null}function Cne(t){var e;const n=t.children,r={type:"atom",items:yc("entry",n).map(s=>{var o;const{children:u}=s,l={media:gF(u)};Yn(l,"id","id",u),Yn(l,"title","title",u);const c=(o=rg("link",u))===null||o===void 0?void 0:o.attribs.href;c&&(l.link=c);const f=cs("summary",u)||cs("content",u);f&&(l.description=f);const h=cs("updated",u);return h&&(l.pubDate=new Date(h)),l})};Yn(r,"id","id",n),Yn(r,"title","title",n);const i=(e=rg("link",n))===null||e===void 0?void 0:e.attribs.href;i&&(r.link=i),Yn(r,"description","subtitle",n);const a=cs("updated",n);return a&&(r.updated=new Date(a)),Yn(r,"author","email",n,!0),r}function One(t){var e,n;const r=(n=(e=rg("channel",t.children))===null||e===void 0?void 0:e.children)!==null&&n!==void 0?n:[],i={type:t.name.substr(0,3),id:"",items:yc("item",t.children).map(s=>{const{children:o}=s,u={media:gF(o)};Yn(u,"id","guid",o),Yn(u,"title","title",o),Yn(u,"link","link",o),Yn(u,"description","description",o);const l=cs("pubDate",o)||cs("dc:date",o);return l&&(u.pubDate=new Date(l)),u})};Yn(i,"title","title",r),Yn(i,"link","link",r),Yn(i,"description","description",r);const a=cs("lastBuildDate",r);return a&&(i.updated=new Date(a)),Yn(i,"author","managingEditor",r,!0),i}const Nne=["url","type","lang"],Rne=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function gF(t){return yc("media:content",t).map(e=>{const{attribs:n}=e,r={medium:n.medium,isDefault:!!n.isDefault};for(const i of Nne)n[i]&&(r[i]=n[i]);for(const i of Rne)n[i]&&(r[i]=parseInt(n[i],10));return n.expression&&(r.expression=n.expression),r})}function rg(t,e){return yc(t,e,!0,1)[0]}function cs(t,e,n=!1){return Ml(yc(t,e,n,1)).trim()}function Yn(t,e,n,r,i=!1){const a=cs(n,r,i);a&&(t[e]=a)}function kne(t){return t==="rss"||t==="feed"||t==="rdf:RDF"}const yv=Object.freeze(Object.defineProperty({__proto__:null,get DocumentPosition(){return Or},append:yne,appendChild:gne,compareDocumentPosition:mF,existsOne:dF,filter:gv,find:qA,findAll:Ene,findOne:zA,findOneChild:_ne,getAttributeValue:dne,getChildren:mv,getElementById:Ane,getElements:xne,getElementsByTagName:yc,getElementsByTagType:Sne,getFeed:Pne,getInnerHTML:fne,getName:pne,getOuterHTML:lF,getParent:cF,getSiblings:fF,getText:r0,hasAttrib:hne,hasChildren:on,innerText:tg,isCDATA:dv,isComment:hv,isDocument:Us,isTag:Ae,isText:Di,nextElementSibling:VA,prepend:bne,prependChild:vne,prevElementSibling:HA,removeElement:mu,removeSubsets:Ine,replaceElement:mne,testElement:wne,textContent:Ml,uniqueSort:vc},Symbol.toStringTag,{value:"Module"})),Dne={_useHtmlParser2:!1};function KE(t,e){if(!t)return e??Dne;const n={_useHtmlParser2:!!t.xmlMode,...e,...t};return t.xml?(n._useHtmlParser2=!0,n.xmlMode=!0,t.xml!==!0&&Object.assign(n,t.xml)):t.xmlMode&&(n._useHtmlParser2=!0),n}function yF(t,e,n){return t?t(e??t._root.children,null,void 0,n).toString():""}function Mne(t,e){return typeof t=="object"&&t!=null&&!("length"in t)&&!("type"in t)}function Lne(t,e){const n=Mne(t)?(e=t,void 0):t,r={...this===null||this===void 0?void 0:this._options,...KE(e)};return yF(this,n,r)}function jne(t){const e={...this._options,xmlMode:!0};return yF(this,t,e)}function Yd(t){const e=t??(this?this.root():[]);let n="";for(let r=0;r<e.length;r++)n+=Ml(e[r]);return n}function Fne(t,e,n=typeof e=="boolean"?e:!1){if(!t||typeof t!="string")return null;typeof e=="boolean"&&(n=e);const r=this.load(t,this._options,!1);return n||r("script").remove(),[...r.root()[0].children]}function $ne(){return this(this._root)}function vF(t,e){if(e===t)return!1;let n=e;for(;n&&n!==n.parent;)if(n=n.parent,n===t)return!0;return!1}function Bne(t){return this.root().extract(t)}function Une(t,e){if(!YO(t)||!YO(e))return;let n=t.length;const r=+e.length;for(let i=0;i<r;i++)t[n++]=e[i];return t.length=n,t}function YO(t){if(Array.isArray(t))return!0;if(typeof t!="object"||t===null||!("length"in t)||typeof t.length!="number"||t.length<0)return!1;for(let e=0;e<t.length;e++)if(!(e in t))return!1;return!0}const Vne=Object.freeze(Object.defineProperty({__proto__:null,contains:vF,extract:Bne,html:Lne,merge:Une,parseHTML:Fne,root:$ne,text:Yd,xml:jne},Symbol.toStringTag,{value:"Module"}));function da(t){return t.cheerio!=null}function Hne(t){return t.replace(/[._-](\w|$)/g,(e,n)=>n.toUpperCase())}function qne(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()}function Nt(t,e){const n=t.length;for(let r=0;r<n;r++)e(t[r],r);return t}var mo;(function(t){t[t.LowerA=97]="LowerA",t[t.LowerZ=122]="LowerZ",t[t.UpperA=65]="UpperA",t[t.UpperZ=90]="UpperZ",t[t.Exclamation=33]="Exclamation"})(mo||(mo={}));function YE(t){const e=t.indexOf("<");if(e<0||e>t.length-3)return!1;const n=t.charCodeAt(e+1);return(n>=mo.LowerA&&n<=mo.LowerZ||n>=mo.UpperA&&n<=mo.UpperZ||n===mo.Exclamation)&&t.includes(">",e+2)}const Qd=Object.prototype.hasOwnProperty,Xd=/\s+/,QE="data-",WA=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,zne=/^{[^]*}$|^\[[^]*]$/;function ig(t,e,n){var r;if(!(!t||!Ae(t))){if((r=t.attribs)!==null&&r!==void 0||(t.attribs={}),!e)return t.attribs;if(Qd.call(t.attribs,e))return!n&&WA.test(e)?e:t.attribs[e];if(t.name==="option"&&e==="value")return Yd(t.children);if(t.name==="input"&&(t.attribs.type==="radio"||t.attribs.type==="checkbox")&&e==="value")return"on"}}function dl(t,e,n){n===null?_F(t,e):t.attribs[e]=`${n}`}function Wne(t,e){if(typeof t=="object"||e!==void 0){if(typeof e=="function"){if(typeof t!="string")throw new Error("Bad combination of arguments.");return Nt(this,(n,r)=>{Ae(n)&&dl(n,t,e.call(n,r,n.attribs[t]))})}return Nt(this,n=>{if(Ae(n))if(typeof t=="object")for(const r of Object.keys(t)){const i=t[r];dl(n,r,i)}else dl(n,t,e)})}return arguments.length>1?this:ig(this[0],t,this.options.xmlMode)}function QO(t,e,n){return e in t?t[e]:!n&&WA.test(e)?ig(t,e,!1)!==void 0:ig(t,e,n)}function x1(t,e,n,r){e in t?t[e]=n:dl(t,e,!r&&WA.test(e)?n?"":null:`${n}`)}function Gne(t,e){var n;if(typeof t=="string"&&e===void 0){const r=this[0];if(!r||!Ae(r))return;switch(t){case"style":{const i=this.css(),a=Object.keys(i);for(let s=0;s<a.length;s++)i[s]=a[s];return i.length=a.length,i}case"tagName":case"nodeName":return r.name.toUpperCase();case"href":case"src":{const i=(n=r.attribs)===null||n===void 0?void 0:n[t];return typeof URL<"u"&&(t==="href"&&(r.tagName==="a"||r.tagName==="link")||t==="src"&&(r.tagName==="img"||r.tagName==="iframe"||r.tagName==="audio"||r.tagName==="video"||r.tagName==="source"))&&i!==void 0&&this.options.baseURI?new URL(i,this.options.baseURI).href:i}case"innerText":return tg(r);case"textContent":return Ml(r);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return QO(r,t,this.options.xmlMode)}}if(typeof t=="object"||e!==void 0){if(typeof e=="function"){if(typeof t=="object")throw new TypeError("Bad combination of arguments.");return Nt(this,(r,i)=>{Ae(r)&&x1(r,t,e.call(r,i,QO(r,t,this.options.xmlMode)),this.options.xmlMode)})}return Nt(this,r=>{if(Ae(r))if(typeof t=="object")for(const i of Object.keys(t)){const a=t[i];x1(r,i,a,this.options.xmlMode)}else x1(r,t,e,this.options.xmlMode)})}}function XO(t,e,n){var r;(r=t.data)!==null&&r!==void 0||(t.data={}),typeof e=="object"?Object.assign(t.data,e):typeof e=="string"&&n!==void 0&&(t.data[e]=n)}function Kne(t){for(const e of Object.keys(t.attribs)){if(!e.startsWith(QE))continue;const n=Hne(e.slice(QE.length));Qd.call(t.data,n)||(t.data[n]=bF(t.attribs[e]))}return t.data}function Yne(t,e){const n=QE+qne(e),r=t.data;if(Qd.call(r,e))return r[e];if(Qd.call(t.attribs,n))return r[e]=bF(t.attribs[n])}function bF(t){if(t==="null")return null;if(t==="true")return!0;if(t==="false")return!1;const e=Number(t);if(t===String(e))return e;if(zne.test(t))try{return JSON.parse(t)}catch{}return t}function Qne(t,e){var n;const r=this[0];if(!r||!Ae(r))return;const i=r;return(n=i.data)!==null&&n!==void 0||(i.data={}),t==null?Kne(i):typeof t=="object"||e!==void 0?(Nt(this,a=>{Ae(a)&&(typeof t=="object"?XO(a,t):XO(a,t,e))}),this):Yne(i,t)}function Xne(t){const e=arguments.length===0,n=this[0];if(!n||!Ae(n))return e?void 0:this;switch(n.name){case"textarea":return this.text(t);case"select":{const r=this.find("option:selected");if(!e){if(this.attr("multiple")==null&&typeof t=="object")return this;this.find("option").removeAttr("selected");const i=typeof t=="object"?t:[t];for(const a of i)this.find(`option[value="${a}"]`).attr("selected","");return this}return this.attr("multiple")?r.toArray().map(i=>Yd(i.children)):r.attr("value")}case"input":case"option":return e?this.attr("value"):this.attr("value",t)}}function _F(t,e){!t.attribs||!Qd.call(t.attribs,e)||delete t.attribs[e]}function ag(t){return t?t.trim().split(Xd):[]}function Jne(t){const e=ag(t);for(const n of e)Nt(this,r=>{Ae(r)&&_F(r,n)});return this}function Zne(t){return this.toArray().some(e=>{const n=Ae(e)&&e.attribs.class;let r=-1;if(n&&t.length>0)for(;(r=n.indexOf(t,r+1))>-1;){const i=r+t.length;if((r===0||Xd.test(n[r-1]))&&(i===n.length||Xd.test(n[i])))return!0}return!1})}function EF(t){if(typeof t=="function")return Nt(this,(r,i)=>{if(Ae(r)){const a=r.attribs.class||"";EF.call([r],t.call(r,i,a))}});if(!t||typeof t!="string")return this;const e=t.split(Xd),n=this.length;for(let r=0;r<n;r++){const i=this[r];if(!Ae(i))continue;const a=ig(i,"class",!1);if(a){let s=` ${a} `;for(const o of e){const u=`${o} `;s.includes(` ${u}`)||(s+=u)}dl(i,"class",s.trim())}else dl(i,"class",e.join(" ").trim())}return this}function TF(t){if(typeof t=="function")return Nt(this,(i,a)=>{Ae(i)&&TF.call([i],t.call(i,a,i.attribs.class||""))});const e=ag(t),n=e.length,r=arguments.length===0;return Nt(this,i=>{if(Ae(i))if(r)i.attribs.class="";else{const a=ag(i.attribs.class);let s=!1;for(let o=0;o<n;o++){const u=a.indexOf(e[o]);u>=0&&(a.splice(u,1),s=!0,o--)}s&&(i.attribs.class=a.join(" "))}})}function wF(t,e){if(typeof t=="function")return Nt(this,(s,o)=>{Ae(s)&&wF.call([s],t.call(s,o,s.attribs.class||"",e),e)});if(!t||typeof t!="string")return this;const n=t.split(Xd),r=n.length,i=typeof e=="boolean"?e?1:-1:0,a=this.length;for(let s=0;s<a;s++){const o=this[s];if(!Ae(o))continue;const u=ag(o.attribs.class);for(let l=0;l<r;l++){const c=u.indexOf(n[l]);i>=0&&c<0?u.push(n[l]):i<=0&&c>=0&&u.splice(c,1)}o.attribs.class=u.join(" ")}return this}const ere=Object.freeze(Object.defineProperty({__proto__:null,addClass:EF,attr:Wne,data:Qne,hasClass:Zne,prop:Gne,removeAttr:Jne,removeClass:TF,toggleClass:wF,val:Xne},Symbol.toStringTag,{value:"Module"}));var Ee;(function(t){t.Attribute="attribute",t.Pseudo="pseudo",t.PseudoElement="pseudo-element",t.Tag="tag",t.Universal="universal",t.Adjacent="adjacent",t.Child="child",t.Descendant="descendant",t.Parent="parent",t.Sibling="sibling",t.ColumnCombinator="column-combinator"})(Ee||(Ee={}));var Kt;(function(t){t.Any="any",t.Element="element",t.End="end",t.Equals="equals",t.Exists="exists",t.Hyphen="hyphen",t.Not="not",t.Start="start"})(Kt||(Kt={}));const JO=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,tre=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,nre=new Map([[126,Kt.Element],[94,Kt.Start],[36,Kt.End],[42,Kt.Any],[33,Kt.Not],[124,Kt.Hyphen]]),rre=new Set(["has","not","matches","is","where","host","host-context"]);function nd(t){switch(t.type){case Ee.Adjacent:case Ee.Child:case Ee.Descendant:case Ee.Parent:case Ee.Sibling:case Ee.ColumnCombinator:return!0;default:return!1}}const ire=new Set(["contains","icontains"]);function are(t,e,n){const r=parseInt(e,16)-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function ff(t){return t.replace(tre,are)}function A1(t){return t===39||t===34}function ZO(t){return t===32||t===9||t===10||t===12||t===13}function vv(t){const e=[],n=xF(e,`${t}`,0);if(n<t.length)throw new Error(`Unmatched selector: ${t.slice(n)}`);return e}function xF(t,e,n){let r=[];function i(h){const p=e.slice(n+h).match(JO);if(!p)throw new Error(`Expected name, found ${e.slice(n)}`);const[g]=p;return n+=h+g.length,ff(g)}function a(h){for(n+=h;n<e.length&&ZO(e.charCodeAt(n));)n++}function s(){n+=1;const h=n;let p=1;for(;p>0&&n<e.length;n++)e.charCodeAt(n)===40&&!o(n)?p++:e.charCodeAt(n)===41&&!o(n)&&p--;if(p)throw new Error("Parenthesis not matched");return ff(e.slice(h,n-1))}function o(h){let p=0;for(;e.charCodeAt(--h)===92;)p++;return(p&1)===1}function u(){if(r.length>0&&nd(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function l(h){if(r.length>0&&r[r.length-1].type===Ee.Descendant){r[r.length-1].type=h;return}u(),r.push({type:h})}function c(h,p){r.push({type:Ee.Attribute,name:h,action:p,value:i(1),namespace:null,ignoreCase:"quirks"})}function f(){if(r.length&&r[r.length-1].type===Ee.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");t.push(r)}if(a(0),e.length===n)return n;e:for(;n<e.length;){const h=e.charCodeAt(n);switch(h){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==Ee.Descendant)&&(u(),r.push({type:Ee.Descendant})),a(1);break}case 62:{l(Ee.Child),a(1);break}case 60:{l(Ee.Parent),a(1);break}case 126:{l(Ee.Sibling),a(1);break}case 43:{l(Ee.Adjacent),a(1);break}case 46:{c("class",Kt.Element);break}case 35:{c("id",Kt.Equals);break}case 91:{a(1);let p,g=null;e.charCodeAt(n)===124?p=i(1):e.startsWith("*|",n)?(g="*",p=i(2)):(p=i(0),e.charCodeAt(n)===124&&e.charCodeAt(n+1)!==61&&(g=p,p=i(1))),a(0);let v=Kt.Exists;const b=nre.get(e.charCodeAt(n));if(b){if(v=b,e.charCodeAt(n+1)!==61)throw new Error("Expected `=`");a(2)}else e.charCodeAt(n)===61&&(v=Kt.Equals,a(1));let w="",T=null;if(v!=="exists"){if(A1(e.charCodeAt(n))){const A=e.charCodeAt(n);let S=n+1;for(;S<e.length&&(e.charCodeAt(S)!==A||o(S));)S+=1;if(e.charCodeAt(S)!==A)throw new Error("Attribute value didn't end");w=ff(e.slice(n+1,S)),n=S+1}else{const A=n;for(;n<e.length&&(!ZO(e.charCodeAt(n))&&e.charCodeAt(n)!==93||o(n));)n+=1;w=ff(e.slice(A,n))}a(0);const C=e.charCodeAt(n)|32;C===115?(T=!1,a(1)):C===105&&(T=!0,a(1))}if(e.charCodeAt(n)!==93)throw new Error("Attribute selector didn't terminate");n+=1;const _={type:Ee.Attribute,name:p,action:v,value:w,namespace:g,ignoreCase:T};r.push(_);break}case 58:{if(e.charCodeAt(n+1)===58){r.push({type:Ee.PseudoElement,name:i(2).toLowerCase(),data:e.charCodeAt(n)===40?s():null});continue}const p=i(1).toLowerCase();let g=null;if(e.charCodeAt(n)===40)if(rre.has(p)){if(A1(e.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${p} cannot be quoted`);if(g=[],n=xF(g,e,n+1),e.charCodeAt(n)!==41)throw new Error(`Missing closing parenthesis in :${p} (${e})`);n+=1}else{if(g=s(),ire.has(p)){const v=g.charCodeAt(0);v===g.charCodeAt(g.length-1)&&A1(v)&&(g=g.slice(1,-1))}g=ff(g)}r.push({type:Ee.Pseudo,name:p,data:g});break}case 44:{f(),r=[],a(1);break}default:{if(e.startsWith("/*",n)){const v=e.indexOf("*/",n+2);if(v<0)throw new Error("Comment was not terminated");n=v+2,r.length===0&&a(0);break}let p=null,g;if(h===42)n+=1,g="*";else if(h===124){if(g="",e.charCodeAt(n+1)===124){l(Ee.ColumnCombinator),a(2);break}}else if(JO.test(e.slice(n)))g=i(0);else break e;e.charCodeAt(n)===124&&e.charCodeAt(n+1)!==124&&(p=g,e.charCodeAt(n+1)===42?(g="*",n+=2):g=i(1)),r.push(g==="*"?{type:Ee.Universal,namespace:p}:{type:Ee.Tag,name:g,namespace:p})}}}return f(),n}var sg={trueFunc:function(){return!0},falseFunc:function(){return!1}};const De=st(sg),AF=new Map([[Ee.Universal,50],[Ee.Tag,30],[Ee.Attribute,1],[Ee.Pseudo,0]]);function GA(t){return!AF.has(t.type)}const sre=new Map([[Kt.Exists,10],[Kt.Equals,8],[Kt.Not,7],[Kt.Start,6],[Kt.End,6],[Kt.Any,5]]);function ore(t){const e=t.map(SF);for(let n=1;n<t.length;n++){const r=e[n];if(!(r<0))for(let i=n-1;i>=0&&r<e[i];i--){const a=t[i+1];t[i+1]=t[i],t[i]=a,e[i+1]=e[i],e[i]=r}}}function SF(t){var e,n;let r=(e=AF.get(t.type))!==null&&e!==void 0?e:-1;return t.type===Ee.Attribute?(r=(n=sre.get(t.action))!==null&&n!==void 0?n:4,t.action===Kt.Equals&&t.name==="id"&&(r=9),t.ignoreCase&&(r>>=1)):t.type===Ee.Pseudo&&(t.data?t.name==="has"||t.name==="contains"?r=0:Array.isArray(t.data)?(r=Math.min(...t.data.map(i=>Math.min(...i.map(SF)))),r<0&&(r=0)):r=2:r=3),r}const ure=/[-[\]{}()*+?.,\\^$|#\s]/g;function eN(t){return t.replace(ure,"\\$&")}const lre=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function eo(t,e){return typeof t.ignoreCase=="boolean"?t.ignoreCase:t.ignoreCase==="quirks"?!!e.quirksMode:!e.xmlMode&&lre.has(t.name)}const cre={equals(t,e,n){const{adapter:r}=n,{name:i}=e;let{value:a}=e;return eo(e,n)?(a=a.toLowerCase(),s=>{const o=r.getAttributeValue(s,i);return o!=null&&o.length===a.length&&o.toLowerCase()===a&&t(s)}):s=>r.getAttributeValue(s,i)===a&&t(s)},hyphen(t,e,n){const{adapter:r}=n,{name:i}=e;let{value:a}=e;const s=a.length;return eo(e,n)?(a=a.toLowerCase(),function(u){const l=r.getAttributeValue(u,i);return l!=null&&(l.length===s||l.charAt(s)==="-")&&l.substr(0,s).toLowerCase()===a&&t(u)}):function(u){const l=r.getAttributeValue(u,i);return l!=null&&(l.length===s||l.charAt(s)==="-")&&l.substr(0,s)===a&&t(u)}},element(t,e,n){const{adapter:r}=n,{name:i,value:a}=e;if(/\s/.test(a))return De.falseFunc;const s=new RegExp(`(?:^|\\s)${eN(a)}(?:$|\\s)`,eo(e,n)?"i":"");return function(u){const l=r.getAttributeValue(u,i);return l!=null&&l.length>=a.length&&s.test(l)&&t(u)}},exists(t,{name:e},{adapter:n}){return r=>n.hasAttrib(r,e)&&t(r)},start(t,e,n){const{adapter:r}=n,{name:i}=e;let{value:a}=e;const s=a.length;return s===0?De.falseFunc:eo(e,n)?(a=a.toLowerCase(),o=>{const u=r.getAttributeValue(o,i);return u!=null&&u.length>=s&&u.substr(0,s).toLowerCase()===a&&t(o)}):o=>{var u;return!!(!((u=r.getAttributeValue(o,i))===null||u===void 0)&&u.startsWith(a))&&t(o)}},end(t,e,n){const{adapter:r}=n,{name:i}=e;let{value:a}=e;const s=-a.length;return s===0?De.falseFunc:eo(e,n)?(a=a.toLowerCase(),o=>{var u;return((u=r.getAttributeValue(o,i))===null||u===void 0?void 0:u.substr(s).toLowerCase())===a&&t(o)}):o=>{var u;return!!(!((u=r.getAttributeValue(o,i))===null||u===void 0)&&u.endsWith(a))&&t(o)}},any(t,e,n){const{adapter:r}=n,{name:i,value:a}=e;if(a==="")return De.falseFunc;if(eo(e,n)){const s=new RegExp(eN(a),"i");return function(u){const l=r.getAttributeValue(u,i);return l!=null&&l.length>=a.length&&s.test(l)&&t(u)}}return s=>{var o;return!!(!((o=r.getAttributeValue(s,i))===null||o===void 0)&&o.includes(a))&&t(s)}},not(t,e,n){const{adapter:r}=n,{name:i}=e;let{value:a}=e;return a===""?s=>!!r.getAttributeValue(s,i)&&t(s):eo(e,n)?(a=a.toLowerCase(),s=>{const o=r.getAttributeValue(s,i);return(o==null||o.length!==a.length||o.toLowerCase()!==a)&&t(s)}):s=>r.getAttributeValue(s,i)!==a&&t(s)}},fre=new Set([9,10,12,13,32]),tN=48,dre=57;function hre(t){if(t=t.trim().toLowerCase(),t==="even")return[2,0];if(t==="odd")return[2,1];let e=0,n=0,r=a(),i=s();if(e<t.length&&t.charAt(e)==="n"&&(e++,n=r*(i??1),o(),e<t.length?(r=a(),o(),i=s()):r=i=0),i===null||e<t.length)throw new Error(`n-th rule couldn't be parsed ('${t}')`);return[n,r*i];function a(){return t.charAt(e)==="-"?(e++,-1):(t.charAt(e)==="+"&&e++,1)}function s(){const u=e;let l=0;for(;e<t.length&&t.charCodeAt(e)>=tN&&t.charCodeAt(e)<=dre;)l=l*10+(t.charCodeAt(e)-tN),e++;return e===u?null:l}function o(){for(;e<t.length&&fre.has(t.charCodeAt(e));)e++}}function pre(t){const e=t[0],n=t[1]-1;if(n<0&&e<=0)return De.falseFunc;if(e===-1)return a=>a<=n;if(e===0)return a=>a===n;if(e===1)return n<0?De.trueFunc:a=>a>=n;const r=Math.abs(e),i=(n%r+r)%r;return e>1?a=>a>=n&&a%r===i:a=>a<=n&&a%r===i}function lm(t){return pre(hre(t))}function cm(t,e){return n=>{const r=e.getParent(n);return r!=null&&e.isTag(r)&&t(n)}}const XE={contains(t,e,{adapter:n}){return function(i){return t(i)&&n.getText(i).includes(e)}},icontains(t,e,{adapter:n}){const r=e.toLowerCase();return function(a){return t(a)&&n.getText(a).toLowerCase().includes(r)}},"nth-child"(t,e,{adapter:n,equals:r}){const i=lm(e);return i===De.falseFunc?De.falseFunc:i===De.trueFunc?cm(t,n):function(s){const o=n.getSiblings(s);let u=0;for(let l=0;l<o.length&&!r(s,o[l]);l++)n.isTag(o[l])&&u++;return i(u)&&t(s)}},"nth-last-child"(t,e,{adapter:n,equals:r}){const i=lm(e);return i===De.falseFunc?De.falseFunc:i===De.trueFunc?cm(t,n):function(s){const o=n.getSiblings(s);let u=0;for(let l=o.length-1;l>=0&&!r(s,o[l]);l--)n.isTag(o[l])&&u++;return i(u)&&t(s)}},"nth-of-type"(t,e,{adapter:n,equals:r}){const i=lm(e);return i===De.falseFunc?De.falseFunc:i===De.trueFunc?cm(t,n):function(s){const o=n.getSiblings(s);let u=0;for(let l=0;l<o.length;l++){const c=o[l];if(r(s,c))break;n.isTag(c)&&n.getName(c)===n.getName(s)&&u++}return i(u)&&t(s)}},"nth-last-of-type"(t,e,{adapter:n,equals:r}){const i=lm(e);return i===De.falseFunc?De.falseFunc:i===De.trueFunc?cm(t,n):function(s){const o=n.getSiblings(s);let u=0;for(let l=o.length-1;l>=0;l--){const c=o[l];if(r(s,c))break;n.isTag(c)&&n.getName(c)===n.getName(s)&&u++}return i(u)&&t(s)}},root(t,e,{adapter:n}){return r=>{const i=n.getParent(r);return(i==null||!n.isTag(i))&&t(r)}},scope(t,e,n,r){const{equals:i}=n;return!r||r.length===0?XE.root(t,e,n):r.length===1?a=>i(r[0],a)&&t(a):a=>r.includes(a)&&t(a)},hover:S1("isHovered"),visited:S1("isVisited"),active:S1("isActive")};function S1(t){return function(n,r,{adapter:i}){const a=i[t];return typeof a!="function"?De.falseFunc:function(o){return a(o)&&n(o)}}}const nN={empty(t,{adapter:e}){return!e.getChildren(t).some(n=>e.isTag(n)||e.getText(n)!=="")},"first-child"(t,{adapter:e,equals:n}){if(e.prevElementSibling)return e.prevElementSibling(t)==null;const r=e.getSiblings(t).find(i=>e.isTag(i));return r!=null&&n(t,r)},"last-child"(t,{adapter:e,equals:n}){const r=e.getSiblings(t);for(let i=r.length-1;i>=0;i--){if(n(t,r[i]))return!0;if(e.isTag(r[i]))break}return!1},"first-of-type"(t,{adapter:e,equals:n}){const r=e.getSiblings(t),i=e.getName(t);for(let a=0;a<r.length;a++){const s=r[a];if(n(t,s))return!0;if(e.isTag(s)&&e.getName(s)===i)break}return!1},"last-of-type"(t,{adapter:e,equals:n}){const r=e.getSiblings(t),i=e.getName(t);for(let a=r.length-1;a>=0;a--){const s=r[a];if(n(t,s))return!0;if(e.isTag(s)&&e.getName(s)===i)break}return!1},"only-of-type"(t,{adapter:e,equals:n}){const r=e.getName(t);return e.getSiblings(t).every(i=>n(t,i)||!e.isTag(i)||e.getName(i)!==r)},"only-child"(t,{adapter:e,equals:n}){return e.getSiblings(t).every(r=>n(t,r)||!e.isTag(r))}};function rN(t,e,n,r){if(n===null){if(t.length>r)throw new Error(`Pseudo-class :${e} requires an argument`)}else if(t.length===r)throw new Error(`Pseudo-class :${e} doesn't have any arguments`)}const mre={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},IF={};function gre(t,e){return t===De.falseFunc?De.falseFunc:n=>e.isTag(n)&&t(n)}function PF(t,e){const n=e.getSiblings(t);if(n.length<=1)return[];const r=n.indexOf(t);return r<0||r===n.length-1?[]:n.slice(r+1).filter(e.isTag)}function JE(t){return{xmlMode:!!t.xmlMode,lowerCaseAttributeNames:!!t.lowerCaseAttributeNames,lowerCaseTags:!!t.lowerCaseTags,quirksMode:!!t.quirksMode,cacheResults:!!t.cacheResults,pseudos:t.pseudos,adapter:t.adapter,equals:t.equals}}const I1=(t,e,n,r,i)=>{const a=i(e,JE(n),r);return a===De.trueFunc?t:a===De.falseFunc?De.falseFunc:s=>a(s)&&t(s)},P1={is:I1,matches:I1,where:I1,not(t,e,n,r,i){const a=i(e,JE(n),r);return a===De.falseFunc?t:a===De.trueFunc?De.falseFunc:s=>!a(s)&&t(s)},has(t,e,n,r,i){const{adapter:a}=n,s=JE(n);s.relativeSelector=!0;const o=e.some(c=>c.some(GA))?[IF]:void 0,u=i(e,s,o);if(u===De.falseFunc)return De.falseFunc;const l=gre(u,a);if(o&&u!==De.trueFunc){const{shouldTestNextSiblings:c=!1}=u;return f=>{if(!t(f))return!1;o[0]=f;const h=a.getChildren(f),p=c?[...h,...PF(f,a)]:h;return a.existsOne(l,p)}}return c=>t(c)&&a.existsOne(l,a.getChildren(c))}};function yre(t,e,n,r,i){var a;const{name:s,data:o}=e;if(Array.isArray(o)){if(!(s in P1))throw new Error(`Unknown pseudo-class :${s}(${o})`);return P1[s](t,o,n,r,i)}const u=(a=n.pseudos)===null||a===void 0?void 0:a[s],l=typeof u=="string"?u:mre[s];if(typeof l=="string"){if(o!=null)throw new Error(`Pseudo ${s} doesn't have any arguments`);const c=vv(l);return P1.is(t,c,n,r,i)}if(typeof u=="function")return rN(u,s,o,1),c=>u(c,o)&&t(c);if(s in XE)return XE[s](t,o,n,r);if(s in nN){const c=nN[s];return rN(c,s,o,2),f=>c(f,n,o)&&t(f)}throw new Error(`Unknown pseudo-class :${s}`)}function C1(t,e){const n=e.getParent(t);return n&&e.isTag(n)?n:null}function vre(t,e,n,r,i){const{adapter:a,equals:s}=n;switch(e.type){case Ee.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case Ee.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case Ee.Attribute:{if(e.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!n.xmlMode||n.lowerCaseAttributeNames)&&(e.name=e.name.toLowerCase()),cre[e.action](t,e,n)}case Ee.Pseudo:return yre(t,e,n,r,i);case Ee.Tag:{if(e.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:o}=e;return(!n.xmlMode||n.lowerCaseTags)&&(o=o.toLowerCase()),function(l){return a.getName(l)===o&&t(l)}}case Ee.Descendant:{if(n.cacheResults===!1||typeof WeakSet>"u")return function(l){let c=l;for(;c=C1(c,a);)if(t(c))return!0;return!1};const o=new WeakSet;return function(l){let c=l;for(;c=C1(c,a);)if(!o.has(c)){if(a.isTag(c)&&t(c))return!0;o.add(c)}return!1}}case"_flexibleDescendant":return function(u){let l=u;do if(t(l))return!0;while(l=C1(l,a));return!1};case Ee.Parent:return function(u){return a.getChildren(u).some(l=>a.isTag(l)&&t(l))};case Ee.Child:return function(u){const l=a.getParent(u);return l!=null&&a.isTag(l)&&t(l)};case Ee.Sibling:return function(u){const l=a.getSiblings(u);for(let c=0;c<l.length;c++){const f=l[c];if(s(u,f))break;if(a.isTag(f)&&t(f))return!0}return!1};case Ee.Adjacent:return a.prevElementSibling?function(u){const l=a.prevElementSibling(u);return l!=null&&t(l)}:function(u){const l=a.getSiblings(u);let c;for(let f=0;f<l.length;f++){const h=l[f];if(s(u,h))break;a.isTag(h)&&(c=h)}return!!c&&t(c)};case Ee.Universal:{if(e.namespace!=null&&e.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return t}}}function CF(t){return t.type===Ee.Pseudo&&(t.name==="scope"||Array.isArray(t.data)&&t.data.some(e=>e.some(CF)))}const bre={type:Ee.Descendant},_re={type:"_flexibleDescendant"},Ere={type:Ee.Pseudo,name:"scope",data:null};function Tre(t,{adapter:e},n){const r=!!(n!=null&&n.every(i=>{const a=e.isTag(i)&&e.getParent(i);return i===IF||a&&e.isTag(a)}));for(const i of t){if(!(i.length>0&&GA(i[0])&&i[0].type!==Ee.Descendant))if(r&&!i.some(CF))i.unshift(bre);else continue;i.unshift(Ere)}}function OF(t,e,n){var r;t.forEach(ore),n=(r=e.context)!==null&&r!==void 0?r:n;const i=Array.isArray(n),a=n&&(Array.isArray(n)?n:[n]);if(e.relativeSelector!==!1)Tre(t,e,a);else if(t.some(u=>u.length>0&&GA(u[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let s=!1;const o=t.map(u=>{if(u.length>=2){const[l,c]=u;l.type!==Ee.Pseudo||l.name!=="scope"||(i&&c.type===Ee.Descendant?u[1]=_re:(c.type===Ee.Adjacent||c.type===Ee.Sibling)&&(s=!0))}return wre(u,e,a)}).reduce(xre,De.falseFunc);return o.shouldTestNextSiblings=s,o}function wre(t,e,n){var r;return t.reduce((i,a)=>i===De.falseFunc?De.falseFunc:vre(i,a,e,n,OF),(r=e.rootFunc)!==null&&r!==void 0?r:De.trueFunc)}function xre(t,e){return e===De.falseFunc||t===De.trueFunc?t:t===De.falseFunc||e===De.trueFunc?e:function(r){return t(r)||e(r)}}const NF=(t,e)=>t===e,Are={adapter:yv,equals:NF};function Sre(t){var e,n,r,i;const a=t??Are;return(e=a.adapter)!==null&&e!==void 0||(a.adapter=yv),(n=a.equals)!==null&&n!==void 0||(a.equals=(i=(r=a.adapter)===null||r===void 0?void 0:r.equals)!==null&&i!==void 0?i:NF),a}function Ire(t){return function(n,r,i){const a=Sre(r);return t(n,a,i)}}const KA=Ire(OF);function RF(t,e,n=!1){return n&&(t=Pre(t,e)),Array.isArray(t)?e.removeSubsets(t):e.getChildren(t)}function Pre(t,e){const n=Array.isArray(t)?t.slice(0):[t],r=n.length;for(let i=0;i<r;i++){const a=PF(n[i],e);n.push(...a)}return n}const Cre=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function og(t){return t.type!=="pseudo"?!1:Cre.has(t.name)?!0:t.name==="not"&&Array.isArray(t.data)?t.data.some(e=>e.some(og)):!1}function Ore(t,e,n){const r=e!=null?parseInt(e,10):NaN;switch(t){case"first":return 1;case"nth":case"eq":return isFinite(r)?r>=0?r+1:1/0:0;case"lt":return isFinite(r)?r>=0?Math.min(r,n):1/0:0;case"gt":return isFinite(r)?1/0:0;case"odd":return 2*n;case"even":return 2*n-1;case"last":case"not":return 1/0}}function Nre(t){for(;t.parent;)t=t.parent;return t}function YA(t){const e=[],n=[];for(const r of t)r.some(og)?e.push(r):n.push(r);return[n,e]}const Rre={type:Ee.Universal,namespace:null},kre={type:Ee.Pseudo,name:"scope",data:null};function kF(t,e,n={}){return DF([t],e,n)}function DF(t,e,n={}){if(typeof e=="function")return t.some(e);const[r,i]=YA(vv(e));return r.length>0&&t.some(KA(r,n))||i.some(a=>jF(a,t,n).length>0)}function Dre(t,e,n,r){const i=typeof n=="string"?parseInt(n,10):NaN;switch(t){case"first":case"lt":return e;case"last":return e.length>0?[e[e.length-1]]:e;case"nth":case"eq":return isFinite(i)&&Math.abs(i)<e.length?[i<0?e[e.length+i]:e[i]]:[];case"gt":return isFinite(i)?e.slice(i+1):[];case"even":return e.filter((a,s)=>s%2===0);case"odd":return e.filter((a,s)=>s%2===1);case"not":{const a=new Set(LF(n,e,r));return e.filter(s=>!a.has(s))}}}function MF(t,e,n={}){return LF(vv(t),e,n)}function LF(t,e,n){if(e.length===0)return[];const[r,i]=YA(t);let a;if(r.length){const s=eT(e,r,n);if(i.length===0)return s;s.length&&(a=new Set(s))}for(let s=0;s<i.length&&(a==null?void 0:a.size)!==e.length;s++){const o=i[s];if((a?e.filter(c=>Ae(c)&&!a.has(c)):e).length===0)break;const l=jF(o,e,n);if(l.length)if(a)l.forEach(c=>a.add(c));else{if(s===i.length-1)return l;a=new Set(l)}}return typeof a<"u"?a.size===e.length?e:e.filter(s=>a.has(s)):[]}function jF(t,e,n){var r;if(t.some(nd)){const i=(r=n.root)!==null&&r!==void 0?r:Nre(e[0]),a={...n,context:e,relativeSelector:!1};return t.push(kre),ug(i,t,a,!0,e.length)}return ug(e,t,n,!1,e.length)}function Mre(t,e,n={},r=1/0){if(typeof t=="function")return FF(e,t);const[i,a]=YA(vv(t)),s=a.map(o=>ug(e,o,n,!0,r));return i.length&&s.push(ZE(e,i,n,r)),s.length===0?[]:s.length===1?s[0]:vc(s.reduce((o,u)=>[...o,...u]))}function ug(t,e,n,r,i){const a=e.findIndex(og),s=e.slice(0,a),o=e[a],u=e.length-1===a?i:1/0,l=Ore(o.name,o.data,u);if(l===0)return[];const f=(s.length===0&&!Array.isArray(t)?mv(t).filter(Ae):s.length===0?(Array.isArray(t)?t:[t]).filter(Ae):r||s.some(nd)?ZE(t,[s],n,l):eT(t,[s],n)).slice(0,l);let h=Dre(o.name,f,o.data,n);if(h.length===0||e.length===a+1)return h;const p=e.slice(a+1),g=p.some(nd);if(g){if(nd(p[0])){const{type:v}=p[0];(v===Ee.Sibling||v===Ee.Adjacent)&&(h=RF(h,yv,!0)),p.unshift(Rre)}n={...n,relativeSelector:!1,rootFunc:v=>h.includes(v)}}else n.rootFunc&&n.rootFunc!==sg.trueFunc&&(n={...n,rootFunc:sg.trueFunc});return p.some(og)?ug(h,p,n,!1,i):g?ZE(h,[p],n,i):eT(h,[p],n)}function ZE(t,e,n,r){const i=KA(e,n,t);return FF(t,i,r)}function FF(t,e,n=1/0){const r=RF(t,yv,e.shouldTestNextSiblings);return qA(i=>Ae(i)&&e(i),r,!0,n)}function eT(t,e,n){const r=(Array.isArray(t)?t:[t]).filter(Ae);if(r.length===0)return r;const i=KA(e,n);return i===sg.trueFunc?r:r.filter(i)}const Lre=/^\s*[+~]/;function jre(t){if(!t)return this._make([]);if(typeof t!="string"){const e=da(t)?t.toArray():[t],n=this.toArray();return this._make(e.filter(r=>n.some(i=>vF(i,r))))}return this._findBySelector(t,Number.POSITIVE_INFINITY)}function Fre(t,e){var n;const r=this.toArray(),i=Lre.test(t)?r:this.children().toArray(),a={context:r,root:(n=this._root)===null||n===void 0?void 0:n[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(Mre(t,i,a,e))}function QA(t){return function(e,...n){return function(r){var i;let a=t(e,this);return r&&(a=ZA(a,r,this.options.xmlMode,(i=this._root)===null||i===void 0?void 0:i[0])),this._make(this.length>1&&a.length>1?n.reduce((s,o)=>o(s),a):a)}}}const ap=QA((t,e)=>{let n=[];for(let r=0;r<e.length;r++){const i=t(e[r]);i.length>0&&(n=n.concat(i))}return n}),XA=QA((t,e)=>{const n=[];for(let r=0;r<e.length;r++){const i=t(e[r]);i!==null&&n.push(i)}return n});function JA(t,...e){let n=null;const r=QA((i,a)=>{const s=[];return Nt(a,o=>{for(let u;(u=i(o))&&!(n!=null&&n(u,s.length));o=u)s.push(u)}),s})(t,...e);return function(i,a){n=typeof i=="string"?o=>kF(o,i,this.options):i?sp(i):null;const s=r.call(this,a);return n=null,s}}function bc(t){return t.length>1?Array.from(new Set(t)):t}const $re=XA(({parent:t})=>t&&!Us(t)?t:null,bc),Bre=ap(t=>{const e=[];for(;t.parent&&!Us(t.parent);)e.push(t.parent),t=t.parent;return e},vc,t=>t.reverse()),Ure=JA(({parent:t})=>t&&!Us(t)?t:null,vc,t=>t.reverse());function Vre(t){var e;const n=[];if(!t)return this._make(n);const r={xmlMode:this.options.xmlMode,root:(e=this._root)===null||e===void 0?void 0:e[0]},i=typeof t=="string"?a=>kF(a,t,r):sp(t);return Nt(this,a=>{for(a&&!Us(a)&&!Ae(a)&&(a=a.parent);a&&Ae(a);){if(i(a,0)){n.includes(a)||n.push(a);break}a=a.parent}}),this._make(n)}const Hre=XA(t=>VA(t)),qre=ap(t=>{const e=[];for(;t.next;)t=t.next,Ae(t)&&e.push(t);return e},bc),zre=JA(t=>VA(t),bc),Wre=XA(t=>HA(t)),Gre=ap(t=>{const e=[];for(;t.prev;)t=t.prev,Ae(t)&&e.push(t);return e},bc),Kre=JA(t=>HA(t),bc),Yre=ap(t=>fF(t).filter(e=>Ae(e)&&e!==t),vc),Qre=ap(t=>mv(t).filter(Ae),bc);function Xre(){const t=this.toArray().reduce((e,n)=>on(n)?e.concat(n.children):e,[]);return this._make(t)}function Jre(t){let e=0;const n=this.length;for(;e<n&&t.call(this[e],e,this[e])!==!1;)++e;return this}function Zre(t){let e=[];for(let n=0;n<this.length;n++){const r=this[n],i=t.call(r,n,r);i!=null&&(e=e.concat(i))}return this._make(e)}function sp(t){return typeof t=="function"?(e,n)=>t.call(e,n,e):da(t)?e=>Array.prototype.includes.call(t,e):function(e){return t===e}}function eie(t){var e;return this._make(ZA(this.toArray(),t,this.options.xmlMode,(e=this._root)===null||e===void 0?void 0:e[0]))}function ZA(t,e,n,r){return typeof e=="string"?MF(e,t,{xmlMode:n,root:r}):t.filter(sp(e))}function tie(t){const e=this.toArray();return typeof t=="string"?DF(e.filter(Ae),t,this.options):t?e.some(sp(t)):!1}function nie(t){let e=this.toArray();if(typeof t=="string"){const n=new Set(MF(t,e,this.options));e=e.filter(r=>!n.has(r))}else{const n=sp(t);e=e.filter((r,i)=>!n(r,i))}return this._make(e)}function rie(t){return this.filter(typeof t=="string"?`:has(${t})`:(e,n)=>this._make(n).find(t).length>0)}function iie(){return this.length>1?this._make(this[0]):this}function aie(){return this.length>0?this._make(this[this.length-1]):this}function sie(t){var e;return t=+t,t===0&&this.length<=1?this:(t<0&&(t=this.length+t),this._make((e=this[t])!==null&&e!==void 0?e:[]))}function oie(t){return t==null?this.toArray():this[t<0?this.length+t:t]}function uie(){return Array.prototype.slice.call(this)}function lie(t){let e,n;return t==null?(e=this.parent().children(),n=this[0]):typeof t=="string"?(e=this._make(t),n=this[0]):(e=this,n=da(t)?t[0]:t),Array.prototype.indexOf.call(e,n)}function cie(t,e){return this._make(Array.prototype.slice.call(this,t,e))}function fie(){var t;return(t=this.prevObject)!==null&&t!==void 0?t:this._make([])}function die(t,e){const n=this._make(t,e),r=vc([...this.get(),...n.get()]);return this._make(r)}function hie(t){return this.prevObject?this.add(t?this.prevObject.filter(t):this.prevObject):this}const pie=Object.freeze(Object.defineProperty({__proto__:null,_findBySelector:Fre,add:die,addBack:hie,children:Qre,closest:Vre,contents:Xre,each:Jre,end:fie,eq:sie,filter:eie,filterArray:ZA,find:jre,first:iie,get:oie,has:rie,index:lie,is:tie,last:aie,map:Zre,next:Hre,nextAll:qre,nextUntil:zre,not:nie,parent:$re,parents:Bre,parentsUntil:Ure,prev:Wre,prevAll:Gre,prevUntil:Kre,siblings:Yre,slice:cie,toArray:uie},Symbol.toStringTag,{value:"Module"}));function mie(t){return function(n,r,i,a){if(typeof Buffer<"u"&&Buffer.isBuffer(n)&&(n=n.toString()),typeof n=="string")return t(n,r,i,a);const s=n;if(!Array.isArray(s)&&Us(s))return s;const o=new tu([]);return nu(s,o),o}}function nu(t,e){const n=Array.isArray(t)?t:[t];e?e.children=n:e=null;for(let r=0;r<n.length;r++){const i=n[r];i.parent&&i.parent.children!==n&&mu(i),e?(i.prev=n[r-1]||null,i.next=n[r+1]||null):i.prev=i.next=null,i.parent=e}return e}function gie(t,e){if(t==null)return[];if(typeof t=="string")return this._parse(t,this.options,!1,null).children.slice(0);if("length"in t){if(t.length===1)return this._makeDomArray(t[0],e);const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(typeof i=="object"){if(i==null)continue;if(!("length"in i)){n.push(e?Kd(i,!0):i);continue}}n.push(...this._makeDomArray(i,e))}return n}return[e?Kd(t,!0):t]}function $F(t){return function(...e){const n=this.length-1;return Nt(this,(r,i)=>{if(!on(r))return;const a=typeof e[0]=="function"?e[0].call(r,i,this._render(r.children)):e,s=this._makeDomArray(a,i<n);t(s,r.children,r)})}}function Vs(t,e,n,r,i){var a,s;const o=[e,n,...r],u=e===0?null:t[e-1],l=e+n>=t.length?null:t[e+n];for(let c=0;c<r.length;++c){const f=r[c],h=f.parent;if(h){const g=h.children.indexOf(f);g>-1&&(h.children.splice(g,1),i===h&&e>g&&o[0]--)}f.parent=i,f.prev&&(f.prev.next=(a=f.next)!==null&&a!==void 0?a:null),f.next&&(f.next.prev=(s=f.prev)!==null&&s!==void 0?s:null),f.prev=c===0?u:r[c-1],f.next=c===r.length-1?l:r[c+1]}return u&&(u.next=r[0]),l&&(l.prev=r[r.length-1]),t.splice(...o)}function yie(t){return(da(t)?t:this._make(t)).append(this),this}function vie(t){return(da(t)?t:this._make(t)).prepend(this),this}const bie=$F((t,e,n)=>{Vs(e,e.length,0,t,n)}),_ie=$F((t,e,n)=>{Vs(e,0,0,t,n)});function BF(t){return function(e){const n=this.length-1,r=this.parents().last();for(let i=0;i<this.length;i++){const a=this[i],s=typeof e=="function"?e.call(a,i,a):typeof e=="string"&&!YE(e)?r.find(e).clone():e,[o]=this._makeDomArray(s,i<n);if(!o||!on(o))continue;let u=o,l=0;for(;l<u.children.length;){const c=u.children[l];Ae(c)?(u=c,l=0):l++}t(a,u,[o])}return this}}const Eie=BF((t,e,n)=>{const{parent:r}=t;if(!r)return;const i=r.children,a=i.indexOf(t);nu([t],e),Vs(i,a,0,n,r)}),Tie=BF((t,e,n)=>{on(t)&&(nu(t.children,e),nu(n,t))});function wie(t){return this.parent(t).not("body").each((e,n)=>{this._make(n).replaceWith(n.children)}),this}function xie(t){const e=this[0];if(e){const n=this._make(typeof t=="function"?t.call(e,0,e):t).insertBefore(e);let r;for(let a=0;a<n.length;a++)n[a].type==="tag"&&(r=n[a]);let i=0;for(;r&&i<r.children.length;){const a=r.children[i];a.type==="tag"?(r=a,i=0):i++}r&&this._make(r).append(this)}return this}function Aie(...t){const e=this.length-1;return Nt(this,(n,r)=>{if(!on(n)||!n.parent)return;const i=n.parent.children,a=i.indexOf(n);if(a<0)return;const s=typeof t[0]=="function"?t[0].call(n,r,this._render(n.children)):t,o=this._makeDomArray(s,r<e);Vs(i,a+1,0,o,n.parent)})}function Sie(t){typeof t=="string"&&(t=this._make(t)),this.remove();const e=[];for(const n of this._makeDomArray(t)){const r=this.clone().toArray(),{parent:i}=n;if(!i)continue;const a=i.children,s=a.indexOf(n);s<0||(Vs(a,s+1,0,r,i),e.push(...r))}return this._make(e)}function Iie(...t){const e=this.length-1;return Nt(this,(n,r)=>{if(!on(n)||!n.parent)return;const i=n.parent.children,a=i.indexOf(n);if(a<0)return;const s=typeof t[0]=="function"?t[0].call(n,r,this._render(n.children)):t,o=this._makeDomArray(s,r<e);Vs(i,a,0,o,n.parent)})}function Pie(t){const e=this._make(t);this.remove();const n=[];return Nt(e,r=>{const i=this.clone().toArray(),{parent:a}=r;if(!a)return;const s=a.children,o=s.indexOf(r);o<0||(Vs(s,o,0,i,a),n.push(...i))}),this._make(n)}function Cie(t){const e=t?this.filter(t):this;return Nt(e,n=>{mu(n),n.prev=n.next=n.parent=null}),this}function Oie(t){return Nt(this,(e,n)=>{const{parent:r}=e;if(!r)return;const i=r.children,a=typeof t=="function"?t.call(e,n,e):t,s=this._makeDomArray(a);nu(s,null);const o=i.indexOf(e);Vs(i,o,1,s,r),s.includes(e)||(e.parent=e.prev=e.next=null)})}function Nie(){return Nt(this,t=>{if(on(t)){for(const e of t.children)e.next=e.prev=e.parent=null;t.children.length=0}})}function Rie(t){if(t===void 0){const e=this[0];return!e||!on(e)?null:this._render(e.children)}return Nt(this,e=>{if(!on(e))return;for(const r of e.children)r.next=r.prev=r.parent=null;const n=da(t)?t.toArray():this._parse(`${t}`,this.options,!1,e).children;nu(n,e)})}function kie(){return this._render(this)}function Die(t){return t===void 0?Yd(this):typeof t=="function"?Nt(this,(e,n)=>this._make(e).text(t.call(e,n,Yd([e])))):Nt(this,e=>{if(!on(e))return;for(const r of e.children)r.next=r.prev=r.parent=null;const n=new Gd(`${t}`);nu(n,e)})}function Mie(){const t=Array.prototype.map.call(this.get(),n=>Kd(n,!0)),e=new tu(t);for(const n of t)n.parent=e;return this._make(t)}const Lie=Object.freeze(Object.defineProperty({__proto__:null,_makeDomArray:gie,after:Aie,append:bie,appendTo:yie,before:Iie,clone:Mie,empty:Nie,html:Rie,insertAfter:Sie,insertBefore:Pie,prepend:_ie,prependTo:vie,remove:Cie,replaceWith:Oie,text:Die,toString:kie,unwrap:wie,wrap:Eie,wrapAll:xie,wrapInner:Tie},Symbol.toStringTag,{value:"Module"}));function jie(t,e){if(t!=null&&e!=null||typeof t=="object"&&!Array.isArray(t))return Nt(this,(n,r)=>{Ae(n)&&UF(n,t,e,r)});if(this.length!==0)return VF(this[0],t)}function UF(t,e,n,r){if(typeof e=="string"){const i=VF(t),a=typeof n=="function"?n.call(t,r,i[e]):n;a===""?delete i[e]:a!=null&&(i[e]=a),t.attribs.style=Fie(i)}else if(typeof e=="object"){const i=Object.keys(e);for(let a=0;a<i.length;a++){const s=i[a];UF(t,s,e[s],a)}}}function VF(t,e){if(!t||!Ae(t))return;const n=$ie(t.attribs.style);if(typeof e=="string")return n[e];if(Array.isArray(e)){const r={};for(const i of e)n[i]!=null&&(r[i]=n[i]);return r}return n}function Fie(t){return Object.keys(t).reduce((e,n)=>`${e}${e?" ":""}${n}: ${t[n]};`,"")}function $ie(t){if(t=(t||"").trim(),!t)return{};const e={};let n;for(const r of t.split(";")){const i=r.indexOf(":");if(i<1||i===r.length-1){const a=r.trimEnd();a.length>0&&n!==void 0&&(e[n]+=`;${a}`)}else n=r.slice(0,i).trim(),e[n]=r.slice(i+1).trim()}return e}const Bie=Object.freeze(Object.defineProperty({__proto__:null,css:jie},Symbol.toStringTag,{value:"Module"})),iN="input,select,textarea,keygen",Uie=/%20/g,aN=/\r?\n/g;function Vie(){return this.serializeArray().map(n=>`${encodeURIComponent(n.name)}=${encodeURIComponent(n.value)}`).join("&").replace(Uie,"+")}function Hie(){return this.map((t,e)=>{const n=this._make(e);return Ae(e)&&e.name==="form"?n.find(iN).toArray():n.filter(iN).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((t,e)=>{var n;const r=this._make(e),i=r.attr("name"),a=(n=r.val())!==null&&n!==void 0?n:"";return Array.isArray(a)?a.map(s=>({name:i,value:s.replace(aN,`\r
`)})):{name:i,value:a.replace(aN,`\r
`)}}).toArray()}const qie=Object.freeze(Object.defineProperty({__proto__:null,serialize:Vie,serializeArray:Hie},Symbol.toStringTag,{value:"Module"}));function zie(t){var e;return typeof t=="string"?{selector:t,value:"textContent"}:{selector:t.selector,value:(e=t.value)!==null&&e!==void 0?e:"textContent"}}function Wie(t){const e={};for(const n in t){const r=t[n],i=Array.isArray(r),{selector:a,value:s}=zie(i?r[0]:r),o=typeof s=="function"?s:typeof s=="string"?u=>this._make(u).prop(s):u=>this._make(u).extract(s);if(i)e[n]=this._findBySelector(a,Number.POSITIVE_INFINITY).map((u,l)=>o(l,n,e)).get();else{const u=this._findBySelector(a,1);e[n]=u.length>0?o(u[0],n,e):void 0}}return e}const Gie=Object.freeze(Object.defineProperty({__proto__:null,extract:Wie},Symbol.toStringTag,{value:"Module"}));class op{constructor(e,n,r){if(this.length=0,this.options=r,this._root=n,e){for(let i=0;i<e.length;i++)this[i]=e[i];this.length=e.length}}}op.prototype.cheerio="[cheerio object]";op.prototype.splice=Array.prototype.splice;op.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(op.prototype,ere,pie,Lie,Bie,qie,Gie);function Kie(t,e){return function n(r,i,a=!0){if(r==null)throw new Error("cheerio.load() expects a string");const s=KE(i),o=t(r,s,a,null);class u extends op{_make(f,h){const p=l(f,h);return p.prevObject=this,p}_parse(f,h,p,g){return t(f,h,p,g)}_render(f){return e(f,this.options)}}function l(c,f,h=o,p){if(c&&da(c))return c;const g=KE(p,s),v=typeof h=="string"?[t(h,g,!1,null)]:"length"in h?h:[h],b=da(v)?v:new u(v,null,g);if(b._root=b,!c)return new u(void 0,b,g);const w=typeof c=="string"&&YE(c)?t(c,g,!1,null).children:Yie(c)?[c]:Array.isArray(c)?c:void 0,T=new u(w,b,g);if(w)return T;if(typeof c!="string")throw new TypeError("Unexpected type of selector");let _=c;const C=f?typeof f=="string"?YE(f)?new u([t(f,g,!1,null)],b,g):(_=`${f} ${_}`,b):da(f)?f:new u(Array.isArray(f)?f:[f],b,g):b;return C?C.find(_):T}return Object.assign(l,Vne,{load:n,_root:o,_options:s,fn:u.prototype,prototype:u.prototype}),l}}function Yie(t){return!!t.name||t.type==="root"||t.type==="text"||t.type==="comment"}const Qie=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),vt="";var L;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(L||(L={}));const Gn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function HF(t){return t>=55296&&t<=57343}function Xie(t){return t>=56320&&t<=57343}function Jie(t,e){return(t-55296)*1024+9216+e}function qF(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function zF(t){return t>=64976&&t<=65007||Qie.has(t)}var W;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(W||(W={}));const Zie=65536;class eae{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=Zie,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:i,offset:a}=this,s=i+n,o=a+n;return{code:e,startLine:r,endLine:r,startCol:s,endCol:s,startOffset:o,endOffset:o}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(Xie(n))return this.pos++,this._addGap(),Jie(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,L.EOF;return this._err(W.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,L.EOF;const r=this.html.charCodeAt(n);return r===L.CARRIAGE_RETURN?L.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,L.EOF;let e=this.html.charCodeAt(this.pos);return e===L.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,L.LINE_FEED):e===L.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,HF(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===L.LINE_FEED||e===L.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){qF(e)?this._err(W.controlCharacterInInputStream):zF(e)&&this._err(W.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var qe;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(qe||(qe={}));function WF(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}var ee;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(ee||(ee={}));var Ro;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(Ro||(Ro={}));var dr;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(dr||(dr={}));var U;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(U||(U={}));var m;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(m||(m={}));const tae=new Map([[U.A,m.A],[U.ADDRESS,m.ADDRESS],[U.ANNOTATION_XML,m.ANNOTATION_XML],[U.APPLET,m.APPLET],[U.AREA,m.AREA],[U.ARTICLE,m.ARTICLE],[U.ASIDE,m.ASIDE],[U.B,m.B],[U.BASE,m.BASE],[U.BASEFONT,m.BASEFONT],[U.BGSOUND,m.BGSOUND],[U.BIG,m.BIG],[U.BLOCKQUOTE,m.BLOCKQUOTE],[U.BODY,m.BODY],[U.BR,m.BR],[U.BUTTON,m.BUTTON],[U.CAPTION,m.CAPTION],[U.CENTER,m.CENTER],[U.CODE,m.CODE],[U.COL,m.COL],[U.COLGROUP,m.COLGROUP],[U.DD,m.DD],[U.DESC,m.DESC],[U.DETAILS,m.DETAILS],[U.DIALOG,m.DIALOG],[U.DIR,m.DIR],[U.DIV,m.DIV],[U.DL,m.DL],[U.DT,m.DT],[U.EM,m.EM],[U.EMBED,m.EMBED],[U.FIELDSET,m.FIELDSET],[U.FIGCAPTION,m.FIGCAPTION],[U.FIGURE,m.FIGURE],[U.FONT,m.FONT],[U.FOOTER,m.FOOTER],[U.FOREIGN_OBJECT,m.FOREIGN_OBJECT],[U.FORM,m.FORM],[U.FRAME,m.FRAME],[U.FRAMESET,m.FRAMESET],[U.H1,m.H1],[U.H2,m.H2],[U.H3,m.H3],[U.H4,m.H4],[U.H5,m.H5],[U.H6,m.H6],[U.HEAD,m.HEAD],[U.HEADER,m.HEADER],[U.HGROUP,m.HGROUP],[U.HR,m.HR],[U.HTML,m.HTML],[U.I,m.I],[U.IMG,m.IMG],[U.IMAGE,m.IMAGE],[U.INPUT,m.INPUT],[U.IFRAME,m.IFRAME],[U.KEYGEN,m.KEYGEN],[U.LABEL,m.LABEL],[U.LI,m.LI],[U.LINK,m.LINK],[U.LISTING,m.LISTING],[U.MAIN,m.MAIN],[U.MALIGNMARK,m.MALIGNMARK],[U.MARQUEE,m.MARQUEE],[U.MATH,m.MATH],[U.MENU,m.MENU],[U.META,m.META],[U.MGLYPH,m.MGLYPH],[U.MI,m.MI],[U.MO,m.MO],[U.MN,m.MN],[U.MS,m.MS],[U.MTEXT,m.MTEXT],[U.NAV,m.NAV],[U.NOBR,m.NOBR],[U.NOFRAMES,m.NOFRAMES],[U.NOEMBED,m.NOEMBED],[U.NOSCRIPT,m.NOSCRIPT],[U.OBJECT,m.OBJECT],[U.OL,m.OL],[U.OPTGROUP,m.OPTGROUP],[U.OPTION,m.OPTION],[U.P,m.P],[U.PARAM,m.PARAM],[U.PLAINTEXT,m.PLAINTEXT],[U.PRE,m.PRE],[U.RB,m.RB],[U.RP,m.RP],[U.RT,m.RT],[U.RTC,m.RTC],[U.RUBY,m.RUBY],[U.S,m.S],[U.SCRIPT,m.SCRIPT],[U.SEARCH,m.SEARCH],[U.SECTION,m.SECTION],[U.SELECT,m.SELECT],[U.SOURCE,m.SOURCE],[U.SMALL,m.SMALL],[U.SPAN,m.SPAN],[U.STRIKE,m.STRIKE],[U.STRONG,m.STRONG],[U.STYLE,m.STYLE],[U.SUB,m.SUB],[U.SUMMARY,m.SUMMARY],[U.SUP,m.SUP],[U.TABLE,m.TABLE],[U.TBODY,m.TBODY],[U.TEMPLATE,m.TEMPLATE],[U.TEXTAREA,m.TEXTAREA],[U.TFOOT,m.TFOOT],[U.TD,m.TD],[U.TH,m.TH],[U.THEAD,m.THEAD],[U.TITLE,m.TITLE],[U.TR,m.TR],[U.TRACK,m.TRACK],[U.TT,m.TT],[U.U,m.U],[U.UL,m.UL],[U.SVG,m.SVG],[U.VAR,m.VAR],[U.WBR,m.WBR],[U.XMP,m.XMP]]);function bv(t){var e;return(e=tae.get(t))!==null&&e!==void 0?e:m.UNKNOWN}const se=m,nae={[ee.HTML]:new Set([se.ADDRESS,se.APPLET,se.AREA,se.ARTICLE,se.ASIDE,se.BASE,se.BASEFONT,se.BGSOUND,se.BLOCKQUOTE,se.BODY,se.BR,se.BUTTON,se.CAPTION,se.CENTER,se.COL,se.COLGROUP,se.DD,se.DETAILS,se.DIR,se.DIV,se.DL,se.DT,se.EMBED,se.FIELDSET,se.FIGCAPTION,se.FIGURE,se.FOOTER,se.FORM,se.FRAME,se.FRAMESET,se.H1,se.H2,se.H3,se.H4,se.H5,se.H6,se.HEAD,se.HEADER,se.HGROUP,se.HR,se.HTML,se.IFRAME,se.IMG,se.INPUT,se.LI,se.LINK,se.LISTING,se.MAIN,se.MARQUEE,se.MENU,se.META,se.NAV,se.NOEMBED,se.NOFRAMES,se.NOSCRIPT,se.OBJECT,se.OL,se.P,se.PARAM,se.PLAINTEXT,se.PRE,se.SCRIPT,se.SECTION,se.SELECT,se.SOURCE,se.STYLE,se.SUMMARY,se.TABLE,se.TBODY,se.TD,se.TEMPLATE,se.TEXTAREA,se.TFOOT,se.TH,se.THEAD,se.TITLE,se.TR,se.TRACK,se.UL,se.WBR,se.XMP]),[ee.MATHML]:new Set([se.MI,se.MO,se.MN,se.MS,se.MTEXT,se.ANNOTATION_XML]),[ee.SVG]:new Set([se.TITLE,se.FOREIGN_OBJECT,se.DESC]),[ee.XLINK]:new Set,[ee.XML]:new Set,[ee.XMLNS]:new Set},tT=new Set([se.H1,se.H2,se.H3,se.H4,se.H5,se.H6]),rae=new Set([U.STYLE,U.SCRIPT,U.XMP,U.IFRAME,U.NOEMBED,U.NOFRAMES,U.PLAINTEXT]);function iae(t,e){return rae.has(t)||e&&t===U.NOSCRIPT}var j;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(j||(j={}));const Xn={DATA:j.DATA,RCDATA:j.RCDATA,RAWTEXT:j.RAWTEXT,SCRIPT_DATA:j.SCRIPT_DATA,PLAINTEXT:j.PLAINTEXT,CDATA_SECTION:j.CDATA_SECTION};function aae(t){return t>=L.DIGIT_0&&t<=L.DIGIT_9}function jf(t){return t>=L.LATIN_CAPITAL_A&&t<=L.LATIN_CAPITAL_Z}function sae(t){return t>=L.LATIN_SMALL_A&&t<=L.LATIN_SMALL_Z}function za(t){return sae(t)||jf(t)}function sN(t){return za(t)||aae(t)}function fm(t){return t+32}function GF(t){return t===L.SPACE||t===L.LINE_FEED||t===L.TABULATION||t===L.FORM_FEED}function oN(t){return GF(t)||t===L.SOLIDUS||t===L.GREATER_THAN_SIGN}function oae(t){return t===L.NULL?W.nullCharacterReference:t>1114111?W.characterReferenceOutsideUnicodeRange:HF(t)?W.surrogateCharacterReference:zF(t)?W.noncharacterCharacterReference:qF(t)||t===L.CARRIAGE_RETURN?W.controlCharacterReference:null}let uae=class{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=j.DATA,this.returnState=j.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new eae(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new UA(BA,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(W.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(W.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=oae(r);i&&this._err(i,1)}}:void 0)}_err(e,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e==null||e())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:qe.START_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:qe.END_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:qe.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:qe.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(WF(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(W.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=bv(e.tagName),e.type===qe.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(W.endTagWithAttributes),e.selfClosing&&this._err(W.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case qe.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case qe.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case qe.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:qe.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=GF(e)?qe.WHITESPACE_CHARACTER:e===L.NULL?qe.NULL_CHARACTER:qe.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(qe.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=j.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Dr.Attribute:Dr.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===j.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case j.DATA:{this._stateData(e);break}case j.RCDATA:{this._stateRcdata(e);break}case j.RAWTEXT:{this._stateRawtext(e);break}case j.SCRIPT_DATA:{this._stateScriptData(e);break}case j.PLAINTEXT:{this._statePlaintext(e);break}case j.TAG_OPEN:{this._stateTagOpen(e);break}case j.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case j.TAG_NAME:{this._stateTagName(e);break}case j.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case j.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case j.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case j.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case j.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case j.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case j.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case j.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case j.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case j.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case j.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case j.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case j.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case j.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case j.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case j.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case j.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case j.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case j.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case j.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case j.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case j.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case j.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case j.BOGUS_COMMENT:{this._stateBogusComment(e);break}case j.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case j.COMMENT_START:{this._stateCommentStart(e);break}case j.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case j.COMMENT:{this._stateComment(e);break}case j.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case j.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case j.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case j.COMMENT_END:{this._stateCommentEnd(e);break}case j.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case j.DOCTYPE:{this._stateDoctype(e);break}case j.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case j.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case j.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case j.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case j.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case j.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case j.CDATA_SECTION:{this._stateCdataSection(e);break}case j.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case j.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case j.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case j.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case L.LESS_THAN_SIGN:{this.state=j.TAG_OPEN;break}case L.AMPERSAND:{this._startCharacterReference();break}case L.NULL:{this._err(W.unexpectedNullCharacter),this._emitCodePoint(e);break}case L.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case L.AMPERSAND:{this._startCharacterReference();break}case L.LESS_THAN_SIGN:{this.state=j.RCDATA_LESS_THAN_SIGN;break}case L.NULL:{this._err(W.unexpectedNullCharacter),this._emitChars(vt);break}case L.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case L.LESS_THAN_SIGN:{this.state=j.RAWTEXT_LESS_THAN_SIGN;break}case L.NULL:{this._err(W.unexpectedNullCharacter),this._emitChars(vt);break}case L.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case L.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_LESS_THAN_SIGN;break}case L.NULL:{this._err(W.unexpectedNullCharacter),this._emitChars(vt);break}case L.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case L.NULL:{this._err(W.unexpectedNullCharacter),this._emitChars(vt);break}case L.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(za(e))this._createStartTagToken(),this.state=j.TAG_NAME,this._stateTagName(e);else switch(e){case L.EXCLAMATION_MARK:{this.state=j.MARKUP_DECLARATION_OPEN;break}case L.SOLIDUS:{this.state=j.END_TAG_OPEN;break}case L.QUESTION_MARK:{this._err(W.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=j.BOGUS_COMMENT,this._stateBogusComment(e);break}case L.EOF:{this._err(W.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(W.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=j.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(za(e))this._createEndTagToken(),this.state=j.TAG_NAME,this._stateTagName(e);else switch(e){case L.GREATER_THAN_SIGN:{this._err(W.missingEndTagName),this.state=j.DATA;break}case L.EOF:{this._err(W.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(W.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:{this.state=j.BEFORE_ATTRIBUTE_NAME;break}case L.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case L.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case L.NULL:{this._err(W.unexpectedNullCharacter),n.tagName+=vt;break}case L.EOF:{this._err(W.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(jf(e)?fm(e):e)}}_stateRcdataLessThanSign(e){e===L.SOLIDUS?this.state=j.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){za(e)?(this.state=j.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=j.BEFORE_ATTRIBUTE_NAME,!1;case L.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=j.SELF_CLOSING_START_TAG,!1;case L.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=j.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===L.SOLIDUS?this.state=j.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){za(e)?(this.state=j.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case L.SOLIDUS:{this.state=j.SCRIPT_DATA_END_TAG_OPEN;break}case L.EXCLAMATION_MARK:{this.state=j.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=j.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){za(e)?(this.state=j.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===L.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===L.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case L.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case L.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case L.NULL:{this._err(W.unexpectedNullCharacter),this._emitChars(vt);break}case L.EOF:{this._err(W.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case L.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case L.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case L.NULL:{this._err(W.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(vt);break}case L.EOF:{this._err(W.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case L.HYPHEN_MINUS:{this._emitChars("-");break}case L.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case L.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case L.NULL:{this._err(W.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(vt);break}case L.EOF:{this._err(W.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===L.SOLIDUS?this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:za(e)?(this._emitChars("<"),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){za(e)?(this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Gn.SCRIPT,!1)&&oN(this.preprocessor.peek(Gn.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Gn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case L.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case L.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case L.NULL:{this._err(W.unexpectedNullCharacter),this._emitChars(vt);break}case L.EOF:{this._err(W.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case L.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case L.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case L.NULL:{this._err(W.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(vt);break}case L.EOF:{this._err(W.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case L.HYPHEN_MINUS:{this._emitChars("-");break}case L.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case L.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case L.NULL:{this._err(W.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(vt);break}case L.EOF:{this._err(W.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===L.SOLIDUS?(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Gn.SCRIPT,!1)&&oN(this.preprocessor.peek(Gn.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Gn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:break;case L.SOLIDUS:case L.GREATER_THAN_SIGN:case L.EOF:{this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case L.EQUALS_SIGN:{this._err(W.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=j.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:case L.SOLIDUS:case L.GREATER_THAN_SIGN:case L.EOF:{this._leaveAttrName(),this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case L.EQUALS_SIGN:{this._leaveAttrName(),this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case L.QUOTATION_MARK:case L.APOSTROPHE:case L.LESS_THAN_SIGN:{this._err(W.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case L.NULL:{this._err(W.unexpectedNullCharacter),this.currentAttr.name+=vt;break}default:this.currentAttr.name+=String.fromCodePoint(jf(e)?fm(e):e)}}_stateAfterAttributeName(e){switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:break;case L.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case L.EQUALS_SIGN:{this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case L.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case L.EOF:{this._err(W.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:break;case L.QUOTATION_MARK:{this.state=j.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case L.APOSTROPHE:{this.state=j.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case L.GREATER_THAN_SIGN:{this._err(W.missingAttributeValue),this.state=j.DATA,this.emitCurrentTagToken();break}default:this.state=j.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case L.QUOTATION_MARK:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case L.AMPERSAND:{this._startCharacterReference();break}case L.NULL:{this._err(W.unexpectedNullCharacter),this.currentAttr.value+=vt;break}case L.EOF:{this._err(W.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case L.APOSTROPHE:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case L.AMPERSAND:{this._startCharacterReference();break}case L.NULL:{this._err(W.unexpectedNullCharacter),this.currentAttr.value+=vt;break}case L.EOF:{this._err(W.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case L.AMPERSAND:{this._startCharacterReference();break}case L.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case L.NULL:{this._err(W.unexpectedNullCharacter),this.currentAttr.value+=vt;break}case L.QUOTATION_MARK:case L.APOSTROPHE:case L.LESS_THAN_SIGN:case L.EQUALS_SIGN:case L.GRAVE_ACCENT:{this._err(W.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case L.EOF:{this._err(W.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case L.SOLIDUS:{this._leaveAttrValue(),this.state=j.SELF_CLOSING_START_TAG;break}case L.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case L.EOF:{this._err(W.eofInTag),this._emitEOFToken();break}default:this._err(W.missingWhitespaceBetweenAttributes),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case L.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=j.DATA,this.emitCurrentTagToken();break}case L.EOF:{this._err(W.eofInTag),this._emitEOFToken();break}default:this._err(W.unexpectedSolidusInTag),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case L.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(n);break}case L.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case L.NULL:{this._err(W.unexpectedNullCharacter),n.data+=vt;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(Gn.DASH_DASH,!0)?(this._createCommentToken(Gn.DASH_DASH.length+1),this.state=j.COMMENT_START):this._consumeSequenceIfMatch(Gn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Gn.DOCTYPE.length+1),this.state=j.DOCTYPE):this._consumeSequenceIfMatch(Gn.CDATA_START,!0)?this.inForeignNode?this.state=j.CDATA_SECTION:(this._err(W.cdataInHtmlContent),this._createCommentToken(Gn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=j.BOGUS_COMMENT):this._ensureHibernation()||(this._err(W.incorrectlyOpenedComment),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case L.HYPHEN_MINUS:{this.state=j.COMMENT_START_DASH;break}case L.GREATER_THAN_SIGN:{this._err(W.abruptClosingOfEmptyComment),this.state=j.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=j.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case L.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case L.GREATER_THAN_SIGN:{this._err(W.abruptClosingOfEmptyComment),this.state=j.DATA,this.emitCurrentComment(n);break}case L.EOF:{this._err(W.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=j.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case L.HYPHEN_MINUS:{this.state=j.COMMENT_END_DASH;break}case L.LESS_THAN_SIGN:{n.data+="<",this.state=j.COMMENT_LESS_THAN_SIGN;break}case L.NULL:{this._err(W.unexpectedNullCharacter),n.data+=vt;break}case L.EOF:{this._err(W.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case L.EXCLAMATION_MARK:{n.data+="!",this.state=j.COMMENT_LESS_THAN_SIGN_BANG;break}case L.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=j.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===L.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=j.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===L.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=j.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==L.GREATER_THAN_SIGN&&e!==L.EOF&&this._err(W.nestedComment),this.state=j.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case L.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case L.EOF:{this._err(W.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=j.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case L.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(n);break}case L.EXCLAMATION_MARK:{this.state=j.COMMENT_END_BANG;break}case L.HYPHEN_MINUS:{n.data+="-";break}case L.EOF:{this._err(W.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=j.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case L.HYPHEN_MINUS:{n.data+="--!",this.state=j.COMMENT_END_DASH;break}case L.GREATER_THAN_SIGN:{this._err(W.incorrectlyClosedComment),this.state=j.DATA,this.emitCurrentComment(n);break}case L.EOF:{this._err(W.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=j.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_NAME;break}case L.GREATER_THAN_SIGN:{this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case L.EOF:{this._err(W.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(W.missingWhitespaceBeforeDoctypeName),this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(jf(e))this._createDoctypeToken(String.fromCharCode(fm(e))),this.state=j.DOCTYPE_NAME;else switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:break;case L.NULL:{this._err(W.unexpectedNullCharacter),this._createDoctypeToken(vt),this.state=j.DOCTYPE_NAME;break}case L.GREATER_THAN_SIGN:{this._err(W.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case L.EOF:{this._err(W.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=j.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:{this.state=j.AFTER_DOCTYPE_NAME;break}case L.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(n);break}case L.NULL:{this._err(W.unexpectedNullCharacter),n.name+=vt;break}case L.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(jf(e)?fm(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:break;case L.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(n);break}case L.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Gn.PUBLIC,!1)?this.state=j.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Gn.SYSTEM,!1)?this.state=j.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(W.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case L.QUOTATION_MARK:{this._err(W.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case L.APOSTROPHE:{this._err(W.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case L.GREATER_THAN_SIGN:{this._err(W.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case L.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(W.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:break;case L.QUOTATION_MARK:{n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case L.APOSTROPHE:{n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case L.GREATER_THAN_SIGN:{this._err(W.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case L.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(W.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case L.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case L.NULL:{this._err(W.unexpectedNullCharacter),n.publicId+=vt;break}case L.GREATER_THAN_SIGN:{this._err(W.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case L.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case L.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case L.NULL:{this._err(W.unexpectedNullCharacter),n.publicId+=vt;break}case L.GREATER_THAN_SIGN:{this._err(W.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case L.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:{this.state=j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case L.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(n);break}case L.QUOTATION_MARK:{this._err(W.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case L.APOSTROPHE:{this._err(W.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case L.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(W.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:break;case L.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=j.DATA;break}case L.QUOTATION_MARK:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case L.APOSTROPHE:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case L.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(W.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case L.QUOTATION_MARK:{this._err(W.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case L.APOSTROPHE:{this._err(W.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case L.GREATER_THAN_SIGN:{this._err(W.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case L.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(W.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:break;case L.QUOTATION_MARK:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case L.APOSTROPHE:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case L.GREATER_THAN_SIGN:{this._err(W.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case L.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(W.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case L.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case L.NULL:{this._err(W.unexpectedNullCharacter),n.systemId+=vt;break}case L.GREATER_THAN_SIGN:{this._err(W.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case L.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case L.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case L.NULL:{this._err(W.unexpectedNullCharacter),n.systemId+=vt;break}case L.GREATER_THAN_SIGN:{this._err(W.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case L.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case L.SPACE:case L.LINE_FEED:case L.TABULATION:case L.FORM_FEED:break;case L.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=j.DATA;break}case L.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(W.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case L.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=j.DATA;break}case L.NULL:{this._err(W.unexpectedNullCharacter);break}case L.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case L.RIGHT_SQUARE_BRACKET:{this.state=j.CDATA_SECTION_BRACKET;break}case L.EOF:{this._err(W.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===L.RIGHT_SQUARE_BRACKET?this.state=j.CDATA_SECTION_END:(this._emitChars("]"),this.state=j.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case L.GREATER_THAN_SIGN:{this.state=j.DATA;break}case L.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=j.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(L.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&sN(this.preprocessor.peek(1))?j.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){sN(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===L.SEMICOLON&&this._err(W.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}};const KF=new Set([m.DD,m.DT,m.LI,m.OPTGROUP,m.OPTION,m.P,m.RB,m.RP,m.RT,m.RTC]),uN=new Set([...KF,m.CAPTION,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]),lg=new Set([m.APPLET,m.CAPTION,m.HTML,m.MARQUEE,m.OBJECT,m.TABLE,m.TD,m.TEMPLATE,m.TH]),lae=new Set([...lg,m.OL,m.UL]),cae=new Set([...lg,m.BUTTON]),lN=new Set([m.ANNOTATION_XML,m.MI,m.MN,m.MO,m.MS,m.MTEXT]),cN=new Set([m.DESC,m.FOREIGN_OBJECT,m.TITLE]),fae=new Set([m.TR,m.TEMPLATE,m.HTML]),dae=new Set([m.TBODY,m.TFOOT,m.THEAD,m.TEMPLATE,m.HTML]),hae=new Set([m.TABLE,m.TEMPLATE,m.HTML]),pae=new Set([m.TD,m.TH]);class mae{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=m.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===m.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===ee.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const i=this._indexOf(e)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==ee.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(n<0?0:n)}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(tT,ee.HTML)}popUntilTableCellPopped(){this.popUntilPopped(pae,ee.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(hae,ee.HTML)}clearBackToTableBodyContext(){this.clearBackTo(dae,ee.HTML)}clearBackToTableRowContext(){this.clearBackTo(fae,ee.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===m.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===m.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case ee.HTML:{if(i===e)return!0;if(n.has(i))return!1;break}case ee.SVG:{if(cN.has(i))return!1;break}case ee.MATHML:{if(lN.has(i))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,lg)}hasInListItemScope(e){return this.hasInDynamicScope(e,lae)}hasInButtonScope(e){return this.hasInDynamicScope(e,cae)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case ee.HTML:{if(tT.has(n))return!0;if(lg.has(n))return!1;break}case ee.SVG:{if(cN.has(n))return!1;break}case ee.MATHML:{if(lN.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===ee.HTML)switch(this.tagIDs[n]){case e:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===ee.HTML)switch(this.tagIDs[e]){case m.TBODY:case m.THEAD:case m.TFOOT:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===ee.HTML)switch(this.tagIDs[n]){case e:return!0;case m.OPTION:case m.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;KF.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;uN.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&uN.has(this.currentTagId);)this.pop()}}const O1=3;var xi;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(xi||(xi={}));const fN={type:xi.Marker};class gae{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],i=n.length,a=this.treeAdapter.getTagName(e),s=this.treeAdapter.getNamespaceURI(e);for(let o=0;o<this.entries.length;o++){const u=this.entries[o];if(u.type===xi.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===a&&this.treeAdapter.getNamespaceURI(l)===s){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:o,attrs:c})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<O1)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<O1)return;const i=new Map(n.map(s=>[s.name,s.value]));let a=0;for(let s=0;s<r.length;s++){const o=r[s];o.attrs.every(u=>i.get(u.name)===u.value)&&(a+=1,a>=O1&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(fN)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:xi.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:xi.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(fN);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===xi.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===xi.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===xi.Element&&n.element===e)}}const Xi={createDocument(){return{nodeName:"#document",mode:dr.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const i=t.childNodes.find(a=>a.nodeName==="#documentType");if(i)i.name=e,i.publicId=n,i.systemId=r;else{const a={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};Xi.appendChild(t,a)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(Xi.isTextNode(n)){n.value+=e;return}}Xi.appendChild(t,Xi.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&Xi.isTextNode(r)?r.value+=e:Xi.insertBefore(t,Xi.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},YF="html",yae="about:legacy-compat",vae="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",QF=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],bae=[...QF,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],_ae=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),XF=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Eae=[...XF,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function dN(t,e){return e.some(n=>t.startsWith(n))}function Tae(t){return t.name===YF&&t.publicId===null&&(t.systemId===null||t.systemId===yae)}function wae(t){if(t.name!==YF)return dr.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===vae)return dr.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),_ae.has(n))return dr.QUIRKS;let r=e===null?bae:QF;if(dN(n,r))return dr.QUIRKS;if(r=e===null?XF:Eae,dN(n,r))return dr.LIMITED_QUIRKS}return dr.NO_QUIRKS}const hN={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},xae="definitionurl",Aae="definitionURL",Sae=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),Iae=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:ee.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:ee.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:ee.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:ee.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:ee.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:ee.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:ee.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:ee.XML}],["xml:space",{prefix:"xml",name:"space",namespace:ee.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:ee.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:ee.XMLNS}]]),Pae=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),Cae=new Set([m.B,m.BIG,m.BLOCKQUOTE,m.BODY,m.BR,m.CENTER,m.CODE,m.DD,m.DIV,m.DL,m.DT,m.EM,m.EMBED,m.H1,m.H2,m.H3,m.H4,m.H5,m.H6,m.HEAD,m.HR,m.I,m.IMG,m.LI,m.LISTING,m.MENU,m.META,m.NOBR,m.OL,m.P,m.PRE,m.RUBY,m.S,m.SMALL,m.SPAN,m.STRONG,m.STRIKE,m.SUB,m.SUP,m.TABLE,m.TT,m.U,m.UL,m.VAR]);function Oae(t){const e=t.tagID;return e===m.FONT&&t.attrs.some(({name:r})=>r===Ro.COLOR||r===Ro.SIZE||r===Ro.FACE)||Cae.has(e)}function JF(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===xae){t.attrs[e].name=Aae;break}}function ZF(t){for(let e=0;e<t.attrs.length;e++){const n=Sae.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function eS(t){for(let e=0;e<t.attrs.length;e++){const n=Iae.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function Nae(t){const e=Pae.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=bv(t.tagName))}function Rae(t,e){return e===ee.MATHML&&(t===m.MI||t===m.MO||t===m.MN||t===m.MS||t===m.MTEXT)}function kae(t,e,n){if(e===ee.MATHML&&t===m.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Ro.ENCODING){const i=n[r].value.toLowerCase();return i===hN.TEXT_HTML||i===hN.APPLICATION_XML}}return e===ee.SVG&&(t===m.FOREIGN_OBJECT||t===m.DESC||t===m.TITLE)}function Dae(t,e,n,r){return(!r||r===ee.HTML)&&kae(t,e,n)||(!r||r===ee.MATHML)&&Rae(t,e)}const Mae="hidden",Lae=8,jae=3;var $;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})($||($={}));const Fae={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},e$=new Set([m.TABLE,m.TBODY,m.TFOOT,m.THEAD,m.TR]),pN={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Xi,onParseError:null};let t$=class{constructor(e,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=$.INITIAL,this.originalInsertionMode=$.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...pN,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new uae(this.options,this),this.activeFormattingElements=new gae(this.treeAdapter),this.fragmentContextID=r?bv(this.treeAdapter.getTagName(r)):m.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new mae(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={...pN,...n};e??(e=r.treeAdapter.createElement(U.TEMPLATE,ee.HTML,[]));const i=r.treeAdapter.createElement("documentmock",ee.HTML,[]),a=new this(r,i,e);return a.fragmentContextID===m.TEMPLATE&&a.tmplInsertionModeStack.unshift($.IN_TEMPLATE),a._initTokenizerForFragmentParsing(),a._insertFakeRootElement(),a._resetInsertionMode(),a._findFormInFragmentContext(),a}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var i;if(!this.onParseError)return;const a=(i=e.location)!==null&&i!==void 0?i:Fae,s={code:n,startLine:a.startLine,startCol:a.startCol,startOffset:a.startOffset,endLine:r?a.startLine:a.endLine,endCol:r?a.startCol:a.endCol,endOffset:r?a.startOffset:a.endOffset};this.onParseError(s)}onItemPush(e,n,r){var i,a;(a=(i=this.treeAdapter).onItemPush)===null||a===void 0||a.call(i,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,e,this.openElements.current),n){let a,s;this.openElements.stackTop===0&&this.fragmentContext?(a=this.fragmentContext,s=this.fragmentContextID):{current:a,currentTagId:s}=this.openElements,this._setContextModes(a,s)}}_setContextModes(e,n){const r=e===this.document||this.treeAdapter.getNamespaceURI(e)===ee.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,ee.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=$.TEXT}switchToPlaintextParsing(){this.insertionMode=$.TEXT,this.originalInsertionMode=$.IN_BODY,this.tokenizer.state=Xn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===U.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==ee.HTML))switch(this.fragmentContextID){case m.TITLE:case m.TEXTAREA:{this.tokenizer.state=Xn.RCDATA;break}case m.STYLE:case m.XMP:case m.IFRAME:case m.NOEMBED:case m.NOFRAMES:case m.NOSCRIPT:{this.tokenizer.state=Xn.RAWTEXT;break}case m.SCRIPT:{this.tokenizer.state=Xn.SCRIPT_DATA;break}case m.PLAINTEXT:{this.tokenizer.state=Xn.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),e.location){const s=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));s&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,ee.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,ee.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(U.HTML,ee.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,m.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(n),a=r?i.lastIndexOf(r):i.length,s=i[a-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:u,endCol:l,endOffset:c}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(e),a=n.type===qe.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,a)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===m.SVG&&this.treeAdapter.getTagName(n)===U.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===ee.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===m.MGLYPH||e.tagID===m.MALIGNMARK)&&!this._isIntegrationPoint(r,n,ee.HTML)}_processToken(e){switch(e.type){case qe.CHARACTER:{this.onCharacter(e);break}case qe.NULL_CHARACTER:{this.onNullCharacter(e);break}case qe.COMMENT:{this.onComment(e);break}case qe.DOCTYPE:{this.onDoctype(e);break}case qe.START_TAG:{this._processStartTag(e);break}case qe.END_TAG:{this.onEndTag(e);break}case qe.EOF:{this.onEof(e);break}case qe.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const i=this.treeAdapter.getNamespaceURI(n),a=this.treeAdapter.getAttrList(n);return Dae(e,i,a,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===xi.Marker||this.openElements.contains(i.element)),r=n<0?e-1:n-1;for(let i=r;i>=0;i--){const a=this.activeFormattingElements.entries[i];this._insertElement(a.token,this.treeAdapter.getNamespaceURI(a.element)),a.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=$.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(m.P),this.openElements.popUntilTagNamePopped(m.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case m.TR:{this.insertionMode=$.IN_ROW;return}case m.TBODY:case m.THEAD:case m.TFOOT:{this.insertionMode=$.IN_TABLE_BODY;return}case m.CAPTION:{this.insertionMode=$.IN_CAPTION;return}case m.COLGROUP:{this.insertionMode=$.IN_COLUMN_GROUP;return}case m.TABLE:{this.insertionMode=$.IN_TABLE;return}case m.BODY:{this.insertionMode=$.IN_BODY;return}case m.FRAMESET:{this.insertionMode=$.IN_FRAMESET;return}case m.SELECT:{this._resetInsertionModeForSelect(e);return}case m.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case m.HTML:{this.insertionMode=this.headElement?$.AFTER_HEAD:$.BEFORE_HEAD;return}case m.TD:case m.TH:{if(e>0){this.insertionMode=$.IN_CELL;return}break}case m.HEAD:{if(e>0){this.insertionMode=$.IN_HEAD;return}break}}this.insertionMode=$.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===m.TEMPLATE)break;if(r===m.TABLE){this.insertionMode=$.IN_SELECT_IN_TABLE;return}}this.insertionMode=$.IN_SELECT}_isElementCausesFosterParenting(e){return e$.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case m.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===ee.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case m.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return nae[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){poe(this,e);return}switch(this.insertionMode){case $.INITIAL:{df(this,e);break}case $.BEFORE_HTML:{rd(this,e);break}case $.BEFORE_HEAD:{id(this,e);break}case $.IN_HEAD:{ad(this,e);break}case $.IN_HEAD_NO_SCRIPT:{sd(this,e);break}case $.AFTER_HEAD:{od(this,e);break}case $.IN_BODY:case $.IN_CAPTION:case $.IN_CELL:case $.IN_TEMPLATE:{r$(this,e);break}case $.TEXT:case $.IN_SELECT:case $.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case $.IN_TABLE:case $.IN_TABLE_BODY:case $.IN_ROW:{N1(this,e);break}case $.IN_TABLE_TEXT:{l$(this,e);break}case $.IN_COLUMN_GROUP:{cg(this,e);break}case $.AFTER_BODY:{fg(this,e);break}case $.AFTER_AFTER_BODY:{i0(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){hoe(this,e);return}switch(this.insertionMode){case $.INITIAL:{df(this,e);break}case $.BEFORE_HTML:{rd(this,e);break}case $.BEFORE_HEAD:{id(this,e);break}case $.IN_HEAD:{ad(this,e);break}case $.IN_HEAD_NO_SCRIPT:{sd(this,e);break}case $.AFTER_HEAD:{od(this,e);break}case $.TEXT:{this._insertCharacters(e);break}case $.IN_TABLE:case $.IN_TABLE_BODY:case $.IN_ROW:{N1(this,e);break}case $.IN_COLUMN_GROUP:{cg(this,e);break}case $.AFTER_BODY:{fg(this,e);break}case $.AFTER_AFTER_BODY:{i0(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){nT(this,e);return}switch(this.insertionMode){case $.INITIAL:case $.BEFORE_HTML:case $.BEFORE_HEAD:case $.IN_HEAD:case $.IN_HEAD_NO_SCRIPT:case $.AFTER_HEAD:case $.IN_BODY:case $.IN_TABLE:case $.IN_CAPTION:case $.IN_COLUMN_GROUP:case $.IN_TABLE_BODY:case $.IN_ROW:case $.IN_CELL:case $.IN_SELECT:case $.IN_SELECT_IN_TABLE:case $.IN_TEMPLATE:case $.IN_FRAMESET:case $.AFTER_FRAMESET:{nT(this,e);break}case $.IN_TABLE_TEXT:{hf(this,e);break}case $.AFTER_BODY:{zae(this,e);break}case $.AFTER_AFTER_BODY:case $.AFTER_AFTER_FRAMESET:{Wae(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case $.INITIAL:{Gae(this,e);break}case $.BEFORE_HEAD:case $.IN_HEAD:case $.IN_HEAD_NO_SCRIPT:case $.AFTER_HEAD:{this._err(e,W.misplacedDoctype);break}case $.IN_TABLE_TEXT:{hf(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,W.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?moe(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case $.INITIAL:{df(this,e);break}case $.BEFORE_HTML:{Kae(this,e);break}case $.BEFORE_HEAD:{Qae(this,e);break}case $.IN_HEAD:{gi(this,e);break}case $.IN_HEAD_NO_SCRIPT:{Zae(this,e);break}case $.AFTER_HEAD:{tse(this,e);break}case $.IN_BODY:{Dn(this,e);break}case $.IN_TABLE:{Ll(this,e);break}case $.IN_TABLE_TEXT:{hf(this,e);break}case $.IN_CAPTION:{Xse(this,e);break}case $.IN_COLUMN_GROUP:{rS(this,e);break}case $.IN_TABLE_BODY:{Tv(this,e);break}case $.IN_ROW:{wv(this,e);break}case $.IN_CELL:{eoe(this,e);break}case $.IN_SELECT:{d$(this,e);break}case $.IN_SELECT_IN_TABLE:{noe(this,e);break}case $.IN_TEMPLATE:{ioe(this,e);break}case $.AFTER_BODY:{soe(this,e);break}case $.IN_FRAMESET:{ooe(this,e);break}case $.AFTER_FRAMESET:{loe(this,e);break}case $.AFTER_AFTER_BODY:{foe(this,e);break}case $.AFTER_AFTER_FRAMESET:{doe(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?goe(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case $.INITIAL:{df(this,e);break}case $.BEFORE_HTML:{Yae(this,e);break}case $.BEFORE_HEAD:{Xae(this,e);break}case $.IN_HEAD:{Jae(this,e);break}case $.IN_HEAD_NO_SCRIPT:{ese(this,e);break}case $.AFTER_HEAD:{nse(this,e);break}case $.IN_BODY:{Ev(this,e);break}case $.TEXT:{Use(this,e);break}case $.IN_TABLE:{Jd(this,e);break}case $.IN_TABLE_TEXT:{hf(this,e);break}case $.IN_CAPTION:{Jse(this,e);break}case $.IN_COLUMN_GROUP:{Zse(this,e);break}case $.IN_TABLE_BODY:{rT(this,e);break}case $.IN_ROW:{f$(this,e);break}case $.IN_CELL:{toe(this,e);break}case $.IN_SELECT:{h$(this,e);break}case $.IN_SELECT_IN_TABLE:{roe(this,e);break}case $.IN_TEMPLATE:{aoe(this,e);break}case $.AFTER_BODY:{m$(this,e);break}case $.IN_FRAMESET:{uoe(this,e);break}case $.AFTER_FRAMESET:{coe(this,e);break}case $.AFTER_AFTER_BODY:{i0(this,e);break}}}onEof(e){switch(this.insertionMode){case $.INITIAL:{df(this,e);break}case $.BEFORE_HTML:{rd(this,e);break}case $.BEFORE_HEAD:{id(this,e);break}case $.IN_HEAD:{ad(this,e);break}case $.IN_HEAD_NO_SCRIPT:{sd(this,e);break}case $.AFTER_HEAD:{od(this,e);break}case $.IN_BODY:case $.IN_TABLE:case $.IN_CAPTION:case $.IN_COLUMN_GROUP:case $.IN_TABLE_BODY:case $.IN_ROW:case $.IN_CELL:case $.IN_SELECT:case $.IN_SELECT_IN_TABLE:{o$(this,e);break}case $.TEXT:{Vse(this,e);break}case $.IN_TABLE_TEXT:{hf(this,e);break}case $.IN_TEMPLATE:{p$(this,e);break}case $.AFTER_BODY:case $.IN_FRAMESET:case $.AFTER_FRAMESET:case $.AFTER_AFTER_BODY:case $.AFTER_AFTER_FRAMESET:{nS(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===L.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case $.IN_HEAD:case $.IN_HEAD_NO_SCRIPT:case $.AFTER_HEAD:case $.TEXT:case $.IN_COLUMN_GROUP:case $.IN_SELECT:case $.IN_SELECT_IN_TABLE:case $.IN_FRAMESET:case $.AFTER_FRAMESET:{this._insertCharacters(e);break}case $.IN_BODY:case $.IN_CAPTION:case $.IN_CELL:case $.IN_TEMPLATE:case $.AFTER_BODY:case $.AFTER_AFTER_BODY:case $.AFTER_AFTER_FRAMESET:{n$(this,e);break}case $.IN_TABLE:case $.IN_TABLE_BODY:case $.IN_ROW:{N1(this,e);break}case $.IN_TABLE_TEXT:{u$(this,e);break}}}};function $ae(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):s$(t,e),n}function Bae(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const i=t.openElements.items[r];if(i===e.element)break;t._isSpecialElement(i,t.openElements.tagIDs[r])&&(n=i)}return n||(t.openElements.shortenToLength(r<0?0:r),t.activeFormattingElements.removeEntry(e)),n}function Uae(t,e,n){let r=e,i=t.openElements.getCommonAncestor(e);for(let a=0,s=i;s!==n;a++,s=i){i=t.openElements.getCommonAncestor(s);const o=t.activeFormattingElements.getElementEntry(s),u=o&&a>=jae;!o||u?(u&&t.activeFormattingElements.removeEntry(o),t.openElements.remove(s)):(s=Vae(t,o),r===e&&(t.activeFormattingElements.bookmark=o),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(s,r),r=s)}return r}function Vae(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function Hae(t,e,n){const r=t.treeAdapter.getTagName(e),i=bv(r);if(t._isElementCausesFosterParenting(i))t._fosterParentElement(n);else{const a=t.treeAdapter.getNamespaceURI(e);i===m.TEMPLATE&&a===ee.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function qae(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:i}=n,a=t.treeAdapter.createElement(i.tagName,r,i.attrs);t._adoptNodes(e,a),t.treeAdapter.appendChild(e,a),t.activeFormattingElements.insertElementAfterBookmark(a,i),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,a,i.tagID)}function tS(t,e){for(let n=0;n<Lae;n++){const r=$ae(t,e);if(!r)break;const i=Bae(t,r);if(!i)break;t.activeFormattingElements.bookmark=r;const a=Uae(t,i,r.element),s=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(a),s&&Hae(t,s,a),qae(t,i,r)}}function nT(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function zae(t,e){t._appendCommentNode(e,t.openElements.items[0])}function Wae(t,e){t._appendCommentNode(e,t.document)}function nS(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],i=t.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const a=t.openElements.items[1],s=t.treeAdapter.getNodeSourceCodeLocation(a);s&&!s.endTag&&t._setEndLocation(a,e)}}}}function Gae(t,e){t._setDocumentType(e);const n=e.forceQuirks?dr.QUIRKS:wae(e);Tae(e)||t._err(e,W.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=$.BEFORE_HTML}function df(t,e){t._err(e,W.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,dr.QUIRKS),t.insertionMode=$.BEFORE_HTML,t._processToken(e)}function Kae(t,e){e.tagID===m.HTML?(t._insertElement(e,ee.HTML),t.insertionMode=$.BEFORE_HEAD):rd(t,e)}function Yae(t,e){const n=e.tagID;(n===m.HTML||n===m.HEAD||n===m.BODY||n===m.BR)&&rd(t,e)}function rd(t,e){t._insertFakeRootElement(),t.insertionMode=$.BEFORE_HEAD,t._processToken(e)}function Qae(t,e){switch(e.tagID){case m.HTML:{Dn(t,e);break}case m.HEAD:{t._insertElement(e,ee.HTML),t.headElement=t.openElements.current,t.insertionMode=$.IN_HEAD;break}default:id(t,e)}}function Xae(t,e){const n=e.tagID;n===m.HEAD||n===m.BODY||n===m.HTML||n===m.BR?id(t,e):t._err(e,W.endTagWithoutMatchingOpenElement)}function id(t,e){t._insertFakeElement(U.HEAD,m.HEAD),t.headElement=t.openElements.current,t.insertionMode=$.IN_HEAD,t._processToken(e)}function gi(t,e){switch(e.tagID){case m.HTML:{Dn(t,e);break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:{t._appendElement(e,ee.HTML),e.ackSelfClosing=!0;break}case m.TITLE:{t._switchToTextParsing(e,Xn.RCDATA);break}case m.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,Xn.RAWTEXT):(t._insertElement(e,ee.HTML),t.insertionMode=$.IN_HEAD_NO_SCRIPT);break}case m.NOFRAMES:case m.STYLE:{t._switchToTextParsing(e,Xn.RAWTEXT);break}case m.SCRIPT:{t._switchToTextParsing(e,Xn.SCRIPT_DATA);break}case m.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=$.IN_TEMPLATE,t.tmplInsertionModeStack.unshift($.IN_TEMPLATE);break}case m.HEAD:{t._err(e,W.misplacedStartTagForHeadElement);break}default:ad(t,e)}}function Jae(t,e){switch(e.tagID){case m.HEAD:{t.openElements.pop(),t.insertionMode=$.AFTER_HEAD;break}case m.BODY:case m.BR:case m.HTML:{ad(t,e);break}case m.TEMPLATE:{gu(t,e);break}default:t._err(e,W.endTagWithoutMatchingOpenElement)}}function gu(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==m.TEMPLATE&&t._err(e,W.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(m.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,W.endTagWithoutMatchingOpenElement)}function ad(t,e){t.openElements.pop(),t.insertionMode=$.AFTER_HEAD,t._processToken(e)}function Zae(t,e){switch(e.tagID){case m.HTML:{Dn(t,e);break}case m.BASEFONT:case m.BGSOUND:case m.HEAD:case m.LINK:case m.META:case m.NOFRAMES:case m.STYLE:{gi(t,e);break}case m.NOSCRIPT:{t._err(e,W.nestedNoscriptInHead);break}default:sd(t,e)}}function ese(t,e){switch(e.tagID){case m.NOSCRIPT:{t.openElements.pop(),t.insertionMode=$.IN_HEAD;break}case m.BR:{sd(t,e);break}default:t._err(e,W.endTagWithoutMatchingOpenElement)}}function sd(t,e){const n=e.type===qe.EOF?W.openElementsLeftAfterEof:W.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=$.IN_HEAD,t._processToken(e)}function tse(t,e){switch(e.tagID){case m.HTML:{Dn(t,e);break}case m.BODY:{t._insertElement(e,ee.HTML),t.framesetOk=!1,t.insertionMode=$.IN_BODY;break}case m.FRAMESET:{t._insertElement(e,ee.HTML),t.insertionMode=$.IN_FRAMESET;break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{t._err(e,W.abandonedHeadElementChild),t.openElements.push(t.headElement,m.HEAD),gi(t,e),t.openElements.remove(t.headElement);break}case m.HEAD:{t._err(e,W.misplacedStartTagForHeadElement);break}default:od(t,e)}}function nse(t,e){switch(e.tagID){case m.BODY:case m.HTML:case m.BR:{od(t,e);break}case m.TEMPLATE:{gu(t,e);break}default:t._err(e,W.endTagWithoutMatchingOpenElement)}}function od(t,e){t._insertFakeElement(U.BODY,m.BODY),t.insertionMode=$.IN_BODY,_v(t,e)}function _v(t,e){switch(e.type){case qe.CHARACTER:{r$(t,e);break}case qe.WHITESPACE_CHARACTER:{n$(t,e);break}case qe.COMMENT:{nT(t,e);break}case qe.START_TAG:{Dn(t,e);break}case qe.END_TAG:{Ev(t,e);break}case qe.EOF:{o$(t,e);break}}}function n$(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function r$(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function rse(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function ise(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function ase(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,ee.HTML),t.insertionMode=$.IN_FRAMESET)}function sse(t,e){t.openElements.hasInButtonScope(m.P)&&t._closePElement(),t._insertElement(e,ee.HTML)}function ose(t,e){t.openElements.hasInButtonScope(m.P)&&t._closePElement(),tT.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,ee.HTML)}function use(t,e){t.openElements.hasInButtonScope(m.P)&&t._closePElement(),t._insertElement(e,ee.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function lse(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(m.P)&&t._closePElement(),t._insertElement(e,ee.HTML),n||(t.formElement=t.openElements.current))}function cse(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const i=t.openElements.tagIDs[r];if(n===m.LI&&i===m.LI||(n===m.DD||n===m.DT)&&(i===m.DD||i===m.DT)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.popUntilTagNamePopped(i);break}if(i!==m.ADDRESS&&i!==m.DIV&&i!==m.P&&t._isSpecialElement(t.openElements.items[r],i))break}t.openElements.hasInButtonScope(m.P)&&t._closePElement(),t._insertElement(e,ee.HTML)}function fse(t,e){t.openElements.hasInButtonScope(m.P)&&t._closePElement(),t._insertElement(e,ee.HTML),t.tokenizer.state=Xn.PLAINTEXT}function dse(t,e){t.openElements.hasInScope(m.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(m.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,ee.HTML),t.framesetOk=!1}function hse(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(U.A);n&&(tS(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,ee.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function pse(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,ee.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function mse(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(m.NOBR)&&(tS(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,ee.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function gse(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,ee.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function yse(t,e){t.treeAdapter.getDocumentMode(t.document)!==dr.QUIRKS&&t.openElements.hasInButtonScope(m.P)&&t._closePElement(),t._insertElement(e,ee.HTML),t.framesetOk=!1,t.insertionMode=$.IN_TABLE}function i$(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,ee.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function a$(t){const e=WF(t,Ro.TYPE);return e!=null&&e.toLowerCase()===Mae}function vse(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,ee.HTML),a$(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function bse(t,e){t._appendElement(e,ee.HTML),e.ackSelfClosing=!0}function _se(t,e){t.openElements.hasInButtonScope(m.P)&&t._closePElement(),t._appendElement(e,ee.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function Ese(t,e){e.tagName=U.IMG,e.tagID=m.IMG,i$(t,e)}function Tse(t,e){t._insertElement(e,ee.HTML),t.skipNextNewLine=!0,t.tokenizer.state=Xn.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=$.TEXT}function wse(t,e){t.openElements.hasInButtonScope(m.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,Xn.RAWTEXT)}function xse(t,e){t.framesetOk=!1,t._switchToTextParsing(e,Xn.RAWTEXT)}function mN(t,e){t._switchToTextParsing(e,Xn.RAWTEXT)}function Ase(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,ee.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===$.IN_TABLE||t.insertionMode===$.IN_CAPTION||t.insertionMode===$.IN_TABLE_BODY||t.insertionMode===$.IN_ROW||t.insertionMode===$.IN_CELL?$.IN_SELECT_IN_TABLE:$.IN_SELECT}function Sse(t,e){t.openElements.currentTagId===m.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,ee.HTML)}function Ise(t,e){t.openElements.hasInScope(m.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,ee.HTML)}function Pse(t,e){t.openElements.hasInScope(m.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(m.RTC),t._insertElement(e,ee.HTML)}function Cse(t,e){t._reconstructActiveFormattingElements(),JF(e),eS(e),e.selfClosing?t._appendElement(e,ee.MATHML):t._insertElement(e,ee.MATHML),e.ackSelfClosing=!0}function Ose(t,e){t._reconstructActiveFormattingElements(),ZF(e),eS(e),e.selfClosing?t._appendElement(e,ee.SVG):t._insertElement(e,ee.SVG),e.ackSelfClosing=!0}function gN(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,ee.HTML)}function Dn(t,e){switch(e.tagID){case m.I:case m.S:case m.B:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.SMALL:case m.STRIKE:case m.STRONG:{pse(t,e);break}case m.A:{hse(t,e);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{ose(t,e);break}case m.P:case m.DL:case m.OL:case m.UL:case m.DIV:case m.DIR:case m.NAV:case m.MAIN:case m.MENU:case m.ASIDE:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.DETAILS:case m.ADDRESS:case m.ARTICLE:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{sse(t,e);break}case m.LI:case m.DD:case m.DT:{cse(t,e);break}case m.BR:case m.IMG:case m.WBR:case m.AREA:case m.EMBED:case m.KEYGEN:{i$(t,e);break}case m.HR:{_se(t,e);break}case m.RB:case m.RTC:{Ise(t,e);break}case m.RT:case m.RP:{Pse(t,e);break}case m.PRE:case m.LISTING:{use(t,e);break}case m.XMP:{wse(t,e);break}case m.SVG:{Ose(t,e);break}case m.HTML:{rse(t,e);break}case m.BASE:case m.LINK:case m.META:case m.STYLE:case m.TITLE:case m.SCRIPT:case m.BGSOUND:case m.BASEFONT:case m.TEMPLATE:{gi(t,e);break}case m.BODY:{ise(t,e);break}case m.FORM:{lse(t,e);break}case m.NOBR:{mse(t,e);break}case m.MATH:{Cse(t,e);break}case m.TABLE:{yse(t,e);break}case m.INPUT:{vse(t,e);break}case m.PARAM:case m.TRACK:case m.SOURCE:{bse(t,e);break}case m.IMAGE:{Ese(t,e);break}case m.BUTTON:{dse(t,e);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{gse(t,e);break}case m.IFRAME:{xse(t,e);break}case m.SELECT:{Ase(t,e);break}case m.OPTION:case m.OPTGROUP:{Sse(t,e);break}case m.NOEMBED:case m.NOFRAMES:{mN(t,e);break}case m.FRAMESET:{ase(t,e);break}case m.TEXTAREA:{Tse(t,e);break}case m.NOSCRIPT:{t.options.scriptingEnabled?mN(t,e):gN(t,e);break}case m.PLAINTEXT:{fse(t,e);break}case m.COL:case m.TH:case m.TD:case m.TR:case m.HEAD:case m.FRAME:case m.TBODY:case m.TFOOT:case m.THEAD:case m.CAPTION:case m.COLGROUP:break;default:gN(t,e)}}function Nse(t,e){if(t.openElements.hasInScope(m.BODY)&&(t.insertionMode=$.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function Rse(t,e){t.openElements.hasInScope(m.BODY)&&(t.insertionMode=$.AFTER_BODY,m$(t,e))}function kse(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function Dse(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(m.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(m.FORM):n&&t.openElements.remove(n))}function Mse(t){t.openElements.hasInButtonScope(m.P)||t._insertFakeElement(U.P,m.P),t._closePElement()}function Lse(t){t.openElements.hasInListItemScope(m.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(m.LI),t.openElements.popUntilTagNamePopped(m.LI))}function jse(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function Fse(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function $se(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function Bse(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(U.BR,m.BR),t.openElements.pop(),t.framesetOk=!1}function s$(t,e){const n=e.tagName,r=e.tagID;for(let i=t.openElements.stackTop;i>0;i--){const a=t.openElements.items[i],s=t.openElements.tagIDs[i];if(r===s&&(r!==m.UNKNOWN||t.treeAdapter.getTagName(a)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=i&&t.openElements.shortenToLength(i);break}if(t._isSpecialElement(a,s))break}}function Ev(t,e){switch(e.tagID){case m.A:case m.B:case m.I:case m.S:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.NOBR:case m.SMALL:case m.STRIKE:case m.STRONG:{tS(t,e);break}case m.P:{Mse(t);break}case m.DL:case m.UL:case m.OL:case m.DIR:case m.DIV:case m.NAV:case m.PRE:case m.MAIN:case m.MENU:case m.ASIDE:case m.BUTTON:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.ADDRESS:case m.ARTICLE:case m.DETAILS:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.LISTING:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{kse(t,e);break}case m.LI:{Lse(t);break}case m.DD:case m.DT:{jse(t,e);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{Fse(t);break}case m.BR:{Bse(t);break}case m.BODY:{Nse(t,e);break}case m.HTML:{Rse(t,e);break}case m.FORM:{Dse(t);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{$se(t,e);break}case m.TEMPLATE:{gu(t,e);break}default:s$(t,e)}}function o$(t,e){t.tmplInsertionModeStack.length>0?p$(t,e):nS(t,e)}function Use(t,e){var n;e.tagID===m.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function Vse(t,e){t._err(e,W.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function N1(t,e){if(e$.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=$.IN_TABLE_TEXT,e.type){case qe.CHARACTER:{l$(t,e);break}case qe.WHITESPACE_CHARACTER:{u$(t,e);break}}else up(t,e)}function Hse(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,ee.HTML),t.insertionMode=$.IN_CAPTION}function qse(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,ee.HTML),t.insertionMode=$.IN_COLUMN_GROUP}function zse(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(U.COLGROUP,m.COLGROUP),t.insertionMode=$.IN_COLUMN_GROUP,rS(t,e)}function Wse(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,ee.HTML),t.insertionMode=$.IN_TABLE_BODY}function Gse(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(U.TBODY,m.TBODY),t.insertionMode=$.IN_TABLE_BODY,Tv(t,e)}function Kse(t,e){t.openElements.hasInTableScope(m.TABLE)&&(t.openElements.popUntilTagNamePopped(m.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function Yse(t,e){a$(e)?t._appendElement(e,ee.HTML):up(t,e),e.ackSelfClosing=!0}function Qse(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,ee.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function Ll(t,e){switch(e.tagID){case m.TD:case m.TH:case m.TR:{Gse(t,e);break}case m.STYLE:case m.SCRIPT:case m.TEMPLATE:{gi(t,e);break}case m.COL:{zse(t,e);break}case m.FORM:{Qse(t,e);break}case m.TABLE:{Kse(t,e);break}case m.TBODY:case m.TFOOT:case m.THEAD:{Wse(t,e);break}case m.INPUT:{Yse(t,e);break}case m.CAPTION:{Hse(t,e);break}case m.COLGROUP:{qse(t,e);break}default:up(t,e)}}function Jd(t,e){switch(e.tagID){case m.TABLE:{t.openElements.hasInTableScope(m.TABLE)&&(t.openElements.popUntilTagNamePopped(m.TABLE),t._resetInsertionMode());break}case m.TEMPLATE:{gu(t,e);break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:up(t,e)}}function up(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,_v(t,e),t.fosterParentingEnabled=n}function u$(t,e){t.pendingCharacterTokens.push(e)}function l$(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function hf(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)up(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const c$=new Set([m.CAPTION,m.COL,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]);function Xse(t,e){const n=e.tagID;c$.has(n)?t.openElements.hasInTableScope(m.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(m.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=$.IN_TABLE,Ll(t,e)):Dn(t,e)}function Jse(t,e){const n=e.tagID;switch(n){case m.CAPTION:case m.TABLE:{t.openElements.hasInTableScope(m.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(m.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=$.IN_TABLE,n===m.TABLE&&Jd(t,e));break}case m.BODY:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:Ev(t,e)}}function rS(t,e){switch(e.tagID){case m.HTML:{Dn(t,e);break}case m.COL:{t._appendElement(e,ee.HTML),e.ackSelfClosing=!0;break}case m.TEMPLATE:{gi(t,e);break}default:cg(t,e)}}function Zse(t,e){switch(e.tagID){case m.COLGROUP:{t.openElements.currentTagId===m.COLGROUP&&(t.openElements.pop(),t.insertionMode=$.IN_TABLE);break}case m.TEMPLATE:{gu(t,e);break}case m.COL:break;default:cg(t,e)}}function cg(t,e){t.openElements.currentTagId===m.COLGROUP&&(t.openElements.pop(),t.insertionMode=$.IN_TABLE,t._processToken(e))}function Tv(t,e){switch(e.tagID){case m.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,ee.HTML),t.insertionMode=$.IN_ROW;break}case m.TH:case m.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(U.TR,m.TR),t.insertionMode=$.IN_ROW,wv(t,e);break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=$.IN_TABLE,Ll(t,e));break}default:Ll(t,e)}}function rT(t,e){const n=e.tagID;switch(e.tagID){case m.TBODY:case m.TFOOT:case m.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=$.IN_TABLE);break}case m.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=$.IN_TABLE,Jd(t,e));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:case m.TR:break;default:Jd(t,e)}}function wv(t,e){switch(e.tagID){case m.TH:case m.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,ee.HTML),t.insertionMode=$.IN_CELL,t.activeFormattingElements.insertMarker();break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{t.openElements.hasInTableScope(m.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=$.IN_TABLE_BODY,Tv(t,e));break}default:Ll(t,e)}}function f$(t,e){switch(e.tagID){case m.TR:{t.openElements.hasInTableScope(m.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=$.IN_TABLE_BODY);break}case m.TABLE:{t.openElements.hasInTableScope(m.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=$.IN_TABLE_BODY,rT(t,e));break}case m.TBODY:case m.TFOOT:case m.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(m.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=$.IN_TABLE_BODY,rT(t,e));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:break;default:Jd(t,e)}}function eoe(t,e){const n=e.tagID;c$.has(n)?(t.openElements.hasInTableScope(m.TD)||t.openElements.hasInTableScope(m.TH))&&(t._closeTableCell(),wv(t,e)):Dn(t,e)}function toe(t,e){const n=e.tagID;switch(n){case m.TD:case m.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=$.IN_ROW);break}case m.TABLE:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),f$(t,e));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:break;default:Ev(t,e)}}function d$(t,e){switch(e.tagID){case m.HTML:{Dn(t,e);break}case m.OPTION:{t.openElements.currentTagId===m.OPTION&&t.openElements.pop(),t._insertElement(e,ee.HTML);break}case m.OPTGROUP:{t.openElements.currentTagId===m.OPTION&&t.openElements.pop(),t.openElements.currentTagId===m.OPTGROUP&&t.openElements.pop(),t._insertElement(e,ee.HTML);break}case m.HR:{t.openElements.currentTagId===m.OPTION&&t.openElements.pop(),t.openElements.currentTagId===m.OPTGROUP&&t.openElements.pop(),t._appendElement(e,ee.HTML),e.ackSelfClosing=!0;break}case m.INPUT:case m.KEYGEN:case m.TEXTAREA:case m.SELECT:{t.openElements.hasInSelectScope(m.SELECT)&&(t.openElements.popUntilTagNamePopped(m.SELECT),t._resetInsertionMode(),e.tagID!==m.SELECT&&t._processStartTag(e));break}case m.SCRIPT:case m.TEMPLATE:{gi(t,e);break}}}function h$(t,e){switch(e.tagID){case m.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===m.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===m.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===m.OPTGROUP&&t.openElements.pop();break}case m.OPTION:{t.openElements.currentTagId===m.OPTION&&t.openElements.pop();break}case m.SELECT:{t.openElements.hasInSelectScope(m.SELECT)&&(t.openElements.popUntilTagNamePopped(m.SELECT),t._resetInsertionMode());break}case m.TEMPLATE:{gu(t,e);break}}}function noe(t,e){const n=e.tagID;n===m.CAPTION||n===m.TABLE||n===m.TBODY||n===m.TFOOT||n===m.THEAD||n===m.TR||n===m.TD||n===m.TH?(t.openElements.popUntilTagNamePopped(m.SELECT),t._resetInsertionMode(),t._processStartTag(e)):d$(t,e)}function roe(t,e){const n=e.tagID;n===m.CAPTION||n===m.TABLE||n===m.TBODY||n===m.TFOOT||n===m.THEAD||n===m.TR||n===m.TD||n===m.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(m.SELECT),t._resetInsertionMode(),t.onEndTag(e)):h$(t,e)}function ioe(t,e){switch(e.tagID){case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{gi(t,e);break}case m.CAPTION:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{t.tmplInsertionModeStack[0]=$.IN_TABLE,t.insertionMode=$.IN_TABLE,Ll(t,e);break}case m.COL:{t.tmplInsertionModeStack[0]=$.IN_COLUMN_GROUP,t.insertionMode=$.IN_COLUMN_GROUP,rS(t,e);break}case m.TR:{t.tmplInsertionModeStack[0]=$.IN_TABLE_BODY,t.insertionMode=$.IN_TABLE_BODY,Tv(t,e);break}case m.TD:case m.TH:{t.tmplInsertionModeStack[0]=$.IN_ROW,t.insertionMode=$.IN_ROW,wv(t,e);break}default:t.tmplInsertionModeStack[0]=$.IN_BODY,t.insertionMode=$.IN_BODY,Dn(t,e)}}function aoe(t,e){e.tagID===m.TEMPLATE&&gu(t,e)}function p$(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(m.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):nS(t,e)}function soe(t,e){e.tagID===m.HTML?Dn(t,e):fg(t,e)}function m$(t,e){var n;if(e.tagID===m.HTML){if(t.fragmentContext||(t.insertionMode=$.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===m.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else fg(t,e)}function fg(t,e){t.insertionMode=$.IN_BODY,_v(t,e)}function ooe(t,e){switch(e.tagID){case m.HTML:{Dn(t,e);break}case m.FRAMESET:{t._insertElement(e,ee.HTML);break}case m.FRAME:{t._appendElement(e,ee.HTML),e.ackSelfClosing=!0;break}case m.NOFRAMES:{gi(t,e);break}}}function uoe(t,e){e.tagID===m.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==m.FRAMESET&&(t.insertionMode=$.AFTER_FRAMESET))}function loe(t,e){switch(e.tagID){case m.HTML:{Dn(t,e);break}case m.NOFRAMES:{gi(t,e);break}}}function coe(t,e){e.tagID===m.HTML&&(t.insertionMode=$.AFTER_AFTER_FRAMESET)}function foe(t,e){e.tagID===m.HTML?Dn(t,e):i0(t,e)}function i0(t,e){t.insertionMode=$.IN_BODY,_v(t,e)}function doe(t,e){switch(e.tagID){case m.HTML:{Dn(t,e);break}case m.NOFRAMES:{gi(t,e);break}}}function hoe(t,e){e.chars=vt,t._insertCharacters(e)}function poe(t,e){t._insertCharacters(e),t.framesetOk=!1}function g$(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==ee.HTML&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function moe(t,e){if(Oae(e))g$(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===ee.MATHML?JF(e):r===ee.SVG&&(Nae(e),ZF(e)),eS(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function goe(t,e){if(e.tagID===m.P||e.tagID===m.BR){g$(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===ee.HTML){t._endTagOutsideForeignContent(e);break}const i=t.treeAdapter.getTagName(r);if(i.toLowerCase()===e.tagName){e.tagName=i,t.openElements.shortenToLength(n);break}}}const yoe=new Set([U.AREA,U.BASE,U.BASEFONT,U.BGSOUND,U.BR,U.COL,U.EMBED,U.FRAME,U.HR,U.IMG,U.INPUT,U.KEYGEN,U.LINK,U.META,U.PARAM,U.SOURCE,U.TRACK,U.WBR]);function voe(t,e){return e.treeAdapter.isElementNode(t)&&e.treeAdapter.getNamespaceURI(t)===ee.HTML&&yoe.has(e.treeAdapter.getTagName(t))}const boe={treeAdapter:Xi,scriptingEnabled:!0};function _oe(t,e){const n={...boe,...e};return y$(t,n)}function Eoe(t,e){let n="";const r=e.treeAdapter.isElementNode(t)&&e.treeAdapter.getTagName(t)===U.TEMPLATE&&e.treeAdapter.getNamespaceURI(t)===ee.HTML?e.treeAdapter.getTemplateContent(t):t,i=e.treeAdapter.getChildNodes(r);if(i)for(const a of i)n+=y$(a,e);return n}function y$(t,e){return e.treeAdapter.isElementNode(t)?Toe(t,e):e.treeAdapter.isTextNode(t)?xoe(t,e):e.treeAdapter.isCommentNode(t)?Aoe(t,e):e.treeAdapter.isDocumentTypeNode(t)?Soe(t,e):""}function Toe(t,e){const n=e.treeAdapter.getTagName(t);return`<${n}${woe(t,e)}>${voe(t,e)?"":`${Eoe(t,e)}</${n}>`}`}function woe(t,{treeAdapter:e}){let n="";for(const r of e.getAttrList(t)){if(n+=" ",r.namespace)switch(r.namespace){case ee.XML:{n+=`xml:${r.name}`;break}case ee.XMLNS:{r.name!=="xmlns"&&(n+="xmlns:"),n+=r.name;break}case ee.XLINK:{n+=`xlink:${r.name}`;break}default:n+=`${r.prefix}:${r.name}`}else n+=r.name;n+=`="${oF(r.value)}"`}return n}function xoe(t,e){const{treeAdapter:n}=e,r=n.getTextNodeContent(t),i=n.getParentNode(t),a=i&&n.isElementNode(i)&&n.getTagName(i);return a&&n.getNamespaceURI(i)===ee.HTML&&iae(a,e.scriptingEnabled)?r:uF(r)}function Aoe(t,{treeAdapter:e}){return`<!--${e.getCommentNodeContent(t)}-->`}function Soe(t,{treeAdapter:e}){return`<!DOCTYPE ${e.getDocumentTypeNodeName(t)}>`}function Ioe(t,e){return t$.parse(t,e)}function Poe(t,e,n){typeof t=="string"&&(n=e,e=t,t=null);const r=t$.getFragmentParser(t,n);return r.tokenizer.write(e,!0),r.getFragment()}function yN(t){const e=t.includes('"')?"'":'"';return e+t+e}function Coe(t,e,n){let r="!DOCTYPE ";return t&&(r+=t),e?r+=` PUBLIC ${yN(e)}`:n&&(r+=" SYSTEM"),n&&(r+=` ${yN(n)}`),r}const Ka={isCommentNode:hv,isElementNode:Ae,isTextNode:Di,createDocument(){const t=new tu([]);return t["x-mode"]=dr.NO_QUIRKS,t},createDocumentFragment(){return new tu([])},createElement(t,e,n){const r=Object.create(null),i=Object.create(null),a=Object.create(null);for(let o=0;o<n.length;o++){const u=n[o].name;r[u]=n[o].value,i[u]=n[o].namespace,a[u]=n[o].prefix}const s=new $A(t,r,[]);return s.namespace=e,s["x-attribsNamespace"]=i,s["x-attribsPrefix"]=a,s},createCommentNode(t){return new LA(t)},createTextNode(t){return new Gd(t)},appendChild(t,e){const n=t.children[t.children.length-1];n&&(n.next=e,e.prev=n),t.children.push(e),e.parent=t},insertBefore(t,e,n){const r=t.children.indexOf(n),{prev:i}=n;i&&(i.next=e,e.prev=i),n.prev=e,e.next=n,t.children.splice(r,0,e),e.parent=t},setTemplateContent(t,e){Ka.appendChild(t,e)},getTemplateContent(t){return t.children[0]},setDocumentType(t,e,n,r){const i=Coe(e,n,r);let a=t.children.find(s=>zE(s)&&s.name==="!doctype");a?a.data=i??null:(a=new jA("!doctype",i),Ka.appendChild(t,a)),a["x-name"]=e,a["x-publicId"]=n,a["x-systemId"]=r},setDocumentMode(t,e){t["x-mode"]=e},getDocumentMode(t){return t["x-mode"]},detachNode(t){if(t.parent){const e=t.parent.children.indexOf(t),{prev:n,next:r}=t;t.prev=null,t.next=null,n&&(n.next=r),r&&(r.prev=n),t.parent.children.splice(e,1),t.parent=null}},insertText(t,e){const n=t.children[t.children.length-1];n&&Di(n)?n.data+=e:Ka.appendChild(t,Ka.createTextNode(e))},insertTextBefore(t,e,n){const r=t.children[t.children.indexOf(n)-1];r&&Di(r)?r.data+=e:Ka.insertBefore(t,Ka.createTextNode(e),n)},adoptAttributes(t,e){for(let n=0;n<e.length;n++){const r=e[n].name;t.attribs[r]===void 0&&(t.attribs[r]=e[n].value,t["x-attribsNamespace"][r]=e[n].namespace,t["x-attribsPrefix"][r]=e[n].prefix)}},getFirstChild(t){return t.children[0]},getChildNodes(t){return t.children},getParentNode(t){return t.parent},getAttrList(t){return t.attributes},getTagName(t){return t.name},getNamespaceURI(t){return t.namespace},getTextNodeContent(t){return t.data},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){var e;return(e=t["x-name"])!==null&&e!==void 0?e:""},getDocumentTypeNodePublicId(t){var e;return(e=t["x-publicId"])!==null&&e!==void 0?e:""},getDocumentTypeNodeSystemId(t){var e;return(e=t["x-systemId"])!==null&&e!==void 0?e:""},isDocumentTypeNode(t){return zE(t)&&t.name==="!doctype"},setNodeSourceCodeLocation(t,e){e&&(t.startIndex=e.startOffset,t.endIndex=e.endOffset),t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){e.endOffset!=null&&(t.endIndex=e.endOffset),t.sourceCodeLocation={...t.sourceCodeLocation,...e}}};function Ooe(t,e,n,r){var i;return(i=e.treeAdapter)!==null&&i!==void 0||(e.treeAdapter=Ka),e.scriptingEnabled!==!1&&(e.scriptingEnabled=!0),n?Ioe(t,e):Poe(r,t,e)}const Noe={treeAdapter:Ka};function Roe(t){const e="length"in t?t:[t];for(let r=0;r<e.length;r+=1){const i=e[r];Us(i)&&Array.prototype.splice.call(e,r,1,...i.children)}let n="";for(let r=0;r<e.length;r+=1){const i=e[r];n+=_oe(i,Noe)}return n}var Te;(function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"})(Te||(Te={}));var re;(function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.BeforeSpecialT=23]="BeforeSpecialT",t[t.SpecialStartSequence=24]="SpecialStartSequence",t[t.InSpecialTag=25]="InSpecialTag",t[t.InEntity=26]="InEntity"})(re||(re={}));function Yi(t){return t===Te.Space||t===Te.NewLine||t===Te.Tab||t===Te.FormFeed||t===Te.CarriageReturn}function dm(t){return t===Te.Slash||t===Te.Gt||Yi(t)}function koe(t){return t>=Te.LowerA&&t<=Te.LowerZ||t>=Te.UpperA&&t<=Te.UpperZ}var Si;(function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"})(Si||(Si={}));const fn={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class Doe{constructor({xmlMode:e=!1,decodeEntities:n=!0},r){this.cbs=r,this.state=re.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=re.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=e,this.decodeEntities=n,this.entityDecoder=new UA(e?rF:BA,(i,a)=>this.emitCodePoint(i,a))}reset(){this.state=re.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=re.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(e){e===Te.Lt||!this.decodeEntities&&this.fastForwardTo(Te.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=re.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===Te.Amp&&this.startEntity()}stateSpecialStartSequence(e){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?dm(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=re.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===Te.Gt||Yi(e)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(e);return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===fn.TitleEnd?this.decodeEntities&&e===Te.Amp&&this.startEntity():this.fastForwardTo(Te.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===Te.Lt)}stateCDATASequence(e){e===fn.Cdata[this.sequenceIndex]?++this.sequenceIndex===fn.Cdata.length&&(this.state=re.InCommentLike,this.currentSequence=fn.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=re.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===fn.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=re.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!dm(e):koe(e)}startSpecial(e,n){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=n,this.state=re.SpecialStartSequence}stateBeforeTagName(e){if(e===Te.ExclamationMark)this.state=re.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===Te.Questionmark)this.state=re.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){const n=e|32;this.sectionStart=this.index,this.xmlMode?this.state=re.InTagName:n===fn.ScriptEnd[2]?this.state=re.BeforeSpecialS:n===fn.TitleEnd[2]?this.state=re.BeforeSpecialT:this.state=re.InTagName}else e===Te.Slash?this.state=re.BeforeClosingTagName:(this.state=re.Text,this.stateText(e))}stateInTagName(e){dm(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=re.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){Yi(e)||(e===Te.Gt?this.state=re.Text:(this.state=this.isTagStartChar(e)?re.InClosingTagName:re.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===Te.Gt||Yi(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=re.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===Te.Gt||this.fastForwardTo(Te.Gt))&&(this.state=re.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===Te.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=re.InSpecialTag,this.sequenceIndex=0):this.state=re.Text,this.sectionStart=this.index+1):e===Te.Slash?this.state=re.InSelfClosingTag:Yi(e)||(this.state=re.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===Te.Gt?(this.cbs.onselfclosingtag(this.index),this.state=re.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Yi(e)||(this.state=re.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===Te.Eq||dm(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=re.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===Te.Eq?this.state=re.BeforeAttributeValue:e===Te.Slash||e===Te.Gt?(this.cbs.onattribend(Si.NoValue,this.sectionStart),this.sectionStart=-1,this.state=re.BeforeAttributeName,this.stateBeforeAttributeName(e)):Yi(e)||(this.cbs.onattribend(Si.NoValue,this.sectionStart),this.state=re.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===Te.DoubleQuote?(this.state=re.InAttributeValueDq,this.sectionStart=this.index+1):e===Te.SingleQuote?(this.state=re.InAttributeValueSq,this.sectionStart=this.index+1):Yi(e)||(this.sectionStart=this.index,this.state=re.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,n){e===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===Te.DoubleQuote?Si.Double:Si.Single,this.index+1),this.state=re.BeforeAttributeName):this.decodeEntities&&e===Te.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,Te.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,Te.SingleQuote)}stateInAttributeValueNoQuotes(e){Yi(e)||e===Te.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Si.Unquoted,this.index),this.state=re.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===Te.Amp&&this.startEntity()}stateBeforeDeclaration(e){e===Te.OpeningSquareBracket?(this.state=re.CDATASequence,this.sequenceIndex=0):this.state=e===Te.Dash?re.BeforeComment:re.InDeclaration}stateInDeclaration(e){(e===Te.Gt||this.fastForwardTo(Te.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=re.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===Te.Gt||this.fastForwardTo(Te.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=re.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===Te.Dash?(this.state=re.InCommentLike,this.currentSequence=fn.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=re.InDeclaration}stateInSpecialComment(e){(e===Te.Gt||this.fastForwardTo(Te.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=re.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){const n=e|32;n===fn.ScriptEnd[3]?this.startSpecial(fn.ScriptEnd,4):n===fn.StyleEnd[3]?this.startSpecial(fn.StyleEnd,4):(this.state=re.InTagName,this.stateInTagName(e))}stateBeforeSpecialT(e){const n=e|32;n===fn.TitleEnd[3]?this.startSpecial(fn.TitleEnd,4):n===fn.TextareaEnd[3]?this.startSpecial(fn.TextareaEnd,4):(this.state=re.InTagName,this.stateInTagName(e))}startEntity(){this.baseState=this.state,this.state=re.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?Dr.Strict:this.baseState===re.Text||this.baseState===re.InSpecialTag?Dr.Legacy:Dr.Attribute)}stateInEntity(){const e=this.entityDecoder.write(this.buffer,this.index-this.offset);e>=0?(this.state=this.baseState,e===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===re.Text||this.state===re.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===re.InAttributeValueDq||this.state===re.InAttributeValueSq||this.state===re.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case re.Text:{this.stateText(e);break}case re.SpecialStartSequence:{this.stateSpecialStartSequence(e);break}case re.InSpecialTag:{this.stateInSpecialTag(e);break}case re.CDATASequence:{this.stateCDATASequence(e);break}case re.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(e);break}case re.InAttributeName:{this.stateInAttributeName(e);break}case re.InCommentLike:{this.stateInCommentLike(e);break}case re.InSpecialComment:{this.stateInSpecialComment(e);break}case re.BeforeAttributeName:{this.stateBeforeAttributeName(e);break}case re.InTagName:{this.stateInTagName(e);break}case re.InClosingTagName:{this.stateInClosingTagName(e);break}case re.BeforeTagName:{this.stateBeforeTagName(e);break}case re.AfterAttributeName:{this.stateAfterAttributeName(e);break}case re.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(e);break}case re.BeforeAttributeValue:{this.stateBeforeAttributeValue(e);break}case re.BeforeClosingTagName:{this.stateBeforeClosingTagName(e);break}case re.AfterClosingTagName:{this.stateAfterClosingTagName(e);break}case re.BeforeSpecialS:{this.stateBeforeSpecialS(e);break}case re.BeforeSpecialT:{this.stateBeforeSpecialT(e);break}case re.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(e);break}case re.InSelfClosingTag:{this.stateInSelfClosingTag(e);break}case re.InDeclaration:{this.stateInDeclaration(e);break}case re.BeforeDeclaration:{this.stateBeforeDeclaration(e);break}case re.BeforeComment:{this.stateBeforeComment(e);break}case re.InProcessingInstruction:{this.stateInProcessingInstruction(e);break}case re.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===re.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length+this.offset;this.sectionStart>=e||(this.state===re.InCommentLike?this.currentSequence===fn.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===re.InTagName||this.state===re.BeforeAttributeName||this.state===re.BeforeAttributeValue||this.state===re.AfterAttributeName||this.state===re.InAttributeName||this.state===re.InAttributeValueSq||this.state===re.InAttributeValueDq||this.state===re.InAttributeValueNq||this.state===re.InClosingTagName||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,n){this.baseState!==re.Text&&this.baseState!==re.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(e)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(e,this.sectionStart))}}const Ou=new Set(["input","option","optgroup","select","button","datalist","textarea"]),rt=new Set(["p"]),vN=new Set(["thead","tbody"]),bN=new Set(["dd","dt"]),_N=new Set(["rt","rp"]),Moe=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",rt],["h1",rt],["h2",rt],["h3",rt],["h4",rt],["h5",rt],["h6",rt],["select",Ou],["input",Ou],["output",Ou],["button",Ou],["datalist",Ou],["textarea",Ou],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",bN],["dt",bN],["address",rt],["article",rt],["aside",rt],["blockquote",rt],["details",rt],["div",rt],["dl",rt],["fieldset",rt],["figcaption",rt],["figure",rt],["footer",rt],["form",rt],["header",rt],["hr",rt],["main",rt],["nav",rt],["ol",rt],["pre",rt],["section",rt],["table",rt],["ul",rt],["rt",_N],["rp",_N],["tbody",vN],["tfoot",vN]]),Loe=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),EN=new Set(["math","svg"]),TN=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),joe=/\s|\//;class Foe{constructor(e,n={}){var r,i,a,s,o,u;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=n.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(i=n.lowerCaseAttributeNames)!==null&&i!==void 0?i:this.htmlMode,this.recognizeSelfClosing=(a=n.recognizeSelfClosing)!==null&&a!==void 0?a:!this.htmlMode,this.tokenizer=new((s=n.Tokenizer)!==null&&s!==void 0?s:Doe)(this.options,this),this.foreignContext=[!this.htmlMode],(u=(o=this.cbs).onparserinit)===null||u===void 0||u.call(o,this)}ontext(e,n){var r,i;const a=this.getSlice(e,n);this.endIndex=n-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,a),this.startIndex=n}ontextentity(e,n){var r,i;this.endIndex=n-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,WE(e)),this.startIndex=n}isVoidElement(e){return this.htmlMode&&Loe.has(e)}onopentagname(e,n){this.endIndex=n;let r=this.getSlice(e,n);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(e){var n,r,i,a;this.openTagStart=this.startIndex,this.tagname=e;const s=this.htmlMode&&Moe.get(e);if(s)for(;this.stack.length>0&&s.has(this.stack[0]);){const o=this.stack.shift();(r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,o,!0)}this.isVoidElement(e)||(this.stack.unshift(e),this.htmlMode&&(EN.has(e)?this.foreignContext.unshift(!0):TN.has(e)&&this.foreignContext.unshift(!1))),(a=(i=this.cbs).onopentagname)===null||a===void 0||a.call(i,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var n,r;this.startIndex=this.openTagStart,this.attribs&&((r=(n=this.cbs).onopentag)===null||r===void 0||r.call(n,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,n){var r,i,a,s,o,u,l,c;this.endIndex=n;let f=this.getSlice(e,n);if(this.lowerCaseTagNames&&(f=f.toLowerCase()),this.htmlMode&&(EN.has(f)||TN.has(f))&&this.foreignContext.shift(),this.isVoidElement(f))this.htmlMode&&f==="br"&&((s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,"br"),(u=(o=this.cbs).onopentag)===null||u===void 0||u.call(o,"br",{},!0),(c=(l=this.cbs).onclosetag)===null||c===void 0||c.call(l,"br",!1));else{const h=this.stack.indexOf(f);if(h!==-1)for(let p=0;p<=h;p++){const g=this.stack.shift();(i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,g,p!==h)}else this.htmlMode&&f==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(e){this.endIndex=e,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var n,r;const i=this.tagname;this.endOpenTag(e),this.stack[0]===i&&((r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,i,!e),this.stack.shift())}onattribname(e,n){this.startIndex=e;const r=this.getSlice(e,n);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(e,n){this.attribvalue+=this.getSlice(e,n)}onattribentity(e){this.attribvalue+=WE(e)}onattribend(e,n){var r,i;this.endIndex=n,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,e===Si.Double?'"':e===Si.Single?"'":e===Si.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){const n=e.search(joe);let r=n<0?e:e.substr(0,n);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(e,n){this.endIndex=n;const r=this.getSlice(e,n);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${i}`,`!${r}`)}this.startIndex=n+1}onprocessinginstruction(e,n){this.endIndex=n;const r=this.getSlice(e,n);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${i}`,`?${r}`)}this.startIndex=n+1}oncomment(e,n,r){var i,a,s,o;this.endIndex=n,(a=(i=this.cbs).oncomment)===null||a===void 0||a.call(i,this.getSlice(e,n-r)),(o=(s=this.cbs).oncommentend)===null||o===void 0||o.call(s),this.startIndex=n+1}oncdata(e,n,r){var i,a,s,o,u,l,c,f,h,p;this.endIndex=n;const g=this.getSlice(e,n-r);!this.htmlMode||this.options.recognizeCDATA?((a=(i=this.cbs).oncdatastart)===null||a===void 0||a.call(i),(o=(s=this.cbs).ontext)===null||o===void 0||o.call(s,g),(l=(u=this.cbs).oncdataend)===null||l===void 0||l.call(u)):((f=(c=this.cbs).oncomment)===null||f===void 0||f.call(c,`[CDATA[${g}]]`),(p=(h=this.cbs).oncommentend)===null||p===void 0||p.call(h)),this.startIndex=n+1}onend(){var e,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(n=(e=this.cbs).onend)===null||n===void 0||n.call(e)}reset(){var e,n,r,i;(n=(e=this.cbs).onreset)===null||n===void 0||n.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,n){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(e-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,n-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)}end(e){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}}function $oe(t,e){const n=new Vte(void 0,e);return new Foe(n,e).end(t),n.root}const Boe=mie((t,e,n,r)=>e._useHtmlParser2?$oe(t,e):Ooe(t,e,n,r)),iS=Kie(Boe,(t,e)=>e._useHtmlParser2?pv(t,e):Roe(t));function aS(){const[t,e]=F.useState([]),[n,r]=F.useState(!1),[i,a]=F.useState(null);return F.useEffect(()=>{r(!0),Ot.get("https://www.westmetall.com/en/markdaten.php?action=table&field=LME_Al_cash").then(s=>{const o=iS(s.data),l=o("table").first().find("tr").toArray().map(c=>{const f=o(c).find("td").toArray();return{date:o(f[0]).text().trim().replace(".",""),price:parseFloat(o(f[1]).text().trim().replace(",",""))}}).filter(c=>c.date&&!isNaN(c.price));for(let c=0;c<l.length-1;c++)l[c]={...l[c],previousDayPrice:l[c+1].price,change:(l[c].price-l[c+1].price)/l[c+1].price*100};l.pop(),e(l),r(!1)}).catch(s=>{a(s.message),r(!1)})},[]),{data:t,loading:n,error:i}}const Uoe=({data:t,previousDayPrice:e,rbiRate:n=84.4063})=>{const r=e?Math.abs(t.price-e):0,i=r*n,a=e?t.price>e:!1;return y.jsxs("div",{className:"premium-card p-4 dark:bg-gray-800/50",children:[y.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.date}),y.jsxs("div",{className:"text-2xl font-bold gradient-text font-mono mb-2",children:["$",t.price.toFixed(2)]}),y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:`flex items-center gap-1 text-sm ${a?"text-green-500":"text-red-500"}`,children:[a?y.jsx(Zo,{className:"w-4 h-4"}):y.jsx(zd,{className:"w-4 h-4"}),y.jsxs("span",{className:"font-medium",children:["$",r.toFixed(2)]})]}),y.jsxs("div",{className:`flex items-center gap-1 text-sm ${a?"text-green-500":"text-red-500"}`,children:[a?y.jsx(Zo,{className:"w-4 h-4"}):y.jsx(zd,{className:"w-4 h-4"}),y.jsxs("span",{className:"font-medium",children:["",i.toFixed(2)]})]})]})]})};function Voe(){const[t,e]=F.useState({price:241.45,currentPrice:241.45,lastUpdated:new Date().toISOString(),changePercent:.15,volume:1580,dayHigh:242.3,dayLow:240.8}),[n,r]=F.useState(null),[i,a]=F.useState(!0),s=async()=>{a(!0);try{const u=await Ot.get("https://www.5paisa.com/commodity-trading/mcx-aluminium-price"),l=iS(u.data),c=l(".commodity-page__value").first().text().trim(),f=parseFloat(c.replace(/|,/g,"")),h=l(".commodity-page__percentage").first().text().trim(),[p,g]=h.match(/-?\d+(\.\d+)?/g).map(parseFloat),b=l(".commodity-page__date").first().text().trim().replace("As on ","").split("|"),w=b[0].trim(),T=b[1].trim(),[_,C,A]=w.replace(",","").split(" "),x=`${A}-${{January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"}[C]}-${_}T${T}:00`,I=new Date(x).toISOString(),O=parseFloat(l("#low").text().trim()),R=parseFloat(l("#high").text().trim());e({currentPrice:f,price:f,lastUpdated:I,changePercent:g,volume:0,dayHigh:R,dayLow:O})}catch(o){r(o.message)}finally{a(!1)}};return F.useEffect(()=>{s();const o=setInterval(s,2e4);return()=>clearInterval(o)},[]),{priceData:t,error:n,loading:i,fetchMCXPrice:s}}function dg(t){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function wr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function $t(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function yi(t){$t(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||dg(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Hoe(t,e){$t(2,arguments);var n=yi(t),r=wr(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function sS(t,e){$t(2,arguments);var n=yi(t).getTime(),r=wr(e);return new Date(n+r)}var qoe=36e5;function zoe(t,e){$t(2,arguments);var n=wr(e);return sS(t,n*qoe)}var Woe={};function xv(){return Woe}function Goe(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var Koe=6e4;function Yoe(t,e){$t(2,arguments);var n=wr(e);return sS(t,n*Koe)}function Qoe(t){return $t(1,arguments),t instanceof Date||dg(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Xoe(t){if($t(1,arguments),!Qoe(t)&&typeof t!="number")return!1;var e=yi(t);return!isNaN(Number(e))}function Joe(t,e){$t(2,arguments);var n=wr(e);return sS(t,-n)}var Zoe=864e5;function eue(t){$t(1,arguments);var e=yi(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/Zoe)+1}function hg(t){$t(1,arguments);var e=1,n=yi(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function v$(t){$t(1,arguments);var e=yi(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=hg(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var s=hg(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function tue(t){$t(1,arguments);var e=v$(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=hg(n);return r}var nue=6048e5;function rue(t){$t(1,arguments);var e=yi(t),n=hg(e).getTime()-tue(e).getTime();return Math.round(n/nue)+1}function pg(t,e){var n,r,i,a,s,o,u,l;$t(1,arguments);var c=xv(),f=wr((n=(r=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(u=c.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=yi(t),p=h.getUTCDay(),g=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function b$(t,e){var n,r,i,a,s,o,u,l;$t(1,arguments);var c=yi(t),f=c.getUTCFullYear(),h=xv(),p=wr((n=(r=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(u=h.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,p),g.setUTCHours(0,0,0,0);var v=pg(g,e),b=new Date(0);b.setUTCFullYear(f,0,p),b.setUTCHours(0,0,0,0);var w=pg(b,e);return c.getTime()>=v.getTime()?f+1:c.getTime()>=w.getTime()?f:f-1}function iue(t,e){var n,r,i,a,s,o,u,l;$t(1,arguments);var c=xv(),f=wr((n=(r=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(u=c.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=b$(t,e),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var g=pg(p,e);return g}var aue=6048e5;function sue(t,e){$t(1,arguments);var n=yi(t),r=pg(n,e).getTime()-iue(n,e).getTime();return Math.round(r/aue)+1}function Je(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var qa={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Je(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Je(r+1,2)},d:function(e,n){return Je(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Je(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Je(e.getUTCHours(),n.length)},m:function(e,n){return Je(e.getUTCMinutes(),n.length)},s:function(e,n){return Je(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,r-3));return Je(a,n.length)}},Nu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oue={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return r.ordinalNumber(a,{unit:"year"})}return qa.y(e,n)},Y:function(e,n,r,i){var a=b$(e,i),s=a>0?a:1-a;if(n==="YY"){var o=s%100;return Je(o,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):Je(s,n.length)},R:function(e,n){var r=v$(e);return Je(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Je(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Je(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Je(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return qa.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Je(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var a=sue(e,i);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):Je(a,n.length)},I:function(e,n,r){var i=rue(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Je(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):qa.d(e,n)},D:function(e,n,r){var i=eue(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Je(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var a=e.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return Je(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var a=e.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return Je(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),a=i===0?7:i;switch(n){case"i":return String(a);case"ii":return Je(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),a;switch(i===12?a=Nu.noon:i===0?a=Nu.midnight:a=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),a;switch(i>=17?a=Nu.evening:i>=12?a=Nu.afternoon:i>=4?a=Nu.morning:a=Nu.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return qa.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):qa.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Je(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Je(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):qa.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):qa.s(e,n)},S:function(e,n){return qa.S(e,n)},X:function(e,n,r,i){var a=i._originalDate||e,s=a.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return xN(s);case"XXXX":case"XX":return so(s);case"XXXXX":case"XXX":default:return so(s,":")}},x:function(e,n,r,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(n){case"x":return xN(s);case"xxxx":case"xx":return so(s);case"xxxxx":case"xxx":default:return so(s,":")}},O:function(e,n,r,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+wN(s,":");case"OOOO":default:return"GMT"+so(s,":")}},z:function(e,n,r,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+wN(s,":");case"zzzz":default:return"GMT"+so(s,":")}},t:function(e,n,r,i){var a=i._originalDate||e,s=Math.floor(a.getTime()/1e3);return Je(s,n.length)},T:function(e,n,r,i){var a=i._originalDate||e,s=a.getTime();return Je(s,n.length)}};function wN(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),a=r%60;if(a===0)return n+String(i);var s=e;return n+String(i)+s+Je(a,2)}function xN(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Je(Math.abs(t)/60,2)}return so(t,e)}function so(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),a=Je(Math.floor(i/60),2),s=Je(i%60,2);return r+a+n+s}var AN=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},_$=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},uue=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return AN(e,n);var s;switch(i){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",AN(i,n)).replace("{{time}}",_$(a,n))},lue={p:_$,P:uue},cue=["D","DD"],fue=["YY","YYYY"];function due(t){return cue.indexOf(t)!==-1}function hue(t){return fue.indexOf(t)!==-1}function SN(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var pue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mue=function(e,n,r){var i,a=pue[e];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function R1(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var gue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bue={date:R1({formats:gue,defaultWidth:"full"}),time:R1({formats:yue,defaultWidth:"full"}),dateTime:R1({formats:vue,defaultWidth:"full"})},_ue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Eue=function(e,n,r,i){return _ue[e]};function pf(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):a;i=t.formattingValues[s]||t.formattingValues[a]}else{var o=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[o]}var l=t.argumentCallback?t.argumentCallback(e):e;return i[l]}}var Tue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Aue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Iue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Pue=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Cue={ordinalNumber:Pue,era:pf({values:Tue,defaultWidth:"wide"}),quarter:pf({values:wue,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:pf({values:xue,defaultWidth:"wide"}),day:pf({values:Aue,defaultWidth:"wide"}),dayPeriod:pf({values:Sue,defaultWidth:"wide",formattingValues:Iue,defaultFormattingWidth:"wide"})};function mf(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(o)?Nue(o,function(f){return f.test(s)}):Oue(o,function(f){return f.test(s)}),l;l=t.valueCallback?t.valueCallback(u):u,l=n.valueCallback?n.valueCallback(l):l;var c=e.slice(s.length);return{value:l,rest:c}}}function Oue(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Nue(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Rue(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],a=e.match(t.parsePattern);if(!a)return null;var s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;var o=e.slice(i.length);return{value:s,rest:o}}}var kue=/^(\d+)(th|st|nd|rd)?/i,Due=/\d+/i,Mue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Lue={any:[/^b/i,/^(a|c)/i]},jue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Fue={any:[/1/i,/2/i,/3/i,/4/i]},$ue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Uue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Vue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Hue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},que={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zue={ordinalNumber:Rue({matchPattern:kue,parsePattern:Due,valueCallback:function(e){return parseInt(e,10)}}),era:mf({matchPatterns:Mue,defaultMatchWidth:"wide",parsePatterns:Lue,defaultParseWidth:"any"}),quarter:mf({matchPatterns:jue,defaultMatchWidth:"wide",parsePatterns:Fue,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:mf({matchPatterns:$ue,defaultMatchWidth:"wide",parsePatterns:Bue,defaultParseWidth:"any"}),day:mf({matchPatterns:Uue,defaultMatchWidth:"wide",parsePatterns:Vue,defaultParseWidth:"any"}),dayPeriod:mf({matchPatterns:Hue,defaultMatchWidth:"any",parsePatterns:que,defaultParseWidth:"any"})},Wue={code:"en-US",formatDistance:mue,formatLong:bue,formatRelative:Eue,localize:Cue,match:zue,options:{weekStartsOn:0,firstWeekContainsDate:1}},Gue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yue=/^'([^]*?)'?$/,Que=/''/g,Xue=/[a-zA-Z]/;function Rs(t,e,n){var r,i,a,s,o,u,l,c,f,h,p,g,v,b;$t(2,arguments);var w=String(e),T=xv(),_=(r=(i=void 0)!==null&&i!==void 0?i:T.locale)!==null&&r!==void 0?r:Wue,C=wr((a=(s=(o=(u=void 0)!==null&&u!==void 0?u:void 0)!==null&&o!==void 0?o:T.firstWeekContainsDate)!==null&&s!==void 0?s:(l=T.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=wr((f=(h=(p=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&p!==void 0?p:T.weekStartsOn)!==null&&h!==void 0?h:(v=T.locale)===null||v===void 0||(b=v.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&f!==void 0?f:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var S=yi(t);if(!Xoe(S))throw new RangeError("Invalid time value");var x=Goe(S),I=Joe(S,x),O={firstWeekContainsDate:C,weekStartsOn:A,locale:_,_originalDate:S},R=w.match(Kue).map(function(N){var D=N[0];if(D==="p"||D==="P"){var k=lue[D];return k(N,_.formatLong)}return N}).join("").match(Gue).map(function(N){if(N==="''")return"'";var D=N[0];if(D==="'")return Jue(N);var k=oue[D];if(k)return hue(N)&&SN(N,e,String(t)),due(N)&&SN(N,e,String(t)),k(I,N,_.localize,O);if(D.match(Xue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return N}).join("");return R}function Jue(t){var e=t.match(Yue);return e?e[1].replace(Que,"'"):t}function k1(t,e){$t(2,arguments);var n=wr(e);return Hoe(t,-n)}function IN(t,e){$t(2,arguments);var n=wr(e);return zoe(t,-n)}function PN(t,e){$t(2,arguments);var n=wr(e);return Yoe(t,-n)}function Zue(){const{priceData:t,error:e,loading:n,fetchMCXPrice:r}=Voe();return y.jsxs("div",{className:`bg-gradient-to-br from-blue-50/90 via-purple-50/90 to-pink-50/90 backdrop-blur-sm rounded-xl p-6
      border border-white/50 shadow-[0_4px_12px_rgba(0,0,0,0.05)] hover:shadow-[0_6px_16px_rgba(0,0,0,0.1)]
      transition-all duration-300 relative`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"MCX Aluminium"}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Source: 5paisa.com"})]}),y.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Current Spot Price"})]}),y.jsx("div",{className:"mb-4",children:e?y.jsx("div",{className:"text-red-500 mb-4",children:e}):y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-baseline gap-2",children:[y.jsxs("span",{className:"font-mono text-[56px] font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:["",t.currentPrice.toFixed(2)]}),y.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"per kg"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:`text-xl ${t.changePercent>=0?"text-green-500":"text-red-500"}`,children:[t.changePercent>=0?"+":"",t.changePercent.toFixed(2),"%"]}),n&&y.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[y.jsx(jE,{className:"w-6 h-6 animate-spin"}),y.jsx("span",{children:"Loading price..."})]})]})]})}),t&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["Last updated: ",Rs(new Date(t.lastUpdated),"hh:mm:ss a")]}),y.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"Live"})]}),y.jsx("button",{onClick:r,className:"absolute bottom-4 right-4 p-2 bg-blue-600 text-white rounded-full shadow-md hover:bg-blue-700 transition-all duration-300",children:y.jsx(Ij,{className:"w-5 h-5"})})]})}const CN=45,ON=1.0825,ele=84.4063;function tle(){var s,o;const{data:t}=aS(),e=((s=t==null?void 0:t[0])==null?void 0:s.price)||2639.5,r=(e+CN)*ON*ele/1e3,i=((o=t==null?void 0:t[0])==null?void 0:o.change)||-16,a=i/e*100||-.63;return y.jsxs("div",{className:`bg-gradient-to-br from-blue-50/90 via-purple-50/90 to-pink-50/90 backdrop-blur-sm rounded-xl p-6 
      border border-white/50 shadow-[0_4px_12px_rgba(0,0,0,0.05)] hover:shadow-[0_6px_16px_rgba(0,0,0,0.1)] 
      transition-all duration-300`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"LME Aluminium"}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Source: Investing.com"})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-50 to-purple-50 text-blue-600",children:"$"}),y.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-full text-gray-400",children:""})]})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-baseline gap-2",children:[y.jsxs("span",{className:"font-mono text-[64px] font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:["$",e.toFixed(2)]}),y.jsx("span",{className:"text-xl text-gray-500",children:"per MT"})]}),y.jsxs("div",{className:"text-2xl text-red-500 mb-6",children:[i.toFixed(2)," (",a.toFixed(2),"%)"]})]}),y.jsxs("div",{className:"pt-6 border-t border-gray-100/50",children:[y.jsxs("div",{className:"flex items-baseline gap-2",children:[y.jsxs("span",{className:"font-mono text-[64px] font-bold bg-gradient-to-r from-green-500 to-green-600 bg-clip-text text-transparent",children:["",r.toFixed(2)]}),y.jsx("span",{className:"text-xl text-gray-500",children:"per kg"})]}),y.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Includes premium ($",CN,"/MT) & duty factor (",((ON-1)*100).toFixed(2),"%)"]})]}),y.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[y.jsx("span",{className:"text-gray-500",children:"Last updated: Live"}),y.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"Live"})]})]})}const nle={RBI:{DEFAULT_RATE:84.4708}};function rle(){const[t,e]=F.useState(nle.RBI.DEFAULT_RATE),[n]=F.useState(new Date),[r]=F.useState(!1),[i]=F.useState(null);return F.useEffect(()=>{Ot.get("https://www.msei.in/markets/currency/historical-data/rbireferenceratearchives").then(a=>{const o=iS(a.data)("table").first().find("tr").eq(2).find("td").eq(1).text().trim();e(parseFloat(o))})},[]),{rate:t,lastUpdated:n,loading:r,error:i}}function ile(){const{rate:t,lastUpdated:e,loading:n}=rle();return y.jsxs("div",{className:`bg-gradient-to-br from-blue-50/90 via-purple-50/90 to-pink-50/90 backdrop-blur-sm rounded-xl p-6 
      border border-white/50 shadow-[0_4px_12px_rgba(0,0,0,0.05)] hover:shadow-[0_6px_16px_rgba(0,0,0,0.1)] 
      transition-all duration-300`,children:[y.jsxs("div",{className:"mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"RBI Reference Rate"}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Source: ceicdata.com"})]}),y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[y.jsx("span",{className:"text-green-500 text-2xl",children:"$"}),y.jsx("span",{className:"text-2xl text-gray-700 dark:text-gray-300",children:"1"}),y.jsx("span",{className:"text-2xl text-gray-700 dark:text-gray-300",children:"="}),y.jsx("span",{className:"text-blue-500 text-2xl",children:""}),y.jsx("span",{className:`font-mono text-[64px] font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent ${n?"animate-pulse":""}`,children:t.toFixed(4)})]}),y.jsx("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:Rs(e,"dd MMM yyyy")}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["Last updated: ",Rs(e,"hh:mm a")," IST"]}),y.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium",children:"Daily"})]})]})}function ale(){const{user:t}=tp(),[e,n]=F.useState("MCX"),[r,i]=F.useState([]),[a,s]=F.useState("Price"),[o,u]=F.useState("gain"),[l,c]=F.useState("one-time"),[f,h]=F.useState({webApp:!1,whatsApp:!1,email:!1}),[p,g]=F.useState(!1),[v,b]=F.useState(""),[w,T]=F.useState(""),[_,C]=F.useState(""),A=async()=>{if(!t){Ze.error("Please sign in to create alerts");return}try{const S={userId:t.id,category:e,suppliers:e==="Suppliers"?r:[],type:a,targetPrice:a==="Price"?parseFloat(w):null,targetPercentage:a==="Percentage"?parseFloat(_):null,percentageType:a==="Percentage"?o:null,frequency:l,notificationChannels:Object.entries(f).filter(([x,I])=>I).map(([x])=>x),customMessage:v,isActive:!0,createdAt:new Date().toISOString()};await H5(RE(kr,"alerts"),S),Ze.success("Alert created successfully!"),T(""),C(""),b(""),h({webApp:!1,whatsApp:!1,email:!1}),i([])}catch(S){console.error("Error creating alert:",S),Ze.error("Failed to create alert. Please try again.")}};return y.jsxs("div",{className:`bg-gradient-to-br from-blue-50/90 via-purple-50/90 to-pink-50/90 backdrop-blur-sm rounded-xl p-6 
      border border-white/50 shadow-[0_4px_12px_rgba(0,0,0,0.05)] hover:shadow-[0_6px_16px_rgba(0,0,0,0.1)] 
      transition-all duration-300`,children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(ki,{className:"w-6 h-6 text-blue-600"}),y.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Price Alert"})]}),y.jsxs("button",{onClick:()=>g(!p),className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 
            text-white rounded-full hover:from-blue-700 hover:to-purple-700 transition-all duration-300 
            shadow-md hover:shadow-lg`,children:[y.jsx(OA,{className:"w-4 h-4"}),"AluminumGenie"]})]}),p&&y.jsx("div",{className:"mb-6",children:y.jsx("textarea",{placeholder:"Ask me to create personalized alerts based on any market conditions...",className:`w-full p-3 border border-gray-200 rounded-lg h-24 resize-none focus:ring-2 
              focus:ring-blue-500 focus:border-transparent bg-white/50`,value:v,onChange:S=>b(S.target.value)})}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 text-lg mb-2",children:"Category"}),y.jsx("div",{className:"flex rounded-lg overflow-hidden border border-gray-200",children:["MCX","LME","Suppliers"].map(S=>y.jsx("button",{onClick:()=>n(S),className:`flex-1 py-2 px-4 text-center transition-all duration-300 ${e===S?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white/50 text-gray-600 hover:bg-gray-50"}`,children:S},S))})]}),e!=="Suppliers"&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 text-lg mb-2",children:"Alert Type"}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Price","Percentage"].map(S=>y.jsx("button",{onClick:()=>s(S),className:`py-2 px-4 rounded-lg text-center transition-colors ${a===S?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white/50 text-gray-600 hover:bg-gray-50"}`,children:S},S))})]}),a==="Price"?y.jsxs("div",{children:[y.jsxs("label",{className:"block text-gray-700 text-lg mb-2",children:["Target Price (",e==="LME"?"USD":"",")"]}),y.jsxs("div",{className:"relative",children:[y.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:e==="LME"?"$":""}),y.jsx("input",{type:"number",step:"0.01",value:w,onChange:S=>T(S.target.value),className:`w-full pl-8 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 
                  focus:ring-blue-500 focus:border-transparent bg-white/50`,placeholder:"Enter target price"})]})]}):y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 text-lg mb-2",children:"Percentage Change"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("select",{value:o,onChange:S=>u(S.target.value),className:`flex-1 px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 
                  focus:ring-blue-500 focus:border-transparent bg-white/50`,children:[y.jsx("option",{value:"gain",children:"Gain"}),y.jsx("option",{value:"loss",children:"Loss"}),y.jsx("option",{value:"gainloss",children:"Gain/Loss"})]}),y.jsx("input",{type:"number",step:"0.01",value:_,onChange:S=>C(S.target.value),className:`flex-1 px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 
                  focus:ring-blue-500 focus:border-transparent bg-white/50`,placeholder:"Enter percentage"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 text-lg mb-2",children:"Notification Method"}),y.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[y.jsxs("button",{onClick:()=>h(S=>({...S,webApp:!S.webApp})),className:`flex items-center justify-center gap-2 py-2 px-4 rounded-lg transition-colors ${f.webApp?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white/50 text-gray-600 hover:bg-gray-50"}`,children:[y.jsx(ki,{className:"w-4 h-4"}),y.jsx("span",{children:"Web App"})]}),y.jsxs("button",{onClick:()=>h(S=>({...S,whatsApp:!S.whatsApp})),className:`flex items-center justify-center gap-2 py-2 px-4 rounded-lg transition-colors ${f.whatsApp?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white/50 text-gray-600 hover:bg-gray-50"}`,children:[y.jsx(CA,{className:"w-4 h-4"}),y.jsx("span",{children:"WhatsApp"})]}),y.jsxs("button",{onClick:()=>h(S=>({...S,email:!S.email})),className:`flex items-center justify-center gap-2 py-2 px-4 rounded-lg transition-colors ${f.email?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white/50 text-gray-600 hover:bg-gray-50"}`,children:[y.jsx(np,{className:"w-4 h-4"}),y.jsx("span",{children:"Email"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 text-lg mb-2",children:"Custom Message (Optional)"}),y.jsx("textarea",{placeholder:"Add a custom message for your alert",className:`w-full p-3 border border-gray-200 rounded-lg h-24 resize-none focus:ring-2 
              focus:ring-blue-500 focus:border-transparent bg-white/50`,value:v,onChange:S=>b(S.target.value)}),y.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Available variables: ","{price}",", ","{change}",", ","{percentage}"]})]}),y.jsxs("button",{onClick:A,className:`w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg 
            hover:from-blue-700 hover:to-purple-700 transition-all duration-300 flex items-center 
            justify-center gap-2 shadow-md hover:shadow-lg`,children:[y.jsx(ki,{className:"w-5 h-5"}),"Create Alert"]})]})]})}const sle=84.4063;function ole(){const{data:t,loading:e,error:n}=aS();return e?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"animate-pulse gradient-text text-xl",children:"Loading..."})}):n?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"text-red-500",children:n})}):y.jsxs("div",{className:"max-w-7xl mx-auto px-4 space-y-6",children:[y.jsxs("section",{className:"premium-card p-6",children:[y.jsxs("div",{className:"flex justify-between items-baseline mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold gradient-text",children:"LME Cash Settlement"}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Source: Westmetals"})]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:t.slice(0,4).map((r,i)=>y.jsx(Uoe,{data:r,previousDayPrice:i<t.length-1?t[i+1].price:void 0,rbiRate:sle},r.date))})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsx("section",{className:"space-y-6",children:y.jsx(ale,{})}),y.jsxs("section",{className:"space-y-6",children:[y.jsx(Zue,{}),y.jsx(tle,{}),y.jsx(ile,{})]})]})]})}function E$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=E$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ge(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=E$(t))&&(r&&(r+=" "),r+=e);return r}var ule=Array.isArray,sr=ule,lle=typeof Lp=="object"&&Lp&&Lp.Object===Object&&Lp,T$=lle,cle=T$,fle=typeof self=="object"&&self&&self.Object===Object&&self,dle=cle||fle||Function("return this")(),Ui=dle,hle=Ui,ple=hle.Symbol,lp=ple,NN=lp,w$=Object.prototype,mle=w$.hasOwnProperty,gle=w$.toString,gf=NN?NN.toStringTag:void 0;function yle(t){var e=mle.call(t,gf),n=t[gf];try{t[gf]=void 0;var r=!0}catch{}var i=gle.call(t);return r&&(e?t[gf]=n:delete t[gf]),i}var vle=yle,ble=Object.prototype,_le=ble.toString;function Ele(t){return _le.call(t)}var Tle=Ele,RN=lp,wle=vle,xle=Tle,Ale="[object Null]",Sle="[object Undefined]",kN=RN?RN.toStringTag:void 0;function Ile(t){return t==null?t===void 0?Sle:Ale:kN&&kN in Object(t)?wle(t):xle(t)}var Ra=Ile;function Ple(t){return t!=null&&typeof t=="object"}var ka=Ple,Cle=Ra,Ole=ka,Nle="[object Symbol]";function Rle(t){return typeof t=="symbol"||Ole(t)&&Cle(t)==Nle}var _c=Rle,kle=sr,Dle=_c,Mle=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lle=/^\w*$/;function jle(t,e){if(kle(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Dle(t)?!0:Lle.test(t)||!Mle.test(t)||e!=null&&t in Object(e)}var oS=jle;function Fle(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Hs=Fle;const Ec=st(Hs);var $le=Ra,Ble=Hs,Ule="[object AsyncFunction]",Vle="[object Function]",Hle="[object GeneratorFunction]",qle="[object Proxy]";function zle(t){if(!Ble(t))return!1;var e=$le(t);return e==Vle||e==Hle||e==Ule||e==qle}var uS=zle;const Le=st(uS);var Wle=Ui,Gle=Wle["__core-js_shared__"],Kle=Gle,D1=Kle,DN=function(){var t=/[^.]+$/.exec(D1&&D1.keys&&D1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Yle(t){return!!DN&&DN in t}var Qle=Yle,Xle=Function.prototype,Jle=Xle.toString;function Zle(t){if(t!=null){try{return Jle.call(t)}catch{}try{return t+""}catch{}}return""}var x$=Zle,ece=uS,tce=Qle,nce=Hs,rce=x$,ice=/[\\^$.*+?()[\]{}|]/g,ace=/^\[object .+?Constructor\]$/,sce=Function.prototype,oce=Object.prototype,uce=sce.toString,lce=oce.hasOwnProperty,cce=RegExp("^"+uce.call(lce).replace(ice,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fce(t){if(!nce(t)||tce(t))return!1;var e=ece(t)?cce:ace;return e.test(rce(t))}var dce=fce;function hce(t,e){return t==null?void 0:t[e]}var pce=hce,mce=dce,gce=pce;function yce(t,e){var n=gce(t,e);return mce(n)?n:void 0}var yu=yce,vce=yu,bce=vce(Object,"create"),Av=bce,MN=Av;function _ce(){this.__data__=MN?MN(null):{},this.size=0}var Ece=_ce;function Tce(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var wce=Tce,xce=Av,Ace="__lodash_hash_undefined__",Sce=Object.prototype,Ice=Sce.hasOwnProperty;function Pce(t){var e=this.__data__;if(xce){var n=e[t];return n===Ace?void 0:n}return Ice.call(e,t)?e[t]:void 0}var Cce=Pce,Oce=Av,Nce=Object.prototype,Rce=Nce.hasOwnProperty;function kce(t){var e=this.__data__;return Oce?e[t]!==void 0:Rce.call(e,t)}var Dce=kce,Mce=Av,Lce="__lodash_hash_undefined__";function jce(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Mce&&e===void 0?Lce:e,this}var Fce=jce,$ce=Ece,Bce=wce,Uce=Cce,Vce=Dce,Hce=Fce;function Tc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tc.prototype.clear=$ce;Tc.prototype.delete=Bce;Tc.prototype.get=Uce;Tc.prototype.has=Vce;Tc.prototype.set=Hce;var qce=Tc;function zce(){this.__data__=[],this.size=0}var Wce=zce;function Gce(t,e){return t===e||t!==t&&e!==e}var lS=Gce,Kce=lS;function Yce(t,e){for(var n=t.length;n--;)if(Kce(t[n][0],e))return n;return-1}var Sv=Yce,Qce=Sv,Xce=Array.prototype,Jce=Xce.splice;function Zce(t){var e=this.__data__,n=Qce(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Jce.call(e,n,1),--this.size,!0}var efe=Zce,tfe=Sv;function nfe(t){var e=this.__data__,n=tfe(e,t);return n<0?void 0:e[n][1]}var rfe=nfe,ife=Sv;function afe(t){return ife(this.__data__,t)>-1}var sfe=afe,ofe=Sv;function ufe(t,e){var n=this.__data__,r=ofe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var lfe=ufe,cfe=Wce,ffe=efe,dfe=rfe,hfe=sfe,pfe=lfe;function wc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wc.prototype.clear=cfe;wc.prototype.delete=ffe;wc.prototype.get=dfe;wc.prototype.has=hfe;wc.prototype.set=pfe;var Iv=wc,mfe=yu,gfe=Ui,yfe=mfe(gfe,"Map"),cS=yfe,LN=qce,vfe=Iv,bfe=cS;function _fe(){this.size=0,this.__data__={hash:new LN,map:new(bfe||vfe),string:new LN}}var Efe=_fe;function Tfe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var wfe=Tfe,xfe=wfe;function Afe(t,e){var n=t.__data__;return xfe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Pv=Afe,Sfe=Pv;function Ife(t){var e=Sfe(this,t).delete(t);return this.size-=e?1:0,e}var Pfe=Ife,Cfe=Pv;function Ofe(t){return Cfe(this,t).get(t)}var Nfe=Ofe,Rfe=Pv;function kfe(t){return Rfe(this,t).has(t)}var Dfe=kfe,Mfe=Pv;function Lfe(t,e){var n=Mfe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var jfe=Lfe,Ffe=Efe,$fe=Pfe,Bfe=Nfe,Ufe=Dfe,Vfe=jfe;function xc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xc.prototype.clear=Ffe;xc.prototype.delete=$fe;xc.prototype.get=Bfe;xc.prototype.has=Ufe;xc.prototype.set=Vfe;var fS=xc,A$=fS,Hfe="Expected a function";function dS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Hfe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(dS.Cache||A$),n}dS.Cache=A$;var S$=dS;const qfe=st(S$);var zfe=S$,Wfe=500;function Gfe(t){var e=zfe(t,function(r){return n.size===Wfe&&n.clear(),r}),n=e.cache;return e}var Kfe=Gfe,Yfe=Kfe,Qfe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xfe=/\\(\\)?/g,Jfe=Yfe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Qfe,function(n,r,i,a){e.push(i?a.replace(Xfe,"$1"):r||n)}),e}),Zfe=Jfe;function ede(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var hS=ede,jN=lp,tde=hS,nde=sr,rde=_c,ide=1/0,FN=jN?jN.prototype:void 0,$N=FN?FN.toString:void 0;function I$(t){if(typeof t=="string")return t;if(nde(t))return tde(t,I$)+"";if(rde(t))return $N?$N.call(t):"";var e=t+"";return e=="0"&&1/t==-ide?"-0":e}var ade=I$,sde=ade;function ode(t){return t==null?"":sde(t)}var P$=ode,ude=sr,lde=oS,cde=Zfe,fde=P$;function dde(t,e){return ude(t)?t:lde(t,e)?[t]:cde(fde(t))}var C$=dde,hde=_c,pde=1/0;function mde(t){if(typeof t=="string"||hde(t))return t;var e=t+"";return e=="0"&&1/t==-pde?"-0":e}var Cv=mde,gde=C$,yde=Cv;function vde(t,e){e=gde(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[yde(e[n++])];return n&&n==r?t:void 0}var pS=vde,bde=pS;function _de(t,e,n){var r=t==null?void 0:bde(t,e);return r===void 0?n:r}var O$=_de;const Vr=st(O$);function Ede(t){return t==null}var Tde=Ede;const Be=st(Tde);var wde=Ra,xde=sr,Ade=ka,Sde="[object String]";function Ide(t){return typeof t=="string"||!xde(t)&&Ade(t)&&wde(t)==Sde}var Pde=Ide;const cp=st(Pde);var N$={exports:{}},nt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS=Symbol.for("react.element"),gS=Symbol.for("react.portal"),Ov=Symbol.for("react.fragment"),Nv=Symbol.for("react.strict_mode"),Rv=Symbol.for("react.profiler"),kv=Symbol.for("react.provider"),Dv=Symbol.for("react.context"),Cde=Symbol.for("react.server_context"),Mv=Symbol.for("react.forward_ref"),Lv=Symbol.for("react.suspense"),jv=Symbol.for("react.suspense_list"),Fv=Symbol.for("react.memo"),$v=Symbol.for("react.lazy"),Ode=Symbol.for("react.offscreen"),R$;R$=Symbol.for("react.module.reference");function Kr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case mS:switch(t=t.type,t){case Ov:case Rv:case Nv:case Lv:case jv:return t;default:switch(t=t&&t.$$typeof,t){case Cde:case Dv:case Mv:case $v:case Fv:case kv:return t;default:return e}}case gS:return e}}}nt.ContextConsumer=Dv;nt.ContextProvider=kv;nt.Element=mS;nt.ForwardRef=Mv;nt.Fragment=Ov;nt.Lazy=$v;nt.Memo=Fv;nt.Portal=gS;nt.Profiler=Rv;nt.StrictMode=Nv;nt.Suspense=Lv;nt.SuspenseList=jv;nt.isAsyncMode=function(){return!1};nt.isConcurrentMode=function(){return!1};nt.isContextConsumer=function(t){return Kr(t)===Dv};nt.isContextProvider=function(t){return Kr(t)===kv};nt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===mS};nt.isForwardRef=function(t){return Kr(t)===Mv};nt.isFragment=function(t){return Kr(t)===Ov};nt.isLazy=function(t){return Kr(t)===$v};nt.isMemo=function(t){return Kr(t)===Fv};nt.isPortal=function(t){return Kr(t)===gS};nt.isProfiler=function(t){return Kr(t)===Rv};nt.isStrictMode=function(t){return Kr(t)===Nv};nt.isSuspense=function(t){return Kr(t)===Lv};nt.isSuspenseList=function(t){return Kr(t)===jv};nt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ov||t===Rv||t===Nv||t===Lv||t===jv||t===Ode||typeof t=="object"&&t!==null&&(t.$$typeof===$v||t.$$typeof===Fv||t.$$typeof===kv||t.$$typeof===Dv||t.$$typeof===Mv||t.$$typeof===R$||t.getModuleId!==void 0)};nt.typeOf=Kr;N$.exports=nt;var Nde=N$.exports,Rde=Ra,kde=ka,Dde="[object Number]";function Mde(t){return typeof t=="number"||kde(t)&&Rde(t)==Dde}var k$=Mde;const Lde=st(k$);var jde=k$;function Fde(t){return jde(t)&&t!=+t}var $de=Fde;const fp=st($de);var ui=function(e){return e===0?0:e>0?1:-1},To=function(e){return cp(e)&&e.indexOf("%")===e.length-1},fe=function(e){return Lde(e)&&!fp(e)},Qt=function(e){return fe(e)||cp(e)},Bde=0,dp=function(e){var n=++Bde;return"".concat(e||"").concat(n)},ru=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(e)&&!cp(e))return r;var a;if(To(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return fp(a)&&(a=r),i&&a>n&&(a=n),a},is=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Ude=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ai=function(e,n){return fe(e)&&fe(n)?function(r){return e+r*(n-e)}:function(){return n}};function mg(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Vr(r,e))===n})}function hl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function iT(t){"@babel/helpers - typeof";return iT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iT(t)}var Vde=["viewBox","children"],Hde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],BN=["points","pathLength"],M1={svg:Vde,polygon:BN,polyline:BN},yS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],gg=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(F.isValidElement(e)&&(r=e.props),!Ec(r))return null;var i={};return Object.keys(r).forEach(function(a){yS.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},qde=function(e,n,r){return function(i){return e(n,r,i),null}},yg=function(e,n,r){if(!Ec(e)||iT(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];yS.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=qde(s,n,r))}),i},zde=["children"],Wde=["children"];function UN(t,e){if(t==null)return{};var n=Gde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aT(t){"@babel/helpers - typeof";return aT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aT(t)}var VN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},ha=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},HN=null,L1=null,vS=function t(e){if(e===HN&&Array.isArray(L1))return L1;var n=[];return F.Children.forEach(e,function(r){Be(r)||(Nde.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),L1=n,HN=e,n};function Hr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ha(i)}):r=[ha(e)],vS(t).forEach(function(i){var a=Vr(i,"type.displayName")||Vr(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function fr(t,e){var n=Hr(t,e);return n&&n[0]}var qN=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!fe(r)||r<=0||!fe(i)||i<=0)},Kde=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Yde=function(e){return e&&e.type&&cp(e.type)&&Kde.indexOf(e.type)>=0},Qde=function(e){return e&&aT(e)==="object"&&"clipDot"in e},Xde=function(e,n,r,i){var a,s=(a=M1==null?void 0:M1[i])!==null&&a!==void 0?a:[];return!Le(e)&&(i&&s.includes(n)||Hde.includes(n))||r&&yS.includes(n)},Ve=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(F.isValidElement(e)&&(i=e.props),!Ec(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;Xde((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},sT=function t(e,n){if(e===n)return!0;var r=F.Children.count(e);if(r!==F.Children.count(n))return!1;if(r===0)return!0;if(r===1)return zN(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!zN(a,s))return!1}return!0},zN=function(e,n){if(Be(e)&&Be(n))return!0;if(!Be(e)&&!Be(n)){var r=e.props||{},i=r.children,a=UN(r,zde),s=n.props||{},o=s.children,u=UN(s,Wde);return i&&o?hl(a,u)&&sT(i,o):!i&&!o?hl(a,u):!1}return!1},WN=function(e,n){var r=[],i={};return vS(e).forEach(function(a,s){if(Yde(a))r.push(a);else if(a){var o=ha(a.type),u=n[o]||{},l=u.handler,c=u.once;if(l&&(!c||!i[o])){var f=l(a,o,s);r.push(f),i[o]=!0}}}),r},Jde=function(e){var n=e&&e.type;return n&&VN[n]?VN[n]:null},Zde=function(e,n){return vS(n).indexOf(e)},ehe=["children","width","height","viewBox","className","style","title","desc"];function oT(){return oT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oT.apply(this,arguments)}function the(t,e){if(t==null)return{};var n=nhe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uT(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,u=t.desc,l=the(t,ehe),c=i||{width:n,height:r,x:0,y:0},f=Ge("recharts-surface",a);return B.createElement("svg",oT({},Ve(l,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),B.createElement("title",null,o),B.createElement("desc",null,u),e)}var rhe=["children","className"];function lT(){return lT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lT.apply(this,arguments)}function ihe(t,e){if(t==null)return{};var n=ahe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ahe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ft=B.forwardRef(function(t,e){var n=t.children,r=t.className,i=ihe(t,rhe),a=Ge("recharts-layer",r);return B.createElement("g",lT({className:a},Ve(i,!0),{ref:e}),n)}),pa=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function she(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var ohe=she,uhe=ohe;function lhe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:uhe(t,e,n)}var che=lhe,fhe="\\ud800-\\udfff",dhe="\\u0300-\\u036f",hhe="\\ufe20-\\ufe2f",phe="\\u20d0-\\u20ff",mhe=dhe+hhe+phe,ghe="\\ufe0e\\ufe0f",yhe="\\u200d",vhe=RegExp("["+yhe+fhe+mhe+ghe+"]");function bhe(t){return vhe.test(t)}var D$=bhe;function _he(t){return t.split("")}var Ehe=_he,M$="\\ud800-\\udfff",The="\\u0300-\\u036f",whe="\\ufe20-\\ufe2f",xhe="\\u20d0-\\u20ff",Ahe=The+whe+xhe,She="\\ufe0e\\ufe0f",Ihe="["+M$+"]",cT="["+Ahe+"]",fT="\\ud83c[\\udffb-\\udfff]",Phe="(?:"+cT+"|"+fT+")",L$="[^"+M$+"]",j$="(?:\\ud83c[\\udde6-\\uddff]){2}",F$="[\\ud800-\\udbff][\\udc00-\\udfff]",Che="\\u200d",$$=Phe+"?",B$="["+She+"]?",Ohe="(?:"+Che+"(?:"+[L$,j$,F$].join("|")+")"+B$+$$+")*",Nhe=B$+$$+Ohe,Rhe="(?:"+[L$+cT+"?",cT,j$,F$,Ihe].join("|")+")",khe=RegExp(fT+"(?="+fT+")|"+Rhe+Nhe,"g");function Dhe(t){return t.match(khe)||[]}var Mhe=Dhe,Lhe=Ehe,jhe=D$,Fhe=Mhe;function $he(t){return jhe(t)?Fhe(t):Lhe(t)}var Bhe=$he,Uhe=che,Vhe=D$,Hhe=Bhe,qhe=P$;function zhe(t){return function(e){e=qhe(e);var n=Vhe(e)?Hhe(e):void 0,r=n?n[0]:e.charAt(0),i=n?Uhe(n,1).join(""):e.slice(1);return r[t]()+i}}var Whe=zhe,Ghe=Whe,Khe=Ghe("toUpperCase"),Yhe=Khe;const Bv=st(Yhe);function ct(t){return function(){return t}}const U$=Math.cos,vg=Math.sin,vi=Math.sqrt,bg=Math.PI,Uv=2*bg,dT=Math.PI,hT=2*dT,oo=1e-6,Qhe=hT-oo;function V$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Xhe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return V$;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Jhe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?V$:Xhe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,u=r-e,l=i-n,c=s-e,f=o-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>oo)if(!(Math.abs(f*u-l*c)>oo)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,g=i-o,v=u*u+l*l,b=p*p+g*g,w=Math.sqrt(v),T=Math.sqrt(h),_=a*Math.tan((dT-Math.acos((v+h-b)/(2*w*T)))/2),C=_/T,A=_/w;Math.abs(C-1)>oo&&this._append`L${e+C*c},${n+C*f}`,this._append`A${a},${a},0,0,${+(f*p>c*g)},${this._x1=e+A*u},${this._y1=n+A*l}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),u=r*Math.sin(i),l=e+o,c=n+u,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>oo||Math.abs(this._y1-c)>oo)&&this._append`L${l},${c}`,r&&(h<0&&(h=h%hT+hT),h>Qhe?this._append`A${r},${r},0,1,${f},${e-o},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:h>oo&&this._append`A${r},${r},0,${+(h>=dT)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function bS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Jhe(e)}function _S(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function H$(t){this._context=t}H$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Vv(t){return new H$(t)}function q$(t){return t[0]}function z$(t){return t[1]}function W$(t,e){var n=ct(!0),r=null,i=Vv,a=null,s=bS(o);t=typeof t=="function"?t:t===void 0?q$:ct(t),e=typeof e=="function"?e:e===void 0?z$:ct(e);function o(u){var l,c=(u=_S(u)).length,f,h=!1,p;for(r==null&&(a=i(p=s())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,l,u),+e(f,l,u));if(p)return a=null,p+""||null}return o.x=function(u){return arguments.length?(t=typeof u=="function"?u:ct(+u),o):t},o.y=function(u){return arguments.length?(e=typeof u=="function"?u:ct(+u),o):e},o.defined=function(u){return arguments.length?(n=typeof u=="function"?u:ct(!!u),o):n},o.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),o):r},o}function hm(t,e,n){var r=null,i=ct(!0),a=null,s=Vv,o=null,u=bS(l);t=typeof t=="function"?t:t===void 0?q$:ct(+t),e=typeof e=="function"?e:ct(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?z$:ct(+n);function l(f){var h,p,g,v=(f=_S(f)).length,b,w=!1,T,_=new Array(v),C=new Array(v);for(a==null&&(o=s(T=u())),h=0;h<=v;++h){if(!(h<v&&i(b=f[h],h,f))===w)if(w=!w)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(_[g],C[g]);o.lineEnd(),o.areaEnd()}w&&(_[h]=+t(b,h,f),C[h]=+e(b,h,f),o.point(r?+r(b,h,f):_[h],n?+n(b,h,f):C[h]))}if(T)return o=null,T+""||null}function c(){return W$().defined(i).curve(s).context(a)}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),r=null,l):t},l.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),l):t},l.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ct(+f),l):r},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:ct(+f),n=null,l):e},l.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ct(+f),l):e},l.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ct(+f),l):n},l.lineX0=l.lineY0=function(){return c().x(t).y(e)},l.lineY1=function(){return c().x(t).y(n)},l.lineX1=function(){return c().x(r).y(e)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ct(!!f),l):i},l.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),l):s},l.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),l):a},l}class G${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Zhe(t){return new G$(t,!0)}function epe(t){return new G$(t,!1)}const ES={draw(t,e){const n=vi(e/bg);t.moveTo(n,0),t.arc(0,0,n,0,Uv)}},tpe={draw(t,e){const n=vi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},K$=vi(1/3),npe=K$*2,rpe={draw(t,e){const n=vi(e/npe),r=n*K$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ipe={draw(t,e){const n=vi(e),r=-n/2;t.rect(r,r,n,n)}},ape=.8908130915292852,Y$=vg(bg/10)/vg(7*bg/10),spe=vg(Uv/10)*Y$,ope=-U$(Uv/10)*Y$,upe={draw(t,e){const n=vi(e*ape),r=spe*n,i=ope*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=Uv*a/5,o=U$(s),u=vg(s);t.lineTo(u*n,-o*n),t.lineTo(o*r-u*i,u*r+o*i)}t.closePath()}},j1=vi(3),lpe={draw(t,e){const n=-vi(e/(j1*3));t.moveTo(0,n*2),t.lineTo(-j1*n,-n),t.lineTo(j1*n,-n),t.closePath()}},Ir=-.5,Pr=vi(3)/2,pT=1/vi(12),cpe=(pT/2+1)*3,fpe={draw(t,e){const n=vi(e/cpe),r=n/2,i=n*pT,a=r,s=n*pT+n,o=-a,u=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,u),t.lineTo(Ir*r-Pr*i,Pr*r+Ir*i),t.lineTo(Ir*a-Pr*s,Pr*a+Ir*s),t.lineTo(Ir*o-Pr*u,Pr*o+Ir*u),t.lineTo(Ir*r+Pr*i,Ir*i-Pr*r),t.lineTo(Ir*a+Pr*s,Ir*s-Pr*a),t.lineTo(Ir*o+Pr*u,Ir*u-Pr*o),t.closePath()}};function dpe(t,e){let n=null,r=bS(i);t=typeof t=="function"?t:ct(t||ES),e=typeof e=="function"?e:ct(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ct(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ct(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function _g(){}function Eg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Q$(t){this._context=t}Q$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Eg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Eg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hpe(t){return new Q$(t)}function X$(t){this._context=t}X$.prototype={areaStart:_g,areaEnd:_g,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Eg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ppe(t){return new X$(t)}function J$(t){this._context=t}J$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Eg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mpe(t){return new J$(t)}function Z$(t){this._context=t}Z$.prototype={areaStart:_g,areaEnd:_g,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gpe(t){return new Z$(t)}function GN(t){return t<0?-1:1}function KN(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(GN(a)+GN(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function YN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function F1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function Tg(t){this._context=t}Tg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F1(this,this._t0,YN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,F1(this,YN(this,n=KN(this,t,e)),n);break;default:F1(this,this._t0,n=KN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function e8(t){this._context=new t8(t)}(e8.prototype=Object.create(Tg.prototype)).point=function(t,e){Tg.prototype.point.call(this,e,t)};function t8(t){this._context=t}t8.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function ype(t){return new Tg(t)}function vpe(t){return new e8(t)}function n8(t){this._context=t}n8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=QN(t),i=QN(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function QN(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function bpe(t){return new n8(t)}function Hv(t,e){this._context=t,this._t=e}Hv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function _pe(t){return new Hv(t,.5)}function Epe(t){return new Hv(t,0)}function Tpe(t){return new Hv(t,1)}function jl(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function mT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function wpe(t,e){return t[e]}function xpe(t){const e=[];return e.key=t,e}function Ape(){var t=ct([]),e=mT,n=jl,r=wpe;function i(a){var s=Array.from(t.apply(this,arguments),xpe),o,u=s.length,l=-1,c;for(const f of a)for(o=0,++l;o<u;++o)(s[o][l]=[0,+r(f,s[o].key,l,a)]).data=f;for(o=0,c=_S(e(s));o<u;++o)s[c[o]].index=o;return n(s,c),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ct(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ct(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?mT:typeof a=="function"?a:ct(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??jl,i):n},i}function Spe(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}jl(t,e)}}function Ipe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}jl(t,e)}}function Ppe(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,u=0,l=0;o<s;++o){for(var c=t[e[o]],f=c[r][1]||0,h=c[r-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var v=t[e[g]],b=v[r][1]||0,w=v[r-1][1]||0;p+=b-w}u+=f,l+=p*f}i[r-1][1]+=i[r-1][0]=n,u&&(n-=l/u)}i[r-1][1]+=i[r-1][0]=n,jl(t,e)}}function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}var Cpe=["type","size","sizeType"];function gT(){return gT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gT.apply(this,arguments)}function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(r){Ope(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ope(t,e,n){return e=Npe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Npe(t){var e=Rpe(t,"string");return Zd(e)=="symbol"?e:e+""}function Rpe(t,e){if(Zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kpe(t,e){if(t==null)return{};var n=Dpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var r8={symbolCircle:ES,symbolCross:tpe,symbolDiamond:rpe,symbolSquare:ipe,symbolStar:upe,symbolTriangle:lpe,symbolWye:fpe},Mpe=Math.PI/180,Lpe=function(e){var n="symbol".concat(Bv(e));return r8[n]||ES},jpe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Mpe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Fpe=function(e,n){r8["symbol".concat(Bv(e))]=n},TS=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,u=kpe(e,Cpe),l=JN(JN({},u),{},{type:r,size:a,sizeType:o}),c=function(){var b=Lpe(r),w=dpe().type(b).size(jpe(a,o,r));return w()},f=l.className,h=l.cx,p=l.cy,g=Ve(l,!0);return h===+h&&p===+p&&a===+a?B.createElement("path",gT({},g,{className:Ge("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};TS.registerSymbol=Fpe;function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function yT(){return yT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yT.apply(this,arguments)}function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(r){eh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Upe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a8(r.key),r)}}function Vpe(t,e,n){return e&&Upe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hpe(t,e,n){return e=wg(e),qpe(t,i8()?Reflect.construct(e,n||[],wg(t).constructor):e.apply(t,n))}function qpe(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zpe(t)}function zpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i8=function(){return!!t})()}function wg(t){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wg(t)}function Wpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vT(t,e)}function vT(t,e){return vT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vT(t,e)}function eh(t,e,n){return e=a8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a8(t){var e=Gpe(t,"string");return Fl(e)=="symbol"?e:e+""}function Gpe(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cr=32,wS=function(t){function e(){return Bpe(this,e),Hpe(this,e,arguments)}return Wpe(e,t),Vpe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Cr/2,s=Cr/6,o=Cr/3,u=r.inactive?i:r.color;if(r.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Cr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Cr,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return B.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Cr/8,"h").concat(Cr,"v").concat(Cr*3/4,"h").concat(-Cr,"z"),className:"recharts-legend-icon"});if(B.isValidElement(r.legendIcon)){var l=$pe({},r);return delete l.legendIcon,B.cloneElement(r.legendIcon,l)}return B.createElement(TS,{fill:u,cx:a,cy:a,size:Cr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,u=i.formatter,l=i.inactiveColor,c={x:0,y:0,width:Cr,height:Cr},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var v=p.formatter||u,b=Ge(eh(eh({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=Le(p.value)?null:p.value;pa(!Le(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=p.inactive?l:p.color;return B.createElement("li",yT({className:b,style:f,key:"legend-item-".concat(g)},yg(r.props,p,g)),B.createElement(uT,{width:s,height:s,viewBox:c,style:h},r.renderIcon(p)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},v?v(w,p,g):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(F.PureComponent);eh(wS,"displayName","Legend");eh(wS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Kpe=Iv;function Ype(){this.__data__=new Kpe,this.size=0}var Qpe=Ype;function Xpe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Jpe=Xpe;function Zpe(t){return this.__data__.get(t)}var eme=Zpe;function tme(t){return this.__data__.has(t)}var nme=tme,rme=Iv,ime=cS,ame=fS,sme=200;function ome(t,e){var n=this.__data__;if(n instanceof rme){var r=n.__data__;if(!ime||r.length<sme-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ame(r)}return n.set(t,e),this.size=n.size,this}var ume=ome,lme=Iv,cme=Qpe,fme=Jpe,dme=eme,hme=nme,pme=ume;function Ac(t){var e=this.__data__=new lme(t);this.size=e.size}Ac.prototype.clear=cme;Ac.prototype.delete=fme;Ac.prototype.get=dme;Ac.prototype.has=hme;Ac.prototype.set=pme;var s8=Ac,mme="__lodash_hash_undefined__";function gme(t){return this.__data__.set(t,mme),this}var yme=gme;function vme(t){return this.__data__.has(t)}var bme=vme,_me=fS,Eme=yme,Tme=bme;function xg(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new _me;++e<n;)this.add(t[e])}xg.prototype.add=xg.prototype.push=Eme;xg.prototype.has=Tme;var o8=xg;function wme(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var u8=wme;function xme(t,e){return t.has(e)}var l8=xme,Ame=o8,Sme=u8,Ime=l8,Pme=1,Cme=2;function Ome(t,e,n,r,i,a){var s=n&Pme,o=t.length,u=e.length;if(o!=u&&!(s&&u>o))return!1;var l=a.get(t),c=a.get(e);if(l&&c)return l==e&&c==t;var f=-1,h=!0,p=n&Cme?new Ame:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var g=t[f],v=e[f];if(r)var b=s?r(v,g,f,e,t,a):r(g,v,f,t,e,a);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!Sme(e,function(w,T){if(!Ime(p,T)&&(g===w||i(g,w,n,r,a)))return p.push(T)})){h=!1;break}}else if(!(g===v||i(g,v,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var c8=Ome,Nme=Ui,Rme=Nme.Uint8Array,kme=Rme;function Dme(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Mme=Dme;function Lme(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var xS=Lme,eR=lp,tR=kme,jme=lS,Fme=c8,$me=Mme,Bme=xS,Ume=1,Vme=2,Hme="[object Boolean]",qme="[object Date]",zme="[object Error]",Wme="[object Map]",Gme="[object Number]",Kme="[object RegExp]",Yme="[object Set]",Qme="[object String]",Xme="[object Symbol]",Jme="[object ArrayBuffer]",Zme="[object DataView]",nR=eR?eR.prototype:void 0,$1=nR?nR.valueOf:void 0;function e0e(t,e,n,r,i,a,s){switch(n){case Zme:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Jme:return!(t.byteLength!=e.byteLength||!a(new tR(t),new tR(e)));case Hme:case qme:case Gme:return jme(+t,+e);case zme:return t.name==e.name&&t.message==e.message;case Kme:case Qme:return t==e+"";case Wme:var o=$me;case Yme:var u=r&Ume;if(o||(o=Bme),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;r|=Vme,s.set(t,e);var c=Fme(o(t),o(e),r,i,a,s);return s.delete(t),c;case Xme:if($1)return $1.call(t)==$1.call(e)}return!1}var t0e=e0e;function n0e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var f8=n0e,r0e=f8,i0e=sr;function a0e(t,e,n){var r=e(t);return i0e(t)?r:r0e(r,n(t))}var s0e=a0e;function o0e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var u0e=o0e;function l0e(){return[]}var c0e=l0e,f0e=u0e,d0e=c0e,h0e=Object.prototype,p0e=h0e.propertyIsEnumerable,rR=Object.getOwnPropertySymbols,m0e=rR?function(t){return t==null?[]:(t=Object(t),f0e(rR(t),function(e){return p0e.call(t,e)}))}:d0e,g0e=m0e;function y0e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var v0e=y0e,b0e=Ra,_0e=ka,E0e="[object Arguments]";function T0e(t){return _0e(t)&&b0e(t)==E0e}var w0e=T0e,iR=w0e,x0e=ka,d8=Object.prototype,A0e=d8.hasOwnProperty,S0e=d8.propertyIsEnumerable,I0e=iR(function(){return arguments}())?iR:function(t){return x0e(t)&&A0e.call(t,"callee")&&!S0e.call(t,"callee")},AS=I0e,Ag={exports:{}};function P0e(){return!1}var C0e=P0e;Ag.exports;(function(t,e){var n=Ui,r=C0e,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,u=o?o.isBuffer:void 0,l=u||r;t.exports=l})(Ag,Ag.exports);var h8=Ag.exports,O0e=9007199254740991,N0e=/^(?:0|[1-9]\d*)$/;function R0e(t,e){var n=typeof t;return e=e??O0e,!!e&&(n=="number"||n!="symbol"&&N0e.test(t))&&t>-1&&t%1==0&&t<e}var SS=R0e,k0e=9007199254740991;function D0e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=k0e}var IS=D0e,M0e=Ra,L0e=IS,j0e=ka,F0e="[object Arguments]",$0e="[object Array]",B0e="[object Boolean]",U0e="[object Date]",V0e="[object Error]",H0e="[object Function]",q0e="[object Map]",z0e="[object Number]",W0e="[object Object]",G0e="[object RegExp]",K0e="[object Set]",Y0e="[object String]",Q0e="[object WeakMap]",X0e="[object ArrayBuffer]",J0e="[object DataView]",Z0e="[object Float32Array]",ege="[object Float64Array]",tge="[object Int8Array]",nge="[object Int16Array]",rge="[object Int32Array]",ige="[object Uint8Array]",age="[object Uint8ClampedArray]",sge="[object Uint16Array]",oge="[object Uint32Array]",mt={};mt[Z0e]=mt[ege]=mt[tge]=mt[nge]=mt[rge]=mt[ige]=mt[age]=mt[sge]=mt[oge]=!0;mt[F0e]=mt[$0e]=mt[X0e]=mt[B0e]=mt[J0e]=mt[U0e]=mt[V0e]=mt[H0e]=mt[q0e]=mt[z0e]=mt[W0e]=mt[G0e]=mt[K0e]=mt[Y0e]=mt[Q0e]=!1;function uge(t){return j0e(t)&&L0e(t.length)&&!!mt[M0e(t)]}var lge=uge;function cge(t){return function(e){return t(e)}}var p8=cge,Sg={exports:{}};Sg.exports;(function(t,e){var n=T$,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var u=i&&i.require&&i.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(Sg,Sg.exports);var fge=Sg.exports,dge=lge,hge=p8,aR=fge,sR=aR&&aR.isTypedArray,pge=sR?hge(sR):dge,m8=pge,mge=v0e,gge=AS,yge=sr,vge=h8,bge=SS,_ge=m8,Ege=Object.prototype,Tge=Ege.hasOwnProperty;function wge(t,e){var n=yge(t),r=!n&&gge(t),i=!n&&!r&&vge(t),a=!n&&!r&&!i&&_ge(t),s=n||r||i||a,o=s?mge(t.length,String):[],u=o.length;for(var l in t)(e||Tge.call(t,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||bge(l,u)))&&o.push(l);return o}var xge=wge,Age=Object.prototype;function Sge(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Age;return t===n}var Ige=Sge;function Pge(t,e){return function(n){return t(e(n))}}var g8=Pge,Cge=g8,Oge=Cge(Object.keys,Object),Nge=Oge,Rge=Ige,kge=Nge,Dge=Object.prototype,Mge=Dge.hasOwnProperty;function Lge(t){if(!Rge(t))return kge(t);var e=[];for(var n in Object(t))Mge.call(t,n)&&n!="constructor"&&e.push(n);return e}var jge=Lge,Fge=uS,$ge=IS;function Bge(t){return t!=null&&$ge(t.length)&&!Fge(t)}var hp=Bge,Uge=xge,Vge=jge,Hge=hp;function qge(t){return Hge(t)?Uge(t):Vge(t)}var qv=qge,zge=s0e,Wge=g0e,Gge=qv;function Kge(t){return zge(t,Gge,Wge)}var Yge=Kge,oR=Yge,Qge=1,Xge=Object.prototype,Jge=Xge.hasOwnProperty;function Zge(t,e,n,r,i,a){var s=n&Qge,o=oR(t),u=o.length,l=oR(e),c=l.length;if(u!=c&&!s)return!1;for(var f=u;f--;){var h=o[f];if(!(s?h in e:Jge.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var v=!0;a.set(t,e),a.set(e,t);for(var b=s;++f<u;){h=o[f];var w=t[h],T=e[h];if(r)var _=s?r(T,w,h,e,t,a):r(w,T,h,t,e,a);if(!(_===void 0?w===T||i(w,T,n,r,a):_)){v=!1;break}b||(b=h=="constructor")}if(v&&!b){var C=t.constructor,A=e.constructor;C!=A&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof A=="function"&&A instanceof A)&&(v=!1)}return a.delete(t),a.delete(e),v}var eye=Zge,tye=yu,nye=Ui,rye=tye(nye,"DataView"),iye=rye,aye=yu,sye=Ui,oye=aye(sye,"Promise"),uye=oye,lye=yu,cye=Ui,fye=lye(cye,"Set"),y8=fye,dye=yu,hye=Ui,pye=dye(hye,"WeakMap"),mye=pye,bT=iye,_T=cS,ET=uye,TT=y8,wT=mye,v8=Ra,Sc=x$,uR="[object Map]",gye="[object Object]",lR="[object Promise]",cR="[object Set]",fR="[object WeakMap]",dR="[object DataView]",yye=Sc(bT),vye=Sc(_T),bye=Sc(ET),_ye=Sc(TT),Eye=Sc(wT),uo=v8;(bT&&uo(new bT(new ArrayBuffer(1)))!=dR||_T&&uo(new _T)!=uR||ET&&uo(ET.resolve())!=lR||TT&&uo(new TT)!=cR||wT&&uo(new wT)!=fR)&&(uo=function(t){var e=v8(t),n=e==gye?t.constructor:void 0,r=n?Sc(n):"";if(r)switch(r){case yye:return dR;case vye:return uR;case bye:return lR;case _ye:return cR;case Eye:return fR}return e});var Tye=uo,B1=s8,wye=c8,xye=t0e,Aye=eye,hR=Tye,pR=sr,mR=h8,Sye=m8,Iye=1,gR="[object Arguments]",yR="[object Array]",pm="[object Object]",Pye=Object.prototype,vR=Pye.hasOwnProperty;function Cye(t,e,n,r,i,a){var s=pR(t),o=pR(e),u=s?yR:hR(t),l=o?yR:hR(e);u=u==gR?pm:u,l=l==gR?pm:l;var c=u==pm,f=l==pm,h=u==l;if(h&&mR(t)){if(!mR(e))return!1;s=!0,c=!1}if(h&&!c)return a||(a=new B1),s||Sye(t)?wye(t,e,n,r,i,a):xye(t,e,u,n,r,i,a);if(!(n&Iye)){var p=c&&vR.call(t,"__wrapped__"),g=f&&vR.call(e,"__wrapped__");if(p||g){var v=p?t.value():t,b=g?e.value():e;return a||(a=new B1),i(v,b,n,r,a)}}return h?(a||(a=new B1),Aye(t,e,n,r,i,a)):!1}var Oye=Cye,Nye=Oye,bR=ka;function b8(t,e,n,r,i){return t===e?!0:t==null||e==null||!bR(t)&&!bR(e)?t!==t&&e!==e:Nye(t,e,n,r,b8,i)}var PS=b8,Rye=s8,kye=PS,Dye=1,Mye=2;function Lye(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var u=o[0],l=t[u],c=o[1];if(s&&o[2]){if(l===void 0&&!(u in t))return!1}else{var f=new Rye;if(r)var h=r(l,c,u,t,e,f);if(!(h===void 0?kye(c,l,Dye|Mye,r,f):h))return!1}}return!0}var jye=Lye,Fye=Hs;function $ye(t){return t===t&&!Fye(t)}var _8=$ye,Bye=_8,Uye=qv;function Vye(t){for(var e=Uye(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Bye(i)]}return e}var Hye=Vye;function qye(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var E8=qye,zye=jye,Wye=Hye,Gye=E8;function Kye(t){var e=Wye(t);return e.length==1&&e[0][2]?Gye(e[0][0],e[0][1]):function(n){return n===t||zye(n,t,e)}}var Yye=Kye;function Qye(t,e){return t!=null&&e in Object(t)}var Xye=Qye,Jye=C$,Zye=AS,eve=sr,tve=SS,nve=IS,rve=Cv;function ive(t,e,n){e=Jye(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=rve(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&nve(i)&&tve(s,i)&&(eve(t)||Zye(t)))}var ave=ive,sve=Xye,ove=ave;function uve(t,e){return t!=null&&ove(t,e,sve)}var lve=uve,cve=PS,fve=O$,dve=lve,hve=oS,pve=_8,mve=E8,gve=Cv,yve=1,vve=2;function bve(t,e){return hve(t)&&pve(e)?mve(gve(t),e):function(n){var r=fve(n,t);return r===void 0&&r===e?dve(n,t):cve(e,r,yve|vve)}}var _ve=bve;function Eve(t){return t}var Ic=Eve;function Tve(t){return function(e){return e==null?void 0:e[t]}}var wve=Tve,xve=pS;function Ave(t){return function(e){return xve(e,t)}}var Sve=Ave,Ive=wve,Pve=Sve,Cve=oS,Ove=Cv;function Nve(t){return Cve(t)?Ive(Ove(t)):Pve(t)}var Rve=Nve,kve=Yye,Dve=_ve,Mve=Ic,Lve=sr,jve=Rve;function Fve(t){return typeof t=="function"?t:t==null?Mve:typeof t=="object"?Lve(t)?Dve(t[0],t[1]):kve(t):jve(t)}var qs=Fve;function $ve(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var T8=$ve;function Bve(t){return t!==t}var Uve=Bve;function Vve(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Hve=Vve,qve=T8,zve=Uve,Wve=Hve;function Gve(t,e,n){return e===e?Wve(t,e,n):qve(t,zve,n)}var Kve=Gve,Yve=Kve;function Qve(t,e){var n=t==null?0:t.length;return!!n&&Yve(t,e,0)>-1}var Xve=Qve;function Jve(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Zve=Jve;function ebe(){}var tbe=ebe,U1=y8,nbe=tbe,rbe=xS,ibe=1/0,abe=U1&&1/rbe(new U1([,-0]))[1]==ibe?function(t){return new U1(t)}:nbe,sbe=abe,obe=o8,ube=Xve,lbe=Zve,cbe=l8,fbe=sbe,dbe=xS,hbe=200;function pbe(t,e,n){var r=-1,i=ube,a=t.length,s=!0,o=[],u=o;if(n)s=!1,i=lbe;else if(a>=hbe){var l=e?null:fbe(t);if(l)return dbe(l);s=!1,i=cbe,u=new obe}else u=e?[]:o;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue e;e&&u.push(f),o.push(c)}else i(u,f,n)||(u!==o&&u.push(f),o.push(c))}return o}var mbe=pbe,gbe=qs,ybe=mbe;function vbe(t,e){return t&&t.length?ybe(t,gbe(e)):[]}var bbe=vbe;const _R=st(bbe);function w8(t,e,n){return e===!0?_R(t,n):Le(e)?_R(t,e):t}function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}var _be=["ref"];function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){zv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ebe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A8(r.key),r)}}function Tbe(t,e,n){return e&&TR(t.prototype,e),n&&TR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wbe(t,e,n){return e=Ig(e),xbe(t,x8()?Reflect.construct(e,n||[],Ig(t).constructor):e.apply(t,n))}function xbe(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Abe(t)}function Abe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x8=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(t)}function Sbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xT(t,e)}function xT(t,e){return xT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xT(t,e)}function zv(t,e,n){return e=A8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A8(t){var e=Ibe(t,"string");return $l(e)=="symbol"?e:e+""}function Ibe(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pbe(t,e){if(t==null)return{};var n=Cbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Obe(t){return t.value}function Nbe(t,e){if(B.isValidElement(t))return B.cloneElement(t,e);if(typeof t=="function")return B.createElement(t,e);e.ref;var n=Pbe(e,_be);return B.createElement(wS,n)}var wR=1,ko=function(t){function e(){var n;Ebe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=wbe(this,e,[].concat(i)),zv(n,"lastBoundingBox",{width:-1,height:-1}),n}return Sbe(e,t),Tbe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>wR||Math.abs(i.height-this.lastBoundingBox.height)>wR)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Gi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,u=i.margin,l=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((l||0)-p.width)/2}}else f=s==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((c||0)-g.height)/2}}else h=o==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Gi(Gi({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,u=i.wrapperStyle,l=i.payloadUniqBy,c=i.payload,f=Gi(Gi({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(u)),u);return B.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},Nbe(a,Gi(Gi({},this.props),{},{payload:w8(c,l,Obe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Gi(Gi({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&fe(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(F.PureComponent);zv(ko,"displayName","Legend");zv(ko,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var xR=lp,Rbe=AS,kbe=sr,AR=xR?xR.isConcatSpreadable:void 0;function Dbe(t){return kbe(t)||Rbe(t)||!!(AR&&t&&t[AR])}var Mbe=Dbe,Lbe=f8,jbe=Mbe;function S8(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=jbe),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?S8(o,e-1,n,r,i):Lbe(i,o):r||(i[i.length]=o)}return i}var I8=S8;function Fbe(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var u=s[t?o:++i];if(n(a[u],u,a)===!1)break}return e}}var $be=Fbe,Bbe=$be,Ube=Bbe(),Vbe=Ube,Hbe=Vbe,qbe=qv;function zbe(t,e){return t&&Hbe(t,e,qbe)}var P8=zbe,Wbe=hp;function Gbe(t,e){return function(n,r){if(n==null)return n;if(!Wbe(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var Kbe=Gbe,Ybe=P8,Qbe=Kbe,Xbe=Qbe(Ybe),CS=Xbe,Jbe=CS,Zbe=hp;function e1e(t,e){var n=-1,r=Zbe(t)?Array(t.length):[];return Jbe(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var C8=e1e;function t1e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var n1e=t1e,SR=_c;function r1e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=SR(t),s=e!==void 0,o=e===null,u=e===e,l=SR(e);if(!o&&!l&&!a&&t>e||a&&s&&u&&!o&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&t<e||l&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!u)return-1}return 0}var i1e=r1e,a1e=i1e;function s1e(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var u=a1e(i[r],a[r]);if(u){if(r>=o)return u;var l=n[r];return u*(l=="desc"?-1:1)}}return t.index-e.index}var o1e=s1e,V1=hS,u1e=pS,l1e=qs,c1e=C8,f1e=n1e,d1e=p8,h1e=o1e,p1e=Ic,m1e=sr;function g1e(t,e,n){e.length?e=V1(e,function(a){return m1e(a)?function(s){return u1e(s,a.length===1?a[0]:a)}:a}):e=[p1e];var r=-1;e=V1(e,d1e(l1e));var i=c1e(t,function(a,s,o){var u=V1(e,function(l){return l(a)});return{criteria:u,index:++r,value:a}});return f1e(i,function(a,s){return h1e(a,s,n)})}var y1e=g1e;function v1e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var b1e=v1e,_1e=b1e,IR=Math.max;function E1e(t,e,n){return e=IR(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=IR(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),_1e(t,this,o)}}var T1e=E1e;function w1e(t){return function(){return t}}var x1e=w1e,A1e=yu,S1e=function(){try{var t=A1e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),O8=S1e,I1e=x1e,PR=O8,P1e=Ic,C1e=PR?function(t,e){return PR(t,"toString",{configurable:!0,enumerable:!1,value:I1e(e),writable:!0})}:P1e,O1e=C1e,N1e=800,R1e=16,k1e=Date.now;function D1e(t){var e=0,n=0;return function(){var r=k1e(),i=R1e-(r-n);if(n=r,i>0){if(++e>=N1e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var M1e=D1e,L1e=O1e,j1e=M1e,F1e=j1e(L1e),$1e=F1e,B1e=Ic,U1e=T1e,V1e=$1e;function H1e(t,e){return V1e(U1e(t,e,B1e),t+"")}var q1e=H1e,z1e=lS,W1e=hp,G1e=SS,K1e=Hs;function Y1e(t,e,n){if(!K1e(n))return!1;var r=typeof e;return(r=="number"?W1e(n)&&G1e(e,n.length):r=="string"&&e in n)?z1e(n[e],t):!1}var Wv=Y1e,Q1e=I8,X1e=y1e,J1e=q1e,CR=Wv,Z1e=J1e(function(t,e){if(t==null)return[];var n=e.length;return n>1&&CR(t,e[0],e[1])?e=[]:n>2&&CR(e[0],e[1],e[2])&&(e=[e[0]]),X1e(t,Q1e(e,1),[])}),e_e=Z1e;const OS=st(e_e);function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function AT(){return AT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AT.apply(this,arguments)}function t_e(t,e){return a_e(t)||i_e(t,e)||r_e(t,e)||n_e()}function n_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r_e(t,e){if(t){if(typeof t=="string")return OR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OR(t,e)}}function OR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function a_e(t){if(Array.isArray(t))return t}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){s_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s_e(t,e,n){return e=o_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o_e(t){var e=u_e(t,"string");return th(e)=="symbol"?e:e+""}function u_e(t,e){if(th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l_e(t){return Array.isArray(t)&&Qt(t[0])&&Qt(t[1])?t.join(" ~ "):t}var c_e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,u=e.labelStyle,l=u===void 0?{}:u,c=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,v=e.label,b=e.labelFormatter,w=e.accessibilityLayer,T=w===void 0?!1:w,_=function(){if(c&&c.length){var D={padding:0,margin:0},k=(h?OS(c,h):c).map(function(Y,K){if(Y.type==="none")return null;var Z=H1({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},o),te=Y.formatter||f||l_e,q=Y.value,X=Y.name,ie=q,he=X;if(te&&ie!=null&&he!=null){var ae=te(q,X,Y,K,c);if(Array.isArray(ae)){var me=t_e(ae,2);ie=me[0],he=me[1]}else ie=ae}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:Z},Qt(he)?B.createElement("span",{className:"recharts-tooltip-item-name"},he):null,Qt(he)?B.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,B.createElement("span",{className:"recharts-tooltip-item-value"},ie),B.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:D},k)}return null},C=H1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),A=H1({margin:0},l),S=!Be(v),x=S?v:"",I=Ge("recharts-default-tooltip",p),O=Ge("recharts-tooltip-label",g);S&&b&&c!==void 0&&c!==null&&(x=b(v,c));var R=T?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",AT({className:I,style:C},R),B.createElement("p",{className:O,style:A},B.isValidElement(x)?x:"".concat(x)),_())};function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function mm(t,e,n){return e=f_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f_e(t){var e=d_e(t,"string");return nh(e)=="symbol"?e:e+""}function d_e(t,e){if(nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yf="recharts-tooltip-wrapper",h_e={visibility:"hidden"};function p_e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ge(yf,mm(mm(mm(mm({},"".concat(yf,"-right"),fe(n)&&e&&fe(e.x)&&n>=e.x),"".concat(yf,"-left"),fe(n)&&e&&fe(e.x)&&n<e.x),"".concat(yf,"-bottom"),fe(r)&&e&&fe(e.y)&&r>=e.y),"".concat(yf,"-top"),fe(r)&&e&&fe(e.y)&&r<e.y))}function RR(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,u=t.viewBox,l=t.viewBoxDimension;if(a&&fe(a[r]))return a[r];var c=n[r]-o-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var h=c,p=u[r];return h<p?Math.max(f,u[r]):Math.max(c,u[r])}var g=f+o,v=u[r]+l;return g>v?Math.max(c,u[r]):Math.max(f,u[r])}function m_e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function g_e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,u=t.viewBox,l,c,f;return s.height>0&&s.width>0&&n?(c=RR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),f=RR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),l=m_e({translateX:c,translateY:f,useTranslate3d:o})):l=h_e,{cssProperties:l,cssClasses:p_e({translateX:c,translateY:f,coordinate:n})}}function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){IT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R8(r.key),r)}}function b_e(t,e,n){return e&&v_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function __e(t,e,n){return e=Pg(e),E_e(t,N8()?Reflect.construct(e,n||[],Pg(t).constructor):e.apply(t,n))}function E_e(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T_e(t)}function T_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N8=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(t)}function w_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ST(t,e)}function ST(t,e){return ST=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ST(t,e)}function IT(t,e,n){return e=R8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R8(t){var e=x_e(t,"string");return Bl(e)=="symbol"?e:e+""}function x_e(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MR=1,A_e=function(t){function e(){var n;y_e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=__e(this,e,[].concat(i)),IT(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),IT(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,u,l,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&o!==void 0?o:0,y:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0}})}}),n}return w_e(e,t),b_e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>MR||Math.abs(r.height-this.state.lastBoundingBox.height)>MR)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,u=i.animationEasing,l=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,v=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,T=i.wrapperStyle,_=g_e({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:p,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:w}),C=_.cssClasses,A=_.cssProperties,S=DR(DR({transition:h&&a?"transform ".concat(o,"ms ").concat(u):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},T);return B.createElement("div",{tabIndex:-1,className:C,style:S,ref:function(I){r.wrapperNode=I}},l)}}])}(F.PureComponent),S_e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Pc={isSsr:S_e()};function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){NS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D8(r.key),r)}}function C_e(t,e,n){return e&&P_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function O_e(t,e,n){return e=Cg(e),N_e(t,k8()?Reflect.construct(e,n||[],Cg(t).constructor):e.apply(t,n))}function N_e(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R_e(t)}function R_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k8=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cg(t)}function k_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PT(t,e)}function PT(t,e){return PT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PT(t,e)}function NS(t,e,n){return e=D8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D8(t){var e=D_e(t,"string");return Ul(e)=="symbol"?e:e+""}function D_e(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function M_e(t){return t.dataKey}function L_e(t,e){return B.isValidElement(t)?B.cloneElement(t,e):typeof t=="function"?B.createElement(t,e):B.createElement(c_e,e)}var wi=function(t){function e(){return I_e(this,e),O_e(this,e,arguments)}return k_e(e,t),C_e(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,u=i.animationEasing,l=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,v=i.payloadUniqBy,b=i.position,w=i.reverseDirection,T=i.useTranslate3d,_=i.viewBox,C=i.wrapperStyle,A=g??[];f&&A.length&&(A=w8(g.filter(function(x){return x.value!=null&&(x.hide!==!0||r.props.includeHidden)}),v,M_e));var S=A.length>0;return B.createElement(A_e,{allowEscapeViewBox:s,animationDuration:o,animationEasing:u,isAnimationActive:h,active:a,coordinate:c,hasPayload:S,offset:p,position:b,reverseDirection:w,useTranslate3d:T,viewBox:_,wrapperStyle:C},L_e(l,jR(jR({},this.props),{},{payload:A})))}}])}(F.PureComponent);NS(wi,"displayName","Tooltip");NS(wi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Pc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var j_e=Ui,F_e=function(){return j_e.Date.now()},$_e=F_e,B_e=/\s/;function U_e(t){for(var e=t.length;e--&&B_e.test(t.charAt(e)););return e}var V_e=U_e,H_e=V_e,q_e=/^\s+/;function z_e(t){return t&&t.slice(0,H_e(t)+1).replace(q_e,"")}var W_e=z_e,G_e=W_e,FR=Hs,K_e=_c,$R=NaN,Y_e=/^[-+]0x[0-9a-f]+$/i,Q_e=/^0b[01]+$/i,X_e=/^0o[0-7]+$/i,J_e=parseInt;function Z_e(t){if(typeof t=="number")return t;if(K_e(t))return $R;if(FR(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=FR(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=G_e(t);var n=Q_e.test(t);return n||X_e.test(t)?J_e(t.slice(2),n?2:8):Y_e.test(t)?$R:+t}var M8=Z_e,eEe=Hs,q1=$_e,BR=M8,tEe="Expected a function",nEe=Math.max,rEe=Math.min;function iEe(t,e,n){var r,i,a,s,o,u,l=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(tEe);e=BR(e)||0,eEe(n)&&(c=!!n.leading,f="maxWait"in n,a=f?nEe(BR(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(S){var x=r,I=i;return r=i=void 0,l=S,s=t.apply(I,x),s}function g(S){return l=S,o=setTimeout(w,e),c?p(S):s}function v(S){var x=S-u,I=S-l,O=e-x;return f?rEe(O,a-I):O}function b(S){var x=S-u,I=S-l;return u===void 0||x>=e||x<0||f&&I>=a}function w(){var S=q1();if(b(S))return T(S);o=setTimeout(w,v(S))}function T(S){return o=void 0,h&&r?p(S):(r=i=void 0,s)}function _(){o!==void 0&&clearTimeout(o),l=0,r=u=i=o=void 0}function C(){return o===void 0?s:T(q1())}function A(){var S=q1(),x=b(S);if(r=arguments,i=this,u=S,x){if(o===void 0)return g(u);if(f)return clearTimeout(o),o=setTimeout(w,e),p(u)}return o===void 0&&(o=setTimeout(w,e)),s}return A.cancel=_,A.flush=C,A}var aEe=iEe,sEe=aEe,oEe=Hs,uEe="Expected a function";function lEe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(uEe);return oEe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),sEe(t,e,{leading:r,maxWait:e,trailing:i})}var cEe=lEe;const L8=st(cEe);function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){fEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fEe(t,e,n){return e=dEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dEe(t){var e=hEe(t,"string");return rh(e)=="symbol"?e:e+""}function hEe(t,e){if(rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pEe(t,e){return vEe(t)||yEe(t,e)||gEe(t,e)||mEe()}function mEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gEe(t,e){if(t){if(typeof t=="string")return VR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VR(t,e)}}function VR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function vEe(t){if(Array.isArray(t))return t}var bEe=F.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,u=o===void 0?"100%":o,l=t.minWidth,c=l===void 0?0:l,f=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,v=g===void 0?0:g,b=t.id,w=t.className,T=t.onResize,_=t.style,C=_===void 0?{}:_,A=F.useRef(null),S=F.useRef();S.current=T,F.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var x=F.useState({containerWidth:i.width,containerHeight:i.height}),I=pEe(x,2),O=I[0],R=I[1],N=F.useCallback(function(k,Y){R(function(K){var Z=Math.round(k),te=Math.round(Y);return K.containerWidth===Z&&K.containerHeight===te?K:{containerWidth:Z,containerHeight:te}})},[]);F.useEffect(function(){var k=function(X){var ie,he=X[0].contentRect,ae=he.width,me=he.height;N(ae,me),(ie=S.current)===null||ie===void 0||ie.call(S,ae,me)};v>0&&(k=L8(k,v,{trailing:!0,leading:!1}));var Y=new ResizeObserver(k),K=A.current.getBoundingClientRect(),Z=K.width,te=K.height;return N(Z,te),Y.observe(A.current),function(){Y.disconnect()}},[N,v]);var D=F.useMemo(function(){var k=O.containerWidth,Y=O.containerHeight;if(k<0||Y<0)return null;pa(To(s)||To(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,u),pa(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=To(s)?k:s,Z=To(u)?Y:u;n&&n>0&&(K?Z=K/n:Z&&(K=Z*n),h&&Z>h&&(Z=h)),pa(K>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,Z,s,u,c,f,n);var te=!Array.isArray(p)&&ha(p.type).endsWith("Chart");return B.Children.map(p,function(q){return B.isValidElement(q)?F.cloneElement(q,gm({width:K,height:Z},te?{style:gm({height:"100%",width:"100%",maxHeight:Z,maxWidth:K},q.props.style)}:{})):q})},[n,p,u,h,f,c,O,s]);return B.createElement("div",{id:b?"".concat(b):void 0,className:Ge("recharts-responsive-container",w),style:gm(gm({},C),{},{width:s,height:u,minWidth:c,minHeight:f,maxHeight:h}),ref:A},D)}),j8=function(e){return null};j8.displayName="Cell";function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){_Ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Ee(t,e,n){return e=EEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EEe(t){var e=TEe(t,"string");return ih(e)=="symbol"?e:e+""}function TEe(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ru={widthCache:{},cacheCount:0},wEe=2e3,xEe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qR="recharts_measurement_span";function AEe(t){var e=CT({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ud=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Pc.isSsr)return{width:0,height:0};var r=AEe(n),i=JSON.stringify({text:e,copyStyle:r});if(Ru.widthCache[i])return Ru.widthCache[i];try{var a=document.getElementById(qR);a||(a=document.createElement("span"),a.setAttribute("id",qR),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=CT(CT({},xEe),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),u={width:o.width,height:o.height};return Ru.widthCache[i]=u,++Ru.cacheCount>wEe&&(Ru.cacheCount=0,Ru.widthCache={}),u}catch{return{width:0,height:0}}},SEe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function Og(t,e){return OEe(t)||CEe(t,e)||PEe(t,e)||IEe()}function IEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PEe(t,e){if(t){if(typeof t=="string")return zR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zR(t,e)}}function zR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function OEe(t){if(Array.isArray(t))return t}function NEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kEe(r.key),r)}}function REe(t,e,n){return e&&WR(t.prototype,e),n&&WR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kEe(t){var e=DEe(t,"string");return ah(e)=="symbol"?e:e+""}function DEe(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MEe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,LEe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,F8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jEe=Object.keys(F8),Zu="NaN";function FEe(t,e){return t*F8[e]}var ym=function(){function t(e,n){NEe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!MEe.test(n)&&(this.num=NaN,this.unit=""),jEe.includes(n)&&(this.num=FEe(e,n),this.unit="px")}return REe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=LEe.exec(n))!==null&&r!==void 0?r:[],a=Og(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function $8(t){if(t.includes(Zu))return Zu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=GR.exec(e))!==null&&n!==void 0?n:[],i=Og(r,4),a=i[1],s=i[2],o=i[3],u=ym.parse(a??""),l=ym.parse(o??""),c=s==="*"?u.multiply(l):u.divide(l);if(c.isNaN())return Zu;e=e.replace(GR,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=KR.exec(e))!==null&&f!==void 0?f:[],p=Og(h,4),g=p[1],v=p[2],b=p[3],w=ym.parse(g??""),T=ym.parse(b??""),_=v==="+"?w.add(T):w.subtract(T);if(_.isNaN())return Zu;e=e.replace(KR,_.toString())}return e}var YR=/\(([^()]*)\)/;function $Ee(t){for(var e=t;e.includes("(");){var n=YR.exec(e),r=Og(n,2),i=r[1];e=e.replace(YR,$8(i))}return e}function BEe(t){var e=t.replace(/\s+/g,"");return e=$Ee(e),e=$8(e),e}function UEe(t){try{return BEe(t)}catch{return Zu}}function z1(t){var e=UEe(t.slice(5,-1));return e===Zu?"":e}var VEe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],HEe=["dx","dy","angle","className","breakAll"];function OT(){return OT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OT.apply(this,arguments)}function QR(t,e){if(t==null)return{};var n=qEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XR(t,e){return KEe(t)||GEe(t,e)||WEe(t,e)||zEe()}function zEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WEe(t,e){if(t){if(typeof t=="string")return JR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JR(t,e)}}function JR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function KEe(t){if(Array.isArray(t))return t}var B8=/[ \f\n\r\t\v\u2028\u2029]+/,U8=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Be(n)||(r?a=n.toString().split(""):a=n.toString().split(B8));var s=a.map(function(u){return{word:u,width:ud(u,i).width}}),o=r?0:ud("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},YEe=function(e,n,r,i,a){var s=e.maxLines,o=e.children,u=e.style,l=e.breakAll,c=fe(s),f=o,h=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(Z,te){var q=te.word,X=te.width,ie=Z[Z.length-1];if(ie&&(i==null||a||ie.width+X+r<Number(i)))ie.words.push(q),ie.width+=X+r;else{var he={words:[q],width:X};Z.push(he)}return Z},[])},p=h(n),g=function(K){return K.reduce(function(Z,te){return Z.width>te.width?Z:te})};if(!c)return p;for(var v="",b=function(K){var Z=f.slice(0,K),te=U8({breakAll:l,style:u,children:Z+v}).wordsWithComputedWidth,q=h(te),X=q.length>s||g(q).width>Number(i);return[X,q]},w=0,T=f.length-1,_=0,C;w<=T&&_<=f.length-1;){var A=Math.floor((w+T)/2),S=A-1,x=b(S),I=XR(x,2),O=I[0],R=I[1],N=b(A),D=XR(N,1),k=D[0];if(!O&&!k&&(w=A+1),O&&k&&(T=A-1),!O&&k){C=R;break}_++}return C||p},ZR=function(e){var n=Be(e)?[]:e.toString().split(B8);return[{words:n}]},QEe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!Pc.isSsr){var u,l,c=U8({breakAll:s,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;u=f,l=h}else return ZR(i);return YEe({breakAll:s,children:i,maxLines:o,style:a},u,l,n,r)}return ZR(i)},ek="#808080",Ng=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,u=e.capHeight,l=u===void 0?"0.71em":u,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,v=g===void 0?"end":g,b=e.fill,w=b===void 0?ek:b,T=QR(e,VEe),_=F.useMemo(function(){return QEe({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:f,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,f,T.style,T.width]),C=T.dx,A=T.dy,S=T.angle,x=T.className,I=T.breakAll,O=QR(T,HEe);if(!Qt(r)||!Qt(a))return null;var R=r+(fe(C)?C:0),N=a+(fe(A)?A:0),D;switch(v){case"start":D=z1("calc(".concat(l,")"));break;case"middle":D=z1("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:D=z1("calc(".concat(_.length-1," * -").concat(o,")"));break}var k=[];if(f){var Y=_[0].width,K=T.width;k.push("scale(".concat((fe(K)?K/Y:1)/Y,")"))}return S&&k.push("rotate(".concat(S,", ").concat(R,", ").concat(N,")")),k.length&&(O.transform=k.join(" ")),B.createElement("text",OT({},Ve(O,!0),{x:R,y:N,className:Ge("recharts-text",x),textAnchor:p,fill:w.includes("url")?ek:w}),_.map(function(Z,te){var q=Z.words.join(I?"":" ");return B.createElement("tspan",{x:R,dy:te===0?D:o,key:"".concat(q,"-").concat(te)},q)}))};function xs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function XEe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RS(t){let e,n,r;t.length!==2?(e=xs,n=(o,u)=>xs(t(o),u),r=(o,u)=>t(o)-u):(e=t===xs||t===XEe?t:JEe,n=t,r=t);function i(o,u,l=0,c=o.length){if(l<c){if(e(u,u)!==0)return c;do{const f=l+c>>>1;n(o[f],u)<0?l=f+1:c=f}while(l<c)}return l}function a(o,u,l=0,c=o.length){if(l<c){if(e(u,u)!==0)return c;do{const f=l+c>>>1;n(o[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function s(o,u,l=0,c=o.length){const f=i(o,u,l,c-1);return f>l&&r(o[f-1],u)>-r(o[f],u)?f-1:f}return{left:i,center:s,right:a}}function JEe(){return 0}function V8(t){return t===null?NaN:+t}function*ZEe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const eTe=RS(xs),pp=eTe.right;RS(V8).center;class tk extends Map{constructor(e,n=rTe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(nk(this,e))}has(e){return super.has(nk(this,e))}set(e,n){return super.set(tTe(this,e),n)}delete(e){return super.delete(nTe(this,e))}}function nk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function tTe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function nTe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function rTe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function iTe(t=xs){if(t===xs)return H8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function H8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const aTe=Math.sqrt(50),sTe=Math.sqrt(10),oTe=Math.sqrt(2);function Rg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=aTe?10:a>=sTe?5:a>=oTe?2:1;let o,u,l;return i<0?(l=Math.pow(10,-i)/s,o=Math.round(t*l),u=Math.round(e*l),o/l<t&&++o,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*s,o=Math.round(t/l),u=Math.round(e/l),o*l<t&&++o,u*l>e&&--u),u<o&&.5<=n&&n<2?Rg(t,e,n*2):[o,u,l]}function NT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Rg(e,t,n):Rg(t,e,n);if(!(a>=i))return[];const o=a-i+1,u=new Array(o);if(r)if(s<0)for(let l=0;l<o;++l)u[l]=(a-l)/-s;else for(let l=0;l<o;++l)u[l]=(a-l)*s;else if(s<0)for(let l=0;l<o;++l)u[l]=(i+l)/-s;else for(let l=0;l<o;++l)u[l]=(i+l)*s;return u}function RT(t,e,n){return e=+e,t=+t,n=+n,Rg(t,e,n)[2]}function kT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?RT(e,t,n):RT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function rk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ik(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function q8(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?H8:iTe(i);r>n;){if(r-n>600){const u=r-n+1,l=e-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),p=Math.max(n,Math.floor(e-l*f/u+h)),g=Math.min(r,Math.floor(e+(u-l)*f/u+h));q8(t,e,p,g,i)}const a=t[e];let s=n,o=r;for(vf(t,n,e),i(t[r],a)>0&&vf(t,n,r);s<o;){for(vf(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?vf(t,n,o):(++o,vf(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function vf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function uTe(t,e,n){if(t=Float64Array.from(ZEe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ik(t);if(e>=1)return rk(t);var r,i=(r-1)*e,a=Math.floor(i),s=rk(q8(t,a).subarray(0,a+1)),o=ik(t.subarray(a+1));return s+(o-s)*(i-a)}}function lTe(t,e,n=V8){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function cTe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Yr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Da(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const DT=Symbol("implicit");function kS(){var t=new tk,e=[],n=[],r=DT;function i(a){let s=t.get(a);if(s===void 0){if(r!==DT)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new tk;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return kS(e,n).unknown(r)},Yr.apply(i,arguments),i}function sh(){var t=kS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,u=0,l=0,c=.5;delete t.unknown;function f(){var h=e().length,p=i<r,g=p?i:r,v=p?r:i;a=(v-g)/Math.max(1,h-u+l*2),o&&(a=Math.floor(a)),g+=(v-g-a*(h-u))*c,s=a*(1-u),o&&(g=Math.round(g),s=Math.round(s));var b=cTe(h).map(function(w){return g+a*w});return n(p?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(u=Math.min(1,l=+h),f()):u},t.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),f()):u},t.paddingOuter=function(h){return arguments.length?(l=+h,f()):l},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return sh(e(),[r,i]).round(o).paddingInner(u).paddingOuter(l).align(c)},Yr.apply(f(),arguments)}function z8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return z8(e())},t}function ld(){return z8(sh.apply(null,arguments).paddingInner(1))}function DS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function W8(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function mp(){}var oh=.7,kg=1/oh,pl="\\s*([+-]?\\d+)\\s*",uh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fTe=/^#([0-9a-f]{3,8})$/,dTe=new RegExp(`^rgb\\(${pl},${pl},${pl}\\)$`),hTe=new RegExp(`^rgb\\(${Mi},${Mi},${Mi}\\)$`),pTe=new RegExp(`^rgba\\(${pl},${pl},${pl},${uh}\\)$`),mTe=new RegExp(`^rgba\\(${Mi},${Mi},${Mi},${uh}\\)$`),gTe=new RegExp(`^hsl\\(${uh},${Mi},${Mi}\\)$`),yTe=new RegExp(`^hsla\\(${uh},${Mi},${Mi},${uh}\\)$`),ak={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DS(mp,lh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:sk,formatHex:sk,formatHex8:vTe,formatHsl:bTe,formatRgb:ok,toString:ok});function sk(){return this.rgb().formatHex()}function vTe(){return this.rgb().formatHex8()}function bTe(){return G8(this).formatHsl()}function ok(){return this.rgb().formatRgb()}function lh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fTe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?uk(e):n===3?new Zn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?vm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?vm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dTe.exec(t))?new Zn(e[1],e[2],e[3],1):(e=hTe.exec(t))?new Zn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pTe.exec(t))?vm(e[1],e[2],e[3],e[4]):(e=mTe.exec(t))?vm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gTe.exec(t))?fk(e[1],e[2]/100,e[3]/100,1):(e=yTe.exec(t))?fk(e[1],e[2]/100,e[3]/100,e[4]):ak.hasOwnProperty(t)?uk(ak[t]):t==="transparent"?new Zn(NaN,NaN,NaN,0):null}function uk(t){return new Zn(t>>16&255,t>>8&255,t&255,1)}function vm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zn(t,e,n,r)}function _Te(t){return t instanceof mp||(t=lh(t)),t?(t=t.rgb(),new Zn(t.r,t.g,t.b,t.opacity)):new Zn}function MT(t,e,n,r){return arguments.length===1?_Te(t):new Zn(t,e,n,r??1)}function Zn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}DS(Zn,MT,W8(mp,{brighter(t){return t=t==null?kg:Math.pow(kg,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?oh:Math.pow(oh,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zn(Do(this.r),Do(this.g),Do(this.b),Dg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lk,formatHex:lk,formatHex8:ETe,formatRgb:ck,toString:ck}));function lk(){return`#${wo(this.r)}${wo(this.g)}${wo(this.b)}`}function ETe(){return`#${wo(this.r)}${wo(this.g)}${wo(this.b)}${wo((isNaN(this.opacity)?1:this.opacity)*255)}`}function ck(){const t=Dg(this.opacity);return`${t===1?"rgb(":"rgba("}${Do(this.r)}, ${Do(this.g)}, ${Do(this.b)}${t===1?")":`, ${t})`}`}function Dg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Do(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wo(t){return t=Do(t),(t<16?"0":"")+t.toString(16)}function fk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new si(t,e,n,r)}function G8(t){if(t instanceof si)return new si(t.h,t.s,t.l,t.opacity);if(t instanceof mp||(t=lh(t)),!t)return new si;if(t instanceof si)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,u=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=u<.5?a+i:2-a-i,s*=60):o=u>0&&u<1?0:s,new si(s,o,u,t.opacity)}function TTe(t,e,n,r){return arguments.length===1?G8(t):new si(t,e,n,r??1)}function si(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}DS(si,TTe,W8(mp,{brighter(t){return t=t==null?kg:Math.pow(kg,t),new si(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?oh:Math.pow(oh,t),new si(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Zn(W1(t>=240?t-240:t+120,i,r),W1(t,i,r),W1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new si(dk(this.h),bm(this.s),bm(this.l),Dg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Dg(this.opacity);return`${t===1?"hsl(":"hsla("}${dk(this.h)}, ${bm(this.s)*100}%, ${bm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function dk(t){return t=(t||0)%360,t<0?t+360:t}function bm(t){return Math.max(0,Math.min(1,t||0))}function W1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const MS=t=>()=>t;function wTe(t,e){return function(n){return t+n*e}}function xTe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ATe(t){return(t=+t)==1?K8:function(e,n){return n-e?xTe(e,n,t):MS(isNaN(e)?n:e)}}function K8(t,e){var n=e-t;return n?wTe(t,n):MS(isNaN(t)?e:t)}const hk=function t(e){var n=ATe(e);function r(i,a){var s=n((i=MT(i)).r,(a=MT(a)).r),o=n(i.g,a.g),u=n(i.b,a.b),l=K8(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function STe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function ITe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function PTe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Cc(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function CTe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Mg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function OTe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Cc(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var LT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,G1=new RegExp(LT.source,"g");function NTe(t){return function(){return t}}function RTe(t){return function(e){return t(e)+""}}function kTe(t,e){var n=LT.lastIndex=G1.lastIndex=0,r,i,a,s=-1,o=[],u=[];for(t=t+"",e=e+"";(r=LT.exec(t))&&(i=G1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,u.push({i:s,x:Mg(r,i)})),n=G1.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?u[0]?RTe(u[0].x):NTe(e):(e=u.length,function(l){for(var c=0,f;c<e;++c)o[(f=u[c]).i]=f.x(l);return o.join("")})}function Cc(t,e){var n=typeof e,r;return e==null||n==="boolean"?MS(e):(n==="number"?Mg:n==="string"?(r=lh(e))?(e=r,hk):kTe:e instanceof lh?hk:e instanceof Date?CTe:ITe(e)?STe:Array.isArray(e)?PTe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?OTe:Mg)(t,e)}function LS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function DTe(t,e){e===void 0&&(e=t,t=Cc);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function MTe(t){return function(){return t}}function Lg(t){return+t}var pk=[0,1];function Un(t){return t}function jT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:MTe(isNaN(e)?NaN:.5)}function LTe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function jTe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=jT(i,r),a=n(s,a)):(r=jT(r,i),a=n(a,s)),function(o){return a(r(o))}}function FTe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=jT(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var u=pp(t,o,1,r)-1;return a[u](i[u](o))}}function gp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gv(){var t=pk,e=pk,n=Cc,r,i,a,s=Un,o,u,l;function c(){var h=Math.min(t.length,e.length);return s!==Un&&(s=LTe(t[0],t[h-1])),o=h>2?FTe:jTe,u=l=null,f}function f(h){return h==null||isNaN(h=+h)?a:(u||(u=o(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((l||(l=o(e,t.map(r),Mg)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Lg),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=LS,c()},f.clamp=function(h){return arguments.length?(s=h?!0:Un,c()):s!==Un},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,c()}}function jS(){return Gv()(Un,Un)}function $Te(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Vl(t){return t=jg(Math.abs(t)),t?t[1]:NaN}function BTe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),a.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function UTe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var VTe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ch(t){if(!(e=VTe.exec(t)))throw new Error("invalid format: "+t);var e;return new FS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ch.prototype=FS.prototype;function FS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}FS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function HTe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Y8;function qTe(t,e){var n=jg(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Y8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+jg(t,Math.max(0,e+a-1))[0]}function mk(t,e){var n=jg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const gk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$Te,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>mk(t*100,e),r:mk,s:qTe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function yk(t){return t}var vk=Array.prototype.map,bk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zTe(t){var e=t.grouping===void 0||t.thousands===void 0?yk:BTe(vk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?yk:UTe(vk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(f){f=ch(f);var h=f.fill,p=f.align,g=f.sign,v=f.symbol,b=f.zero,w=f.width,T=f.comma,_=f.precision,C=f.trim,A=f.type;A==="n"?(T=!0,A="g"):gk[A]||(_===void 0&&(_=12),C=!0,A="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var S=v==="$"?n:v==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",x=v==="$"?r:/[%p]/.test(A)?s:"",I=gk[A],O=/[defgprs%]/.test(A);_=_===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function R(N){var D=S,k=x,Y,K,Z;if(A==="c")k=I(N)+k,N="";else{N=+N;var te=N<0||1/N<0;if(N=isNaN(N)?u:I(Math.abs(N),_),C&&(N=HTe(N)),te&&+N==0&&g!=="+"&&(te=!1),D=(te?g==="("?g:o:g==="-"||g==="("?"":g)+D,k=(A==="s"?bk[8+Y8/3]:"")+k+(te&&g==="("?")":""),O){for(Y=-1,K=N.length;++Y<K;)if(Z=N.charCodeAt(Y),48>Z||Z>57){k=(Z===46?i+N.slice(Y+1):N.slice(Y))+k,N=N.slice(0,Y);break}}}T&&!b&&(N=e(N,1/0));var q=D.length+N.length+k.length,X=q<w?new Array(w-q+1).join(h):"";switch(T&&b&&(N=e(X+N,X.length?w-k.length:1/0),X=""),p){case"<":N=D+N+k+X;break;case"=":N=D+X+N+k;break;case"^":N=X.slice(0,q=X.length>>1)+D+N+k+X.slice(q);break;default:N=X+D+N+k;break}return a(N)}return R.toString=function(){return f+""},R}function c(f,h){var p=l((f=ch(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Vl(h)/3)))*3,v=Math.pow(10,-g),b=bk[8+g/3];return function(w){return p(v*w)+b}}return{format:l,formatPrefix:c}}var _m,$S,Q8;WTe({thousands:",",grouping:[3],currency:["$",""]});function WTe(t){return _m=zTe(t),$S=_m.format,Q8=_m.formatPrefix,_m}function GTe(t){return Math.max(0,-Vl(Math.abs(t)))}function KTe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vl(e)/3)))*3-Vl(Math.abs(t)))}function YTe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Vl(e)-Vl(t))+1}function X8(t,e,n,r){var i=kT(t,e,n),a;switch(r=ch(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=KTe(i,s))&&(r.precision=a),Q8(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=YTe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=GTe(i))&&(r.precision=a-(r.type==="%")*2);break}}return $S(r)}function zs(t){var e=t.domain;return t.ticks=function(n){var r=e();return NT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return X8(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],u,l,c=10;for(o<s&&(l=s,s=o,o=l,l=i,i=a,a=l);c-- >0;){if(l=RT(s,o,n),l===u)return r[i]=s,r[a]=o,e(r);if(l>0)s=Math.floor(s/l)*l,o=Math.ceil(o/l)*l;else if(l<0)s=Math.ceil(s*l)/l,o=Math.floor(o*l)/l;else break;u=l}return t},t}function Fg(){var t=jS();return t.copy=function(){return gp(t,Fg())},Yr.apply(t,arguments),zs(t)}function J8(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Lg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return J8(t).unknown(e)},t=arguments.length?Array.from(t,Lg):[0,1],zs(n)}function Z8(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function _k(t){return Math.log(t)}function Ek(t){return Math.exp(t)}function QTe(t){return-Math.log(-t)}function XTe(t){return-Math.exp(-t)}function JTe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ZTe(t){return t===10?JTe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ewe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Tk(t){return(e,n)=>-t(-e,n)}function BS(t){const e=t(_k,Ek),n=e.domain;let r=10,i,a;function s(){return i=ewe(r),a=ZTe(r),n()[0]<0?(i=Tk(i),a=Tk(a),t(QTe,XTe)):t(_k,Ek),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const u=n();let l=u[0],c=u[u.length-1];const f=c<l;f&&([l,c]=[c,l]);let h=i(l),p=i(c),g,v;const b=o==null?10:+o;let w=[];if(!(r%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),l>0){for(;h<=p;++h)for(g=1;g<r;++g)if(v=h<0?g/a(-h):g*a(h),!(v<l)){if(v>c)break;w.push(v)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(v=h>0?g/a(-h):g*a(h),!(v<l)){if(v>c)break;w.push(v)}w.length*2<b&&(w=NT(l,c,b))}else w=NT(h,p,Math.min(p-h,b)).map(a);return f?w.reverse():w},e.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=ch(u)).precision==null&&(u.trim=!0),u=$S(u)),o===1/0)return u;const l=Math.max(1,r*o/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=l?u(c):""}},e.nice=()=>n(Z8(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function eB(){const t=BS(Gv()).domain([1,10]);return t.copy=()=>gp(t,eB()).base(t.base()),Yr.apply(t,arguments),t}function wk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function xk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function US(t){var e=1,n=t(wk(e),xk(e));return n.constant=function(r){return arguments.length?t(wk(e=+r),xk(e)):e},zs(n)}function tB(){var t=US(Gv());return t.copy=function(){return gp(t,tB()).constant(t.constant())},Yr.apply(t,arguments)}function Ak(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function twe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function nwe(t){return t<0?-t*t:t*t}function VS(t){var e=t(Un,Un),n=1;function r(){return n===1?t(Un,Un):n===.5?t(twe,nwe):t(Ak(n),Ak(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},zs(e)}function HS(){var t=VS(Gv());return t.copy=function(){return gp(t,HS()).exponent(t.exponent())},Yr.apply(t,arguments),t}function rwe(){return HS.apply(null,arguments).exponent(.5)}function Sk(t){return Math.sign(t)*t*t}function iwe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function nB(){var t=jS(),e=[0,1],n=!1,r;function i(a){var s=iwe(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(Sk(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Lg)).map(Sk)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return nB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Yr.apply(i,arguments),zs(i)}function rB(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=lTe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[pp(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(xs),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return rB().domain(t).range(e).unknown(r)},Yr.apply(a,arguments)}function iB(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(u){return u!=null&&u<=u?i[pp(r,u,0,n)]:a}function o(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,o()):[t,e]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,o()):i.slice()},s.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[t,r[0]]:l>=n?[r[n-1],e]:[r[l-1],r[l]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return iB().domain([t,e]).range(i).unknown(a)},Yr.apply(zs(s),arguments)}function aB(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[pp(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return aB().domain(t).range(e).unknown(n)},Yr.apply(i,arguments)}const K1=new Date,Y1=new Date;function Zt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const u=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return u;let l;do u.push(l=new Date(+a)),e(a,o),t(a);while(l<a&&a<s);return u},i.filter=a=>Zt(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(K1.setTime(+a),Y1.setTime(+s),t(K1),t(Y1),Math.floor(n(K1,Y1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const $g=Zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);$g.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):$g);$g.range;const sa=1e3,jr=sa*60,oa=jr*60,xa=oa*24,qS=xa*7,Ik=xa*30,Q1=xa*365,xo=Zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*sa)},(t,e)=>(e-t)/sa,t=>t.getUTCSeconds());xo.range;const zS=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sa)},(t,e)=>{t.setTime(+t+e*jr)},(t,e)=>(e-t)/jr,t=>t.getMinutes());zS.range;const WS=Zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*jr)},(t,e)=>(e-t)/jr,t=>t.getUTCMinutes());WS.range;const GS=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sa-t.getMinutes()*jr)},(t,e)=>{t.setTime(+t+e*oa)},(t,e)=>(e-t)/oa,t=>t.getHours());GS.range;const KS=Zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*oa)},(t,e)=>(e-t)/oa,t=>t.getUTCHours());KS.range;const yp=Zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*jr)/xa,t=>t.getDate()-1);yp.range;const Kv=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xa,t=>t.getUTCDate()-1);Kv.range;const sB=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xa,t=>Math.floor(t/xa));sB.range;function vu(t){return Zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*jr)/qS)}const Yv=vu(0),Bg=vu(1),awe=vu(2),swe=vu(3),Hl=vu(4),owe=vu(5),uwe=vu(6);Yv.range;Bg.range;awe.range;swe.range;Hl.range;owe.range;uwe.range;function bu(t){return Zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/qS)}const Qv=bu(0),Ug=bu(1),lwe=bu(2),cwe=bu(3),ql=bu(4),fwe=bu(5),dwe=bu(6);Qv.range;Ug.range;lwe.range;cwe.range;ql.range;fwe.range;dwe.range;const YS=Zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());YS.range;const QS=Zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());QS.range;const Aa=Zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Aa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Aa.range;const Sa=Zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Sa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Sa.range;function oB(t,e,n,r,i,a){const s=[[xo,1,sa],[xo,5,5*sa],[xo,15,15*sa],[xo,30,30*sa],[a,1,jr],[a,5,5*jr],[a,15,15*jr],[a,30,30*jr],[i,1,oa],[i,3,3*oa],[i,6,6*oa],[i,12,12*oa],[r,1,xa],[r,2,2*xa],[n,1,qS],[e,1,Ik],[e,3,3*Ik],[t,1,Q1]];function o(l,c,f){const h=c<l;h&&([l,c]=[c,l]);const p=f&&typeof f.range=="function"?f:u(l,c,f),g=p?p.range(l,+c+1):[];return h?g.reverse():g}function u(l,c,f){const h=Math.abs(c-l)/f,p=RS(([,,b])=>b).right(s,h);if(p===s.length)return t.every(kT(l/Q1,c/Q1,f));if(p===0)return $g.every(Math.max(kT(l,c,f),1));const[g,v]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(v)}return[o,u]}const[hwe,pwe]=oB(Sa,QS,Qv,sB,KS,WS),[mwe,gwe]=oB(Aa,YS,Yv,yp,GS,zS);function X1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function J1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ywe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,u=t.shortMonths,l=_f(i),c=Ef(i),f=_f(a),h=Ef(a),p=_f(s),g=Ef(s),v=_f(o),b=Ef(o),w=_f(u),T=Ef(u),_={a:te,A:q,b:X,B:ie,c:null,d:kk,e:kk,f:Bwe,g:Qwe,G:Jwe,H:jwe,I:Fwe,j:$we,L:uB,m:Uwe,M:Vwe,p:he,q:ae,Q:Lk,s:jk,S:Hwe,u:qwe,U:zwe,V:Wwe,w:Gwe,W:Kwe,x:null,X:null,y:Ywe,Y:Xwe,Z:Zwe,"%":Mk},C={a:me,A:Ue,b:Qe,B:wt,c:null,d:Dk,e:Dk,f:rxe,g:hxe,G:mxe,H:exe,I:txe,j:nxe,L:cB,m:ixe,M:axe,p:ln,q:bn,Q:Lk,s:jk,S:sxe,u:oxe,U:uxe,V:lxe,w:cxe,W:fxe,x:null,X:null,y:dxe,Y:pxe,Z:gxe,"%":Mk},A={a:R,A:N,b:D,B:k,c:Y,d:Nk,e:Nk,f:kwe,g:Ok,G:Ck,H:Rk,I:Rk,j:Cwe,L:Rwe,m:Pwe,M:Owe,p:O,q:Iwe,Q:Mwe,s:Lwe,S:Nwe,u:Twe,U:wwe,V:xwe,w:Ewe,W:Awe,x:K,X:Z,y:Ok,Y:Ck,Z:Swe,"%":Dwe};_.x=S(n,_),_.X=S(r,_),_.c=S(e,_),C.x=S(n,C),C.X=S(r,C),C.c=S(e,C);function S(pe,Se){return function(Ce){var ne=[],lt=-1,Me=0,xt=pe.length,Rt,_n,bi;for(Ce instanceof Date||(Ce=new Date(+Ce));++lt<xt;)pe.charCodeAt(lt)===37&&(ne.push(pe.slice(Me,lt)),(_n=Pk[Rt=pe.charAt(++lt)])!=null?Rt=pe.charAt(++lt):_n=Rt==="e"?" ":"0",(bi=Se[Rt])&&(Rt=bi(Ce,_n)),ne.push(Rt),Me=lt+1);return ne.push(pe.slice(Me,lt)),ne.join("")}}function x(pe,Se){return function(Ce){var ne=bf(1900,void 0,1),lt=I(ne,pe,Ce+="",0),Me,xt;if(lt!=Ce.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(Se&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Me=J1(bf(ne.y,0,1)),xt=Me.getUTCDay(),Me=xt>4||xt===0?Ug.ceil(Me):Ug(Me),Me=Kv.offset(Me,(ne.V-1)*7),ne.y=Me.getUTCFullYear(),ne.m=Me.getUTCMonth(),ne.d=Me.getUTCDate()+(ne.w+6)%7):(Me=X1(bf(ne.y,0,1)),xt=Me.getDay(),Me=xt>4||xt===0?Bg.ceil(Me):Bg(Me),Me=yp.offset(Me,(ne.V-1)*7),ne.y=Me.getFullYear(),ne.m=Me.getMonth(),ne.d=Me.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),xt="Z"in ne?J1(bf(ne.y,0,1)).getUTCDay():X1(bf(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(xt+5)%7:ne.w+ne.U*7-(xt+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,J1(ne)):X1(ne)}}function I(pe,Se,Ce,ne){for(var lt=0,Me=Se.length,xt=Ce.length,Rt,_n;lt<Me;){if(ne>=xt)return-1;if(Rt=Se.charCodeAt(lt++),Rt===37){if(Rt=Se.charAt(lt++),_n=A[Rt in Pk?Se.charAt(lt++):Rt],!_n||(ne=_n(pe,Ce,ne))<0)return-1}else if(Rt!=Ce.charCodeAt(ne++))return-1}return ne}function O(pe,Se,Ce){var ne=l.exec(Se.slice(Ce));return ne?(pe.p=c.get(ne[0].toLowerCase()),Ce+ne[0].length):-1}function R(pe,Se,Ce){var ne=p.exec(Se.slice(Ce));return ne?(pe.w=g.get(ne[0].toLowerCase()),Ce+ne[0].length):-1}function N(pe,Se,Ce){var ne=f.exec(Se.slice(Ce));return ne?(pe.w=h.get(ne[0].toLowerCase()),Ce+ne[0].length):-1}function D(pe,Se,Ce){var ne=w.exec(Se.slice(Ce));return ne?(pe.m=T.get(ne[0].toLowerCase()),Ce+ne[0].length):-1}function k(pe,Se,Ce){var ne=v.exec(Se.slice(Ce));return ne?(pe.m=b.get(ne[0].toLowerCase()),Ce+ne[0].length):-1}function Y(pe,Se,Ce){return I(pe,e,Se,Ce)}function K(pe,Se,Ce){return I(pe,n,Se,Ce)}function Z(pe,Se,Ce){return I(pe,r,Se,Ce)}function te(pe){return s[pe.getDay()]}function q(pe){return a[pe.getDay()]}function X(pe){return u[pe.getMonth()]}function ie(pe){return o[pe.getMonth()]}function he(pe){return i[+(pe.getHours()>=12)]}function ae(pe){return 1+~~(pe.getMonth()/3)}function me(pe){return s[pe.getUTCDay()]}function Ue(pe){return a[pe.getUTCDay()]}function Qe(pe){return u[pe.getUTCMonth()]}function wt(pe){return o[pe.getUTCMonth()]}function ln(pe){return i[+(pe.getUTCHours()>=12)]}function bn(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Se=S(pe+="",_);return Se.toString=function(){return pe},Se},parse:function(pe){var Se=x(pe+="",!1);return Se.toString=function(){return pe},Se},utcFormat:function(pe){var Se=S(pe+="",C);return Se.toString=function(){return pe},Se},utcParse:function(pe){var Se=x(pe+="",!0);return Se.toString=function(){return pe},Se}}}var Pk={"-":"",_:" ",0:"0"},un=/^\s*\d+/,vwe=/^%/,bwe=/[\\^$*+?|[\]().{}]/g;function Ke(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function _we(t){return t.replace(bwe,"\\$&")}function _f(t){return new RegExp("^(?:"+t.map(_we).join("|")+")","i")}function Ef(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Ewe(t,e,n){var r=un.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Twe(t,e,n){var r=un.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function wwe(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function xwe(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Awe(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ck(t,e,n){var r=un.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ok(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Swe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Iwe(t,e,n){var r=un.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Pwe(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Nk(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Cwe(t,e,n){var r=un.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Rk(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Owe(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Nwe(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Rwe(t,e,n){var r=un.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function kwe(t,e,n){var r=un.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Dwe(t,e,n){var r=vwe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Mwe(t,e,n){var r=un.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Lwe(t,e,n){var r=un.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function kk(t,e){return Ke(t.getDate(),e,2)}function jwe(t,e){return Ke(t.getHours(),e,2)}function Fwe(t,e){return Ke(t.getHours()%12||12,e,2)}function $we(t,e){return Ke(1+yp.count(Aa(t),t),e,3)}function uB(t,e){return Ke(t.getMilliseconds(),e,3)}function Bwe(t,e){return uB(t,e)+"000"}function Uwe(t,e){return Ke(t.getMonth()+1,e,2)}function Vwe(t,e){return Ke(t.getMinutes(),e,2)}function Hwe(t,e){return Ke(t.getSeconds(),e,2)}function qwe(t){var e=t.getDay();return e===0?7:e}function zwe(t,e){return Ke(Yv.count(Aa(t)-1,t),e,2)}function lB(t){var e=t.getDay();return e>=4||e===0?Hl(t):Hl.ceil(t)}function Wwe(t,e){return t=lB(t),Ke(Hl.count(Aa(t),t)+(Aa(t).getDay()===4),e,2)}function Gwe(t){return t.getDay()}function Kwe(t,e){return Ke(Bg.count(Aa(t)-1,t),e,2)}function Ywe(t,e){return Ke(t.getFullYear()%100,e,2)}function Qwe(t,e){return t=lB(t),Ke(t.getFullYear()%100,e,2)}function Xwe(t,e){return Ke(t.getFullYear()%1e4,e,4)}function Jwe(t,e){var n=t.getDay();return t=n>=4||n===0?Hl(t):Hl.ceil(t),Ke(t.getFullYear()%1e4,e,4)}function Zwe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ke(e/60|0,"0",2)+Ke(e%60,"0",2)}function Dk(t,e){return Ke(t.getUTCDate(),e,2)}function exe(t,e){return Ke(t.getUTCHours(),e,2)}function txe(t,e){return Ke(t.getUTCHours()%12||12,e,2)}function nxe(t,e){return Ke(1+Kv.count(Sa(t),t),e,3)}function cB(t,e){return Ke(t.getUTCMilliseconds(),e,3)}function rxe(t,e){return cB(t,e)+"000"}function ixe(t,e){return Ke(t.getUTCMonth()+1,e,2)}function axe(t,e){return Ke(t.getUTCMinutes(),e,2)}function sxe(t,e){return Ke(t.getUTCSeconds(),e,2)}function oxe(t){var e=t.getUTCDay();return e===0?7:e}function uxe(t,e){return Ke(Qv.count(Sa(t)-1,t),e,2)}function fB(t){var e=t.getUTCDay();return e>=4||e===0?ql(t):ql.ceil(t)}function lxe(t,e){return t=fB(t),Ke(ql.count(Sa(t),t)+(Sa(t).getUTCDay()===4),e,2)}function cxe(t){return t.getUTCDay()}function fxe(t,e){return Ke(Ug.count(Sa(t)-1,t),e,2)}function dxe(t,e){return Ke(t.getUTCFullYear()%100,e,2)}function hxe(t,e){return t=fB(t),Ke(t.getUTCFullYear()%100,e,2)}function pxe(t,e){return Ke(t.getUTCFullYear()%1e4,e,4)}function mxe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ql(t):ql.ceil(t),Ke(t.getUTCFullYear()%1e4,e,4)}function gxe(){return"+0000"}function Mk(){return"%"}function Lk(t){return+t}function jk(t){return Math.floor(+t/1e3)}var ku,dB,hB;yxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yxe(t){return ku=ywe(t),dB=ku.format,ku.parse,hB=ku.utcFormat,ku.utcParse,ku}function vxe(t){return new Date(t)}function bxe(t){return t instanceof Date?+t:+new Date(+t)}function XS(t,e,n,r,i,a,s,o,u,l){var c=jS(),f=c.invert,h=c.domain,p=l(".%L"),g=l(":%S"),v=l("%I:%M"),b=l("%I %p"),w=l("%a %d"),T=l("%b %d"),_=l("%B"),C=l("%Y");function A(S){return(u(S)<S?p:o(S)<S?g:s(S)<S?v:a(S)<S?b:r(S)<S?i(S)<S?w:T:n(S)<S?_:C)(S)}return c.invert=function(S){return new Date(f(S))},c.domain=function(S){return arguments.length?h(Array.from(S,bxe)):h().map(vxe)},c.ticks=function(S){var x=h();return t(x[0],x[x.length-1],S??10)},c.tickFormat=function(S,x){return x==null?A:l(x)},c.nice=function(S){var x=h();return(!S||typeof S.range!="function")&&(S=e(x[0],x[x.length-1],S??10)),S?h(Z8(x,S)):c},c.copy=function(){return gp(c,XS(t,e,n,r,i,a,s,o,u,l))},c}function _xe(){return Yr.apply(XS(mwe,gwe,Aa,YS,Yv,yp,GS,zS,xo,dB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Exe(){return Yr.apply(XS(hwe,pwe,Sa,QS,Qv,Kv,KS,WS,xo,hB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xv(){var t=0,e=1,n,r,i,a,s=Un,o=!1,u;function l(f){return f==null||isNaN(f=+f)?u:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),l):[t,e]},l.clamp=function(f){return arguments.length?(o=!!f,l):o},l.interpolator=function(f){return arguments.length?(s=f,l):s};function c(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),l):[s(0),s(1)]}}return l.range=c(Cc),l.rangeRound=c(LS),l.unknown=function(f){return arguments.length?(u=f,l):u},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),l}}function Ws(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function pB(){var t=zs(Xv()(Un));return t.copy=function(){return Ws(t,pB())},Da.apply(t,arguments)}function mB(){var t=BS(Xv()).domain([1,10]);return t.copy=function(){return Ws(t,mB()).base(t.base())},Da.apply(t,arguments)}function gB(){var t=US(Xv());return t.copy=function(){return Ws(t,gB()).constant(t.constant())},Da.apply(t,arguments)}function JS(){var t=VS(Xv());return t.copy=function(){return Ws(t,JS()).exponent(t.exponent())},Da.apply(t,arguments)}function Txe(){return JS.apply(null,arguments).exponent(.5)}function yB(){var t=[],e=Un;function n(r){if(r!=null&&!isNaN(r=+r))return e((pp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(xs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>uTe(t,a/r))},n.copy=function(){return yB(e).domain(t)},Da.apply(n,arguments)}function Jv(){var t=0,e=.5,n=1,r=1,i,a,s,o,u,l=Un,c,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+c(v))-a)*(r*v<r*a?o:u),l(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([t,e,n]=v,i=c(t=+t),a=c(e=+e),s=c(n=+n),o=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(l=v,p):l};function g(v){return function(b){var w,T,_;return arguments.length?([w,T,_]=b,l=DTe(v,[w,T,_]),p):[l(0),l(.5),l(1)]}}return p.range=g(Cc),p.rangeRound=g(LS),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return c=v,i=v(t),a=v(e),s=v(n),o=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function vB(){var t=zs(Jv()(Un));return t.copy=function(){return Ws(t,vB())},Da.apply(t,arguments)}function bB(){var t=BS(Jv()).domain([.1,1,10]);return t.copy=function(){return Ws(t,bB()).base(t.base())},Da.apply(t,arguments)}function _B(){var t=US(Jv());return t.copy=function(){return Ws(t,_B()).constant(t.constant())},Da.apply(t,arguments)}function ZS(){var t=VS(Jv());return t.copy=function(){return Ws(t,ZS()).exponent(t.exponent())},Da.apply(t,arguments)}function wxe(){return ZS.apply(null,arguments).exponent(.5)}const Fk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sh,scaleDiverging:vB,scaleDivergingLog:bB,scaleDivergingPow:ZS,scaleDivergingSqrt:wxe,scaleDivergingSymlog:_B,scaleIdentity:J8,scaleImplicit:DT,scaleLinear:Fg,scaleLog:eB,scaleOrdinal:kS,scalePoint:ld,scalePow:HS,scaleQuantile:rB,scaleQuantize:iB,scaleRadial:nB,scaleSequential:pB,scaleSequentialLog:mB,scaleSequentialPow:JS,scaleSequentialQuantile:yB,scaleSequentialSqrt:Txe,scaleSequentialSymlog:gB,scaleSqrt:rwe,scaleSymlog:tB,scaleThreshold:aB,scaleTime:_xe,scaleUtc:Exe,tickFormat:X8},Symbol.toStringTag,{value:"Module"}));var xxe=_c;function Axe(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!xxe(s):n(s,o)))var o=s,u=a}return u}var EB=Axe;function Sxe(t,e){return t>e}var Ixe=Sxe,Pxe=EB,Cxe=Ixe,Oxe=Ic;function Nxe(t){return t&&t.length?Pxe(t,Oxe,Cxe):void 0}var Rxe=Nxe;const Zv=st(Rxe);function kxe(t,e){return t<e}var Dxe=kxe,Mxe=EB,Lxe=Dxe,jxe=Ic;function Fxe(t){return t&&t.length?Mxe(t,jxe,Lxe):void 0}var $xe=Fxe;const eb=st($xe);var Bxe=hS,Uxe=qs,Vxe=C8,Hxe=sr;function qxe(t,e){var n=Hxe(t)?Bxe:Vxe;return n(t,Uxe(e))}var zxe=qxe,Wxe=I8,Gxe=zxe;function Kxe(t,e){return Wxe(Gxe(t,e),1)}var Yxe=Kxe;const Qxe=st(Yxe);var Xxe=PS;function Jxe(t,e){return Xxe(t,e)}var Zxe=Jxe;const tb=st(Zxe);var Oc=1e9,eAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tI,Et=!0,Gr="[DecimalError] ",Mo=Gr+"Invalid argument: ",eI=Gr+"Exponent out of range: ",Nc=Math.floor,lo=Math.pow,tAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hr,nn=1e7,gt=7,TB=9007199254740991,Vg=Nc(TB/gt),ye={};ye.absoluteValue=ye.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ye.comparedTo=ye.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*gt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ye.dividedBy=ye.div=function(t){return ma(this,new this.constructor(t))};ye.dividedToIntegerBy=ye.idiv=function(t){var e=this,n=e.constructor;return ut(ma(e,new n(t),0,1),n.precision)};ye.equals=ye.eq=function(t){return!this.cmp(t)};ye.exponent=function(){return qt(this)};ye.greaterThan=ye.gt=function(t){return this.cmp(t)>0};ye.greaterThanOrEqualTo=ye.gte=function(t){return this.cmp(t)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(t){return this.cmp(t)<0};ye.lessThanOrEqualTo=ye.lte=function(t){return this.cmp(t)<1};ye.logarithm=ye.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(hr))throw Error(Gr+"NaN");if(n.s<1)throw Error(Gr+(n.s?"NaN":"-Infinity"));return n.eq(hr)?new r(0):(Et=!1,e=ma(fh(n,a),fh(t,a),a),Et=!0,ut(e,i))};ye.minus=ye.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?AB(e,t):wB(e,(t.s=-t.s,t))};ye.modulo=ye.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Gr+"NaN");return n.s?(Et=!1,e=ma(n,t,0,1).times(t),Et=!0,n.minus(e)):ut(new r(n),i)};ye.naturalExponential=ye.exp=function(){return xB(this)};ye.naturalLogarithm=ye.ln=function(){return fh(this)};ye.negated=ye.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ye.plus=ye.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?wB(e,t):AB(e,(t.s=-t.s,t))};ye.precision=ye.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Mo+t);if(e=qt(i)+1,r=i.d.length-1,n=r*gt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ye.squareRoot=ye.sqrt=function(){var t,e,n,r,i,a,s,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Gr+"NaN")}for(t=qt(o),Et=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ci(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Nc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(a=r,r=a.plus(ma(o,a,s+2)).times(.5),Ci(a.d).slice(0,s)===(e=Ci(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(ut(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Et=!0,ut(r,n)};ye.times=ye.mul=function(t){var e,n,r,i,a,s,o,u,l,c=this,f=c.constructor,h=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,u=h.length,l=p.length,u<l&&(a=h,h=p,p=a,s=u,u=l,l=s),a=[],s=u+l,r=s;r--;)a.push(0);for(r=l;--r>=0;){for(e=0,i=u+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%nn|0,e=o/nn|0;a[i]=(a[i]+e)%nn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Et?ut(t,f.precision):t};ye.toDecimalPlaces=ye.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:($i(t,0,Oc),e===void 0?e=r.rounding:$i(e,0,8),ut(n,t+qt(n)+1,e))};ye.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=iu(r,!0):($i(t,0,Oc),e===void 0?e=i.rounding:$i(e,0,8),r=ut(new i(r),t+1,e),n=iu(r,!0,t+1)),n};ye.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?iu(i):($i(t,0,Oc),e===void 0?e=a.rounding:$i(e,0,8),r=ut(new a(i),t+qt(i)+1,e),n=iu(r.abs(),!1,t+qt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ye.toInteger=ye.toint=function(){var t=this,e=t.constructor;return ut(new e(t),qt(t)+1,e.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(t){var e,n,r,i,a,s,o=this,u=o.constructor,l=12,c=+(t=new u(t));if(!t.s)return new u(hr);if(o=new u(o),!o.s){if(t.s<1)throw Error(Gr+"Infinity");return o}if(o.eq(hr))return o;if(r=u.precision,t.eq(hr))return ut(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=c<0?-c:c)<=TB){for(i=new u(hr),e=Math.ceil(r/gt+4),Et=!1;n%2&&(i=i.times(o),Bk(i.d,e)),n=Nc(n/2),n!==0;)o=o.times(o),Bk(o.d,e);return Et=!0,t.s<0?new u(hr).div(i):ut(i,r)}}else if(a<0)throw Error(Gr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Et=!1,i=t.times(fh(o,r+l)),Et=!0,i=xB(i),i.s=a,i};ye.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=qt(i),r=iu(i,n<=a.toExpNeg||n>=a.toExpPos)):($i(t,1,Oc),e===void 0?e=a.rounding:$i(e,0,8),i=ut(new a(i),t,e),n=qt(i),r=iu(i,t<=n||n<=a.toExpNeg,t)),r};ye.toSignificantDigits=ye.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):($i(t,1,Oc),e===void 0?e=r.rounding:$i(e,0,8)),ut(new r(n),t,e)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=qt(t),n=t.constructor;return iu(t,e<=n.toExpNeg||e>=n.toExpPos)};function wB(t,e){var n,r,i,a,s,o,u,l,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Et?ut(e,f):e;if(u=t.d,l=e.d,s=t.e,i=e.e,u=u.slice(),a=s-i,a){for(a<0?(r=u,a=-a,o=l.length):(r=l,i=s,o=u.length),s=Math.ceil(f/gt),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=u.length,a=l.length,o-a<0&&(a=o,r=l,l=u,u=r),n=0;a;)n=(u[--a]=u[a]+l[a]+n)/nn|0,u[a]%=nn;for(n&&(u.unshift(n),++i),o=u.length;u[--o]==0;)u.pop();return e.d=u,e.e=i,Et?ut(e,f):e}function $i(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Mo+t)}function Ci(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=gt-r.length,n&&(a+=Ya(n)),a+=r;s=t[e],r=s+"",n=gt-r.length,n&&(a+=Ya(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ma=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%nn|0,s=a/nn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,u;if(a!=s)u=a>s?1:-1;else for(o=u=0;o<a;o++)if(r[o]!=i[o]){u=r[o]>i[o]?1:-1;break}return u}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*nn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,u,l,c,f,h,p,g,v,b,w,T,_,C,A,S,x,I,O=r.constructor,R=r.s==i.s?1:-1,N=r.d,D=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(Gr+"Division by zero");for(u=r.e-i.e,x=D.length,A=N.length,p=new O(R),g=p.d=[],l=0;D[l]==(N[l]||0);)++l;if(D[l]>(N[l]||0)&&--u,a==null?T=a=O.precision:s?T=a+(qt(r)-qt(i))+1:T=a,T<0)return new O(0);if(T=T/gt+2|0,l=0,x==1)for(c=0,D=D[0],T++;(l<A||c)&&T--;l++)_=c*nn+(N[l]||0),g[l]=_/D|0,c=_%D|0;else{for(c=nn/(D[0]+1)|0,c>1&&(D=t(D,c),N=t(N,c),x=D.length,A=N.length),C=x,v=N.slice(0,x),b=v.length;b<x;)v[b++]=0;I=D.slice(),I.unshift(0),S=D[0],D[1]>=nn/2&&++S;do c=0,o=e(D,v,x,b),o<0?(w=v[0],x!=b&&(w=w*nn+(v[1]||0)),c=w/S|0,c>1?(c>=nn&&(c=nn-1),f=t(D,c),h=f.length,b=v.length,o=e(f,v,h,b),o==1&&(c--,n(f,x<h?I:D,h))):(c==0&&(o=c=1),f=D.slice()),h=f.length,h<b&&f.unshift(0),n(v,f,b),o==-1&&(b=v.length,o=e(D,v,x,b),o<1&&(c++,n(v,x<b?I:D,b))),b=v.length):o===0&&(c++,v=[0]),g[l++]=c,o&&v[0]?v[b++]=N[C]||0:(v=[N[C]],b=1);while((C++<A||v[0]!==void 0)&&T--)}return g[0]||g.shift(),p.e=u,ut(p,s?a+qt(p)+1:a)}}();function xB(t,e){var n,r,i,a,s,o,u=0,l=0,c=t.constructor,f=c.precision;if(qt(t)>16)throw Error(eI+qt(t));if(!t.s)return new c(hr);for(e==null?(Et=!1,o=f):o=e,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),l+=5;for(r=Math.log(lo(2,l))/Math.LN10*2+5|0,o+=r,n=i=a=new c(hr),c.precision=o;;){if(i=ut(i.times(t),o),n=n.times(++u),s=a.plus(ma(i,n,o)),Ci(s.d).slice(0,o)===Ci(a.d).slice(0,o)){for(;l--;)a=ut(a.times(a),o);return c.precision=f,e==null?(Et=!0,ut(a,f)):a}a=s}}function qt(t){for(var e=t.e*gt,n=t.d[0];n>=10;n/=10)e++;return e}function Z1(t,e,n){if(e>t.LN10.sd())throw Et=!0,n&&(t.precision=n),Error(Gr+"LN10 precision limit exceeded");return ut(new t(t.LN10),e)}function Ya(t){for(var e="";t--;)e+="0";return e}function fh(t,e){var n,r,i,a,s,o,u,l,c,f=1,h=10,p=t,g=p.d,v=p.constructor,b=v.precision;if(p.s<1)throw Error(Gr+(p.s?"NaN":"-Infinity"));if(p.eq(hr))return new v(0);if(e==null?(Et=!1,l=b):l=e,p.eq(10))return e==null&&(Et=!0),Z1(v,l);if(l+=h,v.precision=l,n=Ci(g),r=n.charAt(0),a=qt(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Ci(p.d),r=n.charAt(0),f++;a=qt(p),r>1?(p=new v("0."+n),a++):p=new v(r+"."+n.slice(1))}else return u=Z1(v,l+2,b).times(a+""),p=fh(new v(r+"."+n.slice(1)),l-h).plus(u),v.precision=b,e==null?(Et=!0,ut(p,b)):p;for(o=s=p=ma(p.minus(hr),p.plus(hr),l),c=ut(p.times(p),l),i=3;;){if(s=ut(s.times(c),l),u=o.plus(ma(s,new v(i),l)),Ci(u.d).slice(0,l)===Ci(o.d).slice(0,l))return o=o.times(2),a!==0&&(o=o.plus(Z1(v,l+2,b).times(a+""))),o=ma(o,new v(f),l),v.precision=b,e==null?(Et=!0,ut(o,b)):o;o=u,i+=2}}function $k(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Nc(n/gt),t.d=[],r=(n+1)%gt,n<0&&(r+=gt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=gt;r<i;)t.d.push(+e.slice(r,r+=gt));e=e.slice(r),r=gt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Et&&(t.e>Vg||t.e<-Vg))throw Error(eI+n)}else t.s=0,t.e=0,t.d=[0];return t}function ut(t,e,n){var r,i,a,s,o,u,l,c,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=gt,i=e,l=f[c=0];else{if(c=Math.ceil((r+1)/gt),a=f.length,c>=a)return t;for(l=a=f[c],s=1;a>=10;a/=10)s++;r%=gt,i=r-gt+s}if(n!==void 0&&(a=lo(10,s-i-1),o=l/a%10|0,u=e<0||f[c+1]!==void 0||l%a,u=n<4?(o||u)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||u||n==6&&(r>0?i>0?l/lo(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return u?(a=qt(t),f.length=1,e=e-a-1,f[0]=lo(10,(gt-e%gt)%gt),t.e=Nc(-e/gt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=lo(10,gt-r),f[c]=i>0?(l/lo(10,s-i)%lo(10,i)|0)*a:0),u)for(;;)if(c==0){(f[0]+=a)==nn&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=nn)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Et&&(t.e>Vg||t.e<-Vg))throw Error(eI+qt(t));return t}function AB(t,e){var n,r,i,a,s,o,u,l,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Et?ut(e,p):e;if(u=t.d,f=e.d,r=e.e,l=t.e,u=u.slice(),s=l-r,s){for(c=s<0,c?(n=u,s=-s,o=f.length):(n=f,r=l,o=u.length),i=Math.max(Math.ceil(p/gt),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,o=f.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(u[i]!=f[i]){c=u[i]<f[i];break}s=0}for(c&&(n=u,u=f,f=n,e.s=-e.s),o=u.length,i=f.length-o;i>0;--i)u[o++]=0;for(i=f.length;i>s;){if(u[--i]<f[i]){for(a=i;a&&u[--a]===0;)u[a]=nn-1;--u[a],u[i]+=nn}u[i]-=f[i]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,Et?ut(e,p):e):new h(0)}function iu(t,e,n){var r,i=qt(t),a=Ci(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ya(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ya(-i-1)+a,n&&(r=n-s)>0&&(a+=Ya(r))):i>=s?(a+=Ya(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Ya(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Ya(r))),t.s<0?"-"+a:a}function Bk(t,e){if(t.length>e)return t.length=e,!0}function SB(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Mo+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return $k(s,a.toString())}else if(typeof a!="string")throw Error(Mo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,tAe.test(a))$k(s,a);else throw Error(Mo+a)}if(i.prototype=ye,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=SB,i.config=i.set=nAe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function nAe(t){if(!t||typeof t!="object")throw Error(Gr+"Object expected");var e,n,r,i=["precision",1,Oc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Nc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Mo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Mo+n+": "+r);return this}var tI=SB(eAe);hr=new tI(1);const it=tI;function rAe(t){return oAe(t)||sAe(t)||aAe(t)||iAe()}function iAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aAe(t,e){if(t){if(typeof t=="string")return FT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FT(t,e)}}function sAe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function oAe(t){if(Array.isArray(t))return FT(t)}function FT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uAe=function(e){return e},IB={"@@functional/placeholder":!0},PB=function(e){return e===IB},Uk=function(e){return function n(){return arguments.length===0||arguments.length===1&&PB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},lAe=function t(e,n){return e===1?n:Uk(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==IB}).length;return s>=e?n.apply(void 0,i):t(e-s,Uk(function(){for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];var c=i.map(function(f){return PB(f)?u.shift():f});return n.apply(void 0,rAe(c).concat(u))}))})},nb=function(e){return lAe(e.length,e)},$T=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},cAe=nb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),fAe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return uAe;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,u){return u(o)},a.apply(void 0,arguments))}},BT=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},CB=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,u){return o===n[u]})||(n=a,r=e.apply(void 0,a)),r}};function dAe(t){var e;return t===0?e=1:e=Math.floor(new it(t).abs().log(10).toNumber())+1,e}function hAe(t,e,n){for(var r=new it(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var pAe=nb(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),mAe=nb(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),gAe=nb(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const rb={rangeStep:hAe,getDigitCount:dAe,interpolateNumber:pAe,uninterpolateNumber:mAe,uninterpolateTruncation:gAe};function UT(t){return bAe(t)||vAe(t)||OB(t)||yAe()}function yAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vAe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function bAe(t){if(Array.isArray(t))return VT(t)}function dh(t,e){return TAe(t)||EAe(t,e)||OB(t,e)||_Ae()}function _Ae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OB(t,e){if(t){if(typeof t=="string")return VT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VT(t,e)}}function VT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EAe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(u){i=!0,a=u}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function TAe(t){if(Array.isArray(t))return t}function NB(t){var e=dh(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function RB(t,e,n){if(t.lte(0))return new it(0);var r=rb.getDigitCount(t.toNumber()),i=new it(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new it(Math.ceil(a.div(s).toNumber())).add(n).mul(s),u=o.mul(i);return e?u:new it(Math.ceil(u))}function wAe(t,e,n){var r=1,i=new it(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new it(10).pow(rb.getDigitCount(t)-1),i=new it(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new it(Math.floor(t)))}else t===0?i=new it(Math.floor((e-1)/2)):n||(i=new it(Math.floor(t)));var s=Math.floor((e-1)/2),o=fAe(cAe(function(u){return i.add(new it(u-s).mul(r)).toNumber()}),$T);return o(0,e)}function kB(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new it(0),tickMin:new it(0),tickMax:new it(0)};var a=RB(new it(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new it(0):(s=new it(t).add(e).div(2),s=s.sub(new it(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),u=Math.ceil(new it(e).sub(s).div(a).toNumber()),l=o+u+1;return l>n?kB(t,e,n,r,i+1):(l<n&&(u=e>0?u+(n-l):u,o=e>0?o:o+(n-l)),{step:a,tickMin:s.sub(new it(o).mul(a)),tickMax:s.add(new it(u).mul(a))})}function xAe(t){var e=dh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=NB([n,r]),u=dh(o,2),l=u[0],c=u[1];if(l===-1/0||c===1/0){var f=c===1/0?[l].concat(UT($T(0,i-1).map(function(){return 1/0}))):[].concat(UT($T(0,i-1).map(function(){return-1/0})),[c]);return n>r?BT(f):f}if(l===c)return wAe(l,i,a);var h=kB(l,c,s,a),p=h.step,g=h.tickMin,v=h.tickMax,b=rb.rangeStep(g,v.add(new it(.1).mul(p)),p);return n>r?BT(b):b}function AAe(t,e){var n=dh(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=NB([r,i]),o=dh(s,2),u=o[0],l=o[1];if(u===-1/0||l===1/0)return[r,i];if(u===l)return[u];var c=Math.max(e,2),f=RB(new it(l).sub(u).div(c-1),a,0),h=[].concat(UT(rb.rangeStep(new it(u),new it(l).sub(new it(.99).mul(f)),f)),[l]);return r>i?BT(h):h}var SAe=CB(xAe),IAe=CB(AAe),PAe="Invariant failed";function au(t,e){throw new Error(PAe)}var CAe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}function OAe(t,e){return DAe(t)||kAe(t,e)||RAe(t,e)||NAe()}function NAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RAe(t,e){if(t){if(typeof t=="string")return Vk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vk(t,e)}}function Vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function DAe(t){if(Array.isArray(t))return t}function MAe(t,e){if(t==null)return{};var n=LAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LB(r.key),r)}}function $Ae(t,e,n){return e&&FAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BAe(t,e,n){return e=qg(e),UAe(t,DB()?Reflect.construct(e,n||[],qg(t).constructor):e.apply(t,n))}function UAe(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VAe(t)}function VAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DB=function(){return!!t})()}function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qg(t)}function HAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HT(t,e)}function HT(t,e){return HT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HT(t,e)}function MB(t,e,n){return e=LB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LB(t){var e=qAe(t,"string");return zl(e)=="symbol"?e:e+""}function qAe(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vp=function(t){function e(){return jAe(this,e),BAe(this,e,arguments)}return HAe(e,t),$Ae(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,u=r.data,l=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=MAe(r,CAe),p=Ve(h,!1);this.props.direction==="x"&&c.type!=="number"&&au();var g=u.map(function(v){var b=l(v,o),w=b.x,T=b.y,_=b.value,C=b.errorVal;if(!C)return null;var A=[],S,x;if(Array.isArray(C)){var I=OAe(C,2);S=I[0],x=I[1]}else S=x=C;if(a==="vertical"){var O=c.scale,R=T+i,N=R+s,D=R-s,k=O(_-S),Y=O(_+x);A.push({x1:Y,y1:N,x2:Y,y2:D}),A.push({x1:k,y1:R,x2:Y,y2:R}),A.push({x1:k,y1:N,x2:k,y2:D})}else if(a==="horizontal"){var K=f.scale,Z=w+i,te=Z-s,q=Z+s,X=K(_-S),ie=K(_+x);A.push({x1:te,y1:ie,x2:q,y2:ie}),A.push({x1:Z,y1:X,x2:Z,y2:ie}),A.push({x1:te,y1:X,x2:q,y2:X})}return B.createElement(Ft,Hg({className:"recharts-errorBar",key:"bar-".concat(A.map(function(he){return"".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))},p),A.map(function(he){return B.createElement("line",Hg({},he,{key:"line-".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))}))});return B.createElement(Ft,{className:"recharts-errorBars"},g)}}])}(B.Component);MB(vp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});MB(vp,"displayName","ErrorBar");function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function to(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){zAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zAe(t,e,n){return e=WAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WAe(t){var e=GAe(t,"string");return hh(e)=="symbol"?e:e+""}function GAe(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jB=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=fr(n,ko);if(!s)return null;var o=ko.defaultProps,u=o!==void 0?to(to({},o),s.props):{},l;return s.props&&s.props.payload?l=s.props&&s.props.payload:a==="children"?l=(r||[]).reduce(function(c,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return c.concat(g.map(function(v){return{type:s.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):l=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,p=h!==void 0?to(to({},h),f.props):{},g=p.dataKey,v=p.name,b=p.legendType,w=p.hide;return{inactive:w,dataKey:g,type:u.iconType||b||"square",color:nI(f),value:v||g,payload:p}}),to(to(to({},u),ko.getWithHeight(s,i)),{},{payload:l,item:s})};function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function qk(t){return XAe(t)||QAe(t)||YAe(t)||KAe()}function KAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YAe(t,e){if(t){if(typeof t=="string")return qT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qT(t,e)}}function QAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XAe(t){if(Array.isArray(t))return qT(t)}function qT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){ml(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ml(t,e,n){return e=JAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JAe(t){var e=ZAe(t,"string");return ph(e)=="symbol"?e:e+""}function ZAe(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xr(t,e,n){return Be(t)||Be(e)?n:Qt(e)?Vr(t,e,n):Le(e)?e(t):n}function cd(t,e,n,r){var i=Qxe(t,function(o){return xr(o,e)});if(n==="number"){var a=i.filter(function(o){return fe(o)||parseFloat(o)});return a.length?[eb(a),Zv(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!Be(o)}):i;return s.map(function(o){return Qt(o)||o instanceof Date?o:""})}var eSe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var u=a.range,l=0;l<o;l++){var c=l>0?i[l-1].coordinate:i[o-1].coordinate,f=i[l].coordinate,h=l>=o-1?i[0].coordinate:i[l+1].coordinate,p=void 0;if(ui(f-c)!==ui(h-f)){var g=[];if(ui(h-f)===ui(u[1]-u[0])){p=h;var v=f+u[1]-u[0];g[0]=Math.min(v,(v+c)/2),g[1]=Math.max(v,(v+c)/2)}else{p=c;var b=h+u[1]-u[0];g[0]=Math.min(f,(b+f)/2),g[1]=Math.max(f,(b+f)/2)}var w=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>w[0]&&e<=w[1]||e>=g[0]&&e<=g[1]){s=i[l].index;break}}else{var T=Math.min(c,h),_=Math.max(c,h);if(e>(T+f)/2&&e<=(_+f)/2){s=i[l].index;break}}}else for(var C=0;C<o;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<o-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===o-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},nI=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,u;switch(i){case"Line":u=s;break;case"Area":case"Radar":u=s&&s!=="none"?s:o;break;default:u=o;break}return u},tSe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),u=0,l=o.length;u<l;u++)for(var c=a[o[u]].stackGroups,f=Object.keys(c),h=0,p=f.length;h<p;h++){var g=c[f[h]],v=g.items,b=g.cateAxisId,w=v.filter(function(x){return ha(x.type).indexOf("Bar")>=0});if(w&&w.length){var T=w[0].type.defaultProps,_=T!==void 0?Mt(Mt({},T),w[0].props):w[0].props,C=_.barSize,A=_[b];s[A]||(s[A]=[]);var S=Be(C)?n:C;s[A].push({item:w[0],stackList:w.slice(1),barSize:Be(S)?void 0:ru(S,r,0)})}}return s},nSe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,u=s.length;if(u<1)return null;var l=ru(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/u,g=s.reduce(function(C,A){return C+A.barSize||0},0);g+=(u-1)*l,g>=i&&(g-=(u-1)*l,l=0),g>=i&&p>0&&(h=!0,p*=.9,g=u*p);var v=(i-g)/2>>0,b={offset:v-l,size:0};c=s.reduce(function(C,A){var S={item:A.item,position:{offset:b.offset+b.size+l,size:h?p:A.barSize}},x=[].concat(qk(C),[S]);return b=x[x.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){x.push({item:I,position:b})}),x},f)}else{var w=ru(r,i,0,!0);i-2*w-(u-1)*l<=0&&(l=0);var T=(i-2*w-(u-1)*l)/u;T>1&&(T>>=0);var _=o===+o?Math.min(T,o):T;c=s.reduce(function(C,A,S){var x=[].concat(qk(C),[{item:A.item,position:{offset:w+(T+l)*S+(T-_)/2,size:_}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){x.push({item:I,position:x[x.length-1].position})}),x},f)}return c},rSe=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,u=s-(o.left||0)-(o.right||0),l=jB({children:a,legendWidth:u});if(l){var c=i||{},f=c.width,h=c.height,p=l.align,g=l.verticalAlign,v=l.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&p!=="center"&&fe(e[p]))return Mt(Mt({},e),{},ml({},p,e[p]+(f||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&g!=="middle"&&fe(e[g]))return Mt(Mt({},e),{},ml({},g,e[g]+(h||0)))}return e},iSe=function(e,n,r){return Be(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},FB=function(e,n,r,i,a){var s=n.props.children,o=Hr(s,vp).filter(function(l){return iSe(i,a,l.props.direction)});if(o&&o.length){var u=o.map(function(l){return l.props.dataKey});return e.reduce(function(l,c){var f=xr(c,r);if(Be(f))return l;var h=Array.isArray(f)?[eb(f),Zv(f)]:[f,f],p=u.reduce(function(g,v){var b=xr(c,v,0),w=h[0]-Math.abs(Array.isArray(b)?b[0]:b),T=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(w,g[0]),Math.max(T,g[1])]},[1/0,-1/0]);return[Math.min(p[0],l[0]),Math.max(p[1],l[1])]},[1/0,-1/0])}return null},aSe=function(e,n,r,i,a){var s=n.map(function(o){return FB(e,o,r,a,i)}).filter(function(o){return!Be(o)});return s&&s.length?s.reduce(function(o,u){return[Math.min(o[0],u[0]),Math.max(o[1],u[1])]},[1/0,-1/0]):null},$B=function(e,n,r,i,a){var s=n.map(function(u){var l=u.props.dataKey;return r==="number"&&l&&FB(e,u,l,i)||cd(e,l,r,a)});if(r==="number")return s.reduce(function(u,l){return[Math.min(u[0],l[0]),Math.max(u[1],l[1])]},[1/0,-1/0]);var o={};return s.reduce(function(u,l){for(var c=0,f=l.length;c<f;c++)o[l[c]]||(o[l[c]]=!0,u.push(l[c]));return u},[])},BB=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},UB=function(e,n,r,i){if(i)return e.map(function(u){return u.coordinate});var a,s,o=e.map(function(u){return u.coordinate===n&&(a=!0),u.coordinate===r&&(s=!0),u.coordinate});return a||o.push(n),s||o.push(r),o},ua=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,l=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/u:0;if(l=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ui(o[0]-o[1])*2*l:l,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+l,value:f,offset:l}});return c.filter(function(f){return!fp(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+l,value:f,index:h,offset:l}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+l,value:f,offset:l}}):i.domain().map(function(f,h){return{coordinate:i(f)+l,value:a?a[f]:f,index:h,offset:l}})},e_=new WeakMap,Em=function(e,n){if(typeof n!="function")return e;e_.has(e)||e_.set(e,new WeakMap);var r=e_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},sSe=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:sh(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Fg(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ld(),realScaleType:"point"}:a==="category"?{scale:sh(),realScaleType:"band"}:{scale:Fg(),realScaleType:"linear"};if(cp(i)){var u="scale".concat(Bv(i));return{scale:(Fk[u]||ld)(),realScaleType:Fk[u]?u:"point"}}return Le(i)?{scale:i}:{scale:ld(),realScaleType:"point"}},Wk=1e-4,oSe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-Wk,s=Math.max(i[0],i[1])+Wk,o=e(n[0]),u=e(n[r-1]);(o<a||o>s||u<a||u>s)&&e.domain([n[0],n[r-1]])}},uSe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},lSe=function(e,n){if(!n||n.length!==2||!fe(n[0])||!fe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!fe(e[0])||e[0]<r)&&(a[0]=r),(!fe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},cSe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var u=fp(e[o][r][1])?e[o][r][0]:e[o][r][1];u>=0?(e[o][r][0]=a,e[o][r][1]=a+u,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+u,s=e[o][r][1])}},fSe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=fp(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},dSe={sign:cSe,expand:Spe,none:jl,silhouette:Ipe,wiggle:Ppe,positive:fSe},hSe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=dSe[r],s=Ape().keys(i).value(function(o,u){return+xr(o,u,0)}).order(mT).offset(a);return s(e)},pSe=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,u={},l=o.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Mt(Mt({},h.type.defaultProps),h.props):h.props,v=g.stackId,b=g.hide;if(b)return f;var w=g[r],T=f[w]||{hasStack:!1,stackGroups:{}};if(Qt(v)){var _=T.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),T.hasStack=!0,T.stackGroups[v]=_}else T.stackGroups[dp("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Mt(Mt({},f),{},ml({},w,T))},u),c={};return Object.keys(l).reduce(function(f,h){var p=l[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,b){var w=p.stackGroups[b];return Mt(Mt({},v),{},ml({},b,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:hSe(e,w.items,a)}))},g)}return Mt(Mt({},f),{},ml({},h,p))},c)},mSe=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,u=r||n.scale;if(u!=="auto"&&u!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var l=e.domain();if(!l.length)return null;var c=SAe(l,a,o);return e.domain([eb(c),Zv(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),h=IAe(f,a,o);return{niceTicks:h}}return null};function Gk(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Be(i[e.dataKey])){var o=mg(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=xr(i,Be(s)?e.dataKey:s);return Be(u)?null:e.scale(u)}var Kk=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var u=xr(s,n.dataKey,n.domain[o]);return Be(u)?null:n.scale(u)-a/2+i},gSe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},ySe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Qt(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},vSe=function(e){return e.reduce(function(n,r){return[eb(r.concat([n[0]]).filter(fe)),Zv(r.concat([n[1]]).filter(fe))]},[1/0,-1/0])},VB=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,u=o.reduce(function(l,c){var f=vSe(c.slice(n,r+1));return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Yk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zT=function(e,n,r){if(Le(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(fe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Yk.test(e[0])){var a=+Yk.exec(e[0])[1];i[0]=n[0]-a}else Le(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(fe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Qk.test(e[1])){var s=+Qk.exec(e[1])[1];i[1]=n[1]+s}else Le(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},zg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=OS(n,function(f){return f.coordinate}),s=1/0,o=1,u=a.length;o<u;o++){var l=a[o],c=a[o-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},Xk=function(e,n,r){return!e||!e.length||tb(e,Vr(r,"type.defaultProps.domain"))?n:e},HB=function(e,n){var r=e.type.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,u=r.tooltipType,l=r.chartType,c=r.hide;return Mt(Mt({},Ve(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:nI(e),value:xr(n,i),type:u,payload:n,chartType:l,hide:c})};function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){bSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bSe(t,e,n){return e=_Se(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Se(t){var e=ESe(t,"string");return mh(e)=="symbol"?e:e+""}function ESe(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wg=Math.PI/180,TSe=function(e){return e*180/Math.PI},gn=function(e,n,r,i){return{x:e+Math.cos(-Wg*i)*r,y:n+Math.sin(-Wg*i)*r}},wSe=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},xSe=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=wSe({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var u=(r-a)/o,l=Math.acos(u);return i>s&&(l=2*Math.PI-l),{radius:o,angle:TSe(l),angleInRadian:l}},ASe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},SSe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},eD=function(e,n){var r=e.x,i=e.y,a=xSe({x:r,y:i},n),s=a.radius,o=a.angle,u=n.innerRadius,l=n.outerRadius;if(s<u||s>l)return!1;if(s===0)return!0;var c=ASe(n),f=c.startAngle,h=c.endAngle,p=o,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?Zk(Zk({},n),{},{radius:s,angle:SSe(p,n)}):null};function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}var ISe=["offset"];function PSe(t){return RSe(t)||NSe(t)||OSe(t)||CSe()}function CSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OSe(t,e){if(t){if(typeof t=="string")return WT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WT(t,e)}}function NSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RSe(t){if(Array.isArray(t))return WT(t)}function WT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kSe(t,e){if(t==null)return{};var n=DSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){MSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MSe(t,e,n){return e=LSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LSe(t){var e=jSe(t,"string");return gh(e)=="symbol"?e:e+""}function jSe(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yh.apply(this,arguments)}var FSe=function(e){var n=e.value,r=e.formatter,i=Be(e.children)?n:e.children;return Le(r)?r(i):i},$Se=function(e,n){var r=ui(n-e),i=Math.min(Math.abs(n-e),360);return r*i},BSe=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,u=a,l=u.cx,c=u.cy,f=u.innerRadius,h=u.outerRadius,p=u.startAngle,g=u.endAngle,v=u.clockWise,b=(f+h)/2,w=$Se(p,g),T=w>=0?1:-1,_,C;i==="insideStart"?(_=p+T*s,C=v):i==="insideEnd"?(_=g-T*s,C=!v):i==="end"&&(_=g+T*s,C=v),C=w<=0?C:!C;var A=gn(l,c,b,_),S=gn(l,c,b,_+(C?1:-1)*359),x="M".concat(A.x,",").concat(A.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(C?0:1,`,
    `).concat(S.x,",").concat(S.y),I=Be(e.id)?dp("recharts-radial-line-"):e.id;return B.createElement("text",yh({},r,{dominantBaseline:"central",className:Ge("recharts-radial-bar-label",o)}),B.createElement("defs",null,B.createElement("path",{id:I,d:x})),B.createElement("textPath",{xlinkHref:"#".concat(I)},n))},USe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,u=a.innerRadius,l=a.outerRadius,c=a.startAngle,f=a.endAngle,h=(c+f)/2;if(i==="outside"){var p=gn(s,o,l+r,h),g=p.x,v=p.y;return{x:g,y:v,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(u+l)/2,w=gn(s,o,b,h),T=w.x,_=w.y;return{x:T,y:_,textAnchor:"middle",verticalAnchor:"middle"}},VSe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,u=s.y,l=s.width,c=s.height,f=c>=0?1:-1,h=f*i,p=f>0?"end":"start",g=f>0?"start":"end",v=l>=0?1:-1,b=v*i,w=v>0?"end":"start",T=v>0?"start":"end";if(a==="top"){var _={x:o+l/2,y:u-f*i,textAnchor:"middle",verticalAnchor:p};return Wt(Wt({},_),r?{height:Math.max(u-r.y,0),width:l}:{})}if(a==="bottom"){var C={x:o+l/2,y:u+c+h,textAnchor:"middle",verticalAnchor:g};return Wt(Wt({},C),r?{height:Math.max(r.y+r.height-(u+c),0),width:l}:{})}if(a==="left"){var A={x:o-b,y:u+c/2,textAnchor:w,verticalAnchor:"middle"};return Wt(Wt({},A),r?{width:Math.max(A.x-r.x,0),height:c}:{})}if(a==="right"){var S={x:o+l+b,y:u+c/2,textAnchor:T,verticalAnchor:"middle"};return Wt(Wt({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:c}:{})}var x=r?{width:l,height:c}:{};return a==="insideLeft"?Wt({x:o+b,y:u+c/2,textAnchor:T,verticalAnchor:"middle"},x):a==="insideRight"?Wt({x:o+l-b,y:u+c/2,textAnchor:w,verticalAnchor:"middle"},x):a==="insideTop"?Wt({x:o+l/2,y:u+h,textAnchor:"middle",verticalAnchor:g},x):a==="insideBottom"?Wt({x:o+l/2,y:u+c-h,textAnchor:"middle",verticalAnchor:p},x):a==="insideTopLeft"?Wt({x:o+b,y:u+h,textAnchor:T,verticalAnchor:g},x):a==="insideTopRight"?Wt({x:o+l-b,y:u+h,textAnchor:w,verticalAnchor:g},x):a==="insideBottomLeft"?Wt({x:o+b,y:u+c-h,textAnchor:T,verticalAnchor:p},x):a==="insideBottomRight"?Wt({x:o+l-b,y:u+c-h,textAnchor:w,verticalAnchor:p},x):Ec(a)&&(fe(a.x)||To(a.x))&&(fe(a.y)||To(a.y))?Wt({x:o+ru(a.x,l),y:u+ru(a.y,c),textAnchor:"end",verticalAnchor:"end"},x):Wt({x:o+l/2,y:u+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)},HSe=function(e){return"cx"in e&&fe(e.cx)};function Cn(t){var e=t.offset,n=e===void 0?5:e,r=kSe(t,ISe),i=Wt({offset:n},r),a=i.viewBox,s=i.position,o=i.value,u=i.children,l=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!a||Be(o)&&Be(u)&&!F.isValidElement(l)&&!Le(l))return null;if(F.isValidElement(l))return F.cloneElement(l,i);var p;if(Le(l)){if(p=F.createElement(l,i),F.isValidElement(p))return p}else p=FSe(i);var g=HSe(a),v=Ve(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return BSe(i,p,v);var b=g?USe(i):VSe(i);return B.createElement(Ng,yh({className:Ge("recharts-label",f)},v,b,{breakAll:h}),p)}Cn.displayName="Label";var qB=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,u=e.radius,l=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,p=e.top,g=e.left,v=e.width,b=e.height,w=e.clockWise,T=e.labelViewBox;if(T)return T;if(fe(v)&&fe(b)){if(fe(f)&&fe(h))return{x:f,y:h,width:v,height:b};if(fe(p)&&fe(g))return{x:p,y:g,width:v,height:b}}return fe(f)&&fe(h)?{x:f,y:h,width:0,height:0}:fe(n)&&fe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:l||0,outerRadius:c||u||o||0,clockWise:w}:e.viewBox?e.viewBox:{}},qSe=function(e,n){return e?e===!0?B.createElement(Cn,{key:"label-implicit",viewBox:n}):Qt(e)?B.createElement(Cn,{key:"label-implicit",viewBox:n,value:e}):F.isValidElement(e)?e.type===Cn?F.cloneElement(e,{key:"label-implicit",viewBox:n}):B.createElement(Cn,{key:"label-implicit",content:e,viewBox:n}):Le(e)?B.createElement(Cn,{key:"label-implicit",content:e,viewBox:n}):Ec(e)?B.createElement(Cn,yh({viewBox:n},e,{key:"label-implicit"})):null:null},zSe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=qB(e),s=Hr(i,Cn).map(function(u,l){return F.cloneElement(u,{viewBox:n||a,key:"label-".concat(l)})});if(!r)return s;var o=qSe(e.label,n||a);return[o].concat(PSe(s))};Cn.parseViewBox=qB;Cn.renderCallByParent=zSe;function WSe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var GSe=WSe;const KSe=st(GSe);function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}var YSe=["valueAccessor"],QSe=["data","dataKey","clockWise","id","textBreakAll"];function XSe(t){return tIe(t)||eIe(t)||ZSe(t)||JSe()}function JSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZSe(t,e){if(t){if(typeof t=="string")return GT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GT(t,e)}}function eIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tIe(t){if(Array.isArray(t))return GT(t)}function GT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(this,arguments)}function nD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(n),!0).forEach(function(r){nIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nIe(t,e,n){return e=rIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rIe(t){var e=iIe(t,"string");return vh(e)=="symbol"?e:e+""}function iIe(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iD(t,e){if(t==null)return{};var n=aIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sIe=function(e){return Array.isArray(e.value)?KSe(e.value):e.value};function As(t){var e=t.valueAccessor,n=e===void 0?sIe:e,r=iD(t,YSe),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,u=r.textBreakAll,l=iD(r,QSe);return!i||!i.length?null:B.createElement(Ft,{className:"recharts-label-list"},i.map(function(c,f){var h=Be(a)?n(c,f):xr(c&&c.payload,a),p=Be(o)?{}:{id:"".concat(o,"-").concat(f)};return B.createElement(Cn,Gg({},Ve(c,!0),l,p,{parentViewBox:c.parentViewBox,value:h,textBreakAll:u,viewBox:Cn.parseViewBox(Be(s)?c:rD(rD({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}As.displayName="LabelList";function oIe(t,e){return t?t===!0?B.createElement(As,{key:"labelList-implicit",data:e}):B.isValidElement(t)||Le(t)?B.createElement(As,{key:"labelList-implicit",data:e,content:t}):Ec(t)?B.createElement(As,Gg({data:e},t,{key:"labelList-implicit"})):null:null}function uIe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Hr(r,As).map(function(s,o){return F.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=oIe(t.label,e);return[a].concat(XSe(i))}As.renderCallByParent=uIe;function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function KT(){return KT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KT.apply(this,arguments)}function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){lIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lIe(t,e,n){return e=cIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cIe(t){var e=fIe(t,"string");return bh(e)=="symbol"?e:e+""}function fIe(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dIe=function(e,n){var r=ui(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Tm=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,u=e.cornerRadius,l=e.cornerIsExternal,c=u*(o?1:-1)+i,f=Math.asin(u/c)/Wg,h=l?a:a+s*f,p=gn(n,r,c,h),g=gn(n,r,i,h),v=l?a-s*f:a,b=gn(n,r,c*Math.cos(f*Wg),v);return{center:p,circleTangency:g,lineTangency:b,theta:f}},zB=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,u=dIe(s,o),l=s+u,c=gn(n,r,a,s),f=gn(n,r,a,l),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>l),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=gn(n,r,i,s),g=gn(n,r,i,l);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},hIe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,u=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,f=ui(c-l),h=Tm({cx:n,cy:r,radius:a,angle:l,sign:f,cornerRadius:s,cornerIsExternal:u}),p=h.circleTangency,g=h.lineTangency,v=h.theta,b=Tm({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:u}),w=b.circleTangency,T=b.lineTangency,_=b.theta,C=u?Math.abs(l-c):Math.abs(l-c)-v-_;if(C<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):zB({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:l,endAngle:c});var A="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
  `);if(i>0){var S=Tm({cx:n,cy:r,radius:i,angle:l,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),x=S.circleTangency,I=S.lineTangency,O=S.theta,R=Tm({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),N=R.circleTangency,D=R.lineTangency,k=R.theta,Y=u?Math.abs(l-c):Math.abs(l-c)-O-k;if(Y<0&&s===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Y>180),",").concat(+(f>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},pIe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WB=function(e){var n=sD(sD({},pIe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,u=n.forceCornerRadius,l=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(s<a||c===f)return null;var p=Ge("recharts-sector",h),g=s-a,v=ru(o,g,0,!0),b;return v>0&&Math.abs(c-f)<360?b=hIe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(v,g/2),forceCornerRadius:u,cornerIsExternal:l,startAngle:c,endAngle:f}):b=zB({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:c,endAngle:f}),B.createElement("path",KT({},Ve(n,!0),{className:p,d:b,role:"img"}))};function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function YT(){return YT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YT.apply(this,arguments)}function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){mIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mIe(t,e,n){return e=gIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gIe(t){var e=yIe(t,"string");return _h(e)=="symbol"?e:e+""}function yIe(t,e){if(_h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lD={curveBasisClosed:ppe,curveBasisOpen:mpe,curveBasis:hpe,curveBumpX:Zhe,curveBumpY:epe,curveLinearClosed:gpe,curveLinear:Vv,curveMonotoneX:ype,curveMonotoneY:vpe,curveNatural:bpe,curveStep:_pe,curveStepAfter:Tpe,curveStepBefore:Epe},wm=function(e){return e.x===+e.x&&e.y===+e.y},Tf=function(e){return e.x},wf=function(e){return e.y},vIe=function(e,n){if(Le(e))return e;var r="curve".concat(Bv(e));return(r==="curveMonotone"||r==="curveBump")&&n?lD["".concat(r).concat(n==="vertical"?"Y":"X")]:lD[r]||Vv},bIe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,u=e.connectNulls,l=u===void 0?!1:u,c=vIe(r,o),f=l?a.filter(function(v){return wm(v)}):a,h;if(Array.isArray(s)){var p=l?s.filter(function(v){return wm(v)}):s,g=f.map(function(v,b){return uD(uD({},v),{},{base:p[b]})});return o==="vertical"?h=hm().y(wf).x1(Tf).x0(function(v){return v.base.x}):h=hm().x(Tf).y1(wf).y0(function(v){return v.base.y}),h.defined(wm).curve(c),h(g)}return o==="vertical"&&fe(s)?h=hm().y(wf).x1(Tf).x0(s):fe(s)?h=hm().x(Tf).y1(wf).y0(s):h=W$().x(Tf).y(wf),h.defined(wm).curve(c),h(f)},QT=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?bIe(e):i;return B.createElement("path",YT({},Ve(e,!1),gg(e),{className:Ge("recharts-curve",n),d:s,ref:a}))},GB={exports:{}},_Ie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",EIe=_Ie,TIe=EIe;function KB(){}function YB(){}YB.resetWarningCache=KB;var wIe=function(){function t(r,i,a,s,o,u){if(u!==TIe){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:YB,resetWarningCache:KB};return n.PropTypes=n,n};GB.exports=wIe();var xIe=GB.exports;const Re=st(xIe);var AIe=Object.getOwnPropertyNames,SIe=Object.getOwnPropertySymbols,IIe=Object.prototype.hasOwnProperty;function cD(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function xm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);var u=t(n,r,i);return a.delete(n),a.delete(r),u}}function fD(t){return AIe(t).concat(SIe(t))}var QB=Object.hasOwn||function(t,e){return IIe.call(t,e)};function Rc(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var XB="_owner",dD=Object.getOwnPropertyDescriptor,hD=Object.keys;function PIe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function CIe(t,e){return Rc(t.getTime(),e.getTime())}function pD(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),a=0,s,o;(s=i.next())&&!s.done;){for(var u=e.entries(),l=!1,c=0;(o=u.next())&&!o.done;){var f=s.value,h=f[0],p=f[1],g=o.value,v=g[0],b=g[1];!l&&!r[c]&&(l=n.equals(h,v,a,c,t,e,n)&&n.equals(p,b,h,v,t,e,n))&&(r[c]=!0),c++}if(!l)return!1;a++}return!0}function OIe(t,e,n){var r=hD(t),i=r.length;if(hD(e).length!==i)return!1;for(var a;i-- >0;)if(a=r[i],a===XB&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!QB(e,a)||!n.equals(t[a],e[a],a,a,t,e,n))return!1;return!0}function xf(t,e,n){var r=fD(t),i=r.length;if(fD(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=r[i],a===XB&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!QB(e,a)||!n.equals(t[a],e[a],a,a,t,e,n)||(s=dD(t,a),o=dD(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function NIe(t,e){return Rc(t.valueOf(),e.valueOf())}function RIe(t,e){return t.source===e.source&&t.flags===e.flags}function mD(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),a,s;(a=i.next())&&!a.done;){for(var o=e.values(),u=!1,l=0;(s=o.next())&&!s.done;)!u&&!r[l]&&(u=n.equals(a.value,s.value,a.value,s.value,t,e,n))&&(r[l]=!0),l++;if(!u)return!1}return!0}function kIe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var DIe="[object Arguments]",MIe="[object Boolean]",LIe="[object Date]",jIe="[object Map]",FIe="[object Number]",$Ie="[object Object]",BIe="[object RegExp]",UIe="[object Set]",VIe="[object String]",HIe=Array.isArray,gD=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,yD=Object.assign,qIe=Object.prototype.toString.call.bind(Object.prototype.toString);function zIe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,s=t.areRegExpsEqual,o=t.areSetsEqual,u=t.areTypedArraysEqual;return function(c,f,h){if(c===f)return!0;if(c==null||f==null||typeof c!="object"||typeof f!="object")return c!==c&&f!==f;var p=c.constructor;if(p!==f.constructor)return!1;if(p===Object)return i(c,f,h);if(HIe(c))return e(c,f,h);if(gD!=null&&gD(c))return u(c,f,h);if(p===Date)return n(c,f,h);if(p===RegExp)return s(c,f,h);if(p===Map)return r(c,f,h);if(p===Set)return o(c,f,h);var g=qIe(c);return g===LIe?n(c,f,h):g===BIe?s(c,f,h):g===jIe?r(c,f,h):g===UIe?o(c,f,h):g===$Ie?typeof c.then!="function"&&typeof f.then!="function"&&i(c,f,h):g===DIe?i(c,f,h):g===MIe||g===FIe||g===VIe?a(c,f,h):!1}}function WIe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?xf:PIe,areDatesEqual:CIe,areMapsEqual:r?cD(pD,xf):pD,areObjectsEqual:r?xf:OIe,arePrimitiveWrappersEqual:NIe,areRegExpsEqual:RIe,areSetsEqual:r?cD(mD,xf):mD,areTypedArraysEqual:r?xf:kIe};if(n&&(i=yD({},i,n(i))),e){var a=xm(i.areArraysEqual),s=xm(i.areMapsEqual),o=xm(i.areObjectsEqual),u=xm(i.areSetsEqual);i=yD({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:u})}return i}function GIe(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function KIe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(u,l){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(u,l,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(u,l){return n(u,l,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(u,l){return n(u,l,s)}}var YIe=Gs();Gs({strict:!0});Gs({circular:!0});Gs({circular:!0,strict:!0});Gs({createInternalComparator:function(){return Rc}});Gs({strict:!0,createInternalComparator:function(){return Rc}});Gs({circular:!0,createInternalComparator:function(){return Rc}});Gs({circular:!0,createInternalComparator:function(){return Rc},strict:!0});function Gs(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=WIe(t),u=zIe(o),l=r?r(u):GIe(u);return KIe({circular:n,comparator:u,createState:i,equals:l,strict:s})}function QIe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function vD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):QIe(i)};requestAnimationFrame(r)}function XT(t){"@babel/helpers - typeof";return XT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XT(t)}function XIe(t){return t2e(t)||e2e(t)||ZIe(t)||JIe()}function JIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZIe(t,e){if(t){if(typeof t=="string")return bD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bD(t,e)}}function bD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t2e(t){if(Array.isArray(t))return t}function n2e(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=XIe(s),u=o[0],l=o.slice(1);if(typeof u=="number"){vD(i.bind(null,l),u);return}i(u),vD(i.bind(null,l));return}XT(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ED(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){JB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JB(t,e,n){return e=r2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r2e(t){var e=i2e(t,"string");return Eh(e)==="symbol"?e:String(e)}function i2e(t,e){if(Eh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Eh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a2e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},s2e=function(e){return e},o2e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},fd=function(e,n){return Object.keys(n).reduce(function(r,i){return ED(ED({},r),{},JB({},i,e(i,n[i])))},{})},TD=function(e,n,r){return e.map(function(i){return"".concat(o2e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function u2e(t,e){return f2e(t)||c2e(t,e)||ZB(t,e)||l2e()}function l2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function f2e(t){if(Array.isArray(t))return t}function d2e(t){return m2e(t)||p2e(t)||ZB(t)||h2e()}function h2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZB(t,e){if(t){if(typeof t=="string")return JT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JT(t,e)}}function p2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function m2e(t){if(Array.isArray(t))return JT(t)}function JT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kg=1e-4,eU=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},tU=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},wD=function(e,n){return function(r){var i=eU(e,n);return tU(i,r)}},g2e=function(e,n){return function(r){var i=eU(e,n),a=[].concat(d2e(i.map(function(s,o){return s*o}).slice(1)),[0]);return tU(a,r)}},xD=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var l=u[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),c=u2e(l,4);i=c[0],a=c[1],s=c[2],o=c[3]}}}var f=wD(i,s),h=wD(a,o),p=g2e(i,s),g=function(w){return w>1?1:w<0?0:w},v=function(w){for(var T=w>1?1:w,_=T,C=0;C<8;++C){var A=f(_)-T,S=p(_);if(Math.abs(A-T)<Kg||S<Kg)return h(_);_=g(_-A/S)}return h(_)};return v.isStepper=!1,v},y2e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,u=function(c,f,h){var p=-(c-f)*r,g=h*a,v=h+(p-g)*o/1e3,b=h*o/1e3+c;return Math.abs(b-f)<Kg&&Math.abs(v)<Kg?[f,0]:[b,v]};return u.isStepper=!0,u.dt=o,u},v2e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xD(i);case"spring":return y2e();default:if(i.split("(")[0]==="cubic-bezier")return xD(i)}return typeof i=="function"?i:null};function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function AD(t){return E2e(t)||_2e(t)||nU(t)||b2e()}function b2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function E2e(t){if(Array.isArray(t))return ew(t)}function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){ZT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZT(t,e,n){return e=T2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T2e(t){var e=w2e(t,"string");return Th(e)==="symbol"?e:String(e)}function w2e(t,e){if(Th(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Th(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x2e(t,e){return I2e(t)||S2e(t,e)||nU(t,e)||A2e()}function A2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nU(t,e){if(t){if(typeof t=="string")return ew(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ew(t,e)}}function ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function I2e(t){if(Array.isArray(t))return t}var Yg=function(e,n,r){return e+(n-e)*r},tw=function(e){var n=e.from,r=e.to;return n!==r},P2e=function t(e,n,r){var i=fd(function(a,s){if(tw(s)){var o=e(s.from,s.to,s.velocity),u=x2e(o,2),l=u[0],c=u[1];return dn(dn({},s),{},{from:l,velocity:c})}return s},n);return r<1?fd(function(a,s){return tw(s)?dn(dn({},s),{},{velocity:Yg(s.velocity,i[a].velocity,r),from:Yg(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const C2e=function(t,e,n,r,i){var a=a2e(t,e),s=a.reduce(function(b,w){return dn(dn({},b),{},ZT({},w,[t[w],e[w]]))},{}),o=a.reduce(function(b,w){return dn(dn({},b),{},ZT({},w,{from:t[w],velocity:0,to:e[w]}))},{}),u=-1,l,c,f=function(){return null},h=function(){return fd(function(w,T){return T.from},o)},p=function(){return!Object.values(o).filter(tw).length},g=function(w){l||(l=w);var T=w-l,_=T/n.dt;o=P2e(n,o,_),i(dn(dn(dn({},t),e),h())),l=w,p()||(u=requestAnimationFrame(f))},v=function(w){c||(c=w);var T=(w-c)/r,_=fd(function(A,S){return Yg.apply(void 0,AD(S).concat([n(T)]))},s);if(i(dn(dn(dn({},t),e),_)),T<1)u=requestAnimationFrame(f);else{var C=fd(function(A,S){return Yg.apply(void 0,AD(S).concat([n(1)]))},s);i(dn(dn(dn({},t),e),C))}};return f=n.isStepper?g:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(u)}}};function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}var O2e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function N2e(t,e){if(t==null)return{};var n=R2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function R2e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function t_(t){return L2e(t)||M2e(t)||D2e(t)||k2e()}function k2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D2e(t,e){if(t){if(typeof t=="string")return nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nw(t,e)}}function M2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function L2e(t){if(Array.isArray(t))return nw(t)}function nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){Ff(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ff(t,e,n){return e=rU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rU(r.key),r)}}function $2e(t,e,n){return e&&F2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rU(t){var e=B2e(t,"string");return Wl(e)==="symbol"?e:String(e)}function B2e(t,e){if(Wl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rw(t,e)}function rw(t,e){return rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rw(t,e)}function V2e(t){var e=H2e();return function(){var r=Qg(t),i;if(e){var a=Qg(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return iw(this,i)}}function iw(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aw(t)}function aw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H2e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qg(t)}var Ia=function(t){U2e(n,t);var e=V2e(n);function n(r,i){var a;j2e(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,u=s.attributeName,l=s.from,c=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(aw(a)),a.changeStyle=a.changeStyle.bind(aw(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),iw(a);if(f&&f.length)a.state={style:f[0].style};else if(l){if(typeof h=="function")return a.state={style:l},iw(a);a.state={style:u?Ff({},u,l):l}}else a.state={style:{}};return a}return $2e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,u=a.attributeName,l=a.shouldReAnimate,c=a.to,f=a.from,h=this.state.style;if(o){if(!s){var p={style:u?Ff({},u,c):c};this.state&&h&&(u&&h[u]!==c||!u&&h!==c)&&this.setState(p);return}if(!(YIe(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||l?f:i.to;if(this.state&&h){var b={style:u?Ff({},u,v):v};(u&&h[u]!==v||!u&&h!==v)&&this.setState(b)}this.runAnimation(Jr(Jr({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,u=i.duration,l=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=C2e(s,o,v2e(l),u,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,c,g,u,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,u=i.onAnimationStart,l=s[0],c=l.style,f=l.duration,h=f===void 0?0:f,p=function(v,b,w){if(w===0)return v;var T=b.duration,_=b.easing,C=_===void 0?"ease":_,A=b.style,S=b.properties,x=b.onAnimationEnd,I=w>0?s[w-1]:b,O=S||Object.keys(A);if(typeof C=="function"||C==="spring")return[].concat(t_(v),[a.runJSAnimation.bind(a,{from:I.style,to:A,duration:T,easing:C}),T]);var R=TD(O,T,C),N=Jr(Jr(Jr({},I.style),A),{},{transition:R});return[].concat(t_(v),[N,T,x]).filter(s2e)};return this.manager.start([u].concat(t_(s.reduce(p,[c,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=n2e());var a=i.begin,s=i.duration,o=i.attributeName,u=i.to,l=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof l=="function"||typeof p=="function"||l==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=o?Ff({},o,u):u,b=TD(Object.keys(v),s,l);g.start([c,a,Jr(Jr({},v),{},{transition:b}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=N2e(i,O2e),l=F.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!o||l===0||s<=0)return a;var f=function(p){var g=p.props,v=g.style,b=v===void 0?{}:v,w=g.className,T=F.cloneElement(p,Jr(Jr({},u),{},{style:Jr(Jr({},b),c),className:w}));return T};return l===1?f(F.Children.only(a)):B.createElement("div",null,F.Children.map(a,function(h){return f(h)}))}}]),n}(F.PureComponent);Ia.displayName="Animate";Ia.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ia.propTypes={from:Re.oneOfType([Re.object,Re.string]),to:Re.oneOfType([Re.object,Re.string]),attributeName:Re.string,duration:Re.number,begin:Re.number,easing:Re.oneOfType([Re.string,Re.func]),steps:Re.arrayOf(Re.shape({duration:Re.number.isRequired,style:Re.object.isRequired,easing:Re.oneOfType([Re.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Re.func]),properties:Re.arrayOf("string"),onAnimationEnd:Re.func})),children:Re.oneOfType([Re.node,Re.func]),isActive:Re.bool,canBegin:Re.bool,onAnimationEnd:Re.func,shouldReAnimate:Re.bool,onAnimationStart:Re.func,onAnimationReStart:Re.func};Re.object,Re.object,Re.object,Re.element;Re.object,Re.object,Re.object,Re.oneOfType([Re.array,Re.element]),Re.any;function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function Xg(){return Xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(this,arguments)}function q2e(t,e){return K2e(t)||G2e(t,e)||W2e(t,e)||z2e()}function z2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W2e(t,e){if(t){if(typeof t=="string")return PD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PD(t,e)}}function PD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function K2e(t){if(Array.isArray(t))return t}function CD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(n),!0).forEach(function(r){Y2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y2e(t,e,n){return e=Q2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q2e(t){var e=X2e(t,"string");return wh(e)=="symbol"?e:e+""}function X2e(t,e){if(wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ND=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,u=r>=0?1:-1,l=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];c="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(l,",").concat(e+u*f[0],",").concat(n)),c+="L ".concat(e+r-u*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(n+o*f[1])),c+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(l,`,
        `).concat(e+r-u*f[2],",").concat(n+i)),c+="L ".concat(e+u*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(n+i-o*f[3])),c+="Z"}else if(s>0&&a===+a&&a>0){var g=Math.min(s,a);c="M ".concat(e,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e+u*g,",").concat(n,`
            L `).concat(e+r-u*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e+r,",").concat(n+o*g,`
            L `).concat(e+r,",").concat(n+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e+r-u*g,",").concat(n+i,`
            L `).concat(e+u*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e,",").concat(n+i-o*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},J2e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,u=n.height;if(Math.abs(o)>0&&Math.abs(u)>0){var l=Math.min(a,a+o),c=Math.max(a,a+o),f=Math.min(s,s+u),h=Math.max(s,s+u);return r>=l&&r<=c&&i>=f&&i<=h}return!1},Z2e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rI=function(e){var n=OD(OD({},Z2e),e),r=F.useRef(),i=F.useState(-1),a=q2e(i,2),s=a[0],o=a[1];F.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&o(C)}catch{}},[]);var u=n.x,l=n.y,c=n.width,f=n.height,h=n.radius,p=n.className,g=n.animationEasing,v=n.animationDuration,b=n.animationBegin,w=n.isAnimationActive,T=n.isUpdateAnimationActive;if(u!==+u||l!==+l||c!==+c||f!==+f||c===0||f===0)return null;var _=Ge("recharts-rectangle",p);return T?B.createElement(Ia,{canBegin:s>0,from:{width:c,height:f,x:u,y:l},to:{width:c,height:f,x:u,y:l},duration:v,animationEasing:g,isActive:T},function(C){var A=C.width,S=C.height,x=C.x,I=C.y;return B.createElement(Ia,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:w,easing:g},B.createElement("path",Xg({},Ve(n,!0),{className:_,d:ND(x,I,A,S,h),ref:r})))}):B.createElement("path",Xg({},Ve(n,!0),{className:_,d:ND(u,l,c,f,h)}))};function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(this,arguments)}var iI=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Ge("recharts-dot",a);return n===+n&&r===+r&&i===+i?B.createElement("circle",sw({},Ve(e,!1),gg(e),{className:s,cx:n,cy:r,r:i})):null};function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}var ePe=["x","y","top","left","width","height","className"];function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tPe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){nPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nPe(t,e,n){return e=rPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rPe(t){var e=iPe(t,"string");return xh(e)=="symbol"?e:e+""}function iPe(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aPe(t,e){if(t==null)return{};var n=sPe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var oPe=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},uPe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,u=e.left,l=u===void 0?0:u,c=e.width,f=c===void 0?0:c,h=e.height,p=h===void 0?0:h,g=e.className,v=aPe(e,ePe),b=tPe({x:r,y:a,top:o,left:l,width:f,height:p},v);return!fe(r)||!fe(a)||!fe(f)||!fe(p)||!fe(o)||!fe(l)?null:B.createElement("path",ow({},Ve(b,!0),{className:Ge("recharts-cross",g),d:oPe(r,a,f,p,o,l)}))},lPe=g8,cPe=lPe(Object.getPrototypeOf,Object),fPe=cPe,dPe=Ra,hPe=fPe,pPe=ka,mPe="[object Object]",gPe=Function.prototype,yPe=Object.prototype,iU=gPe.toString,vPe=yPe.hasOwnProperty,bPe=iU.call(Object);function _Pe(t){if(!pPe(t)||dPe(t)!=mPe)return!1;var e=hPe(t);if(e===null)return!0;var n=vPe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&iU.call(n)==bPe}var EPe=_Pe;const TPe=st(EPe);var wPe=Ra,xPe=ka,APe="[object Boolean]";function SPe(t){return t===!0||t===!1||xPe(t)&&wPe(t)==APe}var IPe=SPe;const PPe=st(IPe);function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(this,arguments)}function CPe(t,e){return kPe(t)||RPe(t,e)||NPe(t,e)||OPe()}function OPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NPe(t,e){if(t){if(typeof t=="string")return kD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kD(t,e)}}function kD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function kPe(t){if(Array.isArray(t))return t}function DD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(n),!0).forEach(function(r){DPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DPe(t,e,n){return e=MPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MPe(t){var e=LPe(t,"string");return Ah(e)=="symbol"?e:e+""}function LPe(t,e){if(Ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LD=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},jPe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FPe=function(e){var n=MD(MD({},jPe),e),r=F.useRef(),i=F.useState(-1),a=CPe(i,2),s=a[0],o=a[1];F.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&o(_)}catch{}},[]);var u=n.x,l=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,v=n.animationDuration,b=n.animationBegin,w=n.isUpdateAnimationActive;if(u!==+u||l!==+l||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var T=Ge("recharts-trapezoid",p);return w?B.createElement(Ia,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:u,y:l},to:{upperWidth:c,lowerWidth:f,height:h,x:u,y:l},duration:v,animationEasing:g,isActive:w},function(_){var C=_.upperWidth,A=_.lowerWidth,S=_.height,x=_.x,I=_.y;return B.createElement(Ia,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,easing:g},B.createElement("path",Jg({},Ve(n,!0),{className:T,d:LD(x,I,C,A,S),ref:r})))}):B.createElement("g",null,B.createElement("path",Jg({},Ve(n,!0),{className:T,d:LD(u,l,c,f,h)})))},$Pe=["option","shapeType","propTransformer","activeClassName","isActive"];function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function BPe(t,e){if(t==null)return{};var n=UPe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(n),!0).forEach(function(r){VPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VPe(t,e,n){return e=HPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HPe(t){var e=qPe(t,"string");return Sh(e)=="symbol"?e:e+""}function qPe(t,e){if(Sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zPe(t,e){return Zg(Zg({},e),t)}function WPe(t,e){return t==="symbols"}function FD(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return B.createElement(rI,n);case"trapezoid":return B.createElement(FPe,n);case"sector":return B.createElement(WB,n);case"symbols":if(WPe(e))return B.createElement(TS,n);break;default:return null}}function GPe(t){return F.isValidElement(t)?t.props:t}function KPe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?zPe:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,u=BPe(t,$Pe),l;if(F.isValidElement(e))l=F.cloneElement(e,Zg(Zg({},u),GPe(e)));else if(Le(e))l=e(u);else if(TPe(e)&&!PPe(e)){var c=i(e,u);l=B.createElement(FD,{shapeType:n,elementProps:c})}else{var f=u;l=B.createElement(FD,{shapeType:n,elementProps:f})}return o?B.createElement(Ft,{className:s},l):l}function ib(t,e){return e!=null&&"trapezoids"in t.props}function ab(t,e){return e!=null&&"sectors"in t.props}function Ih(t,e){return e!=null&&"points"in t.props}function YPe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function QPe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function XPe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function JPe(t,e){var n;return ib(t,e)?n=YPe:ab(t,e)?n=QPe:Ih(t,e)&&(n=XPe),n}function ZPe(t,e){var n;return ib(t,e)?n="trapezoids":ab(t,e)?n="sectors":Ih(t,e)&&(n="points"),n}function eCe(t,e){if(ib(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ab(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ih(t,e)?e.payload:{}}function tCe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=ZPe(n,e),a=eCe(n,e),s=r.filter(function(u,l){var c=tb(a,u),f=n.props[i].filter(function(g){var v=JPe(n,e);return v(g,e)}),h=n.props[i].indexOf(f[f.length-1]),p=l===h;return c&&p}),o=r.indexOf(s[s.length-1]);return o}var nCe=Math.ceil,rCe=Math.max;function iCe(t,e,n,r){for(var i=-1,a=rCe(nCe((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var aCe=iCe,sCe=M8,$D=1/0,oCe=17976931348623157e292;function uCe(t){if(!t)return t===0?t:0;if(t=sCe(t),t===$D||t===-$D){var e=t<0?-1:1;return e*oCe}return t===t?t:0}var aU=uCe,lCe=aCe,cCe=Wv,n_=aU;function fCe(t){return function(e,n,r){return r&&typeof r!="number"&&cCe(e,n,r)&&(n=r=void 0),e=n_(e),n===void 0?(n=e,e=0):n=n_(n),r=r===void 0?e<n?1:-1:n_(r),lCe(e,n,r,t)}}var dCe=fCe,hCe=dCe,pCe=hCe(),mCe=pCe;const ey=st(mCe);function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function BD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BD(Object(n),!0).forEach(function(r){sU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sU(t,e,n){return e=gCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gCe(t){var e=yCe(t,"string");return Ph(e)=="symbol"?e:e+""}function yCe(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vCe=["Webkit","Moz","O","ms"],bCe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=vCe.reduce(function(a,s){return UD(UD({},a),{},sU({},s+r,n))},{});return i[e]=n,i};function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ty.apply(this,arguments)}function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){lr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uU(r.key),r)}}function ECe(t,e,n){return e&&HD(t.prototype,e),n&&HD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TCe(t,e,n){return e=ny(e),wCe(t,oU()?Reflect.construct(e,n||[],ny(t).constructor):e.apply(t,n))}function wCe(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xCe(t)}function xCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oU=function(){return!!t})()}function ny(t){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ny(t)}function ACe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uw(t,e)}function uw(t,e){return uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uw(t,e)}function lr(t,e,n){return e=uU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uU(t){var e=SCe(t,"string");return Gl(e)=="symbol"?e:e+""}function SCe(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ICe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var u=n.length,l=ld().domain(ey(0,u)).range([a,a+s-o]),c=l.domain().map(function(f){return l(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(i),scale:l,scaleValues:c}},qD=function(e){return e.changedTouches&&!!e.changedTouches.length},Kl=function(t){function e(n){var r;return _Ce(this,e),r=TCe(this,e,[n]),lr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),lr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),lr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),lr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),lr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),lr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),lr(r,"handleSlideDragStart",function(i){var a=qD(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return ACe(e,t),ECe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,u=o.gap,l=o.data,c=l.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,f),g=e.getIndexInRange(s,h);return{startIndex:p-p%u,endIndex:g===c?c:g-g%u}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,u=xr(a[r],o,r);return Le(s)?s(u,r):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,u=this.props,l=u.x,c=u.width,f=u.travellerWidth,h=u.startIndex,p=u.endIndex,g=u.onChange,v=r.pageX-a;v>0?v=Math.min(v,l+c-f-o,l+c-f-s):v<0&&(v=Math.max(v,l-s,l-o));var b=this.getIndex({startX:s+v,endX:o+v});(b.startIndex!==h||b.endIndex!==p)&&g&&g(b),this.setState({startX:s+v,endX:o+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=qD(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,u=i.startX,l=this.state[s],c=this.props,f=c.x,h=c.width,p=c.travellerWidth,g=c.onChange,v=c.gap,b=c.data,w={startX:this.state.startX,endX:this.state.endX},T=r.pageX-a;T>0?T=Math.min(T,f+h-p-l):T<0&&(T=Math.max(T,f-l)),w[s]=l+T;var _=this.getIndex(w),C=_.startIndex,A=_.endIndex,S=function(){var I=b.length-1;return s==="startX"&&(o>u?C%v===0:A%v===0)||o<u&&A===I||s==="endX"&&(o>u?A%v===0:C%v===0)||o>u&&A===I};this.setState(lr(lr({},s,l+T),"brushMoveStartX",r.pageX),function(){g&&S()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,u=s.startX,l=s.endX,c=this.state[i],f=o.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=l||i==="endX"&&p<=u||this.setState(lr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,u=r.fill,l=r.stroke;return B.createElement("rect",{stroke:l,fill:u,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,u=r.data,l=r.children,c=r.padding,f=F.Children.only(l);return f?B.cloneElement(f,{x:i,y:a,width:s,height:o,margin:c,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,u=this.props,l=u.y,c=u.travellerWidth,f=u.height,h=u.traveller,p=u.ariaLabel,g=u.data,v=u.startIndex,b=u.endIndex,w=Math.max(r,this.props.x),T=r_(r_({},Ve(this.props,!1)),{},{x:w,y:l,width:c,height:f}),_=p||"Min value: ".concat((a=g[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=g[b])===null||s===void 0?void 0:s.name);return B.createElement(Ft,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),o.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,T))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,u=a.stroke,l=a.travellerWidth,c=Math.min(r,i)+l,f=Math.max(Math.abs(i-r)-l,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:c,y:s,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,u=r.travellerWidth,l=r.stroke,c=this.state,f=c.startX,h=c.endX,p=5,g={pointerEvents:"none",fill:l};return B.createElement(Ft,{className:"recharts-brush-texts"},B.createElement(Ng,ty({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},g),this.getTextOfTick(i)),B.createElement(Ng,ty({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+u+p,y:s+o/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,u=r.y,l=r.width,c=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,g=h.endX,v=h.isTextActive,b=h.isSlideMoving,w=h.isTravellerMoving,T=h.isTravellerFocused;if(!i||!i.length||!fe(o)||!fe(u)||!fe(l)||!fe(c)||l<=0||c<=0)return null;var _=Ge("recharts-brush",a),C=B.Children.count(s)===1,A=bCe("userSelect","none");return B.createElement(Ft,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(v||b||w||T||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,u=r.stroke,l=Math.floor(a+o/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:i,y:a,width:s,height:o,fill:u,stroke:"none"}),B.createElement("line",{x1:i+1,y1:l,x2:i+s-1,y2:l,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:i+1,y1:l+2,x2:i+s-1,y2:l+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return B.isValidElement(r)?a=B.cloneElement(r,i):Le(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,u=r.travellerWidth,l=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||l!==i.prevUpdateId)return r_({prevData:a,prevTravellerWidth:u,prevUpdateId:l,prevX:o,prevWidth:s},a&&a.length?ICe({data:a,width:s,x:o,travellerWidth:u,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([o,o+s-u]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:u,prevUpdateId:l,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var u=Math.floor((s+o)/2);r[u]>i?o=u:s=u}return i>=r[o]?o:s}}])}(F.PureComponent);lr(Kl,"displayName","Brush");lr(Kl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var PCe=CS;function CCe(t,e){var n;return PCe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var OCe=CCe,NCe=u8,RCe=qs,kCe=OCe,DCe=sr,MCe=Wv;function LCe(t,e,n){var r=DCe(t)?NCe:kCe;return n&&MCe(t,e,n)&&(e=void 0),r(t,RCe(e))}var jCe=LCe;const FCe=st(jCe);var Li=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},zD=O8;function $Ce(t,e,n){e=="__proto__"&&zD?zD(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var BCe=$Ce,UCe=BCe,VCe=P8,HCe=qs;function qCe(t,e){var n={};return e=HCe(e),VCe(t,function(r,i,a){UCe(n,i,e(r,i,a))}),n}var zCe=qCe;const WCe=st(zCe);function GCe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var KCe=GCe,YCe=CS;function QCe(t,e){var n=!0;return YCe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var XCe=QCe,JCe=KCe,ZCe=XCe,eOe=qs,tOe=sr,nOe=Wv;function rOe(t,e,n){var r=tOe(t)?JCe:ZCe;return n&&nOe(t,e,n)&&(e=void 0),r(t,eOe(e))}var iOe=rOe;const lU=st(iOe);var aOe=["x","y"];function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(this,arguments)}function WD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Af(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(n),!0).forEach(function(r){sOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sOe(t,e,n){return e=oOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oOe(t){var e=uOe(t,"string");return Ch(e)=="symbol"?e:e+""}function uOe(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lOe(t,e){if(t==null)return{};var n=cOe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fOe(t,e){var n=t.x,r=t.y,i=lOe(t,aOe),a="".concat(n),s=parseInt(a,10),o="".concat(r),u=parseInt(o,10),l="".concat(e.height||i.height),c=parseInt(l,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Af(Af(Af(Af(Af({},e),i),s?{x:s}:{}),u?{y:u}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function GD(t){return B.createElement(KPe,lw({shapeType:"rectangle",propTransformer:fOe,activeClassName:"recharts-active-bar"},t))}var dOe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||au(),n)}},hOe=["value","background"],cU;function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function pOe(t,e){if(t==null)return{};var n=mOe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ry(){return ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ry.apply(this,arguments)}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){fs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dU(r.key),r)}}function yOe(t,e,n){return e&&YD(t.prototype,e),n&&YD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vOe(t,e,n){return e=iy(e),bOe(t,fU()?Reflect.construct(e,n||[],iy(t).constructor):e.apply(t,n))}function bOe(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Oe(t)}function _Oe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fU=function(){return!!t})()}function iy(t){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iy(t)}function EOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cw(t,e)}function cw(t,e){return cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cw(t,e)}function fs(t,e,n){return e=dU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dU(t){var e=TOe(t,"string");return Yl(e)=="symbol"?e:e+""}function TOe(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bp=function(t){function e(){var n;gOe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=vOe(this,e,[].concat(i)),fs(n,"state",{isAnimationFinished:!1}),fs(n,"id",dp("recharts-bar-")),fs(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),fs(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return EOe(e,t),yOe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,u=a.activeIndex,l=a.activeBar,c=Ve(this.props,!1);return r&&r.map(function(f,h){var p=h===u,g=p?l:s,v=Ut(Ut(Ut({},c),f),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return B.createElement(Ft,ry({className:"recharts-bar-rectangle"},yg(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),B.createElement(GD,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,u=i.animationBegin,l=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return B.createElement(Ia,{begin:u,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,v=a.map(function(b,w){var T=h&&h[w];if(T){var _=ai(T.x,b.x),C=ai(T.y,b.y),A=ai(T.width,b.width),S=ai(T.height,b.height);return Ut(Ut({},b),{},{x:_(g),y:C(g),width:A(g),height:S(g)})}if(s==="horizontal"){var x=ai(0,b.height),I=x(g);return Ut(Ut({},b),{},{y:b.y+b.height-I,height:I})}var O=ai(0,b.width),R=O(g);return Ut(Ut({},b),{},{width:R})});return B.createElement(Ft,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!tb(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,u=Ve(this.props.background,!1);return a.map(function(l,c){l.value;var f=l.background,h=pOe(l,hOe);if(!f)return null;var p=Ut(Ut(Ut(Ut(Ut({},h),{},{fill:"#eee"},f),u),yg(r.props,l,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return B.createElement(GD,ry({key:"background-bar-".concat(c),option:r.props.background,isActive:c===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,u=a.yAxis,l=a.layout,c=a.children,f=Hr(c,vp);if(!f)return null;var h=l==="vertical"?s[0].height/2:s[0].width/2,p=function(b,w){var T=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:T,errorVal:xr(b,w)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(Ft,g,f.map(function(v){return B.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:s,xAxis:o,yAxis:u,layout:l,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,u=r.yAxis,l=r.left,c=r.top,f=r.width,h=r.height,p=r.isAnimationActive,g=r.background,v=r.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,w=Ge("recharts-bar",s),T=o&&o.allowDataOverflow,_=u&&u.allowDataOverflow,C=T||_,A=Be(v)?this.id:v;return B.createElement(Ft,{className:w},T||_?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(A)},B.createElement("rect",{x:T?l:l-f/2,y:_?c:c-h/2,width:T?f:f*2,height:_?h:h*2}))):null,B.createElement(Ft,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(A,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,A),(!p||b)&&As.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(F.PureComponent);cU=bp;fs(bp,"displayName","Bar");fs(bp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Pc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});fs(bp,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,u=t.yAxisTicks,l=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,p=uSe(r,n);if(!p)return null;var g=e.layout,v=n.type.defaultProps,b=v!==void 0?Ut(Ut({},v),n.props):n.props,w=b.dataKey,T=b.children,_=b.minPointSize,C=g==="horizontal"?s:a,A=l?C.scale.domain():null,S=gSe({numericAxis:C}),x=Hr(T,j8),I=f.map(function(O,R){var N,D,k,Y,K,Z;l?N=lSe(l[c+R],A):(N=xr(O,w),Array.isArray(N)||(N=[S,N]));var te=dOe(_,cU.defaultProps.minPointSize)(N[1],R);if(g==="horizontal"){var q,X=[s.scale(N[0]),s.scale(N[1])],ie=X[0],he=X[1];D=Kk({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:O,index:R}),k=(q=he??ie)!==null&&q!==void 0?q:void 0,Y=p.size;var ae=ie-he;if(K=Number.isNaN(ae)?0:ae,Z={x:D,y:s.y,width:Y,height:s.height},Math.abs(te)>0&&Math.abs(K)<Math.abs(te)){var me=ui(K||te)*(Math.abs(te)-Math.abs(K));k-=me,K+=me}}else{var Ue=[a.scale(N[0]),a.scale(N[1])],Qe=Ue[0],wt=Ue[1];if(D=Qe,k=Kk({axis:s,ticks:u,bandSize:i,offset:p.offset,entry:O,index:R}),Y=wt-Qe,K=p.size,Z={x:a.x,y:k,width:a.width,height:K},Math.abs(te)>0&&Math.abs(Y)<Math.abs(te)){var ln=ui(Y||te)*(Math.abs(te)-Math.abs(Y));Y+=ln}}return Ut(Ut(Ut({},O),{},{x:D,y:k,width:Y,height:K,value:l?N:N[1],payload:O,background:Z},x&&x[R]&&x[R].props),{},{tooltipPayload:[HB(n,O)],tooltipPosition:{x:D+Y/2,y:k+K/2}})});return Ut({data:I,layout:g},h)});function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function wOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hU(r.key),r)}}function xOe(t,e,n){return e&&QD(t.prototype,e),n&&QD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XD(Object(n),!0).forEach(function(r){sb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sb(t,e,n){return e=hU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hU(t){var e=AOe(t,"string");return Oh(e)=="symbol"?e:e+""}function AOe(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SOe=function(e,n,r,i,a){var s=e.width,o=e.height,u=e.layout,l=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!fr(l,bp);return c.reduce(function(p,g){var v=n[g],b=v.orientation,w=v.domain,T=v.padding,_=T===void 0?{}:T,C=v.mirror,A=v.reversed,S="".concat(b).concat(C?"Mirror":""),x,I,O,R,N;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var D=w[1]-w[0],k=1/0,Y=v.categoricalDomain.sort();if(Y.forEach(function(Ue,Qe){Qe>0&&(k=Math.min((Ue||0)-(Y[Qe-1]||0),k))}),Number.isFinite(k)){var K=k/D,Z=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(x=K*Z/2),v.padding==="no-gap"){var te=ru(e.barCategoryGap,K*Z),q=K*Z/2;x=q-te-(q-te)/Z*te}}}i==="xAxis"?I=[r.left+(_.left||0)+(x||0),r.left+r.width-(_.right||0)-(x||0)]:i==="yAxis"?I=u==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(x||0),r.top+r.height-(_.bottom||0)-(x||0)]:I=v.range,A&&(I=[I[1],I[0]]);var X=sSe(v,a,h),ie=X.scale,he=X.realScaleType;ie.domain(w).range(I),oSe(ie);var ae=mSe(ie,ni(ni({},v),{},{realScaleType:he}));i==="xAxis"?(N=b==="top"&&!C||b==="bottom"&&C,O=r.left,R=f[S]-N*v.height):i==="yAxis"&&(N=b==="left"&&!C||b==="right"&&C,O=f[S]-N*v.width,R=r.top);var me=ni(ni(ni({},v),ae),{},{realScaleType:he,x:O,y:R,scale:ie,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return me.bandSize=zg(me,ae),!v.hide&&i==="xAxis"?f[S]+=(N?-1:1)*me.height:v.hide||(f[S]+=(N?-1:1)*me.width),ni(ni({},p),{},sb({},g,me))},{})},pU=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},IOe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return pU({x:n,y:r},{x:i,y:a})},mU=function(){function t(e){wOe(this,t),this.scale=e}return xOe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();sb(mU,"EPS",1e-4);var aI=function(e){var n=Object.keys(e).reduce(function(r,i){return ni(ni({},r),{},sb({},i,mU.create(e[i])))},{});return ni(ni({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return WCe(i,function(u,l){return n[l].apply(u,{bandAware:s,position:o})})},isInRange:function(i){return lU(i,function(a,s){return n[s].isInRange(a)})}})};function POe(t){return(t%180+180)%180}var COe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=POe(i),s=a*Math.PI/180,o=Math.atan(r/n),u=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(u)},OOe=qs,NOe=hp,ROe=qv;function kOe(t){return function(e,n,r){var i=Object(e);if(!NOe(e)){var a=OOe(n);e=ROe(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var DOe=kOe,MOe=aU;function LOe(t){var e=MOe(t),n=e%1;return e===e?n?e-n:e:0}var jOe=LOe,FOe=T8,$Oe=qs,BOe=jOe,UOe=Math.max;function VOe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:BOe(n);return i<0&&(i=UOe(r+i,0)),FOe(t,$Oe(e),i)}var HOe=VOe,qOe=DOe,zOe=HOe,WOe=qOe(zOe),GOe=WOe;const KOe=st(GOe);var YOe=qfe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),sI=F.createContext(void 0),oI=F.createContext(void 0),gU=F.createContext(void 0),yU=F.createContext({}),vU=F.createContext(void 0),bU=F.createContext(0),_U=F.createContext(0),JD=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,u=e.width,l=e.height,c=YOe(a);return B.createElement(sI.Provider,{value:r},B.createElement(oI.Provider,{value:i},B.createElement(yU.Provider,{value:a},B.createElement(gU.Provider,{value:c},B.createElement(vU.Provider,{value:s},B.createElement(bU.Provider,{value:l},B.createElement(_U.Provider,{value:u},o)))))))},QOe=function(){return F.useContext(vU)},EU=function(e){var n=F.useContext(sI);n==null&&au();var r=n[e];return r==null&&au(),r},XOe=function(){var e=F.useContext(sI);return is(e)},JOe=function(){var e=F.useContext(oI),n=KOe(e,function(r){return lU(r.domain,Number.isFinite)});return n||is(e)},TU=function(e){var n=F.useContext(oI);n==null&&au();var r=n[e];return r==null&&au(),r},ZOe=function(){var e=F.useContext(gU);return e},eNe=function(){return F.useContext(yU)},uI=function(){return F.useContext(_U)},lI=function(){return F.useContext(bU)};function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function tNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xU(r.key),r)}}function rNe(t,e,n){return e&&nNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iNe(t,e,n){return e=ay(e),aNe(t,wU()?Reflect.construct(e,n||[],ay(t).constructor):e.apply(t,n))}function aNe(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sNe(t)}function sNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wU=function(){return!!t})()}function ay(t){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ay(t)}function oNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fw(t,e)}function fw(t,e){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fw(t,e)}function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(n),!0).forEach(function(r){cI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cI(t,e,n){return e=xU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xU(t){var e=uNe(t,"string");return Ql(e)=="symbol"?e:e+""}function uNe(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lNe(t,e){return hNe(t)||dNe(t,e)||fNe(t,e)||cNe()}function cNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fNe(t,e){if(t){if(typeof t=="string")return t3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t3(t,e)}}function t3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function hNe(t){if(Array.isArray(t))return t}function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(this,arguments)}var pNe=function(e,n){var r;return B.isValidElement(e)?r=B.cloneElement(e,n):Le(e)?r=e(n):r=B.createElement("line",dw({},n,{className:"recharts-reference-line-line"})),r},mNe=function(e,n,r,i,a,s,o,u,l){var c=a.x,f=a.y,h=a.width,p=a.height;if(r){var g=l.y,v=e.y.apply(g,{position:s});if(Li(l,"discard")&&!e.y.isInRange(v))return null;var b=[{x:c+h,y:v},{x:c,y:v}];return u==="left"?b.reverse():b}if(n){var w=l.x,T=e.x.apply(w,{position:s});if(Li(l,"discard")&&!e.x.isInRange(T))return null;var _=[{x:T,y:f+p},{x:T,y:f}];return o==="top"?_.reverse():_}if(i){var C=l.segment,A=C.map(function(S){return e.apply(S,{position:s})});return Li(l,"discard")&&FCe(A,function(S){return!e.isInRange(S)})?null:A}return null};function gNe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,u=t.alwaysShow,l=QOe(),c=EU(i),f=TU(a),h=ZOe();if(!l||!h)return null;pa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=aI({x:c.scale,y:f.scale}),g=Qt(e),v=Qt(n),b=r&&r.length===2,w=mNe(p,g,v,b,h,t.position,c.orientation,f.orientation,t);if(!w)return null;var T=lNe(w,2),_=T[0],C=_.x,A=_.y,S=T[1],x=S.x,I=S.y,O=Li(t,"hidden")?"url(#".concat(l,")"):void 0,R=e3(e3({clipPath:O},Ve(t,!0)),{},{x1:C,y1:A,x2:x,y2:I});return B.createElement(Ft,{className:Ge("recharts-reference-line",o)},pNe(s,R),Cn.renderCallByParent(t,IOe({x1:C,y1:A,x2:x,y2:I})))}var fI=function(t){function e(){return tNe(this,e),iNe(this,e,arguments)}return oNe(e,t),rNe(e,[{key:"render",value:function(){return B.createElement(gNe,this.props)}}])}(B.Component);cI(fI,"displayName","ReferenceLine");cI(fI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(this,arguments)}function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function n3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n3(Object(n),!0).forEach(function(r){ob(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SU(r.key),r)}}function bNe(t,e,n){return e&&vNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ne(t,e,n){return e=sy(e),ENe(t,AU()?Reflect.construct(e,n||[],sy(t).constructor):e.apply(t,n))}function ENe(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TNe(t)}function TNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AU=function(){return!!t})()}function sy(t){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sy(t)}function wNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pw(t,e)}function pw(t,e){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pw(t,e)}function ob(t,e,n){return e=SU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SU(t){var e=xNe(t,"string");return Xl(e)=="symbol"?e:e+""}function xNe(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ANe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=aI({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return Li(e,"discard")&&!s.isInRange(o)?null:o},ub=function(t){function e(){return yNe(this,e),_Ne(this,e,arguments)}return wNe(e,t),bNe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,u=r.clipPathId,l=Qt(i),c=Qt(a);if(pa(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var f=ANe(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,v=g.shape,b=g.className,w=Li(this.props,"hidden")?"url(#".concat(u,")"):void 0,T=r3(r3({clipPath:w},Ve(this.props,!0)),{},{cx:h,cy:p});return B.createElement(Ft,{className:Ge("recharts-reference-dot",b)},e.renderDot(v,T),Cn.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(B.Component);ob(ub,"displayName","ReferenceDot");ob(ub,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ob(ub,"renderDot",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Le(t)?n=t(e):n=B.createElement(iI,hw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mw.apply(this,arguments)}function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function i3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i3(Object(n),!0).forEach(function(r){lb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function INe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PU(r.key),r)}}function PNe(t,e,n){return e&&INe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CNe(t,e,n){return e=oy(e),ONe(t,IU()?Reflect.construct(e,n||[],oy(t).constructor):e.apply(t,n))}function ONe(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NNe(t)}function NNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IU=function(){return!!t})()}function oy(t){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oy(t)}function RNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gw(t,e)}function lb(t,e,n){return e=PU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PU(t){var e=kNe(t,"string");return Jl(e)=="symbol"?e:e+""}function kNe(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DNe=function(e,n,r,i,a){var s=a.x1,o=a.x2,u=a.y1,l=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var h=aI({x:c.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(u,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(l,{position:"end"}):h.y.rangeMax};return Li(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:pU(p,g)},cb=function(t){function e(){return SNe(this,e),CNe(this,e,arguments)}return RNe(e,t),PNe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,u=r.className,l=r.alwaysShow,c=r.clipPathId;pa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Qt(i),h=Qt(a),p=Qt(s),g=Qt(o),v=this.props.shape;if(!f&&!h&&!p&&!g&&!v)return null;var b=DNe(f,h,p,g,this.props);if(!b&&!v)return null;var w=Li(this.props,"hidden")?"url(#".concat(c,")"):void 0;return B.createElement(Ft,{className:Ge("recharts-reference-area",u)},e.renderRect(v,a3(a3({clipPath:w},Ve(this.props,!0)),b)),Cn.renderCallByParent(this.props,b))}}])}(B.Component);lb(cb,"displayName","ReferenceArea");lb(cb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});lb(cb,"renderRect",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Le(t)?n=t(e):n=B.createElement(rI,mw({},e,{className:"recharts-reference-area-rect"})),n});function CU(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function MNe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return COe(r,n)}function LNe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function uy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function jNe(t,e){return CU(t,e+1)}function FNe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,u=0,l=1,c=s,f=function(){var g=r==null?void 0:r[u];if(g===void 0)return{v:CU(r,l)};var v=u,b,w=function(){return b===void 0&&(b=n(g,v)),b},T=g.coordinate,_=u===0||uy(t,T,w,c,o);_||(u=0,c=s,l+=1),_&&(c=T+t*(w()/2+i),u+=l)},h;l<=a.length;)if(h=f(),h)return h.v;return[]}function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function s3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s3(Object(n),!0).forEach(function(r){$Ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ne(t,e,n){return e=BNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BNe(t){var e=UNe(t,"string");return Nh(e)=="symbol"?e:e+""}function UNe(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VNe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,u=e.end,l=function(h){var p=a[h],g,v=function(){return g===void 0&&(g=n(p,h)),g};if(h===s-1){var b=t*(p.coordinate+t*v()/2-u);a[h]=p=In(In({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else a[h]=p=In(In({},p),{},{tickCoord:p.coordinate});var w=uy(t,p.tickCoord,v,o,u);w&&(u=p.tickCoord-t*(v()/2+i),a[h]=In(In({},p),{},{isShow:!0}))},c=s-1;c>=0;c--)l(c);return a}function HNe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,u=e.start,l=e.end;if(a){var c=r[o-1],f=n(c,o-1),h=t*(c.coordinate+t*f/2-l);s[o-1]=c=In(In({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=uy(t,c.tickCoord,function(){return f},u,l);p&&(l=c.tickCoord-t*(f/2+i),s[o-1]=In(In({},c),{},{isShow:!0}))}for(var g=a?o-1:o,v=function(T){var _=s[T],C,A=function(){return C===void 0&&(C=n(_,T)),C};if(T===0){var S=t*(_.coordinate-t*A()/2-u);s[T]=_=In(In({},_),{},{tickCoord:S<0?_.coordinate-S*t:_.coordinate})}else s[T]=_=In(In({},_),{},{tickCoord:_.coordinate});var x=uy(t,_.tickCoord,A,u,l);x&&(u=_.tickCoord+t*(A()/2+i),s[T]=In(In({},_),{},{isShow:!0}))},b=0;b<g;b++)v(b);return s}function dI(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,u=t.interval,l=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(fe(u)||Pc.isSsr)return jNe(i,typeof u=="number"&&fe(u)?u:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=c&&p==="width"?ud(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(_,C){var A=Le(l)?l(_.value,C):_.value;return p==="width"?MNe(ud(A,{fontSize:e,letterSpacing:n}),g,f):ud(A,{fontSize:e,letterSpacing:n})[p]},b=i.length>=2?ui(i[1].coordinate-i[0].coordinate):1,w=LNe(a,b,p);return u==="equidistantPreserveStart"?FNe(b,w,v,i,s):(u==="preserveStart"||u==="preserveStartEnd"?h=HNe(b,w,v,i,s,u==="preserveStartEnd"):h=VNe(b,w,v,i,s),h.filter(function(T){return T.isShow}))}var qNe=["viewBox"],zNe=["viewBox"],WNe=["ticks"];function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function el(){return el=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},el.apply(this,arguments)}function o3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(n),!0).forEach(function(r){hI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i_(t,e){if(t==null)return{};var n=GNe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NU(r.key),r)}}function YNe(t,e,n){return e&&u3(t.prototype,e),n&&u3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QNe(t,e,n){return e=ly(e),XNe(t,OU()?Reflect.construct(e,n||[],ly(t).constructor):e.apply(t,n))}function XNe(t,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JNe(t)}function JNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OU=function(){return!!t})()}function ly(t){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ly(t)}function ZNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}function yw(t,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yw(t,e)}function hI(t,e,n){return e=NU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NU(t){var e=eRe(t,"string");return Zl(e)=="symbol"?e:e+""}function eRe(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kc=function(t){function e(n){var r;return KNe(this,e),r=QNe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return ZNe(e,t),YNe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=i_(r,qNe),o=this.props,u=o.viewBox,l=i_(o,zNe);return!hl(a,u)||!hl(s,l)||!hl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,u=i.height,l=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,p,g,v,b,w,T,_=f?-1:1,C=r.tickSize||c,A=fe(r.tickCoord)?r.tickCoord:r.coordinate;switch(l){case"top":p=g=r.coordinate,b=s+ +!f*u,v=b-_*C,T=v-_*h,w=A;break;case"left":v=b=r.coordinate,g=a+ +!f*o,p=g-_*C,w=p-_*h,T=A;break;case"right":v=b=r.coordinate,g=a+ +f*o,p=g+_*C,w=p+_*h,T=A;break;default:p=g=r.coordinate,b=s+ +f*u,v=b+_*C,T=v+_*h,w=A;break}return{line:{x1:p,y1:v,x2:g,y2:b},tick:{x:w,y:T}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,u=r.orientation,l=r.mirror,c=r.axisLine,f=jn(jn(jn({},Ve(this.props,!1)),Ve(c,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var h=+(u==="top"&&!l||u==="bottom"&&l);f=jn(jn({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(u==="left"&&!l||u==="right"&&l);f=jn(jn({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return B.createElement("line",el({},f,{className:Ge("recharts-cartesian-axis-line",Vr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,u=o.tickLine,l=o.stroke,c=o.tick,f=o.tickFormatter,h=o.unit,p=dI(jn(jn({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=Ve(this.props,!1),w=Ve(c,!1),T=jn(jn({},b),{},{fill:"none"},Ve(u,!1)),_=p.map(function(C,A){var S=s.getTickLineCoord(C),x=S.line,I=S.tick,O=jn(jn(jn(jn({textAnchor:g,verticalAnchor:v},b),{},{stroke:"none",fill:l},w),I),{},{index:A,payload:C,visibleTicksCount:p.length,tickFormatter:f});return B.createElement(Ft,el({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},yg(s.props,C,A)),u&&B.createElement("line",el({},T,x,{className:Ge("recharts-cartesian-axis-tick-line",Vr(u,"className"))})),c&&e.renderTickItem(c,O,"".concat(Le(f)?f(C.value,A):C.value).concat(h||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,u=i.ticksGenerator,l=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,p=i_(f,WNe),g=h;return Le(u)&&(g=h&&h.length>0?u(this.props):u(p)),s<=0||o<=0||!g||!g.length?null:B.createElement(Ft,{className:Ge("recharts-cartesian-axis",l),ref:function(b){r.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Cn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return B.isValidElement(r)?s=B.cloneElement(r,i):Le(r)?s=r(i):s=B.createElement(Ng,el({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(F.Component);hI(kc,"displayName","CartesianAxis");hI(kc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tRe=["x1","y1","x2","y2","key"],nRe=["offset"];function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function l3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l3(Object(n),!0).forEach(function(r){rRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rRe(t,e,n){return e=iRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iRe(t){var e=aRe(t,"string");return su(e)=="symbol"?e:e+""}function aRe(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ao(){return Ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ao.apply(this,arguments)}function c3(t,e){if(t==null)return{};var n=sRe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var oRe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,u=e.ry;return B.createElement("rect",{x:i,y:a,ry:u,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function RU(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(Le(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,u=c3(e,tRe),l=Ve(u,!1);l.offset;var c=c3(l,nRe);n=B.createElement("line",Ao({},c,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function uRe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,u){var l=On(On({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(u),index:u});return RU(i,l)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function lRe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,u){var l=On(On({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(u),index:u});return RU(i,l)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function cRe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,u=t.horizontal,l=u===void 0?!0:u;if(!l||!e||!e.length)return null;var c=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var g=!c[p+1],v=g?i+s-h:c[p+1]-h;if(v<=0)return null;var b=p%e.length;return B.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:v,width:a,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function fRe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,u=t.height,l=t.verticalPoints;if(!n||!r||!r.length)return null;var c=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var g=!c[p+1],v=g?a+o-h:c[p+1]-h;if(v<=0)return null;var b=p%r.length;return B.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:v,height:u,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var dRe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return UB(dI(On(On(On({},kc.defaultProps),r),{},{ticks:ua(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},hRe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return UB(dI(On(On(On({},kc.defaultProps),r),{},{ticks:ua(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Du={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function kU(t){var e,n,r,i,a,s,o=uI(),u=lI(),l=eNe(),c=On(On({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Du.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Du.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Du.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Du.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Du.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Du.verticalFill,x:fe(t.x)?t.x:l.left,y:fe(t.y)?t.y:l.top,width:fe(t.width)?t.width:l.width,height:fe(t.height)?t.height:l.height}),f=c.x,h=c.y,p=c.width,g=c.height,v=c.syncWithTicks,b=c.horizontalValues,w=c.verticalValues,T=XOe(),_=JOe();if(!fe(p)||p<=0||!fe(g)||g<=0||!fe(f)||f!==+f||!fe(h)||h!==+h)return null;var C=c.verticalCoordinatesGenerator||dRe,A=c.horizontalCoordinatesGenerator||hRe,S=c.horizontalPoints,x=c.verticalPoints;if((!S||!S.length)&&Le(A)){var I=b&&b.length,O=A({yAxis:_?On(On({},_),{},{ticks:I?b:_.ticks}):void 0,width:o,height:u,offset:l},I?!0:v);pa(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(su(O),"]")),Array.isArray(O)&&(S=O)}if((!x||!x.length)&&Le(C)){var R=w&&w.length,N=C({xAxis:T?On(On({},T),{},{ticks:R?w:T.ticks}):void 0,width:o,height:u,offset:l},R?!0:v);pa(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(su(N),"]")),Array.isArray(N)&&(x=N)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(oRe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),B.createElement(uRe,Ao({},c,{offset:l,horizontalPoints:S,xAxis:T,yAxis:_})),B.createElement(lRe,Ao({},c,{offset:l,verticalPoints:x,xAxis:T,yAxis:_})),B.createElement(cRe,Ao({},c,{horizontalPoints:S})),B.createElement(fRe,Ao({},c,{verticalPoints:x})))}kU.displayName="CartesianGrid";var pRe=["type","layout","connectNulls","ref"],mRe=["key"];function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function f3(t,e){if(t==null)return{};var n=gRe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dd.apply(this,arguments)}function d3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d3(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mu(t){return _Re(t)||bRe(t)||vRe(t)||yRe()}function yRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vRe(t,e){if(t){if(typeof t=="string")return vw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vw(t,e)}}function bRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Re(t){if(Array.isArray(t))return vw(t)}function vw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ERe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MU(r.key),r)}}function TRe(t,e,n){return e&&h3(t.prototype,e),n&&h3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wRe(t,e,n){return e=cy(e),xRe(t,DU()?Reflect.construct(e,n||[],cy(t).constructor):e.apply(t,n))}function xRe(t,e){if(e&&(ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ARe(t)}function ARe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DU=function(){return!!t})()}function cy(t){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cy(t)}function SRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bw(t,e)}function bw(t,e){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bw(t,e)}function ri(t,e,n){return e=MU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MU(t){var e=IRe(t,"string");return ec(e)=="symbol"?e:e+""}function IRe(t,e){if(ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lo=function(t){function e(){var n;ERe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=wRe(this,e,[].concat(i)),ri(n,"state",{isAnimationFinished:!0,totalLength:0}),ri(n,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),ri(n,"getStrokeDasharray",function(s,o,u){var l=u.reduce(function(w,T){return w+T});if(!l)return n.generateSimpleStrokeDasharray(o,s);for(var c=Math.floor(s/l),f=s%l,h=o-s,p=[],g=0,v=0;g<u.length;v+=u[g],++g)if(v+u[g]>f){p=[].concat(Mu(u.slice(0,g)),[f-v]);break}var b=p.length%2===0?[0,h]:[h];return[].concat(Mu(e.repeat(u,c)),Mu(p),b).map(function(w){return"".concat(w,"px")}).join(", ")}),ri(n,"id",dp("recharts-line-")),ri(n,"pathRef",function(s){n.mainCurve=s}),ri(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ri(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return SRe(e,t),TRe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,u=a.yAxis,l=a.layout,c=a.children,f=Hr(c,vp);if(!f)return null;var h=function(v,b){return{x:v.x,y:v.y,value:v.value,errorVal:xr(v.payload,b)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(Ft,p,f.map(function(g){return B.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:u,layout:l,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,u=o.dot,l=o.points,c=o.dataKey,f=Ve(this.props,!1),h=Ve(u,!0),p=l.map(function(v,b){var w=ur(ur(ur({key:"dot-".concat(b),r:3},f),h),{},{value:v.value,dataKey:c,cx:v.x,cy:v.y,index:b,payload:v.payload});return e.renderDotItem(u,w)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return B.createElement(Ft,dd({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(r,i,a,s){var o=this.props,u=o.type,l=o.layout,c=o.connectNulls;o.ref;var f=f3(o,pRe),h=ur(ur(ur({},Ve(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:u,layout:l,connectNulls:c});return B.createElement(QT,dd({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,u=s.strokeDasharray,l=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,g=s.animateNewValues,v=s.width,b=s.height,w=this.state,T=w.prevPoints,_=w.totalLength;return B.createElement(Ia,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var A=C.t;if(T){var S=T.length/o.length,x=o.map(function(D,k){var Y=Math.floor(k*S);if(T[Y]){var K=T[Y],Z=ai(K.x,D.x),te=ai(K.y,D.y);return ur(ur({},D),{},{x:Z(A),y:te(A)})}if(g){var q=ai(v*2,D.x),X=ai(b/2,D.y);return ur(ur({},D),{},{x:q(A),y:X(A)})}return ur(ur({},D),{},{x:D.x,y:D.y})});return a.renderCurveStatically(x,r,i)}var I=ai(0,_),O=I(A),R;if(u){var N="".concat(u).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});R=a.getStrokeDasharray(O,_,N)}else R=a.generateSimpleStrokeDasharray(_,O);return a.renderCurveStatically(o,r,i,{strokeDasharray:R})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,o=a.isAnimationActive,u=this.state,l=u.prevPoints,c=u.totalLength;return o&&s&&s.length&&(!l&&c>0||!tb(l,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,u=i.className,l=i.xAxis,c=i.yAxis,f=i.top,h=i.left,p=i.width,g=i.height,v=i.isAnimationActive,b=i.id;if(a||!o||!o.length)return null;var w=this.state.isAnimationFinished,T=o.length===1,_=Ge("recharts-line",u),C=l&&l.allowDataOverflow,A=c&&c.allowDataOverflow,S=C||A,x=Be(b)?this.id:b,I=(r=Ve(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=I.r,R=O===void 0?3:O,N=I.strokeWidth,D=N===void 0?2:N,k=Qde(s)?s:{},Y=k.clipDot,K=Y===void 0?!0:Y,Z=R*2+D;return B.createElement(Ft,{className:_},C||A?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(x)},B.createElement("rect",{x:C?h:h-p/2,y:A?f:f-g/2,width:C?p:p*2,height:A?g:g*2})),!K&&B.createElement("clipPath",{id:"clipPath-dots-".concat(x)},B.createElement("rect",{x:h-Z/2,y:f-Z/2,width:p+Z,height:g+Z}))):null,!T&&this.renderCurve(S,x),this.renderErrorBar(S,x),(T||s)&&this.renderDots(S,K,x),(!v||w)&&As.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Mu(r),[0]):r,s=[],o=0;o<i;++o)s=[].concat(Mu(s),Mu(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(B.isValidElement(r))a=B.cloneElement(r,i);else if(Le(r))a=r(i);else{var s=i.key,o=f3(i,mRe),u=Ge("recharts-line-dot",typeof r!="boolean"?r.className:"");a=B.createElement(iI,dd({key:s},o,{className:u}))}return a}}])}(F.PureComponent);ri(Lo,"displayName","Line");ri(Lo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Pc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ri(Lo,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,u=t.displayedData,l=t.offset,c=e.layout,f=u.map(function(h,p){var g=xr(h,s);return c==="horizontal"?{x:Gk({axis:n,ticks:i,bandSize:o,entry:h,index:p}),y:Be(g)?null:r.scale(g),value:g,payload:h}:{x:Be(g)?null:n.scale(g),y:Gk({axis:r,ticks:a,bandSize:o,entry:h,index:p}),value:g,payload:h}});return ur({points:f,layout:c},l)});function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function PRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FU(r.key),r)}}function ORe(t,e,n){return e&&CRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NRe(t,e,n){return e=fy(e),RRe(t,LU()?Reflect.construct(e,n||[],fy(t).constructor):e.apply(t,n))}function RRe(t,e){if(e&&(tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kRe(t)}function kRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LU=function(){return!!t})()}function fy(t){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fy(t)}function DRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_w(t,e)}function _w(t,e){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_w(t,e)}function jU(t,e,n){return e=FU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FU(t){var e=MRe(t,"string");return tc(e)=="symbol"?e:e+""}function MRe(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ew.apply(this,arguments)}function LRe(t){var e=t.xAxisId,n=uI(),r=lI(),i=EU(e);return i==null?null:B.createElement(kc,Ew({},i,{className:Ge("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return ua(s,!0)}}))}var fb=function(t){function e(){return PRe(this,e),NRe(this,e,arguments)}return DRe(e,t),ORe(e,[{key:"render",value:function(){return B.createElement(LRe,this.props)}}])}(B.Component);jU(fb,"displayName","XAxis");jU(fb,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function jRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UU(r.key),r)}}function $Re(t,e,n){return e&&FRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BRe(t,e,n){return e=dy(e),URe(t,$U()?Reflect.construct(e,n||[],dy(t).constructor):e.apply(t,n))}function URe(t,e){if(e&&(nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VRe(t)}function VRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($U=function(){return!!t})()}function dy(t){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dy(t)}function HRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tw(t,e)}function Tw(t,e){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tw(t,e)}function BU(t,e,n){return e=UU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UU(t){var e=qRe(t,"string");return nc(e)=="symbol"?e:e+""}function qRe(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(this,arguments)}var zRe=function(e){var n=e.yAxisId,r=uI(),i=lI(),a=TU(n);return a==null?null:B.createElement(kc,ww({},a,{className:Ge("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return ua(o,!0)}}))},db=function(t){function e(){return jRe(this,e),BRe(this,e,arguments)}return HRe(e,t),$Re(e,[{key:"render",value:function(){return B.createElement(zRe,this.props)}}])}(B.Component);BU(db,"displayName","YAxis");BU(db,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function p3(t){return YRe(t)||KRe(t)||GRe(t)||WRe()}function WRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GRe(t,e){if(t){if(typeof t=="string")return xw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xw(t,e)}}function KRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YRe(t){if(Array.isArray(t))return xw(t)}function xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Aw=function(e,n,r,i,a){var s=Hr(e,fI),o=Hr(e,ub),u=[].concat(p3(s),p3(o)),l=Hr(e,cb),c="".concat(i,"Id"),f=i[0],h=n;if(u.length&&(h=u.reduce(function(v,b){if(b.props[c]===r&&Li(b.props,"extendDomain")&&fe(b.props[f])){var w=b.props[f];return[Math.min(v[0],w),Math.max(v[1],w)]}return v},h)),l.length){var p="".concat(f,"1"),g="".concat(f,"2");h=l.reduce(function(v,b){if(b.props[c]===r&&Li(b.props,"extendDomain")&&fe(b.props[p])&&fe(b.props[g])){var w=b.props[p],T=b.props[g];return[Math.min(v[0],w,T),Math.max(v[1],w,T)]}return v},h)}return a&&a.length&&(h=a.reduce(function(v,b){return fe(b)?[Math.min(v[0],b),Math.max(v[1],b)]:v},h)),h},VU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function a(u,l,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||u,h),g=n?n+l:l;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],p]:u._events[g].push(p):(u._events[g]=p,u._eventsCount++),u}function s(u,l){--u._eventsCount===0?u._events=new r:delete u._events[l]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],c,f;if(this._eventsCount===0)return l;for(f in c=this._events)e.call(c,f)&&l.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},o.prototype.listeners=function(l){var c=n?n+l:l,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(l){var c=n?n+l:l,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(l,c,f,h,p,g){var v=n?n+l:l;if(!this._events[v])return!1;var b=this._events[v],w=arguments.length,T,_;if(b.fn){switch(b.once&&this.removeListener(l,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,f),!0;case 4:return b.fn.call(b.context,c,f,h),!0;case 5:return b.fn.call(b.context,c,f,h,p),!0;case 6:return b.fn.call(b.context,c,f,h,p,g),!0}for(_=1,T=new Array(w-1);_<w;_++)T[_-1]=arguments[_];b.fn.apply(b.context,T)}else{var C=b.length,A;for(_=0;_<C;_++)switch(b[_].once&&this.removeListener(l,b[_].fn,void 0,!0),w){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,c);break;case 3:b[_].fn.call(b[_].context,c,f);break;case 4:b[_].fn.call(b[_].context,c,f,h);break;default:if(!T)for(A=1,T=new Array(w-1);A<w;A++)T[A-1]=arguments[A];b[_].fn.apply(b[_].context,T)}}return!0},o.prototype.on=function(l,c,f){return a(this,l,c,f,!1)},o.prototype.once=function(l,c,f){return a(this,l,c,f,!0)},o.prototype.removeListener=function(l,c,f,h){var p=n?n+l:l;if(!this._events[p])return this;if(!c)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var v=0,b=[],w=g.length;v<w;v++)(g[v].fn!==c||h&&!g[v].once||f&&g[v].context!==f)&&b.push(g[v]);b.length?this._events[p]=b.length===1?b[0]:b:s(this,p)}return this},o.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(VU);var QRe=VU.exports;const XRe=st(QRe);var a_=new XRe,s_="recharts.syncMouseEvents";function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function JRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HU(r.key),r)}}function eke(t,e,n){return e&&ZRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function o_(t,e,n){return e=HU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HU(t){var e=tke(t,"string");return Rh(e)=="symbol"?e:e+""}function tke(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nke=function(){function t(){JRe(this,t),o_(this,"activeIndex",0),o_(this,"coordinateList",[]),o_(this,"layout","horizontal")}return eke(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,u=n.layout,l=u===void 0?null:u,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=l??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,u=this.coordinateList[this.activeIndex].coordinate,l=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+u+l,h=s+this.offset.top+o/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function rke(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&fe(r)&&fe(i))return!0}return!1}function ike(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function qU(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=gn(e,n,r,i),o=gn(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function ake(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,u=e.cy,l=e.innerRadius,c=e.outerRadius,f=e.angle,h=gn(o,u,l,f),p=gn(o,u,c,f);r=h.x,i=h.y,a=p.x,s=p.y}else return qU(e);return[{x:r,y:i},{x:a,y:s}]}function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function m3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m3(Object(n),!0).forEach(function(r){ske(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ske(t,e,n){return e=oke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oke(t){var e=uke(t,"string");return kh(e)=="symbol"?e:e+""}function uke(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lke(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,u=t.offset,l=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var g,v=QT;if(h==="ScatterChart")g=s,v=uPe;else if(h==="BarChart")g=ike(f,s,u,c),v=rI;else if(f==="radial"){var b=qU(s),w=b.cx,T=b.cy,_=b.radius,C=b.startAngle,A=b.endAngle;g={cx:w,cy:T,startAngle:C,endAngle:A,innerRadius:_,outerRadius:_},v=WB}else g={points:ake(f,s,u)},v=QT;var S=Am(Am(Am(Am({stroke:"#ccc",pointerEvents:"none"},u),g),Ve(p,!1)),{},{payload:o,payloadIndex:l,className:Ge("recharts-tooltip-cursor",p.className)});return F.isValidElement(p)?F.cloneElement(p,S):F.createElement(v,S)}var cke=["item"],fke=["children","className","width","height","style","compact","title","desc"];function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tl.apply(this,arguments)}function g3(t,e){return pke(t)||hke(t,e)||WU(t,e)||dke()}function dke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function pke(t){if(Array.isArray(t))return t}function y3(t,e){if(t==null)return{};var n=mke(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GU(r.key),r)}}function vke(t,e,n){return e&&yke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bke(t,e,n){return e=hy(e),_ke(t,zU()?Reflect.construct(e,n||[],hy(t).constructor):e.apply(t,n))}function _ke(t,e){if(e&&(rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eke(t)}function Eke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zU=function(){return!!t})()}function hy(t){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hy(t)}function Tke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sw(t,e)}function Sw(t,e){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sw(t,e)}function ic(t){return Ake(t)||xke(t)||WU(t)||wke()}function wke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WU(t,e){if(t){if(typeof t=="string")return Iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iw(t,e)}}function xke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ake(t){if(Array.isArray(t))return Iw(t)}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v3(Object(n),!0).forEach(function(r){we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function we(t,e,n){return e=GU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GU(t){var e=Ske(t,"string");return rc(e)=="symbol"?e:e+""}function Ske(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ike={xAxis:["bottom","top"],yAxis:["left","right"]},Pke={width:"100%",height:"100%"},KU={x:0,y:0};function Sm(t){return t}var Cke=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Oke=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return Q(Q(Q({},i),gn(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var u=a.coordinate,l=i.angle;return Q(Q(Q({},i),gn(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}return KU},hb=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,u){var l=u.props.data;return l&&l.length?[].concat(ic(o),ic(l)):o},[]);return s.length>0?s:e&&e.length&&fe(i)&&fe(a)?e.slice(i,a+1):[]};function YU(t){return t==="number"?[0,"auto"]:void 0}var Pw=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=hb(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(u,l){var c,f=(c=l.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=mg(p,s.dataKey,i)}else h=f&&f[r]||o[r];return h?[].concat(ic(u),[HB(l,h)]):u},[])},b3=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=Cke(a,r),o=e.orderedTooltipTicks,u=e.tooltipAxis,l=e.tooltipTicks,c=eSe(s,o,l,u);if(c>=0&&l){var f=l[c]&&l[c].value,h=Pw(e,n,c,f),p=Oke(r,o,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Nke=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,p=BB(c,a);return r.reduce(function(g,v){var b,w=v.type.defaultProps!==void 0?Q(Q({},v.type.defaultProps),v.props):v.props,T=w.type,_=w.dataKey,C=w.allowDataOverflow,A=w.allowDuplicatedCategory,S=w.scale,x=w.ticks,I=w.includeHidden,O=w[s];if(g[O])return g;var R=hb(e.data,{graphicalItems:i.filter(function(ae){var me,Ue=s in ae.props?ae.props[s]:(me=ae.type.defaultProps)===null||me===void 0?void 0:me[s];return Ue===O}),dataStartIndex:u,dataEndIndex:l}),N=R.length,D,k,Y;rke(w.domain,C,T)&&(D=zT(w.domain,null,C),p&&(T==="number"||S!=="auto")&&(Y=cd(R,_,"category")));var K=YU(T);if(!D||D.length===0){var Z,te=(Z=w.domain)!==null&&Z!==void 0?Z:K;if(_){if(D=cd(R,_,T),T==="category"&&p){var q=Ude(D);A&&q?(k=D,D=ey(0,N)):A||(D=Xk(te,D,v).reduce(function(ae,me){return ae.indexOf(me)>=0?ae:[].concat(ic(ae),[me])},[]))}else if(T==="category")A?D=D.filter(function(ae){return ae!==""&&!Be(ae)}):D=Xk(te,D,v).reduce(function(ae,me){return ae.indexOf(me)>=0||me===""||Be(me)?ae:[].concat(ic(ae),[me])},[]);else if(T==="number"){var X=aSe(R,i.filter(function(ae){var me,Ue,Qe=s in ae.props?ae.props[s]:(me=ae.type.defaultProps)===null||me===void 0?void 0:me[s],wt="hide"in ae.props?ae.props.hide:(Ue=ae.type.defaultProps)===null||Ue===void 0?void 0:Ue.hide;return Qe===O&&(I||!wt)}),_,a,c);X&&(D=X)}p&&(T==="number"||S!=="auto")&&(Y=cd(R,_,"category"))}else p?D=ey(0,N):o&&o[O]&&o[O].hasStack&&T==="number"?D=h==="expand"?[0,1]:VB(o[O].stackGroups,u,l):D=$B(R,i.filter(function(ae){var me=s in ae.props?ae.props[s]:ae.type.defaultProps[s],Ue="hide"in ae.props?ae.props.hide:ae.type.defaultProps.hide;return me===O&&(I||!Ue)}),T,c,!0);if(T==="number")D=Aw(f,D,O,a,x),te&&(D=zT(te,D,C));else if(T==="category"&&te){var ie=te,he=D.every(function(ae){return ie.indexOf(ae)>=0});he&&(D=ie)}}return Q(Q({},g),{},we({},O,Q(Q({},w),{},{axisType:a,domain:D,categoricalDomain:Y,duplicateDomain:k,originalDomain:(b=w.domain)!==null&&b!==void 0?b:K,isCategorical:p,layout:c})))},{})},Rke=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.layout,f=e.children,h=hb(e.data,{graphicalItems:r,dataStartIndex:u,dataEndIndex:l}),p=h.length,g=BB(c,a),v=-1;return r.reduce(function(b,w){var T=w.type.defaultProps!==void 0?Q(Q({},w.type.defaultProps),w.props):w.props,_=T[s],C=YU("number");if(!b[_]){v++;var A;return g?A=ey(0,p):o&&o[_]&&o[_].hasStack?(A=VB(o[_].stackGroups,u,l),A=Aw(f,A,_,a)):(A=zT(C,$B(h,r.filter(function(S){var x,I,O=s in S.props?S.props[s]:(x=S.type.defaultProps)===null||x===void 0?void 0:x[s],R="hide"in S.props?S.props.hide:(I=S.type.defaultProps)===null||I===void 0?void 0:I.hide;return O===_&&!R}),"number",c),i.defaultProps.allowDataOverflow),A=Aw(f,A,_,a)),Q(Q({},b),{},we({},_,Q(Q({axisType:a},i.defaultProps),{},{hide:!0,orientation:Vr(Ike,"".concat(a,".").concat(v%2),null),domain:A,originalDomain:C,isCategorical:g,layout:c})))}return b},{})},kke=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Hr(c,a),p={};return h&&h.length?p=Nke(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:u,dataEndIndex:l}):s&&s.length&&(p=Rke(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:u,dataEndIndex:l})),p},Dke=function(e){var n=is(e),r=ua(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:OS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:zg(n,r)}},_3=function(e){var n=e.children,r=e.defaultShowTooltip,i=fr(n,Kl),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Mke=function(e){return!e||!e.length?!1:e.some(function(n){var r=ha(n&&n.type);return r&&r.indexOf("Bar")>=0})},E3=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Lke=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,u=o===void 0?{}:o,l=r.width,c=r.height,f=r.children,h=r.margin||{},p=fr(f,Kl),g=fr(f,ko),v=Object.keys(u).reduce(function(A,S){var x=u[S],I=x.orientation;return!x.mirror&&!x.hide?Q(Q({},A),{},we({},I,A[I]+x.width)):A},{left:h.left||0,right:h.right||0}),b=Object.keys(s).reduce(function(A,S){var x=s[S],I=x.orientation;return!x.mirror&&!x.hide?Q(Q({},A),{},we({},I,Vr(A,"".concat(I))+x.height)):A},{top:h.top||0,bottom:h.bottom||0}),w=Q(Q({},b),v),T=w.bottom;p&&(w.bottom+=p.props.height||Kl.defaultProps.height),g&&n&&(w=rSe(w,i,r,n));var _=l-w.left-w.right,C=c-w.top-w.bottom;return Q(Q({brushBottom:T},w),{},{width:Math.max(_,0),height:Math.max(C,0)})},jke=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Fke=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,u=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(w,T){var _=T.graphicalItems,C=T.stackGroups,A=T.offset,S=T.updateId,x=T.dataStartIndex,I=T.dataEndIndex,O=w.barSize,R=w.layout,N=w.barGap,D=w.barCategoryGap,k=w.maxBarSize,Y=E3(R),K=Y.numericAxisName,Z=Y.cateAxisName,te=Mke(_),q=[];return _.forEach(function(X,ie){var he=hb(w.data,{graphicalItems:[X],dataStartIndex:x,dataEndIndex:I}),ae=X.type.defaultProps!==void 0?Q(Q({},X.type.defaultProps),X.props):X.props,me=ae.dataKey,Ue=ae.maxBarSize,Qe=ae["".concat(K,"Id")],wt=ae["".concat(Z,"Id")],ln={},bn=u.reduce(function(_i,Hi){var Ks=T["".concat(Hi.axisType,"Map")],_u=ae["".concat(Hi.axisType,"Id")];Ks&&Ks[_u]||Hi.axisType==="zAxis"||au();var Dc=Ks[_u];return Q(Q({},_i),{},we(we({},Hi.axisType,Dc),"".concat(Hi.axisType,"Ticks"),ua(Dc)))},ln),pe=bn[Z],Se=bn["".concat(Z,"Ticks")],Ce=C&&C[Qe]&&C[Qe].hasStack&&ySe(X,C[Qe].stackGroups),ne=ha(X.type).indexOf("Bar")>=0,lt=zg(pe,Se),Me=[],xt=te&&tSe({barSize:O,stackGroups:C,totalSize:jke(bn,Z)});if(ne){var Rt,_n,bi=Be(Ue)?k:Ue,Vi=(Rt=(_n=zg(pe,Se,!0))!==null&&_n!==void 0?_n:bi)!==null&&Rt!==void 0?Rt:0;Me=nSe({barGap:N,barCategoryGap:D,bandSize:Vi!==lt?Vi:lt,sizeList:xt[wt],maxBarSize:bi}),Vi!==lt&&(Me=Me.map(function(_i){return Q(Q({},_i),{},{position:Q(Q({},_i.position),{},{offset:_i.position.offset-Vi/2})})}))}var Ma=X&&X.type&&X.type.getComposedData;Ma&&q.push({props:Q(Q({},Ma(Q(Q({},bn),{},{displayedData:he,props:w,dataKey:me,item:X,bandSize:lt,barPosition:Me,offset:A,stackedData:Ce,layout:R,dataStartIndex:x,dataEndIndex:I}))),{},we(we(we({key:X.key||"item-".concat(ie)},K,bn[K]),Z,bn[Z]),"animationId",S)),childIndex:Zde(X,w.children),item:X})}),q},p=function(w,T){var _=w.props,C=w.dataStartIndex,A=w.dataEndIndex,S=w.updateId;if(!qN({props:_}))return null;var x=_.children,I=_.layout,O=_.stackOffset,R=_.data,N=_.reverseStackOrder,D=E3(I),k=D.numericAxisName,Y=D.cateAxisName,K=Hr(x,r),Z=pSe(R,K,"".concat(k,"Id"),"".concat(Y,"Id"),O,N),te=u.reduce(function(ae,me){var Ue="".concat(me.axisType,"Map");return Q(Q({},ae),{},we({},Ue,kke(_,Q(Q({},me),{},{graphicalItems:K,stackGroups:me.axisType===k&&Z,dataStartIndex:C,dataEndIndex:A}))))},{}),q=Lke(Q(Q({},te),{},{props:_,graphicalItems:K}),T==null?void 0:T.legendBBox);Object.keys(te).forEach(function(ae){te[ae]=c(_,te[ae],q,ae.replace("Map",""),n)});var X=te["".concat(Y,"Map")],ie=Dke(X),he=h(_,Q(Q({},te),{},{dataStartIndex:C,dataEndIndex:A,updateId:S,graphicalItems:K,stackGroups:Z,offset:q}));return Q(Q({formattedGraphicalItems:he,graphicalItems:K,offset:q,stackGroups:Z},ie),te)},g=function(b){function w(T){var _,C,A;return gke(this,w),A=bke(this,w,[T]),we(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),we(A,"accessibilityManager",new nke),we(A,"handleLegendBBoxUpdate",function(S){if(S){var x=A.state,I=x.dataStartIndex,O=x.dataEndIndex,R=x.updateId;A.setState(Q({legendBBox:S},p({props:A.props,dataStartIndex:I,dataEndIndex:O,updateId:R},Q(Q({},A.state),{},{legendBBox:S}))))}}),we(A,"handleReceiveSyncEvent",function(S,x,I){if(A.props.syncId===S){if(I===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(x)}}),we(A,"handleBrushChange",function(S){var x=S.startIndex,I=S.endIndex;if(x!==A.state.dataStartIndex||I!==A.state.dataEndIndex){var O=A.state.updateId;A.setState(function(){return Q({dataStartIndex:x,dataEndIndex:I},p({props:A.props,dataStartIndex:x,dataEndIndex:I,updateId:O},A.state))}),A.triggerSyncEvent({dataStartIndex:x,dataEndIndex:I})}}),we(A,"handleMouseEnter",function(S){var x=A.getMouseInfo(S);if(x){var I=Q(Q({},x),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var O=A.props.onMouseEnter;Le(O)&&O(I,S)}}),we(A,"triggeredAfterMouseMove",function(S){var x=A.getMouseInfo(S),I=x?Q(Q({},x),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(I),A.triggerSyncEvent(I);var O=A.props.onMouseMove;Le(O)&&O(I,S)}),we(A,"handleItemMouseEnter",function(S){A.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),we(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),we(A,"handleMouseMove",function(S){S.persist(),A.throttleTriggeredAfterMouseMove(S)}),we(A,"handleMouseLeave",function(S){A.throttleTriggeredAfterMouseMove.cancel();var x={isTooltipActive:!1};A.setState(x),A.triggerSyncEvent(x);var I=A.props.onMouseLeave;Le(I)&&I(x,S)}),we(A,"handleOuterEvent",function(S){var x=Jde(S),I=Vr(A.props,"".concat(x));if(x&&Le(I)){var O,R;/.*touch.*/i.test(x)?R=A.getMouseInfo(S.changedTouches[0]):R=A.getMouseInfo(S),I((O=R)!==null&&O!==void 0?O:{},S)}}),we(A,"handleClick",function(S){var x=A.getMouseInfo(S);if(x){var I=Q(Q({},x),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var O=A.props.onClick;Le(O)&&O(I,S)}}),we(A,"handleMouseDown",function(S){var x=A.props.onMouseDown;if(Le(x)){var I=A.getMouseInfo(S);x(I,S)}}),we(A,"handleMouseUp",function(S){var x=A.props.onMouseUp;if(Le(x)){var I=A.getMouseInfo(S);x(I,S)}}),we(A,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),we(A,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&A.handleMouseDown(S.changedTouches[0])}),we(A,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&A.handleMouseUp(S.changedTouches[0])}),we(A,"triggerSyncEvent",function(S){A.props.syncId!==void 0&&a_.emit(s_,A.props.syncId,S,A.eventEmitterSymbol)}),we(A,"applySyncEvent",function(S){var x=A.props,I=x.layout,O=x.syncMethod,R=A.state.updateId,N=S.dataStartIndex,D=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)A.setState(Q({dataStartIndex:N,dataEndIndex:D},p({props:A.props,dataStartIndex:N,dataEndIndex:D,updateId:R},A.state)));else if(S.activeTooltipIndex!==void 0){var k=S.chartX,Y=S.chartY,K=S.activeTooltipIndex,Z=A.state,te=Z.offset,q=Z.tooltipTicks;if(!te)return;if(typeof O=="function")K=O(q,S);else if(O==="value"){K=-1;for(var X=0;X<q.length;X++)if(q[X].value===S.activeLabel){K=X;break}}var ie=Q(Q({},te),{},{x:te.left,y:te.top}),he=Math.min(k,ie.x+ie.width),ae=Math.min(Y,ie.y+ie.height),me=q[K]&&q[K].value,Ue=Pw(A.state,A.props.data,K),Qe=q[K]?{x:I==="horizontal"?q[K].coordinate:he,y:I==="horizontal"?ae:q[K].coordinate}:KU;A.setState(Q(Q({},S),{},{activeLabel:me,activeCoordinate:Qe,activePayload:Ue,activeTooltipIndex:K}))}else A.setState(S)}),we(A,"renderCursor",function(S){var x,I=A.state,O=I.isTooltipActive,R=I.activeCoordinate,N=I.activePayload,D=I.offset,k=I.activeTooltipIndex,Y=I.tooltipAxisBandSize,K=A.getTooltipEventType(),Z=(x=S.props.active)!==null&&x!==void 0?x:O,te=A.props.layout,q=S.key||"_recharts-cursor";return B.createElement(lke,{key:q,activeCoordinate:R,activePayload:N,activeTooltipIndex:k,chartName:n,element:S,isActive:Z,layout:te,offset:D,tooltipAxisBandSize:Y,tooltipEventType:K})}),we(A,"renderPolarAxis",function(S,x,I){var O=Vr(S,"type.axisType"),R=Vr(A.state,"".concat(O,"Map")),N=S.type.defaultProps,D=N!==void 0?Q(Q({},N),S.props):S.props,k=R&&R[D["".concat(O,"Id")]];return F.cloneElement(S,Q(Q({},k),{},{className:Ge(O,k.className),key:S.key||"".concat(x,"-").concat(I),ticks:ua(k,!0)}))}),we(A,"renderPolarGrid",function(S){var x=S.props,I=x.radialLines,O=x.polarAngles,R=x.polarRadius,N=A.state,D=N.radiusAxisMap,k=N.angleAxisMap,Y=is(D),K=is(k),Z=K.cx,te=K.cy,q=K.innerRadius,X=K.outerRadius;return F.cloneElement(S,{polarAngles:Array.isArray(O)?O:ua(K,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(R)?R:ua(Y,!0).map(function(ie){return ie.coordinate}),cx:Z,cy:te,innerRadius:q,outerRadius:X,key:S.key||"polar-grid",radialLines:I})}),we(A,"renderLegend",function(){var S=A.state.formattedGraphicalItems,x=A.props,I=x.children,O=x.width,R=x.height,N=A.props.margin||{},D=O-(N.left||0)-(N.right||0),k=jB({children:I,formattedGraphicalItems:S,legendWidth:D,legendContent:l});if(!k)return null;var Y=k.item,K=y3(k,cke);return F.cloneElement(Y,Q(Q({},K),{},{chartWidth:O,chartHeight:R,margin:N,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),we(A,"renderTooltip",function(){var S,x=A.props,I=x.children,O=x.accessibilityLayer,R=fr(I,wi);if(!R)return null;var N=A.state,D=N.isTooltipActive,k=N.activeCoordinate,Y=N.activePayload,K=N.activeLabel,Z=N.offset,te=(S=R.props.active)!==null&&S!==void 0?S:D;return F.cloneElement(R,{viewBox:Q(Q({},Z),{},{x:Z.left,y:Z.top}),active:te,label:K,payload:te?Y:[],coordinate:k,accessibilityLayer:O})}),we(A,"renderBrush",function(S){var x=A.props,I=x.margin,O=x.data,R=A.state,N=R.offset,D=R.dataStartIndex,k=R.dataEndIndex,Y=R.updateId;return F.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Em(A.handleBrushChange,S.props.onChange),data:O,x:fe(S.props.x)?S.props.x:N.left,y:fe(S.props.y)?S.props.y:N.top+N.height+N.brushBottom-(I.bottom||0),width:fe(S.props.width)?S.props.width:N.width,startIndex:D,endIndex:k,updateId:"brush-".concat(Y)})}),we(A,"renderReferenceElement",function(S,x,I){if(!S)return null;var O=A,R=O.clipPathId,N=A.state,D=N.xAxisMap,k=N.yAxisMap,Y=N.offset,K=S.type.defaultProps||{},Z=S.props,te=Z.xAxisId,q=te===void 0?K.xAxisId:te,X=Z.yAxisId,ie=X===void 0?K.yAxisId:X;return F.cloneElement(S,{key:S.key||"".concat(x,"-").concat(I),xAxis:D[q],yAxis:k[ie],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:R})}),we(A,"renderActivePoints",function(S){var x=S.item,I=S.activePoint,O=S.basePoint,R=S.childIndex,N=S.isRange,D=[],k=x.props.key,Y=x.item.type.defaultProps!==void 0?Q(Q({},x.item.type.defaultProps),x.item.props):x.item.props,K=Y.activeDot,Z=Y.dataKey,te=Q(Q({index:R,dataKey:Z,cx:I.x,cy:I.y,r:4,fill:nI(x.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Ve(K,!1)),gg(K));return D.push(w.renderActiveDot(K,te,"".concat(k,"-activePoint-").concat(R))),O?D.push(w.renderActiveDot(K,Q(Q({},te),{},{cx:O.x,cy:O.y}),"".concat(k,"-basePoint-").concat(R))):N&&D.push(null),D}),we(A,"renderGraphicChild",function(S,x,I){var O=A.filterFormatItem(S,x,I);if(!O)return null;var R=A.getTooltipEventType(),N=A.state,D=N.isTooltipActive,k=N.tooltipAxis,Y=N.activeTooltipIndex,K=N.activeLabel,Z=A.props.children,te=fr(Z,wi),q=O.props,X=q.points,ie=q.isRange,he=q.baseLine,ae=O.item.type.defaultProps!==void 0?Q(Q({},O.item.type.defaultProps),O.item.props):O.item.props,me=ae.activeDot,Ue=ae.hide,Qe=ae.activeBar,wt=ae.activeShape,ln=!!(!Ue&&D&&te&&(me||Qe||wt)),bn={};R!=="axis"&&te&&te.props.trigger==="click"?bn={onClick:Em(A.handleItemMouseEnter,S.props.onClick)}:R!=="axis"&&(bn={onMouseLeave:Em(A.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Em(A.handleItemMouseEnter,S.props.onMouseEnter)});var pe=F.cloneElement(S,Q(Q({},O.props),bn));function Se(Hi){return typeof k.dataKey=="function"?k.dataKey(Hi.payload):null}if(ln)if(Y>=0){var Ce,ne;if(k.dataKey&&!k.allowDuplicatedCategory){var lt=typeof k.dataKey=="function"?Se:"payload.".concat(k.dataKey.toString());Ce=mg(X,lt,K),ne=ie&&he&&mg(he,lt,K)}else Ce=X==null?void 0:X[Y],ne=ie&&he&&he[Y];if(wt||Qe){var Me=S.props.activeIndex!==void 0?S.props.activeIndex:Y;return[F.cloneElement(S,Q(Q(Q({},O.props),bn),{},{activeIndex:Me})),null,null]}if(!Be(Ce))return[pe].concat(ic(A.renderActivePoints({item:O,activePoint:Ce,basePoint:ne,childIndex:Y,isRange:ie})))}else{var xt,Rt=(xt=A.getItemByXY(A.state.activeCoordinate))!==null&&xt!==void 0?xt:{graphicalItem:pe},_n=Rt.graphicalItem,bi=_n.item,Vi=bi===void 0?S:bi,Ma=_n.childIndex,_i=Q(Q(Q({},O.props),bn),{},{activeIndex:Ma});return[F.cloneElement(Vi,_i),null,null]}return ie?[pe,null,null]:[pe,null]}),we(A,"renderCustomized",function(S,x,I){return F.cloneElement(S,Q(Q({key:"recharts-customized-".concat(I)},A.props),A.state))}),we(A,"renderMap",{CartesianGrid:{handler:Sm,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:Sm},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:Sm},YAxis:{handler:Sm},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((_=T.id)!==null&&_!==void 0?_:dp("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=L8(A.triggeredAfterMouseMove,(C=T.throttleDelay)!==null&&C!==void 0?C:1e3/60),A.state={},A}return Tke(w,b),vke(w,[{key:"componentDidMount",value:function(){var _,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,C=_.children,A=_.data,S=_.height,x=_.layout,I=fr(C,wi);if(I){var O=I.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,N=Pw(this.state,A,O,R),D=this.state.tooltipTicks[O].coordinate,k=(this.state.offset.top+S)/2,Y=x==="horizontal",K=Y?{x:D,y:k}:{y:D,x:k},Z=this.state.formattedGraphicalItems.find(function(q){var X=q.item;return X.type.name==="Scatter"});Z&&(K=Q(Q({},K),Z.props.points[O].tooltipPosition),N=Z.props.points[O].tooltipPayload);var te={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:R,activePayload:N,activeCoordinate:K};this.setState(te),this.renderCursor(I),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var A,S;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(_){sT([fr(_.children,wi)],[fr(this.props.children,wi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=fr(this.props.children,wi);if(_&&typeof _.props.shared=="boolean"){var C=_.props.shared?"axis":"item";return o.indexOf(C)>=0?C:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var C=this.container,A=C.getBoundingClientRect(),S=SEe(A),x={chartX:Math.round(_.pageX-S.left),chartY:Math.round(_.pageY-S.top)},I=A.width/C.offsetWidth||1,O=this.inRange(x.chartX,x.chartY,I);if(!O)return null;var R=this.state,N=R.xAxisMap,D=R.yAxisMap,k=this.getTooltipEventType();if(k!=="axis"&&N&&D){var Y=is(N).scale,K=is(D).scale,Z=Y&&Y.invert?Y.invert(x.chartX):null,te=K&&K.invert?K.invert(x.chartY):null;return Q(Q({},x),{},{xValue:Z,yValue:te})}var q=b3(this.state,this.props.data,this.props.layout,O);return q?Q(Q({},x),q):null}},{key:"inRange",value:function(_,C){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,x=_/A,I=C/A;if(S==="horizontal"||S==="vertical"){var O=this.state.offset,R=x>=O.left&&x<=O.left+O.width&&I>=O.top&&I<=O.top+O.height;return R?{x,y:I}:null}var N=this.state,D=N.angleAxisMap,k=N.radiusAxisMap;if(D&&k){var Y=is(D);return eD({x,y:I},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,C=this.getTooltipEventType(),A=fr(_,wi),S={};A&&C==="axis"&&(A.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var x=gg(this.props,this.handleOuterEvent);return Q(Q({},x),S)}},{key:"addListener",value:function(){a_.on(s_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){a_.removeListener(s_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,C,A){for(var S=this.state.formattedGraphicalItems,x=0,I=S.length;x<I;x++){var O=S[x];if(O.item===_||O.props.key===_.key||C===ha(O.item.type)&&A===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,C=this.state.offset,A=C.left,S=C.top,x=C.height,I=C.width;return B.createElement("defs",null,B.createElement("clipPath",{id:_},B.createElement("rect",{x:A,y:S,height:x,width:I})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(C,A){var S=g3(A,2),x=S[0],I=S[1];return Q(Q({},C),{},we({},x,I.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(C,A){var S=g3(A,2),x=S[0],I=S[1];return Q(Q({},C),{},we({},x,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[_])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(_){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[_])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(_){var C=this.state,A=C.formattedGraphicalItems,S=C.activeItem;if(A&&A.length)for(var x=0,I=A.length;x<I;x++){var O=A[x],R=O.props,N=O.item,D=N.type.defaultProps!==void 0?Q(Q({},N.type.defaultProps),N.props):N.props,k=ha(N.type);if(k==="Bar"){var Y=(R.data||[]).find(function(q){return J2e(_,q)});if(Y)return{graphicalItem:O,payload:Y}}else if(k==="RadialBar"){var K=(R.data||[]).find(function(q){return eD(_,q)});if(K)return{graphicalItem:O,payload:K}}else if(ib(O,S)||ab(O,S)||Ih(O,S)){var Z=tCe({graphicalItem:O,activeTooltipItem:S,itemData:D.data}),te=D.activeIndex===void 0?Z:D.activeIndex;return{graphicalItem:Q(Q({},O),{},{childIndex:te}),payload:Ih(O,S)?D.data[Z]:O.props.data[Z]}}}return null}},{key:"render",value:function(){var _=this;if(!qN(this))return null;var C=this.props,A=C.children,S=C.className,x=C.width,I=C.height,O=C.style,R=C.compact,N=C.title,D=C.desc,k=y3(C,fke),Y=Ve(k,!1);if(R)return B.createElement(JD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(uT,tl({},Y,{width:x,height:I,title:N,desc:D}),this.renderClipPath(),WN(A,this.renderMap)));if(this.props.accessibilityLayer){var K,Z;Y.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,Y.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",Y.onKeyDown=function(q){_.accessibilityManager.keyboardEvent(q)},Y.onFocus=function(){_.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return B.createElement(JD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",tl({className:Ge("recharts-wrapper",S),style:Q({position:"relative",cursor:"default",width:x,height:I},O)},te,{ref:function(X){_.container=X}}),B.createElement(uT,tl({},Y,{width:x,height:I,title:N,desc:D,style:Pke}),this.renderClipPath(),WN(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(F.Component);we(g,"displayName",n),we(g,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),we(g,"getDerivedStateFromProps",function(b,w){var T=b.dataKey,_=b.data,C=b.children,A=b.width,S=b.height,x=b.layout,I=b.stackOffset,O=b.margin,R=w.dataStartIndex,N=w.dataEndIndex;if(w.updateId===void 0){var D=_3(b);return Q(Q(Q({},D),{},{updateId:0},p(Q(Q({props:b},D),{},{updateId:0}),w)),{},{prevDataKey:T,prevData:_,prevWidth:A,prevHeight:S,prevLayout:x,prevStackOffset:I,prevMargin:O,prevChildren:C})}if(T!==w.prevDataKey||_!==w.prevData||A!==w.prevWidth||S!==w.prevHeight||x!==w.prevLayout||I!==w.prevStackOffset||!hl(O,w.prevMargin)){var k=_3(b),Y={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},K=Q(Q({},b3(w,_,x)),{},{updateId:w.updateId+1}),Z=Q(Q(Q({},k),Y),K);return Q(Q(Q({},Z),p(Q({props:b},Z),w)),{},{prevDataKey:T,prevData:_,prevWidth:A,prevHeight:S,prevLayout:x,prevStackOffset:I,prevMargin:O,prevChildren:C})}if(!sT(C,w.prevChildren)){var te,q,X,ie,he=fr(C,Kl),ae=he&&(te=(q=he.props)===null||q===void 0?void 0:q.startIndex)!==null&&te!==void 0?te:R,me=he&&(X=(ie=he.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&X!==void 0?X:N,Ue=ae!==R||me!==N,Qe=!Be(_),wt=Qe&&!Ue?w.updateId:w.updateId+1;return Q(Q({updateId:wt},p(Q(Q({props:b},w),{},{updateId:wt,dataStartIndex:ae,dataEndIndex:me}),w)),{},{prevChildren:C,dataStartIndex:ae,dataEndIndex:me})}return null}),we(g,"renderActiveDot",function(b,w,T){var _;return F.isValidElement(b)?_=F.cloneElement(b,w):Le(b)?_=b(w):_=B.createElement(iI,w),B.createElement(Ft,{className:"recharts-active-dot",key:T},_)});var v=F.forwardRef(function(w,T){return B.createElement(g,tl({},w,{ref:T}))});return v.displayName=g.displayName,v},$ke=Fke({chartName:"LineChart",GraphicalChild:Lo,axisComponents:[{axisType:"xAxis",AxisComp:fb},{axisType:"yAxis",AxisComp:db}],formatAxisMap:SOe});const Bke=(t,e)=>{const n=[],r=new Date,i=100;if(e==="lme-cash"){for(let a=i;a>=0;a--){const s=k1(r,a);n.push({date:Rs(s,"MMM dd"),"lme-cash":Math.random()*20+2630})}return n}for(let a=i;a>=0;a--){let s;switch(t){case"1min":s=PN(r,a);break;case"30min":s=PN(r,a*30);break;case"1h":s=IN(r,a);break;case"1d":s=IN(r,a*2);break;case"1w":s=k1(r,a);break;case"1m":s=k1(r,a*2);break;default:s=new Date}n.push({date:Rs(s,t==="1min"?"HH:mm:ss":"MMM dd HH:mm"),mcx:Math.random()*10+230,lme:Math.random()*10+225})}return n};function Uke(){const[t,e]=F.useState("1d"),[n,r]=F.useState("all"),[i,a]=F.useState({start:"",end:""}),[s,o]=F.useState(!1),[u,l]=F.useState(1),[c,f]=F.useState(!1),[h,p]=F.useState("auto"),[g,v]=F.useState("auto"),b=[{value:"live",label:"Live",disabled:n==="lme-cash"},{value:"1min",label:"1 Min",disabled:n==="lme-cash"},{value:"30min",label:"30 Min",disabled:n==="lme-cash"},{value:"1h",label:"1 Hour",disabled:n==="lme-cash"},{value:"1d",label:"1 Day"},{value:"1w",label:"1 Week"},{value:"1m",label:"1 Month"}],w=[{value:"all",label:"MCX & LME"},{value:"mcx",label:"MCX Only"},{value:"lme",label:"LME Only"},{value:"lme-cash",label:"LME Cash Settlement"}];B.useEffect(()=>{n==="lme-cash"&&["live","1min","30min","1h"].includes(t)&&e("1d")},[n]);const T=Bke(t,n);return B.useEffect(()=>{let _;return c&&n!=="lme-cash"&&(_=window.setInterval(()=>{},1e3)),()=>{_&&clearInterval(_)}},[c,n]),y.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[y.jsxs("div",{className:"flex flex-wrap gap-6 mb-8",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Time Range"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(_=>y.jsxs("button",{onClick:()=>{_.disabled||(e(_.value),f(_.value==="live"))},disabled:_.disabled,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t===_.value?"bg-blue-50 text-blue-600 border-2 border-blue-200":_.disabled?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-50 text-gray-600 border-2 border-transparent hover:bg-gray-100"}`,children:[_.value==="live"&&y.jsx(qZ,{className:`w-4 h-4 inline-block mr-1 ${c?"animate-spin":""}`}),_.label]},_.value))})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Y-Axis Scale"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",value:u,onChange:_=>l(Number(_.target.value)),className:"w-20 px-2 py-1 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0.1",step:"0.1"}),y.jsx("span",{className:"text-sm text-gray-600",children:" interval"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",placeholder:"Min",onChange:_=>p(_.target.value?Number(_.target.value):"auto"),className:"w-20 px-2 py-1 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),y.jsx("span",{className:"text-sm text-gray-600",children:"to"}),y.jsx("input",{type:"number",placeholder:"Max",onChange:_=>v(_.target.value?Number(_.target.value):"auto"),className:"w-20 px-2 py-1 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price Range"}),y.jsx("div",{className:"flex gap-2",children:w.map(_=>y.jsxs("button",{onClick:()=>r(_.value),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===_.value?"bg-blue-50 text-blue-600 border-2 border-blue-200":"bg-gray-50 text-gray-600 border-2 border-transparent hover:bg-gray-100"}`,children:[_.value==="all"?y.jsx(Aj,{className:"w-4 h-4"}):y.jsx(xj,{className:"w-4 h-4"}),_.label]},_.value))})]})]}),y.jsx("div",{className:"h-[500px]",children:y.jsx(bEe,{width:"100%",height:"100%",children:y.jsxs($ke,{data:T,margin:{top:5,right:30,left:20,bottom:5},children:[y.jsx(kU,{strokeDasharray:"3 3"}),y.jsx(fb,{dataKey:"date",tick:{fontSize:12}}),y.jsx(db,{yAxisId:"price",domain:[h,g],tick:{fontSize:12},label:{value:n==="lme-cash"?"Price (USD/MT)":"Price (/kg)",angle:-90,position:"insideLeft"},interval:0,ticks:h!=="auto"&&g!=="auto"?Array.from({length:Math.ceil((Number(g)-Number(h))/u)+1},(_,C)=>Number(h)+C*u):void 0}),y.jsx(wi,{contentStyle:{backgroundColor:"white",borderRadius:"8px",border:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},labelStyle:{fontWeight:"bold",marginBottom:"4px"}}),y.jsx(ko,{}),(n==="all"||n==="mcx")&&y.jsx(Lo,{yAxisId:"price",type:"monotone",dataKey:"mcx",name:"MCX Price",stroke:"#3B82F6",strokeWidth:2,dot:!1,activeDot:{r:6}}),(n==="all"||n==="lme")&&y.jsx(Lo,{yAxisId:"price",type:"monotone",dataKey:"lme",name:"LME Price (INR)",stroke:"#10B981",strokeWidth:2,dot:!1,activeDot:{r:6}}),n==="lme-cash"&&y.jsx(Lo,{yAxisId:"price",type:"monotone",dataKey:"lme-cash",name:"LME Cash Settlement",stroke:"#8B5CF6",strokeWidth:2,dot:!0,activeDot:{r:6}})]})})})]})})}function Vke({className:t}){const[e,n]=F.useState("243.75"),[r,i]=F.useState(""),[a,s]=F.useState(""),[o,u]=F.useState("2639.50"),[l,c]=F.useState(""),[f,h]=F.useState(""),p=F.useRef(null),g=1.0825,v=84.4063,b=(_,C)=>{_.key==="Enter"&&p.current&&p.current.focus()},w=()=>{const _=parseFloat(e)||0,C=parseFloat(r)||0,A=parseFloat(a)||0;return _+C+A},T=()=>{const _=parseFloat(o)||0,C=parseFloat(l)||0,A=parseFloat(f)||0;return(_+C)*g*v/1e3+A};return y.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-8 ${t}`,children:[y.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl shadow-sm p-6 border border-blue-100 h-[101.5%]",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[y.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:y.jsx(OO,{className:"w-6 h-6 text-blue-600"})}),y.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"MCX Based Price"})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MCX Aluminum Price (/kg)"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx("span",{className:"text-gray-500",children:""})}),y.jsx("input",{type:"number",value:e,onChange:_=>n(_.target.value),className:"w-full pl-8 pr-4 py-2.5 bg-white border-2 border-gray-200 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter MCX price"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Premium (/kg)"}),y.jsx("input",{type:"number",value:r,onChange:_=>i(_.target.value),onKeyPress:_=>b(_),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter premium"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Freight (/kg)"}),y.jsx("input",{ref:p,type:"number",value:a,onChange:_=>s(_.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter freight"})]}),y.jsxs("div",{className:"pt-4 border-t border-blue-100",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Price (per kg)"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx("span",{className:"text-white",children:""})}),y.jsx("input",{type:"text",value:w().toFixed(2),disabled:!0,className:"w-full pl-8 pr-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 border-0 rounded-lg font-bold text-white text-lg shadow-sm"})]})]})]})]}),y.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl shadow-sm p-6 border border-purple-100 h-[101.5%]",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[y.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:y.jsx(OO,{className:"w-6 h-6 text-purple-600"})}),y.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"LME Based Price"})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LME Aluminum Price (USD/MT)"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx("span",{className:"text-gray-500",children:"$"})}),y.jsx("input",{type:"number",value:o,onChange:_=>u(_.target.value),className:"w-full pl-8 pr-4 py-2.5 bg-white border-2 border-gray-200 rounded-lg text-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter LME price"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Premium (USD/MT)"}),y.jsx("input",{type:"number",value:l,onChange:_=>c(_.target.value),onKeyPress:_=>b(_),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter premium"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Freight (/kg)"}),y.jsx("input",{type:"number",value:f,onChange:_=>h(_.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter freight"})]}),y.jsxs("div",{className:"pt-4 border-t border-purple-100",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Price (per kg)"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx("span",{className:"text-white",children:""})}),y.jsx("input",{type:"text",value:T().toFixed(2),disabled:!0,className:"w-full pl-8 pr-4 py-3 bg-gradient-to-r from-purple-600 to-pink-600 border-0 rounded-lg font-bold text-white text-lg shadow-sm"})]})]})]})]})]})}function Hke({data:t,previousPrice:e,rbiRate:n=84.4063}){const r=e?Math.abs(t.price-e):0,i=r*n,a=e?t.price>e:!1;return y.jsxs("div",{className:`bg-gradient-to-br from-blue-50/90 via-purple-50/90 to-pink-50/90 backdrop-blur-sm rounded-xl p-6 
      border border-white/50 shadow-[0_4px_12px_rgba(0,0,0,0.05)] hover:shadow-[0_6px_16px_rgba(0,0,0,0.1)] 
      transition-all duration-300`,children:[y.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:Rs(new Date(t.date),"MMM dd, yyyy")}),y.jsxs("div",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:["$",t.price.toFixed(2)]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:`flex items-center gap-1 text-sm ${a?"text-green-500":"text-red-500"}`,children:[a?y.jsx(Zo,{className:"w-4 h-4"}):y.jsx(zd,{className:"w-4 h-4"}),y.jsxs("span",{className:"font-medium",children:["$",r.toFixed(2)]})]}),y.jsxs("div",{className:`flex items-center gap-1 text-sm ${a?"text-green-500":"text-red-500"}`,children:[a?y.jsx(Zo,{className:"w-4 h-4"}):y.jsx(zd,{className:"w-4 h-4"}),y.jsxs("span",{className:"font-medium",children:["",i.toFixed(2)]})]})]})]})}function qke({data:t,loading:e,error:n}){return e?y.jsx("div",{className:"flex justify-center items-center h-48",children:y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n?y.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-red-500 gap-2",children:[y.jsx(bj,{className:"w-8 h-8"}),y.jsx("p",{children:n})]}):y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((r,i)=>y.jsx(Hke,{data:r,previousPrice:i<t.length-1?t[i+1].price:void 0},r.date))})}function zke(){const[t,e]=F.useState(!1),[n,r]=F.useState(""),[i,a]=F.useState(""),[s,o]=F.useState(""),[u,l]=F.useState(""),{data:c,loading:f,error:h}=aS(),[p]=F.useState([{id:"1",name:"Supplier A",phone:"+91 9876543210",email:"suppliera@example.com"},{id:"2",name:"Supplier B",phone:"+91 9876543211",email:"supplierb@example.com"}]),g=[{id:"1",name:"Aluminium Ingots"},{id:"2",name:"Aluminium Wire Rods"},{id:"3",name:"Aluminium Billets"}],v=b=>{b.preventDefault(),console.log({supplier:n,product:i,quantity:s,deliveryLocation:u})};return y.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[y.jsxs("section",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700 
        shadow-[0_4px_12px_rgba(0,0,0,0.05)] p-6 mb-8`,children:[y.jsxs("div",{className:"flex justify-between items-baseline mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent",children:"LME Cash Settlement"}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Source: Westmetals"})]}),y.jsx(qke,{data:c,loading:f,error:h})]}),y.jsxs("div",{className:"grid grid-cols-12 gap-8",children:[y.jsx("div",{className:"col-span-12 lg:col-span-8",children:y.jsx(Vke,{})}),y.jsx("div",{className:"col-span-12 lg:col-span-4",children:y.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700 
            shadow-[0_4px_12px_rgba(0,0,0,0.05)] hover:shadow-[0_6px_16px_rgba(0,0,0,0.1)] 
            transition-all duration-300 p-6 pb-8`,children:[y.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[y.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg",children:y.jsx(NO,{className:"w-6 h-6 text-blue-600"})}),y.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Request Quote"})]}),y.jsxs("form",{onSubmit:v,className:"space-y-8",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Supplier"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("select",{value:n,onChange:b=>r(b.target.value),className:"flex-1 px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[y.jsx("option",{value:"",children:"Choose a supplier"}),p.map(b=>y.jsx("option",{value:b.id,children:b.name},b.id))]}),y.jsxs("button",{type:"button",onClick:()=>e(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[y.jsx(Sj,{className:"w-5 h-5"}),"Add"]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Product"}),y.jsxs("select",{value:i,onChange:b=>a(b.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[y.jsx("option",{value:"",children:"Choose a product"}),g.map(b=>y.jsx("option",{value:b.id,children:b.name},b.id))]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity (MT)"}),y.jsx("input",{type:"number",value:s,onChange:b=>o(b.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter quantity",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Location"}),y.jsx("input",{type:"text",value:u,onChange:b=>l(b.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter location",required:!0})]})]}),y.jsx("div",{className:"pt-4 border-t border-gray-100",children:y.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all shadow-md hover:shadow-lg",children:[y.jsx(NO,{className:"w-5 h-5"}),"Send RFQ"]})})]})]})})]})]})}const Wke=(t,e)=>{const n={up:"from-green-500 to-green-600",down:"from-red-500 to-red-600",neutral:"from-gray-500 to-gray-600"},r={high:"opacity-100",medium:"opacity-80",low:"opacity-60"};return`${n[t]} ${r[e]}`};function Gke({prediction:t,confidence:e}){return y.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-gray-50 rounded-xl",children:[y.jsxs("div",{className:"relative group mb-2",children:[y.jsx(DZ,{className:"w-5 h-5 text-gray-400 cursor-help"}),y.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block w-48 bg-gray-900 text-white text-xs rounded-lg p-2",children:"AI-powered price prediction based on news sentiment analysis"})]}),y.jsx("div",{className:"text-center mb-2",children:y.jsx("div",{className:"text-sm font-medium text-gray-500",children:"LME Price Prediction"})}),y.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center bg-gradient-to-r ${Wke(t,e)} shadow-lg`,children:t==="up"?y.jsx(Zo,{className:"w-8 h-8 text-white"}):t==="down"?y.jsx(zd,{className:"w-8 h-8 text-white"}):y.jsx("div",{className:"w-8 h-1 bg-white rounded-full"})}),y.jsxs("div",{className:"mt-2 text-sm font-medium text-gray-500",children:[e.charAt(0).toUpperCase()+e.slice(1)," Confidence"]})]})}function Kke({news:t}){return y.jsxs("article",{className:"flex flex-col md:flex-row gap-6 p-6 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[y.jsx("div",{className:"md:w-1/4",children:y.jsx("img",{src:`${t.imageUrl}/600x400`,alt:t.title,className:"w-full h-48 object-cover rounded-lg"})}),y.jsxs("div",{className:"md:w-2/4",children:[y.jsxs("div",{className:"flex items-start justify-between gap-4",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:t.title}),y.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 p-2 hover:bg-gray-200 rounded-full transition-colors",children:y.jsx(wj,{className:"w-5 h-5 text-gray-500"})})]}),y.jsx("p",{className:"text-gray-600 mb-4",children:t.summary}),y.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(kZ,{className:"w-4 h-4"}),y.jsx("span",{children:t.source})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(CZ,{className:"w-4 h-4"}),y.jsx("span",{children:Rs(new Date(t.date),"MMM d, yyyy")})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(KZ,{className:"w-4 h-4"}),y.jsx("span",{className:"capitalize",children:t.category})]})]})]}),y.jsx("div",{className:"md:w-1/4 flex items-center justify-center",children:y.jsx(Gke,{prediction:t.prediction,confidence:t.confidence})})]})}function Yke({show:t,onClose:e,preferences:n,onPreferencesChange:r}){return t?y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:y.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(OA,{className:"w-6 h-6 text-blue-600"}),y.jsx("h2",{className:"text-xl font-bold",children:"Smart News Alerts"})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:y.jsx(wj,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(CA,{className:"w-5 h-5 text-green-500"}),y.jsx("span",{children:"WhatsApp Notifications"})]}),y.jsx("button",{onClick:()=>r({...n,whatsapp:!n.whatsapp}),className:`w-12 h-6 rounded-full transition-colors ${n.whatsapp?"bg-green-500":"bg-gray-300"}`,children:y.jsx("div",{className:`w-5 h-5 bg-white rounded-full transform transition-transform ${n.whatsapp?"translate-x-6":"translate-x-1"}`})})]}),y.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(np,{className:"w-5 h-5 text-blue-500"}),y.jsx("span",{children:"Email Notifications"})]}),y.jsx("button",{onClick:()=>r({...n,email:!n.email}),className:`w-12 h-6 rounded-full transition-colors ${n.email?"bg-green-500":"bg-gray-300"}`,children:y.jsx("div",{className:`w-5 h-5 bg-white rounded-full transform transition-transform ${n.email?"translate-x-6":"translate-x-1"}`})})]}),y.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(ki,{className:"w-5 h-5 text-purple-500"}),y.jsx("span",{children:"Web App Notifications"})]}),y.jsx("button",{onClick:()=>r({...n,webApp:!n.webApp}),className:`w-12 h-6 rounded-full transition-colors ${n.webApp?"bg-green-500":"bg-gray-300"}`,children:y.jsx("div",{className:`w-5 h-5 bg-white rounded-full transform transition-transform ${n.webApp?"translate-x-6":"translate-x-1"}`})})]})]}),y.jsx("button",{onClick:e,className:"w-full mt-6 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300",children:"Save Preferences"})]})}):null}const Qke=[{id:"1",title:"Global Aluminum Prices Surge Amid Supply Chain Disruptions",source:"Metal Industry News",date:"2024-02-15T09:30:00Z",summary:"Aluminum prices reached a six-month high as supply chain disruptions and increased energy costs impact global production. Industry experts predict continued volatility in the coming months.",url:"https://example.com/news/1",imageUrl:"https://images.unsplash.com/photo-1533062618053-d51e617307ec",category:"market",region:"global",prediction:"up",confidence:"high"},{id:"2",title:"New Recycling Technology Promises to Revolutionize Aluminum Industry",source:"Tech Innovation Daily",date:"2024-02-14T14:15:00Z",summary:"A breakthrough in recycling technology could reduce aluminum processing costs by up to 40% while minimizing environmental impact. Major manufacturers are already showing interest in adoption.",url:"https://example.com/news/2",imageUrl:"https://images.unsplash.com/photo-1558346490-a72e53ae2d4f",category:"technology",region:"americas",prediction:"down",confidence:"medium"},{id:"3",title:"China's Aluminum Output Hits Record High in January",source:"Asian Markets Today",date:"2024-02-13T11:00:00Z",summary:"Chinese aluminum production reached unprecedented levels in January, raising concerns about oversupply and potential impact on global prices.",url:"https://example.com/news/3",imageUrl:"https://images.unsplash.com/photo-1518623489648-a173ef7824f3",category:"industry",region:"asia",prediction:"down",confidence:"high"}];function Xke(){const[t,e]=F.useState(""),[n,r]=F.useState("all"),[i,a]=F.useState("all"),[s,o]=F.useState(!1),[u,l]=F.useState({whatsapp:!1,email:!1,webApp:!1}),c=Qke.filter(f=>{const h=f.title.toLowerCase().includes(t.toLowerCase())||f.summary.toLowerCase().includes(t.toLowerCase()),p=n==="all"||f.category===n,g=i==="all"||f.region===i;return h&&p&&g});return y.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold",children:"Aluminum Shorts"}),y.jsxs("button",{onClick:()=>o(!0),className:"group inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full hover:from-blue-700 hover:to-purple-700 transition-all duration-300 shadow-md hover:shadow-lg",children:[y.jsx(OA,{className:"w-5 h-5"}),"Smart News Alerts"]})]}),y.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[y.jsx("div",{className:"flex-1 min-w-[200px]",children:y.jsxs("div",{className:"relative",children:[y.jsx(Pj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search news...",value:t,onChange:f=>e(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),y.jsxs("select",{value:n,onChange:f=>r(f.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[y.jsx("option",{value:"all",children:"All Categories"}),y.jsx("option",{value:"market",children:"Market"}),y.jsx("option",{value:"industry",children:"Industry"}),y.jsx("option",{value:"technology",children:"Technology"}),y.jsx("option",{value:"sustainability",children:"Sustainability"})]}),y.jsxs("select",{value:i,onChange:f=>a(f.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[y.jsx("option",{value:"all",children:"All Regions"}),y.jsx("option",{value:"global",children:"Global"}),y.jsx("option",{value:"asia",children:"Asia"}),y.jsx("option",{value:"europe",children:"Europe"}),y.jsx("option",{value:"americas",children:"Americas"})]})]}),y.jsx("div",{className:"grid grid-cols-1 gap-6",children:c.map(f=>y.jsx(Kke,{news:f},f.id))}),y.jsx(Yke,{show:s,onClose:()=>o(!1),preferences:u,onPreferencesChange:l})]})}function Jke({alert:t,onClose:e,onSave:n}){const[r,i]=F.useState({targetPrice:t.targetPrice,customMessage:t.customMessage,notificationChannels:t.notificationChannels,isActive:t.isActive}),[a,s]=F.useState({}),o=()=>{const l={};return(!r.targetPrice||r.targetPrice<=0)&&(l.targetPrice="Please enter a valid target price"),r.notificationChannels.length===0&&(l.notificationChannels="Please select at least one notification method"),s(l),Object.keys(l).length===0},u=async l=>{if(l.preventDefault(),!!o())try{await n(r)}catch(c){console.error("Failed to update alert:",c)}};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:[y.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[y.jsx("h2",{className:"text-xl font-bold",children:"Edit Alert"}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:y.jsx(sv,{className:"w-5 h-5"})})]}),y.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Price"}),y.jsx("input",{type:"number",step:"0.01",value:r.targetPrice,onChange:l=>i({...r,targetPrice:parseFloat(l.target.value)}),className:`w-full px-3 py-2 border ${a.targetPrice?"border-red-500":"border-gray-200"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),a.targetPrice&&y.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.targetPrice})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Message"}),y.jsx("textarea",{value:r.customMessage,onChange:l=>i({...r,customMessage:l.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Methods"}),y.jsx("div",{className:"space-y-2",children:["web","whatsapp","email"].map(l=>y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",checked:r.notificationChannels.includes(l),onChange:c=>{const f=c.target.checked?[...r.notificationChannels,l]:r.notificationChannels.filter(h=>h!==l);i({...r,notificationChannels:f})},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),y.jsx("span",{className:"ml-2 text-gray-700 capitalize",children:l})]},l))}),a.notificationChannels&&y.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.notificationChannels})]}),y.jsx("div",{children:y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",checked:r.isActive,onChange:l=>i({...r,isActive:l.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),y.jsx("span",{className:"ml-2 text-gray-700",children:"Active"})]})}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),y.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})]})})}function Zke({isOpen:t,onClose:e,onConfirm:n,title:r,message:i}){return t?y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:y.jsx(_j,{className:"w-6 h-6 text-red-600"})}),y.jsx("h2",{className:"text-xl font-bold",children:r}),y.jsx("button",{onClick:e,className:"ml-auto p-2 hover:bg-gray-100 rounded-full",children:y.jsx(sv,{className:"w-5 h-5"})})]}),y.jsx("p",{className:"text-gray-600 mb-6",children:i}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),y.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})]})}):null}function eDe({currentPage:t,totalPages:e,onPageChange:n}){return y.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8",children:[y.jsx("button",{onClick:()=>n(t-1),disabled:t===1,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:y.jsx(Ej,{className:"w-5 h-5"})}),Array.from({length:e},(r,i)=>i+1).map(r=>y.jsx("button",{onClick:()=>n(r),className:`w-8 h-8 rounded-lg ${t===r?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:r},r)),y.jsx("button",{onClick:()=>n(t+1),disabled:t===e,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:y.jsx(Tj,{className:"w-5 h-5"})})]})}function tDe({alerts:t,loading:e,onDelete:n,onUpdate:r,currentPage:i,totalPages:a,onPageChange:s}){const[o,u]=F.useState(null),[l,c]=F.useState(null);return e?y.jsx("div",{className:"flex justify-center items-center h-64",children:y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):!t||t.length===0?y.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[y.jsx(bj,{className:"w-12 h-12 text-blue-400 mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No alerts found"}),y.jsx("p",{className:"text-gray-500",children:"Create your first price alert to get started"})]}):y.jsxs("div",{className:"space-y-4",children:[t.map(f=>{var h,p,g;return y.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 transition-all hover:shadow-md",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${f.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.isActive?"Active":"Inactive"}),y.jsx("span",{className:"text-gray-500",children:""}),y.jsxs("span",{className:"text-sm text-gray-500",children:["Created ",Rs(new Date(f.createdAt),"MMM d, yyyy HH:mm")]})]}),y.jsxs("h3",{className:"text-lg font-semibold mb-1",children:["Target: ",f.targetPrice.toFixed(2)]}),f.customMessage&&y.jsx("p",{className:"text-gray-600 mb-4",children:f.customMessage}),y.jsxs("div",{className:"flex gap-2",children:[((h=f.notificationChannels)==null?void 0:h.includes("web"))&&y.jsxs("span",{className:"flex items-center gap-1 text-sm text-gray-600",children:[y.jsx(ki,{className:"w-4 h-4"}),"Web"]}),((p=f.notificationChannels)==null?void 0:p.includes("whatsapp"))&&y.jsxs("span",{className:"flex items-center gap-1 text-sm text-gray-600",children:[y.jsx(CA,{className:"w-4 h-4"}),"WhatsApp"]}),((g=f.notificationChannels)==null?void 0:g.includes("email"))&&y.jsxs("span",{className:"flex items-center gap-1 text-sm text-gray-600",children:[y.jsx(np,{className:"w-4 h-4"}),"Email"]})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>u(f),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:y.jsx(UZ,{className:"w-5 h-5 text-gray-600"})}),y.jsx("button",{onClick:()=>c(f.id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:y.jsx(QZ,{className:"w-5 h-5 text-red-600"})})]})]})},f.id)}),a>1&&y.jsx(eDe,{currentPage:i,totalPages:a,onPageChange:s}),o&&y.jsx(Jke,{alert:o,onClose:()=>u(null),onSave:async f=>{await r(o.id,f),u(null)}}),y.jsx(Zke,{isOpen:!!l,onClose:()=>c(null),onConfirm:async()=>{l&&(await n(l),c(null))},title:"Delete Alert",message:"Are you sure you want to delete this alert? This action cannot be undone."})]})}function nDe({filters:t,onChange:e}){return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alert Type"}),y.jsxs("select",{value:t.type,onChange:n=>e({...t,type:n.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[y.jsx("option",{value:"all",children:"All Types"}),y.jsx("option",{value:"mcx",children:"MCX"}),y.jsx("option",{value:"lme",children:"LME"}),y.jsx("option",{value:"nalco",children:"NALCO"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),y.jsxs("select",{value:t.status,onChange:n=>e({...t,status:n.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[y.jsx("option",{value:"all",children:"All Status"}),y.jsx("option",{value:"active",children:"Active"}),y.jsx("option",{value:"inactive",children:"Inactive"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("select",{value:t.sortBy,onChange:n=>e({...t,sortBy:n.target.value}),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[y.jsx("option",{value:"date",children:"Date Created"}),y.jsx("option",{value:"price",children:"Target Price"}),y.jsx("option",{value:"type",children:"Alert Type"})]}),y.jsx("button",{onClick:()=>e({...t,sortBy:t.sortBy.startsWith("-")?t.sortBy.substring(1):`-${t.sortBy}`}),className:"p-2 hover:bg-gray-100 rounded-lg",children:y.jsx(PZ,{className:"w-5 h-5 text-gray-600"})})]})]})]})}function rDe({value:t,onChange:e}){return y.jsxs("div",{className:"relative",children:[y.jsx(Pj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx("input",{type:"text",value:t,onChange:n=>e(n.target.value),placeholder:"Search alerts by message or price...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}function iDe({onClose:t,onCreate:e}){const[n,r]=F.useState({targetPrice:"",customMessage:"",notificationChannels:["web"],category:"MCX",isActive:!0}),[i,a]=F.useState({}),[s,o]=F.useState(!1),u=()=>{const c={};return(!n.targetPrice||parseFloat(n.targetPrice)<=0)&&(c.targetPrice="Please enter a valid target price"),n.notificationChannels.length===0&&(c.notificationChannels="Please select at least one notification method"),a(c),Object.keys(c).length===0},l=async c=>{if(c.preventDefault(),!(!u()||s)){o(!0);try{await e({...n,targetPrice:parseFloat(n.targetPrice),currentPrice:parseFloat(n.targetPrice)}),t()}catch(f){console.error("Failed to create alert:",f)}finally{o(!1)}}};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:[y.jsxs("div",{className:"flex items-center gap-3 p-6 border-b",children:[y.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:y.jsx(_j,{className:"w-6 h-6 text-blue-600"})}),y.jsx("h2",{className:"text-xl font-bold",children:"Create Price Alert"}),y.jsx("button",{onClick:t,className:"ml-auto p-2 hover:bg-gray-100 rounded-full",children:y.jsx(sv,{className:"w-5 h-5"})})]}),y.jsxs("form",{onSubmit:l,className:"p-6 space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Price ()"}),y.jsx("input",{type:"number",step:"0.01",value:n.targetPrice,onChange:c=>r({...n,targetPrice:c.target.value}),className:`w-full px-3 py-2 border ${i.targetPrice?"border-red-500":"border-gray-200"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`,placeholder:"Enter target price"}),i.targetPrice&&y.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.targetPrice})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Message (Optional)"}),y.jsx("textarea",{value:n.customMessage,onChange:c=>r({...n,customMessage:c.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Add a custom message for your alert"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Methods"}),y.jsx("div",{className:"space-y-2",children:[{id:"web",label:"Web App",icon:ki},{id:"whatsapp",label:"WhatsApp",icon:ki},{id:"email",label:"Email",icon:ki}].map(({id:c,label:f})=>y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",checked:n.notificationChannels.includes(c),onChange:h=>{const p=h.target.checked?[...n.notificationChannels,c]:n.notificationChannels.filter(g=>g!==c);r({...n,notificationChannels:p})},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),y.jsx("span",{className:"ml-2 text-gray-700",children:f})]},c))}),i.notificationChannels&&y.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.notificationChannels})]}),y.jsxs("div",{className:"flex gap-3 pt-4",children:[y.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create Alert"})]})]})]})})}const T3=10;function aDe({searchTerm:t,filters:e,page:n}){const{user:r}=tp(),[i,a]=F.useState([]),[s,o]=F.useState(!0),[u,l]=F.useState(null),[c,f]=F.useState(1);F.useEffect(()=>{if(!(r!=null&&r.id)){a([]),o(!1);return}o(!0),l(null);try{const v=[p1("userId","==",r.id)];e.type!=="all"&&v.push(p1("category","==",e.type)),e.status!=="all"&&v.push(p1("isActive","==",e.status==="active")),v.push(iX("createdAt","desc")),v.push(aX(T3));const b=RE(kr,"alerts"),w=rX(b,...v),T=fX(w,_=>{let C=_.docs.map(A=>({id:A.id,...A.data()}));if(t){const A=t.toLowerCase();C=C.filter(S=>{var x;return((x=S.customMessage)==null?void 0:x.toLowerCase().includes(A))||S.targetPrice.toString().includes(A)})}a(C),f(Math.ceil(C.length/T3)||1),o(!1),l(null)},_=>{console.error("Error fetching alerts:",_),l("Failed to load alerts. Please refresh the page."),o(!1),Ze.error("Failed to load alerts. Please refresh the page.")});return()=>T()}catch(v){console.error("Error setting up alerts subscription:",v),l("Failed to load alerts. Please refresh the page."),o(!1),Ze.error("Failed to load alerts. Please refresh the page.")}},[r==null?void 0:r.id,t,e,n]);const h=F.useCallback(async v=>{if(!(r!=null&&r.id)){Ze.error("You must be logged in to create alerts");return}try{const b={...v,userId:r.id,createdAt:dt.now(),updatedAt:dt.now()},w=await H5(RE(kr,"alerts"),b);return Ze.success("Alert created successfully"),{id:w.id,...b}}catch(b){throw console.error("Error creating alert:",b),Ze.error("Failed to create alert. Please try again."),b}},[r==null?void 0:r.id]),p=F.useCallback(async(v,b)=>{var w;if(!(r!=null&&r.id)){Ze.error("You must be logged in to update alerts");return}try{const T=ns(kr,"alerts",v),_=await ed(T);if(!_.exists()||((w=_.data())==null?void 0:w.userId)!==r.id)throw new Error("Alert not found or unauthorized");await lX(T,{...b,updatedAt:dt.now()}),Ze.success("Alert updated successfully")}catch(T){throw console.error("Error updating alert:",T),Ze.error("Failed to update alert. Please try again."),T}},[r==null?void 0:r.id]),g=F.useCallback(async v=>{var b;if(!(r!=null&&r.id)){Ze.error("You must be logged in to delete alerts");return}try{const w=ns(kr,"alerts",v),T=await ed(w);if(!T.exists()||((b=T.data())==null?void 0:b.userId)!==r.id)throw new Error("Alert not found or unauthorized");await cX(w),Ze.success("Alert deleted successfully")}catch(w){throw console.error("Error deleting alert:",w),Ze.error("Failed to delete alert. Please try again."),w}},[r==null?void 0:r.id]);return{alerts:i,loading:s,error:u,totalPages:c,createAlert:h,updateAlert:p,deleteAlert:g}}function sDe(){const[t,e]=F.useState(""),[n,r]=F.useState(1),[i,a]=F.useState(!1),[s,o]=F.useState({type:"all",status:"all",sortBy:"createdAt"}),[u,l]=F.useState(!1),{alerts:c,loading:f,totalPages:h,createAlert:p,deleteAlert:g,updateAlert:v}=aDe({searchTerm:t,filters:s,page:n});return y.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[y.jsx(yj,{position:"top-right"}),y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Manage Alerts"}),y.jsx("p",{className:"text-gray-600 mt-2",children:"Set up and manage your price alerts"})]}),y.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all shadow-md hover:shadow-lg",children:[y.jsx(Sj,{className:"w-5 h-5"}),"Create Alert"]})]}),y.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[y.jsx("div",{className:"lg:w-1/4",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(RZ,{className:"w-5 h-5 text-blue-600"}),y.jsx("h2",{className:"text-lg font-semibold",children:"Filters"})]}),y.jsx("button",{onClick:()=>l(!u),className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg",children:y.jsx(WZ,{className:"w-5 h-5"})})]}),y.jsx("div",{className:`${u?"block":"hidden lg:block"}`,children:y.jsx(nDe,{filters:s,onChange:o})})]})}),y.jsxs("div",{className:"lg:w-3/4",children:[y.jsx("div",{className:"mb-6",children:y.jsx(rDe,{value:t,onChange:e})}),y.jsx(tDe,{alerts:c,loading:f,onDelete:g,onUpdate:v,currentPage:n,totalPages:h,onPageChange:r})]})]}),i&&y.jsx(iDe,{onClose:()=>a(!1),onCreate:p})]})}function oDe(){const{user:t,sendVerificationEmail:e}=tp();return!t||t.emailVerified?null:y.jsx("div",{className:"fixed top-4 right-4 max-w-md bg-yellow-50 p-4 rounded-lg shadow-lg border border-yellow-200 z-50",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"p-2 bg-yellow-100 rounded-full",children:y.jsx(np,{className:"w-5 h-5 text-yellow-600"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Verify your email"}),y.jsx("p",{className:"mt-1 text-sm text-yellow-700",children:"Please check your inbox and verify your email address to access all features."}),y.jsxs("button",{onClick:e,className:"mt-3 flex items-center gap-2 text-sm font-medium text-yellow-800 hover:text-yellow-900",children:[y.jsx(Ij,{className:"w-4 h-4"}),"Resend verification email"]})]})]})})}function uDe(){const[t,e]=F.useState(!1),[n,r]=F.useState(!1),i=({children:a})=>y.jsx("div",{className:`${t?"dark":""}`,children:y.jsxs("div",{className:"dashboard-layout",children:[y.jsx(JZ,{currentPage:window.location.pathname.substring(1)||"home",onPageChange:()=>{},isCollapsed:n,onCollapse:r,isDarkMode:t,onThemeChange:e}),y.jsx("div",{className:`transition-all duration-300 ${n?"pl-16":"pl-64"}`,children:y.jsx("main",{className:"dashboard-content py-6",children:a})})]})});return y.jsx(xZ,{children:y.jsxs(UH,{children:[y.jsx(oDe,{}),y.jsx(yj,{position:"top-right"}),y.jsxs(FH,{children:[y.jsx(Ki,{path:"/",element:y.jsx(tee,{})}),y.jsx(Ki,{path:"/auth",element:y.jsx(Cj,{})}),y.jsx(Ki,{path:"/dashboard",element:y.jsx(lf,{children:y.jsx(i,{children:y.jsx(ole,{})})})}),y.jsx(Ki,{path:"/trends",element:y.jsx(lf,{children:y.jsx(i,{children:y.jsx(Uke,{})})})}),y.jsx(Ki,{path:"/quote",element:y.jsx(lf,{children:y.jsx(i,{children:y.jsx(zke,{})})})}),y.jsx(Ki,{path:"/aluminum-shorts",element:y.jsx(lf,{children:y.jsx(i,{children:y.jsx(Xke,{})})})}),y.jsx(Ki,{path:"/alerts",element:y.jsx(lf,{children:y.jsx(i,{children:y.jsx(sDe,{})})})}),y.jsx(Ki,{path:"*",element:y.jsx(GL,{to:"/",replace:!0})})]})]})})}u_.createRoot(document.getElementById("root")).render(y.jsx(B.StrictMode,{children:y.jsx(uDe,{})}));
