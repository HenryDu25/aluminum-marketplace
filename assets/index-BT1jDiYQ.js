function cF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function We(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ek={exports:{}},sg={},tk={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed=Symbol.for("react.element"),fF=Symbol.for("react.portal"),dF=Symbol.for("react.fragment"),hF=Symbol.for("react.strict_mode"),pF=Symbol.for("react.profiler"),mF=Symbol.for("react.provider"),gF=Symbol.for("react.context"),yF=Symbol.for("react.forward_ref"),vF=Symbol.for("react.suspense"),bF=Symbol.for("react.memo"),_F=Symbol.for("react.lazy"),kT=Symbol.iterator;function wF(t){return t===null||typeof t!="object"?null:(t=kT&&t[kT]||t["@@iterator"],typeof t=="function"?t:null)}var nk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rk=Object.assign,ik={};function Kl(t,e,n){this.props=t,this.context=e,this.refs=ik,this.updater=n||nk}Kl.prototype.isReactComponent={};Kl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ok(){}ok.prototype=Kl.prototype;function Sw(t,e,n){this.props=t,this.context=e,this.refs=ik,this.updater=n||nk}var Iw=Sw.prototype=new ok;Iw.constructor=Sw;rk(Iw,Kl.prototype);Iw.isPureReactComponent=!0;var NT=Array.isArray,ak=Object.prototype.hasOwnProperty,Aw={current:null},sk={key:!0,ref:!0,__self:!0,__source:!0};function lk(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)ak.call(e,r)&&!sk.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ed,type:t,key:o,ref:a,props:i,_owner:Aw.current}}function xF(t,e){return{$$typeof:ed,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pw(t){return typeof t=="object"&&t!==null&&t.$$typeof===ed}function EF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var RT=/\/+/g;function av(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EF(""+t.key):e.toString(36)}function $h(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ed:case fF:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+av(a,0):r,NT(i)?(n="",t!=null&&(n=t.replace(RT,"$&/")+"/"),$h(i,e,n,"",function(u){return u})):i!=null&&(Pw(i)&&(i=xF(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(RT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",NT(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+av(o,s);a+=$h(o,e,n,l,i)}else if(l=wF(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+av(o,s++),a+=$h(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Xd(t,e,n){if(t==null)return t;var r=[],i=0;return $h(t,r,"","",function(o){return e.call(n,o,i++)}),r}function TF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},Lh={transition:null},SF={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:Lh,ReactCurrentOwner:Aw};function uk(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Xd,forEach:function(t,e,n){Xd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xd(t,function(){e++}),e},toArray:function(t){return Xd(t,function(e){return e})||[]},only:function(t){if(!Pw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=Kl;xe.Fragment=dF;xe.Profiler=pF;xe.PureComponent=Sw;xe.StrictMode=hF;xe.Suspense=vF;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SF;xe.act=uk;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rk({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Aw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)ak.call(e,l)&&!sk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:ed,type:t.type,key:i,ref:o,props:r,_owner:a}};xe.createContext=function(t){return t={$$typeof:gF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mF,_context:t},t.Consumer=t};xe.createElement=lk;xe.createFactory=function(t){var e=lk.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:yF,render:t}};xe.isValidElement=Pw;xe.lazy=function(t){return{$$typeof:_F,_payload:{_status:-1,_result:t},_init:TF}};xe.memo=function(t,e){return{$$typeof:bF,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=Lh.transition;Lh.transition={};try{t()}finally{Lh.transition=e}};xe.unstable_act=uk;xe.useCallback=function(t,e){return vn.current.useCallback(t,e)};xe.useContext=function(t){return vn.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};xe.useEffect=function(t,e){return vn.current.useEffect(t,e)};xe.useId=function(){return vn.current.useId()};xe.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return vn.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};xe.useRef=function(t){return vn.current.useRef(t)};xe.useState=function(t){return vn.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return vn.current.useTransition()};xe.version="18.3.1";tk.exports=xe;var M=tk.exports;const D=We(M),IF=cF({__proto__:null,default:D},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AF=M,PF=Symbol.for("react.element"),OF=Symbol.for("react.fragment"),CF=Object.prototype.hasOwnProperty,kF=AF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NF={key:!0,ref:!0,__self:!0,__source:!0};function ck(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)CF.call(e,r)&&!NF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:PF,type:t,key:o,ref:a,props:i,_owner:kF.current}}sg.Fragment=OF;sg.jsx=ck;sg.jsxs=ck;ek.exports=sg;var m=ek.exports,T0={},fk={exports:{}},qn={},dk={exports:{}},hk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,W){var Y=V.length;V.push(W);e:for(;0<Y;){var re=Y-1>>>1,Q=V[re];if(0<i(Q,W))V[re]=W,V[Y]=Q,Y=re;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var W=V[0],Y=V.pop();if(Y!==W){V[0]=Y;e:for(var re=0,Q=V.length,oe=Q>>>1;re<oe;){var Ie=2*(re+1)-1,Re=V[Ie],it=Ie+1,$t=V[it];if(0>i(Re,Y))it<Q&&0>i($t,Re)?(V[re]=$t,V[it]=Y,re=it):(V[re]=Re,V[Ie]=Y,re=Ie);else if(it<Q&&0>i($t,Y))V[re]=$t,V[it]=Y,re=it;else break e}}return W}function i(V,W){var Y=V.sortIndex-W.sortIndex;return Y!==0?Y:V.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,h=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(V){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=V)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function P(V){if(y=!1,_(V),!g)if(n(l)!==null)g=!0,G(T);else{var W=n(u);W!==null&&H(P,W.startTime-V)}}function T(V,W){g=!1,y&&(y=!1,x(S),S=-1),p=!0;var Y=h;try{for(_(W),f=n(l);f!==null&&(!(f.expirationTime>W)||V&&!C());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var Q=re(f.expirationTime<=W);W=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(l)&&r(l),_(W)}else r(l);f=n(l)}if(f!==null)var oe=!0;else{var Ie=n(u);Ie!==null&&H(P,Ie.startTime-W),oe=!1}return oe}finally{f=null,h=Y,p=!1}}var I=!1,E=null,S=-1,O=5,k=-1;function C(){return!(t.unstable_now()-k<O)}function R(){if(E!==null){var V=t.unstable_now();k=V;var W=!0;try{W=E(!0,V)}finally{W?N():(I=!1,E=null)}}else I=!1}var N;if(typeof w=="function")N=function(){w(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,B=U.port2;U.port1.onmessage=R,N=function(){B.postMessage(null)}}else N=function(){b(R,0)};function G(V){E=V,I||(I=!0,N())}function H(V,W){S=b(function(){V(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,G(T))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var Y=h;h=W;try{return V()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,W){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=h;h=V;try{return W()}finally{h=Y}},t.unstable_scheduleCallback=function(V,W,Y){var re=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?re+Y:re):Y=re,V){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Y+Q,V={id:c++,callback:W,priorityLevel:V,startTime:Y,expirationTime:Q,sortIndex:-1},Y>re?(V.sortIndex=Y,e(u,V),n(l)===null&&V===n(u)&&(y?(x(S),S=-1):y=!0,H(P,Y-re))):(V.sortIndex=Q,e(l,V),g||p||(g=!0,G(T))),V},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(V){var W=h;return function(){var Y=h;h=W;try{return V.apply(this,arguments)}finally{h=Y}}}})(hk);dk.exports=hk;var RF=dk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jF=M,Bn=RF;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pk=new Set,Vc={};function ns(t,e){sl(t,e),sl(t+"Capture",e)}function sl(t,e){for(Vc[t]=e,t=0;t<e.length;t++)pk.add(e[t])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S0=Object.prototype.hasOwnProperty,MF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jT={},MT={};function DF(t){return S0.call(MT,t)?!0:S0.call(jT,t)?!1:MF.test(t)?MT[t]=!0:(jT[t]=!0,!1)}function $F(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LF(t,e,n,r){if(e===null||typeof e>"u"||$F(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new bn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ow=/[\-:]([a-z])/g;function Cw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ow,Cw);qt[e]=new bn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ow,Cw);qt[e]=new bn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ow,Cw);qt[e]=new bn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new bn(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function kw(t,e,n,r){var i=qt.hasOwnProperty(e)?qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LF(e,n,i,r)&&(n=null),r||i===null?DF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Li=jF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jd=Symbol.for("react.element"),Rs=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),Nw=Symbol.for("react.strict_mode"),I0=Symbol.for("react.profiler"),mk=Symbol.for("react.provider"),gk=Symbol.for("react.context"),Rw=Symbol.for("react.forward_ref"),A0=Symbol.for("react.suspense"),P0=Symbol.for("react.suspense_list"),jw=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),yk=Symbol.for("react.offscreen"),DT=Symbol.iterator;function Nu(t){return t===null||typeof t!="object"?null:(t=DT&&t[DT]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,sv;function oc(t){if(sv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sv=e&&e[1]||""}return`
`+sv+t}var lv=!1;function uv(t,e){if(!t||lv)return"";lv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{lv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?oc(t):""}function VF(t){switch(t.tag){case 5:return oc(t.type);case 16:return oc("Lazy");case 13:return oc("Suspense");case 19:return oc("SuspenseList");case 0:case 2:case 15:return t=uv(t.type,!1),t;case 11:return t=uv(t.type.render,!1),t;case 1:return t=uv(t.type,!0),t;default:return""}}function O0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case js:return"Fragment";case Rs:return"Portal";case I0:return"Profiler";case Nw:return"StrictMode";case A0:return"Suspense";case P0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gk:return(t.displayName||"Context")+".Consumer";case mk:return(t._context.displayName||"Context")+".Provider";case Rw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jw:return e=t.displayName||null,e!==null?e:O0(t.type)||"Memo";case eo:e=t._payload,t=t._init;try{return O0(t(e))}catch{}}return null}function FF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O0(e);case 8:return e===Nw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function No(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BF(t){var e=vk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zd(t){t._valueTracker||(t._valueTracker=BF(t))}function bk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function C0(t,e){var n=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $T(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=No(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _k(t,e){e=e.checked,e!=null&&kw(t,"checked",e,!1)}function k0(t,e){_k(t,e);var n=No(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?N0(t,e.type,n):e.hasOwnProperty("defaultValue")&&N0(t,e.type,No(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function LT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function N0(t,e,n){(e!=="number"||fp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ac=Array.isArray;function Ks(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+No(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function R0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function VT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(ac(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:No(n)}}function wk(t,e){var n=No(e.value),r=No(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function FT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function j0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var eh,Ek=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(eh=eh||document.createElement("div"),eh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=eh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UF=["Webkit","ms","Moz","O"];Object.keys(yc).forEach(function(t){UF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yc[e]=yc[t]})});function Tk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yc.hasOwnProperty(t)&&yc[t]?(""+e).trim():e+"px"}function Sk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Tk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var zF=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function M0(t,e){if(e){if(zF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function D0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $0=null;function Mw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var L0=null,Ys=null,Qs=null;function BT(t){if(t=rd(t)){if(typeof L0!="function")throw Error(J(280));var e=t.stateNode;e&&(e=dg(e),L0(t.stateNode,t.type,e))}}function Ik(t){Ys?Qs?Qs.push(t):Qs=[t]:Ys=t}function Ak(){if(Ys){var t=Ys,e=Qs;if(Qs=Ys=null,BT(t),e)for(t=0;t<e.length;t++)BT(e[t])}}function Pk(t,e){return t(e)}function Ok(){}var cv=!1;function Ck(t,e,n){if(cv)return t(e,n);cv=!0;try{return Pk(t,e,n)}finally{cv=!1,(Ys!==null||Qs!==null)&&(Ok(),Ak())}}function Bc(t,e){var n=t.stateNode;if(n===null)return null;var r=dg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var V0=!1;if(Ii)try{var Ru={};Object.defineProperty(Ru,"passive",{get:function(){V0=!0}}),window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{V0=!1}function WF(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var vc=!1,dp=null,hp=!1,F0=null,qF={onError:function(t){vc=!0,dp=t}};function GF(t,e,n,r,i,o,a,s,l){vc=!1,dp=null,WF.apply(qF,arguments)}function HF(t,e,n,r,i,o,a,s,l){if(GF.apply(this,arguments),vc){if(vc){var u=dp;vc=!1,dp=null}else throw Error(J(198));hp||(hp=!0,F0=u)}}function rs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function UT(t){if(rs(t)!==t)throw Error(J(188))}function KF(t){var e=t.alternate;if(!e){if(e=rs(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return UT(i),t;if(o===r)return UT(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function Nk(t){return t=KF(t),t!==null?Rk(t):null}function Rk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Rk(t);if(e!==null)return e;t=t.sibling}return null}var jk=Bn.unstable_scheduleCallback,zT=Bn.unstable_cancelCallback,YF=Bn.unstable_shouldYield,QF=Bn.unstable_requestPaint,gt=Bn.unstable_now,XF=Bn.unstable_getCurrentPriorityLevel,Dw=Bn.unstable_ImmediatePriority,Mk=Bn.unstable_UserBlockingPriority,pp=Bn.unstable_NormalPriority,JF=Bn.unstable_LowPriority,Dk=Bn.unstable_IdlePriority,lg=null,Wr=null;function ZF(t){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(lg,t,void 0,(t.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:n5,e5=Math.log,t5=Math.LN2;function n5(t){return t>>>=0,t===0?32:31-(e5(t)/t5|0)|0}var th=64,nh=4194304;function sc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=sc(s):(o&=a,o!==0&&(r=sc(o)))}else a=n&~i,a!==0?r=sc(a):o!==0&&(r=sc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ar(e),i=1<<n,r|=t[n],e&=~i;return r}function r5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Ar(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=r5(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function B0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $k(){var t=th;return th<<=1,!(th&4194240)&&(th=64),t}function fv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function td(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ar(e),t[e]=n}function o5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ar(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function $w(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ar(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function Lk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Vk,Lw,Fk,Bk,Uk,U0=!1,rh=[],vo=null,bo=null,_o=null,Uc=new Map,zc=new Map,ro=[],a5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WT(t,e){switch(t){case"focusin":case"focusout":vo=null;break;case"dragenter":case"dragleave":bo=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":Uc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(e.pointerId)}}function ju(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=rd(e),e!==null&&Lw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function s5(t,e,n,r,i){switch(e){case"focusin":return vo=ju(vo,t,e,n,r,i),!0;case"dragenter":return bo=ju(bo,t,e,n,r,i),!0;case"mouseover":return _o=ju(_o,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Uc.set(o,ju(Uc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,zc.set(o,ju(zc.get(o)||null,t,e,n,r,i)),!0}return!1}function zk(t){var e=ya(t.target);if(e!==null){var n=rs(e);if(n!==null){if(e=n.tag,e===13){if(e=kk(n),e!==null){t.blockedOn=e,Uk(t.priority,function(){Fk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=z0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$0=r,n.target.dispatchEvent(r),$0=null}else return e=rd(n),e!==null&&Lw(e),t.blockedOn=n,!1;e.shift()}return!0}function qT(t,e,n){Vh(t)&&n.delete(e)}function l5(){U0=!1,vo!==null&&Vh(vo)&&(vo=null),bo!==null&&Vh(bo)&&(bo=null),_o!==null&&Vh(_o)&&(_o=null),Uc.forEach(qT),zc.forEach(qT)}function Mu(t,e){t.blockedOn===e&&(t.blockedOn=null,U0||(U0=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,l5)))}function Wc(t){function e(i){return Mu(i,t)}if(0<rh.length){Mu(rh[0],t);for(var n=1;n<rh.length;n++){var r=rh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vo!==null&&Mu(vo,t),bo!==null&&Mu(bo,t),_o!==null&&Mu(_o,t),Uc.forEach(e),zc.forEach(e),n=0;n<ro.length;n++)r=ro[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ro.length&&(n=ro[0],n.blockedOn===null);)zk(n),n.blockedOn===null&&ro.shift()}var Xs=Li.ReactCurrentBatchConfig,gp=!0;function u5(t,e,n,r){var i=Le,o=Xs.transition;Xs.transition=null;try{Le=1,Vw(t,e,n,r)}finally{Le=i,Xs.transition=o}}function c5(t,e,n,r){var i=Le,o=Xs.transition;Xs.transition=null;try{Le=4,Vw(t,e,n,r)}finally{Le=i,Xs.transition=o}}function Vw(t,e,n,r){if(gp){var i=z0(t,e,n,r);if(i===null)wv(t,e,r,yp,n),WT(t,r);else if(s5(i,t,e,n,r))r.stopPropagation();else if(WT(t,r),e&4&&-1<a5.indexOf(t)){for(;i!==null;){var o=rd(i);if(o!==null&&Vk(o),o=z0(t,e,n,r),o===null&&wv(t,e,r,yp,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else wv(t,e,r,null,n)}}var yp=null;function z0(t,e,n,r){if(yp=null,t=Mw(r),t=ya(t),t!==null)if(e=rs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yp=t,null}function Wk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XF()){case Dw:return 1;case Mk:return 4;case pp:case JF:return 16;case Dk:return 536870912;default:return 16}default:return 16}}var ho=null,Fw=null,Fh=null;function qk(){if(Fh)return Fh;var t,e=Fw,n=e.length,r,i="value"in ho?ho.value:ho.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Fh=i.slice(t,1<r?1-r:void 0)}function Bh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ih(){return!0}function GT(){return!1}function Gn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ih:GT,this.isPropagationStopped=GT,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ih)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ih)},persist:function(){},isPersistent:ih}),e}var Yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bw=Gn(Yl),nd=ut({},Yl,{view:0,detail:0}),f5=Gn(nd),dv,hv,Du,ug=ut({},nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Du&&(Du&&t.type==="mousemove"?(dv=t.screenX-Du.screenX,hv=t.screenY-Du.screenY):hv=dv=0,Du=t),dv)},movementY:function(t){return"movementY"in t?t.movementY:hv}}),HT=Gn(ug),d5=ut({},ug,{dataTransfer:0}),h5=Gn(d5),p5=ut({},nd,{relatedTarget:0}),pv=Gn(p5),m5=ut({},Yl,{animationName:0,elapsedTime:0,pseudoElement:0}),g5=Gn(m5),y5=ut({},Yl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),v5=Gn(y5),b5=ut({},Yl,{data:0}),KT=Gn(b5),_5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=x5[t])?!!e[t]:!1}function Uw(){return E5}var T5=ut({},nd,{key:function(t){if(t.key){var e=_5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?w5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uw,charCode:function(t){return t.type==="keypress"?Bh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S5=Gn(T5),I5=ut({},ug,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YT=Gn(I5),A5=ut({},nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uw}),P5=Gn(A5),O5=ut({},Yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),C5=Gn(O5),k5=ut({},ug,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),N5=Gn(k5),R5=[9,13,27,32],zw=Ii&&"CompositionEvent"in window,bc=null;Ii&&"documentMode"in document&&(bc=document.documentMode);var j5=Ii&&"TextEvent"in window&&!bc,Gk=Ii&&(!zw||bc&&8<bc&&11>=bc),QT=" ",XT=!1;function Hk(t,e){switch(t){case"keyup":return R5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ms=!1;function M5(t,e){switch(t){case"compositionend":return Kk(e);case"keypress":return e.which!==32?null:(XT=!0,QT);case"textInput":return t=e.data,t===QT&&XT?null:t;default:return null}}function D5(t,e){if(Ms)return t==="compositionend"||!zw&&Hk(t,e)?(t=qk(),Fh=Fw=ho=null,Ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gk&&e.locale!=="ko"?null:e.data;default:return null}}var $5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$5[t.type]:e==="textarea"}function Yk(t,e,n,r){Ik(r),e=vp(e,"onChange"),0<e.length&&(n=new Bw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _c=null,qc=null;function L5(t){aN(t,0)}function cg(t){var e=Ls(t);if(bk(e))return t}function V5(t,e){if(t==="change")return e}var Qk=!1;if(Ii){var mv;if(Ii){var gv="oninput"in document;if(!gv){var ZT=document.createElement("div");ZT.setAttribute("oninput","return;"),gv=typeof ZT.oninput=="function"}mv=gv}else mv=!1;Qk=mv&&(!document.documentMode||9<document.documentMode)}function eS(){_c&&(_c.detachEvent("onpropertychange",Xk),qc=_c=null)}function Xk(t){if(t.propertyName==="value"&&cg(qc)){var e=[];Yk(e,qc,t,Mw(t)),Ck(L5,e)}}function F5(t,e,n){t==="focusin"?(eS(),_c=e,qc=n,_c.attachEvent("onpropertychange",Xk)):t==="focusout"&&eS()}function B5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cg(qc)}function U5(t,e){if(t==="click")return cg(e)}function z5(t,e){if(t==="input"||t==="change")return cg(e)}function W5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cr=typeof Object.is=="function"?Object.is:W5;function Gc(t,e){if(Cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!S0.call(e,i)||!Cr(t[i],e[i]))return!1}return!0}function tS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nS(t,e){var n=tS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tS(n)}}function Jk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zk(){for(var t=window,e=fp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fp(t.document)}return e}function Ww(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function q5(t){var e=Zk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Jk(n.ownerDocument.documentElement,n)){if(r!==null&&Ww(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=nS(n,o);var a=nS(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var G5=Ii&&"documentMode"in document&&11>=document.documentMode,Ds=null,W0=null,wc=null,q0=!1;function rS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;q0||Ds==null||Ds!==fp(r)||(r=Ds,"selectionStart"in r&&Ww(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wc&&Gc(wc,r)||(wc=r,r=vp(W0,"onSelect"),0<r.length&&(e=new Bw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ds)))}function oh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $s={animationend:oh("Animation","AnimationEnd"),animationiteration:oh("Animation","AnimationIteration"),animationstart:oh("Animation","AnimationStart"),transitionend:oh("Transition","TransitionEnd")},yv={},eN={};Ii&&(eN=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function fg(t){if(yv[t])return yv[t];if(!$s[t])return t;var e=$s[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in eN)return yv[t]=e[n];return t}var tN=fg("animationend"),nN=fg("animationiteration"),rN=fg("animationstart"),iN=fg("transitionend"),oN=new Map,iS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(t,e){oN.set(t,e),ns(e,[t])}for(var vv=0;vv<iS.length;vv++){var bv=iS[vv],H5=bv.toLowerCase(),K5=bv[0].toUpperCase()+bv.slice(1);Vo(H5,"on"+K5)}Vo(tN,"onAnimationEnd");Vo(nN,"onAnimationIteration");Vo(rN,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(iN,"onTransitionEnd");sl("onMouseEnter",["mouseout","mouseover"]);sl("onMouseLeave",["mouseout","mouseover"]);sl("onPointerEnter",["pointerout","pointerover"]);sl("onPointerLeave",["pointerout","pointerover"]);ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y5=new Set("cancel close invalid load scroll toggle".split(" ").concat(lc));function oS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,HF(r,e,void 0,t),t.currentTarget=null}function aN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;oS(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;oS(i,s,u),o=l}}}if(hp)throw t=F0,hp=!1,F0=null,t}function Qe(t,e){var n=e[Q0];n===void 0&&(n=e[Q0]=new Set);var r=t+"__bubble";n.has(r)||(sN(e,t,2,!1),n.add(r))}function _v(t,e,n){var r=0;e&&(r|=4),sN(n,t,r,e)}var ah="_reactListening"+Math.random().toString(36).slice(2);function Hc(t){if(!t[ah]){t[ah]=!0,pk.forEach(function(n){n!=="selectionchange"&&(Y5.has(n)||_v(n,!1,t),_v(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ah]||(e[ah]=!0,_v("selectionchange",!1,e))}}function sN(t,e,n,r){switch(Wk(e)){case 1:var i=u5;break;case 4:i=c5;break;default:i=Vw}n=i.bind(null,e,n,t),i=void 0,!V0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wv(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=ya(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Ck(function(){var u=o,c=Mw(n),f=[];e:{var h=oN.get(t);if(h!==void 0){var p=Bw,g=t;switch(t){case"keypress":if(Bh(n)===0)break e;case"keydown":case"keyup":p=S5;break;case"focusin":g="focus",p=pv;break;case"focusout":g="blur",p=pv;break;case"beforeblur":case"afterblur":p=pv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=HT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=h5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=P5;break;case tN:case nN:case rN:p=g5;break;case iN:p=C5;break;case"scroll":p=f5;break;case"wheel":p=N5;break;case"copy":case"cut":case"paste":p=v5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=YT}var y=(e&4)!==0,b=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var w=u,_;w!==null;){_=w;var P=_.stateNode;if(_.tag===5&&P!==null&&(_=P,x!==null&&(P=Bc(w,x),P!=null&&y.push(Kc(w,P,_)))),b)break;w=w.return}0<y.length&&(h=new p(h,g,null,n,c),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==$0&&(g=n.relatedTarget||n.fromElement)&&(ya(g)||g[Ai]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?ya(g):null,g!==null&&(b=rs(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=HT,P="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=YT,P="onPointerLeave",x="onPointerEnter",w="pointer"),b=p==null?h:Ls(p),_=g==null?h:Ls(g),h=new y(P,w+"leave",p,n,c),h.target=b,h.relatedTarget=_,P=null,ya(c)===u&&(y=new y(x,w+"enter",g,n,c),y.target=_,y.relatedTarget=b,P=y),b=P,p&&g)t:{for(y=p,x=g,w=0,_=y;_;_=vs(_))w++;for(_=0,P=x;P;P=vs(P))_++;for(;0<w-_;)y=vs(y),w--;for(;0<_-w;)x=vs(x),_--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=vs(y),x=vs(x)}y=null}else y=null;p!==null&&aS(f,h,p,y,!1),g!==null&&b!==null&&aS(f,b,g,y,!0)}}e:{if(h=u?Ls(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=V5;else if(JT(h))if(Qk)T=z5;else{T=B5;var I=F5}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=U5);if(T&&(T=T(t,u))){Yk(f,T,n,c);break e}I&&I(t,h,u),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&N0(h,"number",h.value)}switch(I=u?Ls(u):window,t){case"focusin":(JT(I)||I.contentEditable==="true")&&(Ds=I,W0=u,wc=null);break;case"focusout":wc=W0=Ds=null;break;case"mousedown":q0=!0;break;case"contextmenu":case"mouseup":case"dragend":q0=!1,rS(f,n,c);break;case"selectionchange":if(G5)break;case"keydown":case"keyup":rS(f,n,c)}var E;if(zw)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ms?Hk(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Gk&&n.locale!=="ko"&&(Ms||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ms&&(E=qk()):(ho=c,Fw="value"in ho?ho.value:ho.textContent,Ms=!0)),I=vp(u,S),0<I.length&&(S=new KT(S,t,null,n,c),f.push({event:S,listeners:I}),E?S.data=E:(E=Kk(n),E!==null&&(S.data=E)))),(E=j5?M5(t,n):D5(t,n))&&(u=vp(u,"onBeforeInput"),0<u.length&&(c=new KT("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}aN(f,e)})}function Kc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Bc(t,n),o!=null&&r.unshift(Kc(t,o,i)),o=Bc(t,e),o!=null&&r.push(Kc(t,o,i))),t=t.return}return r}function vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function aS(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Bc(n,o),l!=null&&a.unshift(Kc(n,l,s))):i||(l=Bc(n,o),l!=null&&a.push(Kc(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Q5=/\r\n?/g,X5=/\u0000|\uFFFD/g;function sS(t){return(typeof t=="string"?t:""+t).replace(Q5,`
`).replace(X5,"")}function sh(t,e,n){if(e=sS(e),sS(t)!==e&&n)throw Error(J(425))}function bp(){}var G0=null,H0=null;function K0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Y0=typeof setTimeout=="function"?setTimeout:void 0,J5=typeof clearTimeout=="function"?clearTimeout:void 0,lS=typeof Promise=="function"?Promise:void 0,Z5=typeof queueMicrotask=="function"?queueMicrotask:typeof lS<"u"?function(t){return lS.resolve(null).then(t).catch(e3)}:Y0;function e3(t){setTimeout(function(){throw t})}function xv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wc(e)}function wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ql=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Ql,Yc="__reactProps$"+Ql,Ai="__reactContainer$"+Ql,Q0="__reactEvents$"+Ql,t3="__reactListeners$"+Ql,n3="__reactHandles$"+Ql;function ya(t){var e=t[Fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ai]||n[Fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uS(t);t!==null;){if(n=t[Fr])return n;t=uS(t)}return e}t=n,n=t.parentNode}return null}function rd(t){return t=t[Fr]||t[Ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ls(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function dg(t){return t[Yc]||null}var X0=[],Vs=-1;function Fo(t){return{current:t}}function Ze(t){0>Vs||(t.current=X0[Vs],X0[Vs]=null,Vs--)}function He(t,e){Vs++,X0[Vs]=t.current,t.current=e}var Ro={},sn=Fo(Ro),Tn=Fo(!1),Ma=Ro;function ll(t,e){var n=t.type.contextTypes;if(!n)return Ro;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sn(t){return t=t.childContextTypes,t!=null}function _p(){Ze(Tn),Ze(sn)}function cS(t,e,n){if(sn.current!==Ro)throw Error(J(168));He(sn,e),He(Tn,n)}function lN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,FF(t)||"Unknown",i));return ut({},n,r)}function wp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ro,Ma=sn.current,He(sn,t),He(Tn,Tn.current),!0}function fS(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=lN(t,e,Ma),r.__reactInternalMemoizedMergedChildContext=t,Ze(Tn),Ze(sn),He(sn,t)):Ze(Tn),He(Tn,n)}var ui=null,hg=!1,Ev=!1;function uN(t){ui===null?ui=[t]:ui.push(t)}function r3(t){hg=!0,uN(t)}function Bo(){if(!Ev&&ui!==null){Ev=!0;var t=0,e=Le;try{var n=ui;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ui=null,hg=!1}catch(i){throw ui!==null&&(ui=ui.slice(t+1)),jk(Dw,Bo),i}finally{Le=e,Ev=!1}}return null}var Fs=[],Bs=0,xp=null,Ep=0,Qn=[],Xn=0,Da=null,fi=1,di="";function oa(t,e){Fs[Bs++]=Ep,Fs[Bs++]=xp,xp=t,Ep=e}function cN(t,e,n){Qn[Xn++]=fi,Qn[Xn++]=di,Qn[Xn++]=Da,Da=t;var r=fi;t=di;var i=32-Ar(r)-1;r&=~(1<<i),n+=1;var o=32-Ar(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,fi=1<<32-Ar(e)+i|n<<i|r,di=o+t}else fi=1<<o|n<<i|r,di=t}function qw(t){t.return!==null&&(oa(t,1),cN(t,1,0))}function Gw(t){for(;t===xp;)xp=Fs[--Bs],Fs[Bs]=null,Ep=Fs[--Bs],Fs[Bs]=null;for(;t===Da;)Da=Qn[--Xn],Qn[Xn]=null,di=Qn[--Xn],Qn[Xn]=null,fi=Qn[--Xn],Qn[Xn]=null}var Vn=null,Mn=null,tt=!1,xr=null;function fN(t,e){var n=Zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vn=t,Mn=wo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vn=t,Mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Da!==null?{id:fi,overflow:di}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vn=t,Mn=null,!0):!1;default:return!1}}function J0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Z0(t){if(tt){var e=Mn;if(e){var n=e;if(!dS(t,e)){if(J0(t))throw Error(J(418));e=wo(n.nextSibling);var r=Vn;e&&dS(t,e)?fN(r,n):(t.flags=t.flags&-4097|2,tt=!1,Vn=t)}}else{if(J0(t))throw Error(J(418));t.flags=t.flags&-4097|2,tt=!1,Vn=t}}}function hS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vn=t}function lh(t){if(t!==Vn)return!1;if(!tt)return hS(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!K0(t.type,t.memoizedProps)),e&&(e=Mn)){if(J0(t))throw dN(),Error(J(418));for(;e;)fN(t,e),e=wo(e.nextSibling)}if(hS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mn=wo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mn=null}}else Mn=Vn?wo(t.stateNode.nextSibling):null;return!0}function dN(){for(var t=Mn;t;)t=wo(t.nextSibling)}function ul(){Mn=Vn=null,tt=!1}function Hw(t){xr===null?xr=[t]:xr.push(t)}var i3=Li.ReactCurrentBatchConfig;function $u(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function uh(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pS(t){var e=t._init;return e(t._payload)}function hN(t){function e(x,w){if(t){var _=x.deletions;_===null?(x.deletions=[w],x.flags|=16):_.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=So(x,w),x.index=0,x.sibling=null,x}function o(x,w,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<w?(x.flags|=2,w):_):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,w,_,P){return w===null||w.tag!==6?(w=Cv(_,x.mode,P),w.return=x,w):(w=i(w,_),w.return=x,w)}function l(x,w,_,P){var T=_.type;return T===js?c(x,w,_.props.children,P,_.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===eo&&pS(T)===w.type)?(P=i(w,_.props),P.ref=$u(x,w,_),P.return=x,P):(P=Kh(_.type,_.key,_.props,null,x.mode,P),P.ref=$u(x,w,_),P.return=x,P)}function u(x,w,_,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=kv(_,x.mode,P),w.return=x,w):(w=i(w,_.children||[]),w.return=x,w)}function c(x,w,_,P,T){return w===null||w.tag!==7?(w=Aa(_,x.mode,P,T),w.return=x,w):(w=i(w,_),w.return=x,w)}function f(x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Cv(""+w,x.mode,_),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jd:return _=Kh(w.type,w.key,w.props,null,x.mode,_),_.ref=$u(x,null,w),_.return=x,_;case Rs:return w=kv(w,x.mode,_),w.return=x,w;case eo:var P=w._init;return f(x,P(w._payload),_)}if(ac(w)||Nu(w))return w=Aa(w,x.mode,_,null),w.return=x,w;uh(x,w)}return null}function h(x,w,_,P){var T=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:s(x,w,""+_,P);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Jd:return _.key===T?l(x,w,_,P):null;case Rs:return _.key===T?u(x,w,_,P):null;case eo:return T=_._init,h(x,w,T(_._payload),P)}if(ac(_)||Nu(_))return T!==null?null:c(x,w,_,P,null);uh(x,_)}return null}function p(x,w,_,P,T){if(typeof P=="string"&&P!==""||typeof P=="number")return x=x.get(_)||null,s(w,x,""+P,T);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Jd:return x=x.get(P.key===null?_:P.key)||null,l(w,x,P,T);case Rs:return x=x.get(P.key===null?_:P.key)||null,u(w,x,P,T);case eo:var I=P._init;return p(x,w,_,I(P._payload),T)}if(ac(P)||Nu(P))return x=x.get(_)||null,c(w,x,P,T,null);uh(w,P)}return null}function g(x,w,_,P){for(var T=null,I=null,E=w,S=w=0,O=null;E!==null&&S<_.length;S++){E.index>S?(O=E,E=null):O=E.sibling;var k=h(x,E,_[S],P);if(k===null){E===null&&(E=O);break}t&&E&&k.alternate===null&&e(x,E),w=o(k,w,S),I===null?T=k:I.sibling=k,I=k,E=O}if(S===_.length)return n(x,E),tt&&oa(x,S),T;if(E===null){for(;S<_.length;S++)E=f(x,_[S],P),E!==null&&(w=o(E,w,S),I===null?T=E:I.sibling=E,I=E);return tt&&oa(x,S),T}for(E=r(x,E);S<_.length;S++)O=p(E,x,S,_[S],P),O!==null&&(t&&O.alternate!==null&&E.delete(O.key===null?S:O.key),w=o(O,w,S),I===null?T=O:I.sibling=O,I=O);return t&&E.forEach(function(C){return e(x,C)}),tt&&oa(x,S),T}function y(x,w,_,P){var T=Nu(_);if(typeof T!="function")throw Error(J(150));if(_=T.call(_),_==null)throw Error(J(151));for(var I=T=null,E=w,S=w=0,O=null,k=_.next();E!==null&&!k.done;S++,k=_.next()){E.index>S?(O=E,E=null):O=E.sibling;var C=h(x,E,k.value,P);if(C===null){E===null&&(E=O);break}t&&E&&C.alternate===null&&e(x,E),w=o(C,w,S),I===null?T=C:I.sibling=C,I=C,E=O}if(k.done)return n(x,E),tt&&oa(x,S),T;if(E===null){for(;!k.done;S++,k=_.next())k=f(x,k.value,P),k!==null&&(w=o(k,w,S),I===null?T=k:I.sibling=k,I=k);return tt&&oa(x,S),T}for(E=r(x,E);!k.done;S++,k=_.next())k=p(E,x,S,k.value,P),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?S:k.key),w=o(k,w,S),I===null?T=k:I.sibling=k,I=k);return t&&E.forEach(function(R){return e(x,R)}),tt&&oa(x,S),T}function b(x,w,_,P){if(typeof _=="object"&&_!==null&&_.type===js&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Jd:e:{for(var T=_.key,I=w;I!==null;){if(I.key===T){if(T=_.type,T===js){if(I.tag===7){n(x,I.sibling),w=i(I,_.props.children),w.return=x,x=w;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===eo&&pS(T)===I.type){n(x,I.sibling),w=i(I,_.props),w.ref=$u(x,I,_),w.return=x,x=w;break e}n(x,I);break}else e(x,I);I=I.sibling}_.type===js?(w=Aa(_.props.children,x.mode,P,_.key),w.return=x,x=w):(P=Kh(_.type,_.key,_.props,null,x.mode,P),P.ref=$u(x,w,_),P.return=x,x=P)}return a(x);case Rs:e:{for(I=_.key;w!==null;){if(w.key===I)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(x,w.sibling),w=i(w,_.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=kv(_,x.mode,P),w.return=x,x=w}return a(x);case eo:return I=_._init,b(x,w,I(_._payload),P)}if(ac(_))return g(x,w,_,P);if(Nu(_))return y(x,w,_,P);uh(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,_),w.return=x,x=w):(n(x,w),w=Cv(_,x.mode,P),w.return=x,x=w),a(x)):n(x,w)}return b}var cl=hN(!0),pN=hN(!1),Tp=Fo(null),Sp=null,Us=null,Kw=null;function Yw(){Kw=Us=Sp=null}function Qw(t){var e=Tp.current;Ze(Tp),t._currentValue=e}function eb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Js(t,e){Sp=t,Kw=Us=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xn=!0),t.firstContext=null)}function lr(t){var e=t._currentValue;if(Kw!==t)if(t={context:t,memoizedValue:e,next:null},Us===null){if(Sp===null)throw Error(J(308));Us=t,Sp.dependencies={lanes:0,firstContext:t}}else Us=Us.next=t;return e}var va=null;function Xw(t){va===null?va=[t]:va.push(t)}function mN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Xw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pi(t,r)}function Pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var to=!1;function Jw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pi(t,n)}return i=r.interleaved,i===null?(e.next=e,Xw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pi(t,n)}function Uh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$w(t,n)}}function mS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ip(t,e,n,r){var i=t.updateQueue;to=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,y=s;switch(h=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=ut({},f,h);break e;case 2:to=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);La|=a,t.lanes=a,t.memoizedState=f}}function gS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var id={},qr=Fo(id),Qc=Fo(id),Xc=Fo(id);function ba(t){if(t===id)throw Error(J(174));return t}function Zw(t,e){switch(He(Xc,e),He(Qc,t),He(qr,id),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:j0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=j0(e,t)}Ze(qr),He(qr,e)}function fl(){Ze(qr),Ze(Qc),Ze(Xc)}function yN(t){ba(Xc.current);var e=ba(qr.current),n=j0(e,t.type);e!==n&&(He(Qc,t),He(qr,n))}function ex(t){Qc.current===t&&(Ze(qr),Ze(Qc))}var at=Fo(0);function Ap(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tv=[];function tx(){for(var t=0;t<Tv.length;t++)Tv[t]._workInProgressVersionPrimary=null;Tv.length=0}var zh=Li.ReactCurrentDispatcher,Sv=Li.ReactCurrentBatchConfig,$a=0,lt=null,It=null,jt=null,Pp=!1,xc=!1,Jc=0,o3=0;function Xt(){throw Error(J(321))}function nx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cr(t[n],e[n]))return!1;return!0}function rx(t,e,n,r,i,o){if($a=o,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zh.current=t===null||t.memoizedState===null?u3:c3,t=n(r,i),xc){o=0;do{if(xc=!1,Jc=0,25<=o)throw Error(J(301));o+=1,jt=It=null,e.updateQueue=null,zh.current=f3,t=n(r,i)}while(xc)}if(zh.current=Op,e=It!==null&&It.next!==null,$a=0,jt=It=lt=null,Pp=!1,e)throw Error(J(300));return t}function ix(){var t=Jc!==0;return Jc=0,t}function Lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?lt.memoizedState=jt=t:jt=jt.next=t,jt}function ur(){if(It===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=jt===null?lt.memoizedState:jt.next;if(e!==null)jt=e,It=t;else{if(t===null)throw Error(J(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},jt===null?lt.memoizedState=jt=t:jt=jt.next=t}return jt}function Zc(t,e){return typeof e=="function"?e(t):e}function Iv(t){var e=ur(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=It,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if(($a&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,lt.lanes|=c,La|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Cr(r,e.memoizedState)||(xn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,lt.lanes|=o,La|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Av(t){var e=ur(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Cr(o,e.memoizedState)||(xn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function vN(){}function bN(t,e){var n=lt,r=ur(),i=e(),o=!Cr(r.memoizedState,i);if(o&&(r.memoizedState=i,xn=!0),r=r.queue,ox(xN.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,ef(9,wN.bind(null,n,r,i,e),void 0,null),Mt===null)throw Error(J(349));$a&30||_N(n,e,i)}return i}function _N(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wN(t,e,n,r){e.value=n,e.getSnapshot=r,EN(e)&&TN(t)}function xN(t,e,n){return n(function(){EN(e)&&TN(t)})}function EN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cr(t,n)}catch{return!0}}function TN(t){var e=Pi(t,1);e!==null&&Pr(e,t,1,-1)}function yS(t){var e=Lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:t},e.queue=t,t=t.dispatch=l3.bind(null,lt,t),[e.memoizedState,t]}function ef(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function SN(){return ur().memoizedState}function Wh(t,e,n,r){var i=Lr();lt.flags|=t,i.memoizedState=ef(1|e,n,void 0,r===void 0?null:r)}function pg(t,e,n,r){var i=ur();r=r===void 0?null:r;var o=void 0;if(It!==null){var a=It.memoizedState;if(o=a.destroy,r!==null&&nx(r,a.deps)){i.memoizedState=ef(e,n,o,r);return}}lt.flags|=t,i.memoizedState=ef(1|e,n,o,r)}function vS(t,e){return Wh(8390656,8,t,e)}function ox(t,e){return pg(2048,8,t,e)}function IN(t,e){return pg(4,2,t,e)}function AN(t,e){return pg(4,4,t,e)}function PN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ON(t,e,n){return n=n!=null?n.concat([t]):null,pg(4,4,PN.bind(null,e,t),n)}function ax(){}function CN(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kN(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function NN(t,e,n){return $a&21?(Cr(n,e)||(n=$k(),lt.lanes|=n,La|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xn=!0),t.memoizedState=n)}function a3(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=Sv.transition;Sv.transition={};try{t(!1),e()}finally{Le=n,Sv.transition=r}}function RN(){return ur().memoizedState}function s3(t,e,n){var r=To(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jN(t))MN(e,n);else if(n=mN(t,e,n,r),n!==null){var i=mn();Pr(n,t,r,i),DN(n,e,r)}}function l3(t,e,n){var r=To(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jN(t))MN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Cr(s,a)){var l=e.interleaved;l===null?(i.next=i,Xw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=mN(t,e,i,r),n!==null&&(i=mn(),Pr(n,t,r,i),DN(n,e,r))}}function jN(t){var e=t.alternate;return t===lt||e!==null&&e===lt}function MN(t,e){xc=Pp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$w(t,n)}}var Op={readContext:lr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},u3={readContext:lr,useCallback:function(t,e){return Lr().memoizedState=[t,e===void 0?null:e],t},useContext:lr,useEffect:vS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wh(4194308,4,PN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wh(4,2,t,e)},useMemo:function(t,e){var n=Lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=s3.bind(null,lt,t),[r.memoizedState,t]},useRef:function(t){var e=Lr();return t={current:t},e.memoizedState=t},useState:yS,useDebugValue:ax,useDeferredValue:function(t){return Lr().memoizedState=t},useTransition:function(){var t=yS(!1),e=t[0];return t=a3.bind(null,t[1]),Lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=lt,i=Lr();if(tt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Mt===null)throw Error(J(349));$a&30||_N(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,vS(xN.bind(null,r,o,t),[t]),r.flags|=2048,ef(9,wN.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Lr(),e=Mt.identifierPrefix;if(tt){var n=di,r=fi;n=(r&~(1<<32-Ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Jc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=o3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},c3={readContext:lr,useCallback:CN,useContext:lr,useEffect:ox,useImperativeHandle:ON,useInsertionEffect:IN,useLayoutEffect:AN,useMemo:kN,useReducer:Iv,useRef:SN,useState:function(){return Iv(Zc)},useDebugValue:ax,useDeferredValue:function(t){var e=ur();return NN(e,It.memoizedState,t)},useTransition:function(){var t=Iv(Zc)[0],e=ur().memoizedState;return[t,e]},useMutableSource:vN,useSyncExternalStore:bN,useId:RN,unstable_isNewReconciler:!1},f3={readContext:lr,useCallback:CN,useContext:lr,useEffect:ox,useImperativeHandle:ON,useInsertionEffect:IN,useLayoutEffect:AN,useMemo:kN,useReducer:Av,useRef:SN,useState:function(){return Av(Zc)},useDebugValue:ax,useDeferredValue:function(t){var e=ur();return It===null?e.memoizedState=t:NN(e,It.memoizedState,t)},useTransition:function(){var t=Av(Zc)[0],e=ur().memoizedState;return[t,e]},useMutableSource:vN,useSyncExternalStore:bN,useId:RN,unstable_isNewReconciler:!1};function yr(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function tb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mg={isMounted:function(t){return(t=t._reactInternals)?rs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mn(),i=To(t),o=_i(r,i);o.payload=e,n!=null&&(o.callback=n),e=xo(t,o,i),e!==null&&(Pr(e,t,i,r),Uh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mn(),i=To(t),o=_i(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=xo(t,o,i),e!==null&&(Pr(e,t,i,r),Uh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mn(),r=To(t),i=_i(n,r);i.tag=2,e!=null&&(i.callback=e),e=xo(t,i,r),e!==null&&(Pr(e,t,r,n),Uh(e,t,r))}};function bS(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Gc(n,r)||!Gc(i,o):!0}function $N(t,e,n){var r=!1,i=Ro,o=e.contextType;return typeof o=="object"&&o!==null?o=lr(o):(i=Sn(e)?Ma:sn.current,r=e.contextTypes,o=(r=r!=null)?ll(t,i):Ro),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function _S(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mg.enqueueReplaceState(e,e.state,null)}function nb(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Jw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=lr(o):(o=Sn(e)?Ma:sn.current,i.context=ll(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(tb(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&mg.enqueueReplaceState(i,i.state,null),Ip(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function dl(t,e){try{var n="",r=e;do n+=VF(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Pv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var d3=typeof WeakMap=="function"?WeakMap:Map;function LN(t,e,n){n=_i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kp||(kp=!0,hb=r),rb(t,e)},n}function VN(t,e,n){n=_i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){rb(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){rb(t,e),typeof r!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function wS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new d3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=I3.bind(null,t,e,n),e.then(t,t))}function xS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ES(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_i(-1,1),e.tag=2,xo(n,e,1))),n.lanes|=1),t)}var h3=Li.ReactCurrentOwner,xn=!1;function fn(t,e,n,r){e.child=t===null?pN(e,null,n,r):cl(e,t.child,n,r)}function TS(t,e,n,r,i){n=n.render;var o=e.ref;return Js(e,i),r=rx(t,e,n,r,o,i),n=ix(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(tt&&n&&qw(e),e.flags|=1,fn(t,e,r,i),e.child)}function SS(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!px(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,FN(t,e,o,r,i)):(t=Kh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Gc,n(a,r)&&t.ref===e.ref)return Oi(t,e,i)}return e.flags|=1,t=So(o,r),t.ref=e.ref,t.return=e,e.child=t}function FN(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Gc(o,r)&&t.ref===e.ref)if(xn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(xn=!0);else return e.lanes=t.lanes,Oi(t,e,i)}return ib(t,e,n,r,i)}function BN(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Ws,Nn),Nn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(Ws,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,He(Ws,Nn),Nn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,He(Ws,Nn),Nn|=r;return fn(t,e,i,n),e.child}function UN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ib(t,e,n,r,i){var o=Sn(n)?Ma:sn.current;return o=ll(e,o),Js(e,i),n=rx(t,e,n,r,o,i),r=ix(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(tt&&r&&qw(e),e.flags|=1,fn(t,e,n,i),e.child)}function IS(t,e,n,r,i){if(Sn(n)){var o=!0;wp(e)}else o=!1;if(Js(e,i),e.stateNode===null)qh(t,e),$N(e,n,r),nb(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=lr(u):(u=Sn(n)?Ma:sn.current,u=ll(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&_S(e,a,r,u),to=!1;var h=e.memoizedState;a.state=h,Ip(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Tn.current||to?(typeof c=="function"&&(tb(e,n,c,r),l=e.memoizedState),(s=to||bS(e,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,gN(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:yr(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=lr(l):(l=Sn(n)?Ma:sn.current,l=ll(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&_S(e,a,r,l),to=!1,h=e.memoizedState,a.state=h,Ip(e,r,a,i);var g=e.memoizedState;s!==f||h!==g||Tn.current||to?(typeof p=="function"&&(tb(e,n,p,r),g=e.memoizedState),(u=to||bS(e,n,u,r,h,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return ob(t,e,n,r,o,i)}function ob(t,e,n,r,i,o){UN(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&fS(e,n,!1),Oi(t,e,o);r=e.stateNode,h3.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=cl(e,t.child,null,o),e.child=cl(e,null,s,o)):fn(t,e,s,o),e.memoizedState=r.state,i&&fS(e,n,!0),e.child}function zN(t){var e=t.stateNode;e.pendingContext?cS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cS(t,e.context,!1),Zw(t,e.containerInfo)}function AS(t,e,n,r,i){return ul(),Hw(i),e.flags|=256,fn(t,e,n,r),e.child}var ab={dehydrated:null,treeContext:null,retryLane:0};function sb(t){return{baseLanes:t,cachePool:null,transitions:null}}function WN(t,e,n){var r=e.pendingProps,i=at.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),He(at,i&1),t===null)return Z0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=vg(a,r,0,null),t=Aa(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=sb(n),e.memoizedState=ab,t):sx(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return p3(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=So(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=So(s,o):(o=Aa(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?sb(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=ab,r}return o=t.child,t=o.sibling,r=So(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sx(t,e){return e=vg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ch(t,e,n,r){return r!==null&&Hw(r),cl(e,t.child,null,n),t=sx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function p3(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Pv(Error(J(422))),ch(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=vg({mode:"visible",children:r.children},i,0,null),o=Aa(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&cl(e,t.child,null,a),e.child.memoizedState=sb(a),e.memoizedState=ab,o);if(!(e.mode&1))return ch(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(J(419)),r=Pv(o,r,void 0),ch(t,e,a,r)}if(s=(a&t.childLanes)!==0,xn||s){if(r=Mt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Pi(t,i),Pr(r,t,i,-1))}return hx(),r=Pv(Error(J(421))),ch(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=A3.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Mn=wo(i.nextSibling),Vn=e,tt=!0,xr=null,t!==null&&(Qn[Xn++]=fi,Qn[Xn++]=di,Qn[Xn++]=Da,fi=t.id,di=t.overflow,Da=e),e=sx(e,r.children),e.flags|=4096,e)}function PS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),eb(t.return,e,n)}function Ov(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qN(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(fn(t,e,r.children,n),r=at.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PS(t,n,e);else if(t.tag===19)PS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(at,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ap(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ov(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ap(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ov(e,!0,n,null,o);break;case"together":Ov(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),La|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=So(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=So(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function m3(t,e,n){switch(e.tag){case 3:zN(e),ul();break;case 5:yN(e);break;case 1:Sn(e.type)&&wp(e);break;case 4:Zw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;He(Tp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(at,at.current&1),e.flags|=128,null):n&e.child.childLanes?WN(t,e,n):(He(at,at.current&1),t=Oi(t,e,n),t!==null?t.sibling:null);He(at,at.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return qN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(at,at.current),r)break;return null;case 22:case 23:return e.lanes=0,BN(t,e,n)}return Oi(t,e,n)}var GN,lb,HN,KN;GN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lb=function(){};HN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ba(qr.current);var o=null;switch(n){case"input":i=C0(t,i),r=C0(t,r),o=[];break;case"select":i=ut({},i,{value:void 0}),r=ut({},r,{value:void 0}),o=[];break;case"textarea":i=R0(t,i),r=R0(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bp)}M0(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Qe("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};KN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Lu(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function g3(t,e,n){var r=e.pendingProps;switch(Gw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return Sn(e.type)&&_p(),Jt(e),null;case 3:return r=e.stateNode,fl(),Ze(Tn),Ze(sn),tx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xr!==null&&(gb(xr),xr=null))),lb(t,e),Jt(e),null;case 5:ex(e);var i=ba(Xc.current);if(n=e.type,t!==null&&e.stateNode!=null)HN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Jt(e),null}if(t=ba(qr.current),lh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Fr]=e,r[Yc]=o,t=(e.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(i=0;i<lc.length;i++)Qe(lc[i],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":$T(r,o),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Qe("invalid",r);break;case"textarea":VT(r,o),Qe("invalid",r)}M0(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&sh(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&sh(r.textContent,s,t),i=["children",""+s]):Vc.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Qe("scroll",r)}switch(n){case"input":Zd(r),LT(r,o,!0);break;case"textarea":Zd(r),FT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=bp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Fr]=e,t[Yc]=r,GN(t,e,!1,!1),e.stateNode=t;e:{switch(a=D0(n,r),n){case"dialog":Qe("cancel",t),Qe("close",t),i=r;break;case"iframe":case"object":case"embed":Qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<lc.length;i++)Qe(lc[i],t);i=r;break;case"source":Qe("error",t),i=r;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),i=r;break;case"details":Qe("toggle",t),i=r;break;case"input":$T(t,r),i=C0(t,r),Qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ut({},r,{value:void 0}),Qe("invalid",t);break;case"textarea":VT(t,r),i=R0(t,r),Qe("invalid",t);break;default:i=r}M0(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Sk(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ek(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fc(t,l):typeof l=="number"&&Fc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Vc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Qe("scroll",t):l!=null&&kw(t,o,l,a))}switch(n){case"input":Zd(t),LT(t,r,!1);break;case"textarea":Zd(t),FT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+No(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ks(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ks(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)KN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=ba(Xc.current),ba(qr.current),lh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fr]=e,(o=r.nodeValue!==n)&&(t=Vn,t!==null))switch(t.tag){case 3:sh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fr]=e,e.stateNode=r}return Jt(e),null;case 13:if(Ze(at),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&Mn!==null&&e.mode&1&&!(e.flags&128))dN(),ul(),e.flags|=98560,o=!1;else if(o=lh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[Fr]=e}else ul(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),o=!1}else xr!==null&&(gb(xr),xr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?At===0&&(At=3):hx())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return fl(),lb(t,e),t===null&&Hc(e.stateNode.containerInfo),Jt(e),null;case 10:return Qw(e.type._context),Jt(e),null;case 17:return Sn(e.type)&&_p(),Jt(e),null;case 19:if(Ze(at),o=e.memoizedState,o===null)return Jt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Lu(o,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ap(t),a!==null){for(e.flags|=128,Lu(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(at,at.current&1|2),e.child}t=t.sibling}o.tail!==null&&gt()>hl&&(e.flags|=128,r=!0,Lu(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ap(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Lu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!tt)return Jt(e),null}else 2*gt()-o.renderingStartTime>hl&&n!==1073741824&&(e.flags|=128,r=!0,Lu(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=gt(),e.sibling=null,n=at.current,He(at,r?n&1|2:n&1),e):(Jt(e),null);case 22:case 23:return dx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function y3(t,e){switch(Gw(e),e.tag){case 1:return Sn(e.type)&&_p(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fl(),Ze(Tn),Ze(sn),tx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ex(e),null;case 13:if(Ze(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));ul()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(at),null;case 4:return fl(),null;case 10:return Qw(e.type._context),null;case 22:case 23:return dx(),null;case 24:return null;default:return null}}var fh=!1,tn=!1,v3=typeof WeakSet=="function"?WeakSet:Set,ae=null;function zs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ht(t,e,r)}else n.current=null}function ub(t,e,n){try{n()}catch(r){ht(t,e,r)}}var OS=!1;function b3(t,e){if(G0=gp,t=Zk(),Ww(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(H0={focusedElem:t,selectionRange:n},gp=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:yr(e.type,y),b);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(P){ht(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return g=OS,OS=!1,g}function Ec(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&ub(e,n,o)}i=i.next}while(i!==r)}}function gg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function YN(t){var e=t.alternate;e!==null&&(t.alternate=null,YN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fr],delete e[Yc],delete e[Q0],delete e[t3],delete e[n3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QN(t){return t.tag===5||t.tag===3||t.tag===4}function CS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bp));else if(r!==4&&(t=t.child,t!==null))for(fb(t,e,n),t=t.sibling;t!==null;)fb(t,e,n),t=t.sibling}function db(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(db(t,e,n),t=t.sibling;t!==null;)db(t,e,n),t=t.sibling}var Ft=null,br=!1;function Yi(t,e,n){for(n=n.child;n!==null;)XN(t,e,n),n=n.sibling}function XN(t,e,n){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(lg,n)}catch{}switch(n.tag){case 5:tn||zs(n,e);case 6:var r=Ft,i=br;Ft=null,Yi(t,e,n),Ft=r,br=i,Ft!==null&&(br?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(br?(t=Ft,n=n.stateNode,t.nodeType===8?xv(t.parentNode,n):t.nodeType===1&&xv(t,n),Wc(t)):xv(Ft,n.stateNode));break;case 4:r=Ft,i=br,Ft=n.stateNode.containerInfo,br=!0,Yi(t,e,n),Ft=r,br=i;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&ub(n,e,a),i=i.next}while(i!==r)}Yi(t,e,n);break;case 1:if(!tn&&(zs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ht(n,e,s)}Yi(t,e,n);break;case 21:Yi(t,e,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,Yi(t,e,n),tn=r):Yi(t,e,n);break;default:Yi(t,e,n)}}function kS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new v3),e.forEach(function(r){var i=P3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ft=s.stateNode,br=!1;break e;case 3:Ft=s.stateNode.containerInfo,br=!0;break e;case 4:Ft=s.stateNode.containerInfo,br=!0;break e}s=s.return}if(Ft===null)throw Error(J(160));XN(o,a,i),Ft=null,br=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ht(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)JN(e,t),e=e.sibling}function JN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mr(e,t),$r(t),r&4){try{Ec(3,t,t.return),gg(3,t)}catch(y){ht(t,t.return,y)}try{Ec(5,t,t.return)}catch(y){ht(t,t.return,y)}}break;case 1:mr(e,t),$r(t),r&512&&n!==null&&zs(n,n.return);break;case 5:if(mr(e,t),$r(t),r&512&&n!==null&&zs(n,n.return),t.flags&32){var i=t.stateNode;try{Fc(i,"")}catch(y){ht(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&_k(i,o),D0(s,a);var u=D0(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?Sk(i,f):c==="dangerouslySetInnerHTML"?Ek(i,f):c==="children"?Fc(i,f):kw(i,c,f,u)}switch(s){case"input":k0(i,o);break;case"textarea":wk(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ks(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ks(i,!!o.multiple,o.defaultValue,!0):Ks(i,!!o.multiple,o.multiple?[]:"",!1))}i[Yc]=o}catch(y){ht(t,t.return,y)}}break;case 6:if(mr(e,t),$r(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){ht(t,t.return,y)}}break;case 3:if(mr(e,t),$r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wc(e.containerInfo)}catch(y){ht(t,t.return,y)}break;case 4:mr(e,t),$r(t);break;case 13:mr(e,t),$r(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(cx=gt())),r&4&&kS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(tn=(u=tn)||c,mr(e,t),tn=u):mr(e,t),$r(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ae=t,c=t.child;c!==null;){for(f=ae=c;ae!==null;){switch(h=ae,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ec(4,h,h.return);break;case 1:zs(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){ht(r,n,y)}}break;case 5:zs(h,h.return);break;case 22:if(h.memoizedState!==null){RS(f);continue}}p!==null?(p.return=h,ae=p):RS(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Tk("display",a))}catch(y){ht(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){ht(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mr(e,t),$r(t),r&4&&kS(t);break;case 21:break;default:mr(e,t),$r(t)}}function $r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(QN(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fc(i,""),r.flags&=-33);var o=CS(t);db(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=CS(t);fb(t,s,a);break;default:throw Error(J(161))}}catch(l){ht(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _3(t,e,n){ae=t,ZN(t)}function ZN(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var i=ae,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||fh;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||tn;s=fh;var u=tn;if(fh=a,(tn=l)&&!u)for(ae=i;ae!==null;)a=ae,l=a.child,a.tag===22&&a.memoizedState!==null?jS(i):l!==null?(l.return=a,ae=l):jS(i);for(;o!==null;)ae=o,ZN(o),o=o.sibling;ae=i,fh=s,tn=u}NS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ae=o):NS(t)}}function NS(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||gg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&gS(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gS(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Wc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}tn||e.flags&512&&cb(e)}catch(h){ht(e,e.return,h)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function RS(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function jS(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gg(4,e)}catch(l){ht(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ht(e,i,l)}}var o=e.return;try{cb(e)}catch(l){ht(e,o,l)}break;case 5:var a=e.return;try{cb(e)}catch(l){ht(e,a,l)}}}catch(l){ht(e,e.return,l)}if(e===t){ae=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ae=s;break}ae=e.return}}var w3=Math.ceil,Cp=Li.ReactCurrentDispatcher,lx=Li.ReactCurrentOwner,nr=Li.ReactCurrentBatchConfig,Oe=0,Mt=null,wt=null,Wt=0,Nn=0,Ws=Fo(0),At=0,tf=null,La=0,yg=0,ux=0,Tc=null,wn=null,cx=0,hl=1/0,li=null,kp=!1,hb=null,Eo=null,dh=!1,po=null,Np=0,Sc=0,pb=null,Gh=-1,Hh=0;function mn(){return Oe&6?gt():Gh!==-1?Gh:Gh=gt()}function To(t){return t.mode&1?Oe&2&&Wt!==0?Wt&-Wt:i3.transition!==null?(Hh===0&&(Hh=$k()),Hh):(t=Le,t!==0||(t=window.event,t=t===void 0?16:Wk(t.type)),t):1}function Pr(t,e,n,r){if(50<Sc)throw Sc=0,pb=null,Error(J(185));td(t,n,r),(!(Oe&2)||t!==Mt)&&(t===Mt&&(!(Oe&2)&&(yg|=n),At===4&&io(t,Wt)),In(t,r),n===1&&Oe===0&&!(e.mode&1)&&(hl=gt()+500,hg&&Bo()))}function In(t,e){var n=t.callbackNode;i5(t,e);var r=mp(t,t===Mt?Wt:0);if(r===0)n!==null&&zT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&zT(n),e===1)t.tag===0?r3(MS.bind(null,t)):uN(MS.bind(null,t)),Z5(function(){!(Oe&6)&&Bo()}),n=null;else{switch(Lk(r)){case 1:n=Dw;break;case 4:n=Mk;break;case 16:n=pp;break;case 536870912:n=Dk;break;default:n=pp}n=sR(n,eR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eR(t,e){if(Gh=-1,Hh=0,Oe&6)throw Error(J(327));var n=t.callbackNode;if(Zs()&&t.callbackNode!==n)return null;var r=mp(t,t===Mt?Wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rp(t,r);else{e=r;var i=Oe;Oe|=2;var o=nR();(Mt!==t||Wt!==e)&&(li=null,hl=gt()+500,Ia(t,e));do try{T3();break}catch(s){tR(t,s)}while(!0);Yw(),Cp.current=o,Oe=i,wt!==null?e=0:(Mt=null,Wt=0,e=At)}if(e!==0){if(e===2&&(i=B0(t),i!==0&&(r=i,e=mb(t,i))),e===1)throw n=tf,Ia(t,0),io(t,r),In(t,gt()),n;if(e===6)io(t,r);else{if(i=t.current.alternate,!(r&30)&&!x3(i)&&(e=Rp(t,r),e===2&&(o=B0(t),o!==0&&(r=o,e=mb(t,o))),e===1))throw n=tf,Ia(t,0),io(t,r),In(t,gt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:aa(t,wn,li);break;case 3:if(io(t,r),(r&130023424)===r&&(e=cx+500-gt(),10<e)){if(mp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Y0(aa.bind(null,t,wn,li),e);break}aa(t,wn,li);break;case 4:if(io(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Ar(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*w3(r/1960))-r,10<r){t.timeoutHandle=Y0(aa.bind(null,t,wn,li),r);break}aa(t,wn,li);break;case 5:aa(t,wn,li);break;default:throw Error(J(329))}}}return In(t,gt()),t.callbackNode===n?eR.bind(null,t):null}function mb(t,e){var n=Tc;return t.current.memoizedState.isDehydrated&&(Ia(t,e).flags|=256),t=Rp(t,e),t!==2&&(e=wn,wn=n,e!==null&&gb(e)),t}function gb(t){wn===null?wn=t:wn.push.apply(wn,t)}function x3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Cr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function io(t,e){for(e&=~ux,e&=~yg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ar(e),r=1<<n;t[n]=-1,e&=~r}}function MS(t){if(Oe&6)throw Error(J(327));Zs();var e=mp(t,0);if(!(e&1))return In(t,gt()),null;var n=Rp(t,e);if(t.tag!==0&&n===2){var r=B0(t);r!==0&&(e=r,n=mb(t,r))}if(n===1)throw n=tf,Ia(t,0),io(t,e),In(t,gt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,aa(t,wn,li),In(t,gt()),null}function fx(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(hl=gt()+500,hg&&Bo())}}function Va(t){po!==null&&po.tag===0&&!(Oe&6)&&Zs();var e=Oe;Oe|=1;var n=nr.transition,r=Le;try{if(nr.transition=null,Le=1,t)return t()}finally{Le=r,nr.transition=n,Oe=e,!(Oe&6)&&Bo()}}function dx(){Nn=Ws.current,Ze(Ws)}function Ia(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,J5(n)),wt!==null)for(n=wt.return;n!==null;){var r=n;switch(Gw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_p();break;case 3:fl(),Ze(Tn),Ze(sn),tx();break;case 5:ex(r);break;case 4:fl();break;case 13:Ze(at);break;case 19:Ze(at);break;case 10:Qw(r.type._context);break;case 22:case 23:dx()}n=n.return}if(Mt=t,wt=t=So(t.current,null),Wt=Nn=e,At=0,tf=null,ux=yg=La=0,wn=Tc=null,va!==null){for(e=0;e<va.length;e++)if(n=va[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}va=null}return t}function tR(t,e){do{var n=wt;try{if(Yw(),zh.current=Op,Pp){for(var r=lt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pp=!1}if($a=0,jt=It=lt=null,xc=!1,Jc=0,lx.current=null,n===null||n.return===null){At=1,tf=e,wt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Wt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=xS(a);if(p!==null){p.flags&=-257,ES(p,a,s,o,e),p.mode&1&&wS(o,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){wS(o,u,e),hx();break e}l=Error(J(426))}}else if(tt&&s.mode&1){var b=xS(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ES(b,a,s,o,e),Hw(dl(l,s));break e}}o=l=dl(l,s),At!==4&&(At=2),Tc===null?Tc=[o]:Tc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=LN(o,l,e);mS(o,x);break e;case 1:s=l;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Eo===null||!Eo.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=VN(o,s,e);mS(o,P);break e}}o=o.return}while(o!==null)}iR(n)}catch(T){e=T,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(!0)}function nR(){var t=Cp.current;return Cp.current=Op,t===null?Op:t}function hx(){(At===0||At===3||At===2)&&(At=4),Mt===null||!(La&268435455)&&!(yg&268435455)||io(Mt,Wt)}function Rp(t,e){var n=Oe;Oe|=2;var r=nR();(Mt!==t||Wt!==e)&&(li=null,Ia(t,e));do try{E3();break}catch(i){tR(t,i)}while(!0);if(Yw(),Oe=n,Cp.current=r,wt!==null)throw Error(J(261));return Mt=null,Wt=0,At}function E3(){for(;wt!==null;)rR(wt)}function T3(){for(;wt!==null&&!YF();)rR(wt)}function rR(t){var e=aR(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?iR(t):wt=e,lx.current=null}function iR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=y3(n,e),n!==null){n.flags&=32767,wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,wt=null;return}}else if(n=g3(n,e,Nn),n!==null){wt=n;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);At===0&&(At=5)}function aa(t,e,n){var r=Le,i=nr.transition;try{nr.transition=null,Le=1,S3(t,e,n,r)}finally{nr.transition=i,Le=r}return null}function S3(t,e,n,r){do Zs();while(po!==null);if(Oe&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(o5(t,o),t===Mt&&(wt=Mt=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dh||(dh=!0,sR(pp,function(){return Zs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nr.transition,nr.transition=null;var a=Le;Le=1;var s=Oe;Oe|=4,lx.current=null,b3(t,n),JN(n,t),q5(H0),gp=!!G0,H0=G0=null,t.current=n,_3(n),QF(),Oe=s,Le=a,nr.transition=o}else t.current=n;if(dh&&(dh=!1,po=t,Np=i),o=t.pendingLanes,o===0&&(Eo=null),ZF(n.stateNode),In(t,gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kp)throw kp=!1,t=hb,hb=null,t;return Np&1&&t.tag!==0&&Zs(),o=t.pendingLanes,o&1?t===pb?Sc++:(Sc=0,pb=t):Sc=0,Bo(),null}function Zs(){if(po!==null){var t=Lk(Np),e=nr.transition,n=Le;try{if(nr.transition=null,Le=16>t?16:t,po===null)var r=!1;else{if(t=po,po=null,Np=0,Oe&6)throw Error(J(331));var i=Oe;for(Oe|=4,ae=t.current;ae!==null;){var o=ae,a=o.child;if(ae.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ae=u;ae!==null;){var c=ae;switch(c.tag){case 0:case 11:case 15:Ec(8,c,o)}var f=c.child;if(f!==null)f.return=c,ae=f;else for(;ae!==null;){c=ae;var h=c.sibling,p=c.return;if(YN(c),c===u){ae=null;break}if(h!==null){h.return=p,ae=h;break}ae=p}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ae=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ae=a;else e:for(;ae!==null;){if(o=ae,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ec(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,ae=x;break e}ae=o.return}}var w=t.current;for(ae=w;ae!==null;){a=ae;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,ae=_;else e:for(a=w;ae!==null;){if(s=ae,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:gg(9,s)}}catch(T){ht(s,s.return,T)}if(s===a){ae=null;break e}var P=s.sibling;if(P!==null){P.return=s.return,ae=P;break e}ae=s.return}}if(Oe=i,Bo(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(lg,t)}catch{}r=!0}return r}finally{Le=n,nr.transition=e}}return!1}function DS(t,e,n){e=dl(n,e),e=LN(t,e,1),t=xo(t,e,1),e=mn(),t!==null&&(td(t,1,e),In(t,e))}function ht(t,e,n){if(t.tag===3)DS(t,t,n);else for(;e!==null;){if(e.tag===3){DS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Eo===null||!Eo.has(r))){t=dl(n,t),t=VN(e,t,1),e=xo(e,t,1),t=mn(),e!==null&&(td(e,1,t),In(e,t));break}}e=e.return}}function I3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mn(),t.pingedLanes|=t.suspendedLanes&n,Mt===t&&(Wt&n)===n&&(At===4||At===3&&(Wt&130023424)===Wt&&500>gt()-cx?Ia(t,0):ux|=n),In(t,e)}function oR(t,e){e===0&&(t.mode&1?(e=nh,nh<<=1,!(nh&130023424)&&(nh=4194304)):e=1);var n=mn();t=Pi(t,e),t!==null&&(td(t,e,n),In(t,n))}function A3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),oR(t,n)}function P3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),oR(t,n)}var aR;aR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)xn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xn=!1,m3(t,e,n);xn=!!(t.flags&131072)}else xn=!1,tt&&e.flags&1048576&&cN(e,Ep,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qh(t,e),t=e.pendingProps;var i=ll(e,sn.current);Js(e,n),i=rx(null,e,r,t,i,n);var o=ix();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(r)?(o=!0,wp(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jw(e),i.updater=mg,e.stateNode=i,i._reactInternals=e,nb(e,r,t,n),e=ob(null,e,r,!0,o,n)):(e.tag=0,tt&&o&&qw(e),fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=C3(r),t=yr(r,t),i){case 0:e=ib(null,e,r,t,n);break e;case 1:e=IS(null,e,r,t,n);break e;case 11:e=TS(null,e,r,t,n);break e;case 14:e=SS(null,e,r,yr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),ib(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),IS(t,e,r,i,n);case 3:e:{if(zN(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,gN(t,e),Ip(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=dl(Error(J(423)),e),e=AS(t,e,r,n,i);break e}else if(r!==i){i=dl(Error(J(424)),e),e=AS(t,e,r,n,i);break e}else for(Mn=wo(e.stateNode.containerInfo.firstChild),Vn=e,tt=!0,xr=null,n=pN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ul(),r===i){e=Oi(t,e,n);break e}fn(t,e,r,n)}e=e.child}return e;case 5:return yN(e),t===null&&Z0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,K0(r,i)?a=null:o!==null&&K0(r,o)&&(e.flags|=32),UN(t,e),fn(t,e,a,n),e.child;case 6:return t===null&&Z0(e),null;case 13:return WN(t,e,n);case 4:return Zw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cl(e,null,r,n):fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),TS(t,e,r,i,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,He(Tp,r._currentValue),r._currentValue=a,o!==null)if(Cr(o.value,a)){if(o.children===i.children&&!Tn.current){e=Oi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=_i(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),eb(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),eb(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Js(e,n),i=lr(i),r=r(i),e.flags|=1,fn(t,e,r,n),e.child;case 14:return r=e.type,i=yr(r,e.pendingProps),i=yr(r.type,i),SS(t,e,r,i,n);case 15:return FN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),qh(t,e),e.tag=1,Sn(r)?(t=!0,wp(e)):t=!1,Js(e,n),$N(e,r,i),nb(e,r,i,n),ob(null,e,r,!0,t,n);case 19:return qN(t,e,n);case 22:return BN(t,e,n)}throw Error(J(156,e.tag))};function sR(t,e){return jk(t,e)}function O3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,n,r){return new O3(t,e,n,r)}function px(t){return t=t.prototype,!(!t||!t.isReactComponent)}function C3(t){if(typeof t=="function")return px(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rw)return 11;if(t===jw)return 14}return 2}function So(t,e){var n=t.alternate;return n===null?(n=Zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kh(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")px(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case js:return Aa(n.children,i,o,e);case Nw:a=8,i|=8;break;case I0:return t=Zn(12,n,e,i|2),t.elementType=I0,t.lanes=o,t;case A0:return t=Zn(13,n,e,i),t.elementType=A0,t.lanes=o,t;case P0:return t=Zn(19,n,e,i),t.elementType=P0,t.lanes=o,t;case yk:return vg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mk:a=10;break e;case gk:a=9;break e;case Rw:a=11;break e;case jw:a=14;break e;case eo:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Zn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Aa(t,e,n,r){return t=Zn(7,t,r,e),t.lanes=n,t}function vg(t,e,n,r){return t=Zn(22,t,r,e),t.elementType=yk,t.lanes=n,t.stateNode={isHidden:!1},t}function Cv(t,e,n){return t=Zn(6,t,null,e),t.lanes=n,t}function kv(t,e,n){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function k3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fv(0),this.expirationTimes=fv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mx(t,e,n,r,i,o,a,s,l){return t=new k3(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Zn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jw(o),t}function N3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lR(t){if(!t)return Ro;t=t._reactInternals;e:{if(rs(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Sn(n))return lN(t,n,e)}return e}function uR(t,e,n,r,i,o,a,s,l){return t=mx(n,r,!0,t,i,o,a,s,l),t.context=lR(null),n=t.current,r=mn(),i=To(n),o=_i(r,i),o.callback=e??null,xo(n,o,i),t.current.lanes=i,td(t,i,r),In(t,r),t}function bg(t,e,n,r){var i=e.current,o=mn(),a=To(i);return n=lR(n),e.context===null?e.context=n:e.pendingContext=n,e=_i(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xo(i,e,a),t!==null&&(Pr(t,i,a,o),Uh(t,i,a)),a}function jp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $S(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gx(t,e){$S(t,e),(t=t.alternate)&&$S(t,e)}function R3(){return null}var cR=typeof reportError=="function"?reportError:function(t){console.error(t)};function yx(t){this._internalRoot=t}_g.prototype.render=yx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));bg(t,e,null,null)};_g.prototype.unmount=yx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Va(function(){bg(null,t,null,null)}),e[Ai]=null}};function _g(t){this._internalRoot=t}_g.prototype.unstable_scheduleHydration=function(t){if(t){var e=Bk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ro.length&&e!==0&&e<ro[n].priority;n++);ro.splice(n,0,t),n===0&&zk(t)}};function vx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function LS(){}function j3(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=jp(a);o.call(u)}}var a=uR(e,r,t,0,null,!1,!1,"",LS);return t._reactRootContainer=a,t[Ai]=a.current,Hc(t.nodeType===8?t.parentNode:t),Va(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=jp(l);s.call(u)}}var l=mx(t,0,!1,null,null,!1,!1,"",LS);return t._reactRootContainer=l,t[Ai]=l.current,Hc(t.nodeType===8?t.parentNode:t),Va(function(){bg(e,l,n,r)}),l}function xg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=jp(a);s.call(l)}}bg(e,a,t,i)}else a=j3(n,e,t,i,r);return jp(a)}Vk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sc(e.pendingLanes);n!==0&&($w(e,n|1),In(e,gt()),!(Oe&6)&&(hl=gt()+500,Bo()))}break;case 13:Va(function(){var r=Pi(t,1);if(r!==null){var i=mn();Pr(r,t,1,i)}}),gx(t,1)}};Lw=function(t){if(t.tag===13){var e=Pi(t,134217728);if(e!==null){var n=mn();Pr(e,t,134217728,n)}gx(t,134217728)}};Fk=function(t){if(t.tag===13){var e=To(t),n=Pi(t,e);if(n!==null){var r=mn();Pr(n,t,e,r)}gx(t,e)}};Bk=function(){return Le};Uk=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};L0=function(t,e,n){switch(e){case"input":if(k0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=dg(r);if(!i)throw Error(J(90));bk(r),k0(r,i)}}}break;case"textarea":wk(t,n);break;case"select":e=n.value,e!=null&&Ks(t,!!n.multiple,e,!1)}};Pk=fx;Ok=Va;var M3={usingClientEntryPoint:!1,Events:[rd,Ls,dg,Ik,Ak,fx]},Vu={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D3={bundleType:Vu.bundleType,version:Vu.version,rendererPackageName:Vu.rendererPackageName,rendererConfig:Vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Li.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Nk(t),t===null?null:t.stateNode},findFiberByHostInstance:Vu.findFiberByHostInstance||R3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{lg=hh.inject(D3),Wr=hh}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M3;qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vx(e))throw Error(J(200));return N3(t,e,null,n)};qn.createRoot=function(t,e){if(!vx(t))throw Error(J(299));var n=!1,r="",i=cR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mx(t,1,!1,null,null,n,!1,r,i),t[Ai]=e.current,Hc(t.nodeType===8?t.parentNode:t),new yx(e)};qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=Nk(e),t=t===null?null:t.stateNode,t};qn.flushSync=function(t){return Va(t)};qn.hydrate=function(t,e,n){if(!wg(e))throw Error(J(200));return xg(null,t,e,!0,n)};qn.hydrateRoot=function(t,e,n){if(!vx(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=cR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=uR(e,null,t,1,n??null,i,!1,o,a),t[Ai]=e.current,Hc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new _g(e)};qn.render=function(t,e,n){if(!wg(e))throw Error(J(200));return xg(null,t,e,!1,n)};qn.unmountComponentAtNode=function(t){if(!wg(t))throw Error(J(40));return t._reactRootContainer?(Va(function(){xg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ai]=null})}),!0):!1};qn.unstable_batchedUpdates=fx;qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!wg(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return xg(t,e,n,!1,r)};qn.version="18.3.1-next-f1338f8080-20240426";function fR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fR)}catch(t){console.error(t)}}fR(),fk.exports=qn;var $3=fk.exports,VS=$3;T0.createRoot=VS.createRoot,T0.hydrateRoot=VS.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nf(){return nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nf.apply(this,arguments)}var mo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mo||(mo={}));const FS="popstate";function L3(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return yb("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:hR(i)}return F3(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function V3(){return Math.random().toString(36).substr(2,8)}function BS(t,e){return{usr:t.state,key:t.key,idx:e}}function yb(t,e,n,r){return n===void 0&&(n=null),nf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xl(e):e,{state:n,key:e&&e.key||r||V3()})}function hR(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function F3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=mo.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(nf({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=mo.Pop;let b=c(),x=b==null?null:b-u;u=b,l&&l({action:s,location:y.location,delta:x})}function h(b,x){s=mo.Push;let w=yb(y.location,b,x);u=c()+1;let _=BS(w,u),P=y.createHref(w);try{a.pushState(_,"",P)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(P)}o&&l&&l({action:s,location:y.location,delta:1})}function p(b,x){s=mo.Replace;let w=yb(y.location,b,x);u=c();let _=BS(w,u),P=y.createHref(w);a.replaceState(_,"",P),o&&l&&l({action:s,location:y.location,delta:0})}function g(b){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:hR(b);return w=w.replace(/ $/,"%20"),xt(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let y={get action(){return s},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(FS,f),l=b,()=>{i.removeEventListener(FS,f),l=null}},createHref(b){return e(i,b)},createURL:g,encodeLocation(b){let x=g(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(b){return a.go(b)}};return y}var US;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(US||(US={}));function B3(t,e,n){return n===void 0&&(n="/"),U3(t,e,n,!1)}function U3(t,e,n,r){let i=typeof e=="string"?Xl(e):e,o=gR(i.pathname||"/",n);if(o==null)return null;let a=pR(t);z3(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=e6(o);s=J3(a[l],u,r)}return s}function pR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Pa([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(xt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),pR(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:Q3(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of mR(o.path))i(o,a,l)}),e}function mR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=mR(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function z3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:X3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const W3=/^:[\w-]+$/,q3=3,G3=2,H3=1,K3=10,Y3=-2,zS=t=>t==="*";function Q3(t,e){let n=t.split("/"),r=n.length;return n.some(zS)&&(r+=Y3),e&&(r+=G3),n.filter(i=>!zS(i)).reduce((i,o)=>i+(W3.test(o)?q3:o===""?H3:K3),r)}function X3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function J3(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=WS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=WS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Pa([o,f.pathname]),pathnameBase:i6(Pa([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Pa([o,f.pathnameBase]))}return a}function WS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Z3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let y=s[f]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const g=s[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function Z3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),dR(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function e6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dR(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gR(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function t6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xl(t):t;return{pathname:n?n.startsWith("/")?n:n6(n,e):e,search:o6(r),hash:a6(i)}}function n6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Nv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function r6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yR(t,e){let n=r6(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function vR(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Xl(t):(i=nf({},t),xt(!i.pathname||!i.pathname.includes("?"),Nv("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),Nv("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),Nv("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=t6(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Pa=t=>t.join("/").replace(/\/\/+/g,"/"),i6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),o6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,a6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function s6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bR=["post","put","patch","delete"];new Set(bR);const l6=["get",...bR];new Set(l6);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rf(){return rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rf.apply(this,arguments)}const bx=M.createContext(null),u6=M.createContext(null),od=M.createContext(null),Eg=M.createContext(null),is=M.createContext({outlet:null,matches:[],isDataRoute:!1}),_R=M.createContext(null);function ad(){return M.useContext(Eg)!=null}function sd(){return ad()||xt(!1),M.useContext(Eg).location}function wR(t){M.useContext(od).static||M.useLayoutEffect(t)}function _x(){let{isDataRoute:t}=M.useContext(is);return t?x6():c6()}function c6(){ad()||xt(!1);let t=M.useContext(bx),{basename:e,future:n,navigator:r}=M.useContext(od),{matches:i}=M.useContext(is),{pathname:o}=sd(),a=JSON.stringify(yR(i,n.v7_relativeSplatPath)),s=M.useRef(!1);return wR(()=>{s.current=!0}),M.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=vR(u,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Pa([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,a,o,t])}function f6(t,e){return d6(t,e)}function d6(t,e,n,r){ad()||xt(!1);let{navigator:i}=M.useContext(od),{matches:o}=M.useContext(is),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=sd(),c;if(e){var f;let b=typeof e=="string"?Xl(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||xt(!1),c=b}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=B3(t,{pathname:p}),y=y6(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:Pa([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Pa([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return e&&y?M.createElement(Eg.Provider,{value:{location:rf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:mo.Pop}},y):y}function h6(){let t=w6(),e=s6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const p6=M.createElement(h6,null);class m6 extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(is.Provider,{value:this.props.routeContext},M.createElement(_R.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g6(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(bx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(is.Provider,{value:e},r)}function y6(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||xt(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:p}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,h)=>{let p,g=!1,y=null,b=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||p6,l&&(u<0&&h===0?(g=!0,b=null):u===h&&(g=!0,b=f.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,h+1)),w=()=>{let _;return p?_=y:g?_=b:f.route.Component?_=M.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,M.createElement(g6,{match:f,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?M.createElement(m6,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var xR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xR||{}),Mp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Mp||{});function v6(t){let e=M.useContext(bx);return e||xt(!1),e}function b6(t){let e=M.useContext(u6);return e||xt(!1),e}function _6(t){let e=M.useContext(is);return e||xt(!1),e}function ER(t){let e=_6(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function w6(){var t;let e=M.useContext(_R),n=b6(Mp.UseRouteError),r=ER(Mp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function x6(){let{router:t}=v6(xR.UseNavigateStable),e=ER(Mp.UseNavigateStable),n=M.useRef(!1);return wR(()=>{n.current=!0}),M.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,rf({fromRouteId:e},o)))},[t,e])}const qS={};function E6(t,e){qS[e]||(qS[e]=!0,console.warn(e))}const GS=(t,e,n)=>E6(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function T6(t,e){t!=null&&t.v7_startTransition||GS("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&GS("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function TR(t){let{to:e,replace:n,state:r,relative:i}=t;ad()||xt(!1);let{future:o,static:a}=M.useContext(od),{matches:s}=M.useContext(is),{pathname:l}=sd(),u=_x(),c=vR(e,yR(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return M.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function si(t){xt(!1)}function S6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=mo.Pop,navigator:o,static:a=!1,future:s}=t;ad()&&xt(!1);let l=e.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:o,static:a,future:rf({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Xl(r));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,y=M.useMemo(()=>{let b=gR(c,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:g},navigationType:i}},[l,c,f,h,p,g,i]);return y==null?null:M.createElement(od.Provider,{value:u},M.createElement(Eg.Provider,{children:n,value:y}))}function I6(t){let{children:e,location:n}=t;return f6(vb(e),n)}new Promise(()=>{});function vb(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let o=[...e,i];if(r.type===M.Fragment){n.push.apply(n,vb(r.props.children,o));return}r.type!==si&&xt(!1),!r.props.index||!r.props.children||xt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=vb(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const A6="6";try{window.__reactRouterVersion=A6}catch{}const P6="startTransition",HS=IF[P6];function O6(t){let{basename:e,children:n,future:r,window:i}=t,o=M.useRef();o.current==null&&(o.current=L3({window:i,v5Compat:!0}));let a=o.current,[s,l]=M.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=M.useCallback(f=>{u&&HS?HS(()=>l(f)):l(f)},[l,u]);return M.useLayoutEffect(()=>a.listen(c),[a,c]),M.useEffect(()=>T6(r),[r]),M.createElement(S6,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}var KS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(KS||(KS={}));var YS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(YS||(YS={}));var QS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},C6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},IR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new k6;const h=o<<2|s>>4;if(r.push(h),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class k6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N6=function(t){const e=SR(t);return IR.encodeByteArray(e,!0)},Dp=function(t){return N6(t).replace(/\./g,"")},AR=function(t){try{return IR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=()=>R6().__FIREBASE_DEFAULTS__,M6=()=>{if(typeof process>"u"||typeof QS>"u")return;const t=QS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AR(t[1]);return e&&JSON.parse(e)},Tg=()=>{try{return j6()||M6()||D6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PR=t=>{var e,n;return(n=(e=Tg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$6=t=>{const e=PR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},OR=()=>{var t;return(t=Tg())===null||t===void 0?void 0:t.config},CR=t=>{var e;return(e=Tg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dp(JSON.stringify(n)),Dp(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function B6(){var t;const e=(t=Tg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function z6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W6(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NR(){return!B6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wx(){try{return typeof indexedDB=="object"}catch{return!1}}function RR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function q6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="FirebaseError";class Nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=G6,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,os.prototype.create)}}class os{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?H6(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Nr(i,s,r)}}function H6(t,e){return t.replace(K6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const K6=/\{\$([^}]+)}/g;function Y6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(XS(o)&&XS(a)){if(!pl(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function XS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function cc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Q6(t,e){const n=new X6(t,e);return n.subscribe.bind(n)}class X6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");J6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rv),i.error===void 0&&(i.error=Rv),i.complete===void 0&&(i.complete=Rv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function J6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=1e3,eB=2,tB=4*60*60*1e3,nB=.5;function JS(t,e=Z6,n=eB){const r=e*Math.pow(n,t),i=Math.round(nB*r*(Math.random()-.5)*2);return Math.min(tB,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class kr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new L6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oB(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iB(t){return t===sa?void 0:t}function oB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const sB={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},lB=Ee.INFO,uB={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},cB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=uB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sg{constructor(e){this.name=e,this._logLevel=lB,this._logHandler=cB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const fB=(t,e)=>e.some(n=>t instanceof n);let ZS,eI;function dB(){return ZS||(ZS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hB(){return eI||(eI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jR=new WeakMap,bb=new WeakMap,MR=new WeakMap,jv=new WeakMap,xx=new WeakMap;function pB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Io(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&jR.set(n,t)}).catch(()=>{}),xx.set(e,t),e}function mB(t){if(bb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});bb.set(t,e)}let _b={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Io(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gB(t){_b=t(_b)}function yB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mv(this),e,...n);return MR.set(r,e.sort?e.sort():[e]),Io(r)}:hB().includes(t)?function(...e){return t.apply(Mv(this),e),Io(jR.get(this))}:function(...e){return Io(t.apply(Mv(this),e))}}function vB(t){return typeof t=="function"?yB(t):(t instanceof IDBTransaction&&mB(t),fB(t,dB())?new Proxy(t,_b):t)}function Io(t){if(t instanceof IDBRequest)return pB(t);if(jv.has(t))return jv.get(t);const e=vB(t);return e!==t&&(jv.set(t,e),xx.set(e,t)),e}const Mv=t=>xx.get(t);function DR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Io(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Io(a.result),l.oldVersion,l.newVersion,Io(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const bB=["get","getKey","getAll","getAllKeys","count"],_B=["put","add","delete","clear"],Dv=new Map;function tI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dv.get(e))return Dv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_B.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bB.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Dv.set(e,o),o}gB(t=>({...t,get:(e,n,r)=>tI(e,n)||t.get(e,n,r),has:(e,n)=>!!tI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wb="@firebase/app",nI="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Sg("@firebase/app"),EB="@firebase/app-compat",TB="@firebase/analytics-compat",SB="@firebase/analytics",IB="@firebase/app-check-compat",AB="@firebase/app-check",PB="@firebase/auth",OB="@firebase/auth-compat",CB="@firebase/database",kB="@firebase/data-connect",NB="@firebase/database-compat",RB="@firebase/functions",jB="@firebase/functions-compat",MB="@firebase/installations",DB="@firebase/installations-compat",$B="@firebase/messaging",LB="@firebase/messaging-compat",VB="@firebase/performance",FB="@firebase/performance-compat",BB="@firebase/remote-config",UB="@firebase/remote-config-compat",zB="@firebase/storage",WB="@firebase/storage-compat",qB="@firebase/firestore",GB="@firebase/vertexai-preview",HB="@firebase/firestore-compat",KB="firebase",YB="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="[DEFAULT]",QB={[wb]:"fire-core",[EB]:"fire-core-compat",[SB]:"fire-analytics",[TB]:"fire-analytics-compat",[AB]:"fire-app-check",[IB]:"fire-app-check-compat",[PB]:"fire-auth",[OB]:"fire-auth-compat",[CB]:"fire-rtdb",[kB]:"fire-data-connect",[NB]:"fire-rtdb-compat",[RB]:"fire-fn",[jB]:"fire-fn-compat",[MB]:"fire-iid",[DB]:"fire-iid-compat",[$B]:"fire-fcm",[LB]:"fire-fcm-compat",[VB]:"fire-perf",[FB]:"fire-perf-compat",[BB]:"fire-rc",[UB]:"fire-rc-compat",[zB]:"fire-gcs",[WB]:"fire-gcs-compat",[qB]:"fire-fst",[HB]:"fire-fst-compat",[GB]:"fire-vertex","fire-js":"fire-js",[KB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=new Map,XB=new Map,Eb=new Map;function rI(t,e){try{t.container.addComponent(e)}catch(n){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qr(t){const e=t.name;if(Eb.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;Eb.set(e,t);for(const n of $p.values())rI(n,t);for(const n of XB.values())rI(n,t);return!0}function Uo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Sr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ao=new os("app","Firebase",JB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=YB;function Tb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ao.create("bad-app-name",{appName:String(i)});if(n||(n=OR()),!n)throw Ao.create("no-options");const o=$p.get(i);if(o){if(pl(n,o.options)&&pl(r,o.config))return o;throw Ao.create("duplicate-app",{appName:i})}const a=new aB(i);for(const l of Eb.values())a.addComponent(l);const s=new ZB(n,r,a);return $p.set(i,s),s}function Ex(t=xb){const e=$p.get(t);if(!e&&t===xb&&OR())return Tb();if(!e)throw Ao.create("no-app",{appName:t});return e}function rr(t,e,n){var r;let i=(r=QB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(s.join(" "));return}Qr(new kr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU="firebase-heartbeat-database",tU=1,of="firebase-heartbeat-store";let $v=null;function $R(){return $v||($v=DR(eU,tU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(of)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ao.create("idb-open",{originalErrorMessage:t.message})})),$v}async function nU(t){try{const n=(await $R()).transaction(of),r=await n.objectStore(of).get(LR(t));return await n.done,r}catch(e){if(e instanceof Nr)Ci.warn(e.message);else{const n=Ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(n.message)}}}async function iI(t,e){try{const r=(await $R()).transaction(of,"readwrite");await r.objectStore(of).put(e,LR(t)),await r.done}catch(n){if(n instanceof Nr)Ci.warn(n.message);else{const r=Ao.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ci.warn(r.message)}}}function LR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=1024,iU=30*24*60*60*1e3;class oU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=oI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=iU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ci.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oI(),{heartbeatsToSend:r,unsentEntries:i}=aU(this._heartbeatsCache.heartbeats),o=Dp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ci.warn(n),""}}}function oI(){return new Date().toISOString().substring(0,10)}function aU(t,e=rU){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),aI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),aI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wx()?RR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return iI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return iI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function aI(t){return Dp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(t){Qr(new kr("platform-logger",e=>new wB(e),"PRIVATE")),Qr(new kr("heartbeat",e=>new oU(e),"PRIVATE")),rr(wb,nI,t),rr(wb,nI,"esm2017"),rr("fire-js","")}lU("");function Tx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function VR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uU=VR,FR=new os("auth","Firebase",VR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=new Sg("@firebase/auth");function cU(t,...e){Lp.logLevel<=Ee.WARN&&Lp.warn(`Auth (${Jl}): ${t}`,...e)}function Yh(t,...e){Lp.logLevel<=Ee.ERROR&&Lp.error(`Auth (${Jl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t,...e){throw Ix(t,...e)}function Or(t,...e){return Ix(t,...e)}function Sx(t,e,n){const r=Object.assign(Object.assign({},uU()),{[e]:n});return new os("auth","Firebase",r).create(e,{appName:t.name})}function wi(t){return Sx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fU(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&cr(t,"argument-error"),Sx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ix(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FR.create(t,...e)}function de(t,e,...n){if(!t)throw Ix(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yh(e),new Error(e)}function ki(t,e){t||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dU(){return sI()==="http:"||sI()==="https:"}function sI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dU()||kR()||"connection"in navigator)?navigator.onLine:!0}function pU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n){this.shortDelay=e,this.longDelay=n,ki(n>e,"Short delay should be less than long delay!"),this.isMobile=F6()||z6()}get(){return hU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t,e){ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=new ud(3e4,6e4);function Vi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zr(t,e,n,r,i={}){return UR(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=ld(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return U6()||(u.referrerPolicy="no-referrer"),BR.fetch()(zR(t,t.config.apiHost,n,s),u)})}async function UR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mU),e);try{const i=new vU(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw ph(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw ph(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw ph(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Sx(t,c,u);cr(t,c)}}catch(i){if(i instanceof Nr)throw i;cr(t,"network-request-failed",{message:String(i)})}}async function cd(t,e,n,r,i={}){const o=await Zr(t,e,n,r,i);return"mfaPendingCredential"in o&&cr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function zR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ax(t.config,i):`${t.config.apiScheme}://${i}`}function yU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),gU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ph(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Or(t,e,r);return i.customData._tokenResponse=n,i}function lI(t){return t!==void 0&&t.enterprise!==void 0}class bU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function _U(t,e){return Zr(t,"GET","/v2/recaptchaConfig",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU(t,e){return Zr(t,"POST","/v1/accounts:delete",e)}async function WR(t,e){return Zr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xU(t,e=!1){const n=ct(t),r=await n.getIdToken(e),i=Px(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ic(Lv(i.auth_time)),issuedAtTime:Ic(Lv(i.iat)),expirationTime:Ic(Lv(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Lv(t){return Number(t)*1e3}function Px(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{const i=AR(n);return i?JSON.parse(i):(Yh("Failed to decode base64 JWT payload"),null)}catch(i){return Yh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function uI(t){const e=Px(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nr&&EU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function EU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ml(t,WR(n,{idToken:r}));de(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?qR(o.providerUserInfo):[],s=IU(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Ib(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function SU(t){const e=ct(t);await Vp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qR(t){return t.map(e=>{var{providerId:n}=e,r=Tx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(t,e){const n=await UR(t,{},async()=>{const r=ld({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=zR(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",BR.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PU(t,e){return Zr(t,"POST","/v2/accounts:revokeToken",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=uI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await AU(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new el;return r&&(de(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Tx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ib(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ml(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xU(this,e)}reload(){return SU(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sr(this.auth.app))return Promise.reject(wi(this.auth));const e=await this.getIdToken();return await ml(this,wU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(s=n.tenantId)!==null&&s!==void 0?s:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:P,isAnonymous:T,providerData:I,stsTokenManager:E}=n;de(_&&E,e,"internal-error");const S=el.fromJSON(this.name,E);de(typeof _=="string",e,"internal-error"),Qi(f,e.name),Qi(h,e.name),de(typeof P=="boolean",e,"internal-error"),de(typeof T=="boolean",e,"internal-error"),Qi(p,e.name),Qi(g,e.name),Qi(y,e.name),Qi(b,e.name),Qi(x,e.name),Qi(w,e.name);const O=new pi({uid:_,auth:e,email:h,emailVerified:P,displayName:f,isAnonymous:T,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:S,createdAt:x,lastLoginAt:w});return I&&Array.isArray(I)&&(O.providerData=I.map(k=>Object.assign({},k))),b&&(O._redirectEventId=b),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new el;i.updateFromServerResponse(n);const o=new pi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];de(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?qR(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new el;s.updateFromIdToken(r);const l=new pi({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ib(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new Map;function mi(t){ki(t instanceof Function,"Expected a class definition");let e=cI.get(t);return e?(ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}GR.type="NONE";const fI=GR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t,e,n){return`firebase:${t}:${e}:${n}`}class tl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Qh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Qh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new tl(mi(fI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||mi(fI);const a=Qh(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){const f=pi._fromJSON(e,c);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new tl(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new tl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JR(e))return"Blackberry";if(ZR(e))return"Webos";if(KR(e))return"Safari";if((e.includes("chrome/")||YR(e))&&!e.includes("edge/"))return"Chrome";if(XR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HR(t=Ot()){return/firefox\//i.test(t)}function KR(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YR(t=Ot()){return/crios\//i.test(t)}function QR(t=Ot()){return/iemobile/i.test(t)}function XR(t=Ot()){return/android/i.test(t)}function JR(t=Ot()){return/blackberry/i.test(t)}function ZR(t=Ot()){return/webos/i.test(t)}function Ox(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function OU(t=Ot()){var e;return Ox(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CU(){return W6()&&document.documentMode===10}function ej(t=Ot()){return Ox(t)||XR(t)||ZR(t)||JR(t)||/windows phone/i.test(t)||QR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t,e=[]){let n;switch(t){case"Browser":n=dI(Ot());break;case"Worker":n=`${dI(Ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(t,e={}){return Zr(t,"GET","/v2/passwordPolicy",Vi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=6;class jU{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:RU,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hI(this),this.idTokenSubscription=new hI(this),this.beforeStateQueue=new kU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await WR(this,{idToken:e}),r=await pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Sr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sr(this.app))return Promise.reject(wi(this));const n=e?ct(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sr(this.app)?Promise.reject(wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sr(this.app)?Promise.reject(wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NU(this),n=new jU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new os("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await PU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mi(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&cU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fi(t){return ct(t)}class hI{constructor(e){this.auth=e,this.observer=null,this.addObserver=Q6(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ig={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DU(t){Ig=t}function nj(t){return Ig.loadJS(t)}function $U(){return Ig.recaptchaEnterpriseScript}function LU(){return Ig.gapiScript}function VU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const FU="recaptcha-enterprise",BU="NO_RECAPTCHA";class UU{constructor(e){this.type=FU,this.auth=Fi(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{_U(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new bU(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;lI(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(BU)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&lI(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=$U();l.length!==0&&(l+=s),nj(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function pI(t,e,n,r=!1){const i=new UU(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Fp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await pI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await pI(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t,e){const n=Uo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(pl(o,e??{}))return i;cr(i,"already-initialized")}return n.initialize({options:e})}function WU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qU(t,e,n){const r=Fi(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=rj(e),{host:a,port:s}=GU(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),HU()}function rj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GU(t){const e=rj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:mI(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:mI(a)}}}function mI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function HU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}async function KU(t,e){return Zr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YU(t,e){return cd(t,"POST","/v1/accounts:signInWithPassword",Vi(t,e))}async function ij(t,e){return Zr(t,"POST","/v1/accounts:sendOobCode",Vi(t,e))}async function QU(t,e){return ij(t,e)}async function XU(t,e){return ij(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(t,e){return cd(t,"POST","/v1/accounts:signInWithEmailLink",Vi(t,e))}async function ZU(t,e){return cd(t,"POST","/v1/accounts:signInWithEmailLink",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends Cx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new af(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new af(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fp(e,n,"signInWithPassword",YU);case"emailLink":return JU(e,{email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fp(e,r,"signUpPassword",KU);case"emailLink":return ZU(e,{idToken:n,email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(t,e){return cd(t,"POST","/v1/accounts:signInWithIdp",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez="http://localhost";class Fa extends Cx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Tx(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Fa(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return nl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,nl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nl(e,n)}buildRequest(){const e={requestUri:ez,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ld(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nz(t){const e=uc(cc(t)).link,n=e?uc(cc(e)).deep_link_id:null,r=uc(cc(t)).deep_link_id;return(r?uc(cc(r)).link:null)||r||n||e||t}class kx{constructor(e){var n,r,i,o,a,s;const l=uc(cc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=tz((i=l.mode)!==null&&i!==void 0?i:null);de(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=nz(e);try{return new kx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this.providerId=Zl.PROVIDER_ID}static credential(e,n){return af._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=kx.parseLink(n);return de(r,"argument-error"),af._fromEmailAndCode(e,r.code,r.tenantId)}}Zl.PROVIDER_ID="password";Zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends Nx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends fd{constructor(){super("facebook.com")}static credential(e){return Fa._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends fd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fa._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends fd{constructor(){super("github.com")}static credential(e){return Fa._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends fd{constructor(){super("twitter.com")}static credential(e,n){return Fa._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return so.credential(n,r)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(t,e){return cd(t,"POST","/v1/accounts:signUp",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await pi._fromIdTokenResponse(e,r,i),a=gI(r);return new Ba({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=gI(r);return new Ba({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function gI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends Nr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Bp(e,n,r,i)}}function oj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Bp._fromErrorAndOperation(t,o,e,r):o})}async function iz(t,e,n=!1){const r=await ml(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ba._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oz(t,e,n=!1){const{auth:r}=t;if(Sr(r.app))return Promise.reject(wi(r));const i="reauthenticate";try{const o=await ml(t,oj(r,i,e,t),n);de(o.idToken,r,"internal-error");const a=Px(o.idToken);de(a,r,"internal-error");const{sub:s}=a;return de(t.uid===s,r,"user-mismatch"),Ba._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&cr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(t,e,n=!1){if(Sr(t.app))return Promise.reject(wi(t));const r="signIn",i=await oj(t,r,e),o=await Ba._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function az(t,e){return aj(Fi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sj(t){const e=Fi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sz(t,e,n){const r=Fi(t);await Fp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",XU)}async function lz(t,e,n){if(Sr(t.app))return Promise.reject(wi(t));const r=Fi(t),a=await Fp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rz).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&sj(t),l}),s=await Ba._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function uz(t,e,n){return Sr(t.app)?Promise.reject(wi(t)):az(ct(t),Zl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sj(t),r})}async function cz(t,e){const n=ct(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await QU(n.auth,i);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(t,e){return Zr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ct(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await ml(r,fz(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const s=r.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(t,e){return ct(t).setPersistence(e)}function pz(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function mz(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function gz(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}function yI(t){return ct(t).signOut()}const Up="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Up,"1"),this.storage.removeItem(Up),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=1e3,vz=10;class uj extends lj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ej(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);CU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,vz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uj.type="LOCAL";const cj=uj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj extends lj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fj.type="SESSION";const dj=fj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ag(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await bz(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ag.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=Rx("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function wz(t){Gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function xz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ez(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Tz(){return hj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="firebaseLocalStorageDb",Sz=1,zp="firebaseLocalStorage",mj="fbase_key";class dd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pg(t,e){return t.transaction([zp],e?"readwrite":"readonly").objectStore(zp)}function Iz(){const t=indexedDB.deleteDatabase(pj);return new dd(t).toPromise()}function Ab(){const t=indexedDB.open(pj,Sz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zp,{keyPath:mj})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zp)?e(r):(r.close(),await Iz(),e(await Ab()))})})}async function vI(t,e,n){const r=Pg(t,!0).put({[mj]:e,value:n});return new dd(r).toPromise()}async function Az(t,e){const n=Pg(t,!1).get(e),r=await new dd(n).toPromise();return r===void 0?null:r.value}function bI(t,e){const n=Pg(t,!0).delete(e);return new dd(n).toPromise()}const Pz=800,Oz=3;class gj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ab(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Oz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ag._getInstance(Tz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xz(),!this.activeServiceWorker)return;this.sender=new _z(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ez()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ab();return await vI(e,Up,"1"),await bI(e,Up),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Az(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Pg(i,!1).getAll();return new dd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gj.type="LOCAL";const Cz=gj;new ud(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t,e){return e?mi(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx extends Cx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kz(t){return aj(t.auth,new jx(t),t.bypassAuthState)}function Nz(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),oz(n,new jx(t),t.bypassAuthState)}async function Rz(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),iz(n,new jx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kz;case"linkViaPopup":case"linkViaRedirect":return Rz;case"reauthViaPopup":case"reauthViaRedirect":return Nz;default:cr(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=new ud(2e3,1e4);async function Mz(t,e,n){if(Sr(t.app))return Promise.reject(Or(t,"operation-not-supported-in-this-environment"));const r=Fi(t);fU(t,e,Nx);const i=yj(r,n);return new _a(r,"signInViaPopup",e,i).executeNotNull()}class _a extends vj{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=Rx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jz.get())};e()}}_a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz="pendingRedirect",Xh=new Map;class $z extends vj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xh.get(this.auth._key());if(!e){try{const r=await Lz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xh.set(this.auth._key(),e)}return this.bypassAuthState||Xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Lz(t,e){const n=Bz(e),r=Fz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Vz(t,e){Xh.set(t._key(),e)}function Fz(t){return mi(t._redirectPersistence)}function Bz(t){return Qh(Dz,t.config.apiKey,t.name)}async function Uz(t,e,n=!1){if(Sr(t.app))return Promise.reject(wi(t));const r=Fi(t),i=yj(r,e),a=await new $z(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=10*60*1e3;class Wz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bj(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Or(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zz&&this.cachedEventUids.clear(),this.cachedEventUids.has(_I(e))}saveEventToCache(e){this.cachedEventUids.add(_I(e)),this.lastProcessedEventTime=Date.now()}}function _I(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gz(t,e={}){return Zr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kz=/^https?/;async function Yz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Gz(t);for(const n of e)try{if(Qz(n))return}catch{}cr(t,"unauthorized-domain")}function Qz(t){const e=Sb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Kz.test(n))return!1;if(Hz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=new ud(3e4,6e4);function wI(){const t=Gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Jz(t){return new Promise((e,n)=>{var r,i,o;function a(){wI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wI(),n(Or(t,"network-request-failed"))},timeout:Xz.get()})}if(!((i=(r=Gr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Gr().gapi)===null||o===void 0)&&o.load)a();else{const s=VU("iframefcb");return Gr()[s]=()=>{gapi.load?a():n(Or(t,"network-request-failed"))},nj(`${LU()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Jh=null,e})}let Jh=null;function Zz(t){return Jh=Jh||Jz(t),Jh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=new ud(5e3,15e3),t9="__/auth/iframe",n9="emulator/auth/iframe",r9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o9(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ax(e,n9):`https://${t.config.authDomain}/${t9}`,r={apiKey:e.apiKey,appName:t.name,v:Jl},i=i9.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ld(r).slice(1)}`}async function a9(t){const e=await Zz(t),n=Gr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:o9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Or(t,"network-request-failed"),s=Gr().setTimeout(()=>{o(a)},e9.get());function l(){Gr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l9=500,u9=600,c9="_blank",f9="http://localhost";class xI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d9(t,e,n,r=l9,i=u9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},s9),{width:r.toString(),height:i.toString(),top:o,left:a}),u=Ot().toLowerCase();n&&(s=YR(u)?c9:n),HR(u)&&(e=e||f9,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(OU(u)&&s!=="_self")return h9(e||"",s),new xI(null);const f=window.open(e||"",s,c);de(f,t,"popup-blocked");try{f.focus()}catch{}return new xI(f)}function h9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9="__/auth/handler",m9="emulator/auth/handler",g9=encodeURIComponent("fac");async function EI(t,e,n,r,i,o){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Jl,eventId:i};if(e instanceof Nx){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Y6(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))a[c]=f}if(e instanceof fd){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${g9}=${encodeURIComponent(l)}`:"";return`${y9(t)}?${ld(s).slice(1)}${u}`}function y9({config:t}){return t.emulator?Ax(t,m9):`https://${t.authDomain}/${p9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="webStorageSupport";class v9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dj,this._completeRedirectFn=Uz,this._overrideRedirectResult=Vz}async _openPopup(e,n,r,i){var o;ki((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await EI(e,n,r,Sb(),i);return d9(e,a,Rx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await EI(e,n,r,Sb(),i);return wz(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ki(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await a9(e),r=new Wz(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vv,{type:Vv},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Vv];a!==void 0&&n(!!a),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Yz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ej()||KR()||Ox()}}const b9=v9;var TI="@firebase/auth",SI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x9(t){Qr(new kr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;de(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tj(t)},u=new MU(r,i,o,l);return WU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qr(new kr("auth-internal",e=>{const n=Fi(e.getProvider("auth").getImmediate());return(r=>new _9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(TI,SI,w9(t)),rr(TI,SI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=5*60,T9=CR("authIdTokenMaxAge")||E9;let II=null;const S9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>T9)return;const i=n==null?void 0:n.token;II!==i&&(II=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function AI(t=Ex()){const e=Uo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zU(t,{popupRedirectResolver:b9,persistence:[Cz,cj,dj]}),r=CR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=S9(o.toString());mz(n,a,()=>a(n.currentUser)),pz(n,s=>a(s))}}const i=PR("auth");return i&&qU(n,`http://${i}`),n}function I9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}DU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Or("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",I9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x9("Browser");var PI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oa,_j;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,S){function O(){}O.prototype=S.prototype,E.D=S.prototype,E.prototype=new O,E.prototype.constructor=E,E.C=function(k,C,R){for(var N=Array(arguments.length-2),U=2;U<arguments.length;U++)N[U-2]=arguments[U];return S.prototype[C].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,S,O){O||(O=0);var k=Array(16);if(typeof S=="string")for(var C=0;16>C;++C)k[C]=S.charCodeAt(O++)|S.charCodeAt(O++)<<8|S.charCodeAt(O++)<<16|S.charCodeAt(O++)<<24;else for(C=0;16>C;++C)k[C]=S[O++]|S[O++]<<8|S[O++]<<16|S[O++]<<24;S=E.g[0],O=E.g[1],C=E.g[2];var R=E.g[3],N=S+(R^O&(C^R))+k[0]+3614090360&4294967295;S=O+(N<<7&4294967295|N>>>25),N=R+(C^S&(O^C))+k[1]+3905402710&4294967295,R=S+(N<<12&4294967295|N>>>20),N=C+(O^R&(S^O))+k[2]+606105819&4294967295,C=R+(N<<17&4294967295|N>>>15),N=O+(S^C&(R^S))+k[3]+3250441966&4294967295,O=C+(N<<22&4294967295|N>>>10),N=S+(R^O&(C^R))+k[4]+4118548399&4294967295,S=O+(N<<7&4294967295|N>>>25),N=R+(C^S&(O^C))+k[5]+1200080426&4294967295,R=S+(N<<12&4294967295|N>>>20),N=C+(O^R&(S^O))+k[6]+2821735955&4294967295,C=R+(N<<17&4294967295|N>>>15),N=O+(S^C&(R^S))+k[7]+4249261313&4294967295,O=C+(N<<22&4294967295|N>>>10),N=S+(R^O&(C^R))+k[8]+1770035416&4294967295,S=O+(N<<7&4294967295|N>>>25),N=R+(C^S&(O^C))+k[9]+2336552879&4294967295,R=S+(N<<12&4294967295|N>>>20),N=C+(O^R&(S^O))+k[10]+4294925233&4294967295,C=R+(N<<17&4294967295|N>>>15),N=O+(S^C&(R^S))+k[11]+2304563134&4294967295,O=C+(N<<22&4294967295|N>>>10),N=S+(R^O&(C^R))+k[12]+1804603682&4294967295,S=O+(N<<7&4294967295|N>>>25),N=R+(C^S&(O^C))+k[13]+4254626195&4294967295,R=S+(N<<12&4294967295|N>>>20),N=C+(O^R&(S^O))+k[14]+2792965006&4294967295,C=R+(N<<17&4294967295|N>>>15),N=O+(S^C&(R^S))+k[15]+1236535329&4294967295,O=C+(N<<22&4294967295|N>>>10),N=S+(C^R&(O^C))+k[1]+4129170786&4294967295,S=O+(N<<5&4294967295|N>>>27),N=R+(O^C&(S^O))+k[6]+3225465664&4294967295,R=S+(N<<9&4294967295|N>>>23),N=C+(S^O&(R^S))+k[11]+643717713&4294967295,C=R+(N<<14&4294967295|N>>>18),N=O+(R^S&(C^R))+k[0]+3921069994&4294967295,O=C+(N<<20&4294967295|N>>>12),N=S+(C^R&(O^C))+k[5]+3593408605&4294967295,S=O+(N<<5&4294967295|N>>>27),N=R+(O^C&(S^O))+k[10]+38016083&4294967295,R=S+(N<<9&4294967295|N>>>23),N=C+(S^O&(R^S))+k[15]+3634488961&4294967295,C=R+(N<<14&4294967295|N>>>18),N=O+(R^S&(C^R))+k[4]+3889429448&4294967295,O=C+(N<<20&4294967295|N>>>12),N=S+(C^R&(O^C))+k[9]+568446438&4294967295,S=O+(N<<5&4294967295|N>>>27),N=R+(O^C&(S^O))+k[14]+3275163606&4294967295,R=S+(N<<9&4294967295|N>>>23),N=C+(S^O&(R^S))+k[3]+4107603335&4294967295,C=R+(N<<14&4294967295|N>>>18),N=O+(R^S&(C^R))+k[8]+1163531501&4294967295,O=C+(N<<20&4294967295|N>>>12),N=S+(C^R&(O^C))+k[13]+2850285829&4294967295,S=O+(N<<5&4294967295|N>>>27),N=R+(O^C&(S^O))+k[2]+4243563512&4294967295,R=S+(N<<9&4294967295|N>>>23),N=C+(S^O&(R^S))+k[7]+1735328473&4294967295,C=R+(N<<14&4294967295|N>>>18),N=O+(R^S&(C^R))+k[12]+2368359562&4294967295,O=C+(N<<20&4294967295|N>>>12),N=S+(O^C^R)+k[5]+4294588738&4294967295,S=O+(N<<4&4294967295|N>>>28),N=R+(S^O^C)+k[8]+2272392833&4294967295,R=S+(N<<11&4294967295|N>>>21),N=C+(R^S^O)+k[11]+1839030562&4294967295,C=R+(N<<16&4294967295|N>>>16),N=O+(C^R^S)+k[14]+4259657740&4294967295,O=C+(N<<23&4294967295|N>>>9),N=S+(O^C^R)+k[1]+2763975236&4294967295,S=O+(N<<4&4294967295|N>>>28),N=R+(S^O^C)+k[4]+1272893353&4294967295,R=S+(N<<11&4294967295|N>>>21),N=C+(R^S^O)+k[7]+4139469664&4294967295,C=R+(N<<16&4294967295|N>>>16),N=O+(C^R^S)+k[10]+3200236656&4294967295,O=C+(N<<23&4294967295|N>>>9),N=S+(O^C^R)+k[13]+681279174&4294967295,S=O+(N<<4&4294967295|N>>>28),N=R+(S^O^C)+k[0]+3936430074&4294967295,R=S+(N<<11&4294967295|N>>>21),N=C+(R^S^O)+k[3]+3572445317&4294967295,C=R+(N<<16&4294967295|N>>>16),N=O+(C^R^S)+k[6]+76029189&4294967295,O=C+(N<<23&4294967295|N>>>9),N=S+(O^C^R)+k[9]+3654602809&4294967295,S=O+(N<<4&4294967295|N>>>28),N=R+(S^O^C)+k[12]+3873151461&4294967295,R=S+(N<<11&4294967295|N>>>21),N=C+(R^S^O)+k[15]+530742520&4294967295,C=R+(N<<16&4294967295|N>>>16),N=O+(C^R^S)+k[2]+3299628645&4294967295,O=C+(N<<23&4294967295|N>>>9),N=S+(C^(O|~R))+k[0]+4096336452&4294967295,S=O+(N<<6&4294967295|N>>>26),N=R+(O^(S|~C))+k[7]+1126891415&4294967295,R=S+(N<<10&4294967295|N>>>22),N=C+(S^(R|~O))+k[14]+2878612391&4294967295,C=R+(N<<15&4294967295|N>>>17),N=O+(R^(C|~S))+k[5]+4237533241&4294967295,O=C+(N<<21&4294967295|N>>>11),N=S+(C^(O|~R))+k[12]+1700485571&4294967295,S=O+(N<<6&4294967295|N>>>26),N=R+(O^(S|~C))+k[3]+2399980690&4294967295,R=S+(N<<10&4294967295|N>>>22),N=C+(S^(R|~O))+k[10]+4293915773&4294967295,C=R+(N<<15&4294967295|N>>>17),N=O+(R^(C|~S))+k[1]+2240044497&4294967295,O=C+(N<<21&4294967295|N>>>11),N=S+(C^(O|~R))+k[8]+1873313359&4294967295,S=O+(N<<6&4294967295|N>>>26),N=R+(O^(S|~C))+k[15]+4264355552&4294967295,R=S+(N<<10&4294967295|N>>>22),N=C+(S^(R|~O))+k[6]+2734768916&4294967295,C=R+(N<<15&4294967295|N>>>17),N=O+(R^(C|~S))+k[13]+1309151649&4294967295,O=C+(N<<21&4294967295|N>>>11),N=S+(C^(O|~R))+k[4]+4149444226&4294967295,S=O+(N<<6&4294967295|N>>>26),N=R+(O^(S|~C))+k[11]+3174756917&4294967295,R=S+(N<<10&4294967295|N>>>22),N=C+(S^(R|~O))+k[2]+718787259&4294967295,C=R+(N<<15&4294967295|N>>>17),N=O+(R^(C|~S))+k[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+R&4294967295}r.prototype.u=function(E,S){S===void 0&&(S=E.length);for(var O=S-this.blockSize,k=this.B,C=this.h,R=0;R<S;){if(C==0)for(;R<=O;)i(this,E,R),R+=this.blockSize;if(typeof E=="string"){for(;R<S;)if(k[C++]=E.charCodeAt(R++),C==this.blockSize){i(this,k),C=0;break}}else for(;R<S;)if(k[C++]=E[R++],C==this.blockSize){i(this,k),C=0;break}}this.h=C,this.o+=S},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;var O=8*this.o;for(S=E.length-8;S<E.length;++S)E[S]=O&255,O/=256;for(this.u(E),E=Array(16),S=O=0;4>S;++S)for(var k=0;32>k;k+=8)E[O++]=this.g[S]>>>k&255;return E};function o(E,S){var O=s;return Object.prototype.hasOwnProperty.call(O,E)?O[E]:O[E]=S(E)}function a(E,S){this.h=S;for(var O=[],k=!0,C=E.length-1;0<=C;C--){var R=E[C]|0;k&&R==S||(O[C]=R,k=!1)}this.g=O}var s={};function l(E){return-128<=E&&128>E?o(E,function(S){return new a([S|0],0>S?-1:0)}):new a([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return b(u(-E));for(var S=[],O=1,k=0;E>=O;k++)S[k]=E/O|0,O*=4294967296;return new a(S,0)}function c(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return b(c(E.substring(1),S));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(S,8)),k=f,C=0;C<E.length;C+=8){var R=Math.min(8,E.length-C),N=parseInt(E.substring(C,C+R),S);8>R?(R=u(Math.pow(S,R)),k=k.j(R).add(u(N))):(k=k.j(O),k=k.add(u(N)))}return k}var f=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(y(this))return-b(this).m();for(var E=0,S=1,O=0;O<this.g.length;O++){var k=this.i(O);E+=(0<=k?k:4294967296+k)*S,S*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(g(this))return"0";if(y(this))return"-"+b(this).toString(E);for(var S=u(Math.pow(E,6)),O=this,k="";;){var C=P(O,S).g;O=x(O,C.j(S));var R=((0<O.g.length?O.g[0]:O.h)>>>0).toString(E);if(O=C,g(O))return R+k;for(;6>R.length;)R="0"+R;k=R+k}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function g(E){if(E.h!=0)return!1;for(var S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function y(E){return E.h==-1}t.l=function(E){return E=x(this,E),y(E)?-1:g(E)?0:1};function b(E){for(var S=E.g.length,O=[],k=0;k<S;k++)O[k]=~E.g[k];return new a(O,~E.h).add(h)}t.abs=function(){return y(this)?b(this):this},t.add=function(E){for(var S=Math.max(this.g.length,E.g.length),O=[],k=0,C=0;C<=S;C++){var R=k+(this.i(C)&65535)+(E.i(C)&65535),N=(R>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);k=N>>>16,R&=65535,N&=65535,O[C]=N<<16|R}return new a(O,O[O.length-1]&-2147483648?-1:0)};function x(E,S){return E.add(b(S))}t.j=function(E){if(g(this)||g(E))return f;if(y(this))return y(E)?b(this).j(b(E)):b(b(this).j(E));if(y(E))return b(this.j(b(E)));if(0>this.l(p)&&0>E.l(p))return u(this.m()*E.m());for(var S=this.g.length+E.g.length,O=[],k=0;k<2*S;k++)O[k]=0;for(k=0;k<this.g.length;k++)for(var C=0;C<E.g.length;C++){var R=this.i(k)>>>16,N=this.i(k)&65535,U=E.i(C)>>>16,B=E.i(C)&65535;O[2*k+2*C]+=N*B,w(O,2*k+2*C),O[2*k+2*C+1]+=R*B,w(O,2*k+2*C+1),O[2*k+2*C+1]+=N*U,w(O,2*k+2*C+1),O[2*k+2*C+2]+=R*U,w(O,2*k+2*C+2)}for(k=0;k<S;k++)O[k]=O[2*k+1]<<16|O[2*k];for(k=S;k<2*S;k++)O[k]=0;return new a(O,0)};function w(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function _(E,S){this.g=E,this.h=S}function P(E,S){if(g(S))throw Error("division by zero");if(g(E))return new _(f,f);if(y(E))return S=P(b(E),S),new _(b(S.g),b(S.h));if(y(S))return S=P(E,b(S)),new _(b(S.g),S.h);if(30<E.g.length){if(y(E)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var O=h,k=S;0>=k.l(E);)O=T(O),k=T(k);var C=I(O,1),R=I(k,1);for(k=I(k,2),O=I(O,2);!g(k);){var N=R.add(k);0>=N.l(E)&&(C=C.add(O),R=N),k=I(k,1),O=I(O,1)}return S=x(E,C.j(S)),new _(C,S)}for(C=f;0<=E.l(S);){for(O=Math.max(1,Math.floor(E.m()/S.m())),k=Math.ceil(Math.log(O)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),R=u(O),N=R.j(S);y(N)||0<N.l(E);)O-=k,R=u(O),N=R.j(S);g(R)&&(R=h),C=C.add(R),E=x(E,N)}return new _(C,E)}t.A=function(E){return P(this,E).h},t.and=function(E){for(var S=Math.max(this.g.length,E.g.length),O=[],k=0;k<S;k++)O[k]=this.i(k)&E.i(k);return new a(O,this.h&E.h)},t.or=function(E){for(var S=Math.max(this.g.length,E.g.length),O=[],k=0;k<S;k++)O[k]=this.i(k)|E.i(k);return new a(O,this.h|E.h)},t.xor=function(E){for(var S=Math.max(this.g.length,E.g.length),O=[],k=0;k<S;k++)O[k]=this.i(k)^E.i(k);return new a(O,this.h^E.h)};function T(E){for(var S=E.g.length+1,O=[],k=0;k<S;k++)O[k]=E.i(k)<<1|E.i(k-1)>>>31;return new a(O,E.h)}function I(E,S){var O=S>>5;S%=32;for(var k=E.g.length-O,C=[],R=0;R<k;R++)C[R]=0<S?E.i(R+O)>>>S|E.i(R+O+1)<<32-S:E.i(R+O);return new a(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_j=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,Oa=a}).apply(typeof PI<"u"?PI:typeof self<"u"?self:typeof window<"u"?window:{});var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wj,fc,xj,Zh,Pb,Ej,Tj,Sj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,A){return d==Array.prototype||d==Object.prototype||(d[v]=A.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof mh=="object"&&mh];for(var v=0;v<d.length;++v){var A=d[v];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(d,v){if(v)e:{var A=r;d=d.split(".");for(var j=0;j<d.length-1;j++){var $=d[j];if(!($ in A))break e;A=A[$]}d=d[d.length-1],j=A[d],v=v(j),v!=j&&v!=null&&e(A,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var A=0,j=!1,$={next:function(){if(!j&&A<d.length){var F=A++;return{value:v(F,d[F]),done:!1}}return j=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(d){return d||function(){return o(this,function(v,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function u(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function c(d,v,A){return d.call.apply(d.bind,arguments)}function f(d,v,A){if(!d)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,j),d.apply(v,$)}}return function(){return d.apply(v,arguments)}}function h(d,v,A){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function p(d,v){var A=Array.prototype.slice.call(arguments,1);return function(){var j=A.slice();return j.push.apply(j,arguments),d.apply(this,j)}}function g(d,v){function A(){}A.prototype=v.prototype,d.aa=v.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(j,$,F){for(var Z=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)Z[Ue-2]=arguments[Ue];return v.prototype[$].apply(j,Z)}}function y(d){const v=d.length;if(0<v){const A=Array(v);for(let j=0;j<v;j++)A[j]=d[j];return A}return[]}function b(d,v){for(let A=1;A<arguments.length;A++){const j=arguments[A];if(l(j)){const $=d.length||0,F=j.length||0;d.length=$+F;for(let Z=0;Z<F;Z++)d[$+Z]=j[Z]}else d.push(j)}}class x{constructor(v,A){this.i=v,this.j=A,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function w(d){return/^[\s\xa0]*$/.test(d)}function _(){var d=s.navigator;return d&&(d=d.userAgent)?d:""}function P(d){return P[" "](d),d}P[" "]=function(){};var T=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function I(d,v,A){for(const j in d)v.call(A,d[j],j,d)}function E(d,v){for(const A in d)v.call(void 0,d[A],A,d)}function S(d){const v={};for(const A in d)v[A]=d[A];return v}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,v){let A,j;for(let $=1;$<arguments.length;$++){j=arguments[$];for(A in j)d[A]=j[A];for(let F=0;F<O.length;F++)A=O[F],Object.prototype.hasOwnProperty.call(j,A)&&(d[A]=j[A])}}function C(d){var v=1;d=d.split(":");const A=[];for(;0<v&&d.length;)A.push(d.shift()),v--;return d.length&&A.push(d.join(":")),A}function R(d){s.setTimeout(()=>{throw d},0)}function N(){var d=W;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class U{constructor(){this.h=this.g=null}add(v,A){const j=B.get();j.set(v,A),this.h?this.h.next=j:this.g=j,this.h=j}}var B=new x(()=>new G,d=>d.reset());class G{constructor(){this.next=this.g=this.h=null}set(v,A){this.h=v,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let H,V=!1,W=new U,Y=()=>{const d=s.Promise.resolve(void 0);H=()=>{d.then(re)}};var re=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(A){R(A)}var v=B;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}V=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};s.addEventListener("test",A,v),s.removeEventListener("test",A,v)}catch{}return d}();function Re(d,v){if(oe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,j=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(T){e:{try{P(v.nodeName);var $=!0;break e}catch{}$=!1}$||(v=null)}}else A=="mouseover"?v=d.fromElement:A=="mouseout"&&(v=d.toElement);this.relatedTarget=v,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:it[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Re.aa.h.call(this)}}g(Re,oe);var it={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var $t="closure_listenable_"+(1e6*Math.random()|0),Gt=0;function ie(d,v,A,j,$){this.listener=d,this.proxy=null,this.src=v,this.type=A,this.capture=!!j,this.ha=$,this.key=++Gt,this.da=this.fa=!1}function he(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ge(d){this.src=d,this.g={},this.h=0}ge.prototype.add=function(d,v,A,j,$){var F=d.toString();d=this.g[F],d||(d=this.g[F]=[],this.h++);var Z=qe(d,v,j,$);return-1<Z?(v=d[Z],A||(v.fa=!1)):(v=new ie(v,this.src,F,!!j,$),v.fa=A,d.push(v)),v};function K(d,v){var A=v.type;if(A in d.g){var j=d.g[A],$=Array.prototype.indexOf.call(j,v,void 0),F;(F=0<=$)&&Array.prototype.splice.call(j,$,1),F&&(he(v),d.g[A].length==0&&(delete d.g[A],d.h--))}}function qe(d,v,A,j){for(var $=0;$<d.length;++$){var F=d[$];if(!F.da&&F.listener==v&&F.capture==!!A&&F.ha==j)return $}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),ot={};function ft(d,v,A,j,$){if(Array.isArray(v)){for(var F=0;F<v.length;F++)ft(d,v[F],A,j,$);return null}return A=vu(A),d&&d[$t]?d.K(v,A,u(j)?!!j.capture:!!j,$):Ht(d,v,A,!1,j,$)}function Ht(d,v,A,j,$,F){if(!v)throw Error("Invalid event type");var Z=u($)?!!$.capture:!!$,Ue=Jo(d);if(Ue||(d[_e]=Ue=new ge(d)),A=Ue.add(v,A,j,Z,F),A.proxy)return A;if(j=Mr(),A.proxy=j,j.src=d,j.listener=A,d.addEventListener)Ie||($=Z),$===void 0&&($=!1),d.addEventListener(v.toString(),j,$);else if(d.attachEvent)d.attachEvent(Dr(v.toString()),j);else if(d.addListener&&d.removeListener)d.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Mr(){function d(A){return v.call(d.src,d.listener,A)}const v=ni;return d}function ti(d,v,A,j,$){if(Array.isArray(v))for(var F=0;F<v.length;F++)ti(d,v[F],A,j,$);else j=u(j)?!!j.capture:!!j,A=vu(A),d&&d[$t]?(d=d.i,v=String(v).toString(),v in d.g&&(F=d.g[v],A=qe(F,A,j,$),-1<A&&(he(F[A]),Array.prototype.splice.call(F,A,1),F.length==0&&(delete d.g[v],d.h--)))):d&&(d=Jo(d))&&(v=d.g[v.toString()],d=-1,v&&(d=qe(v,A,j,$)),(A=-1<d?v[d]:null)&&qi(A))}function qi(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[$t])K(v.i,d);else{var A=d.type,j=d.proxy;v.removeEventListener?v.removeEventListener(A,j,d.capture):v.detachEvent?v.detachEvent(Dr(A),j):v.addListener&&v.removeListener&&v.removeListener(j),(A=Jo(v))?(K(A,d),A.h==0&&(A.src=null,v[_e]=null)):he(d)}}}function Dr(d){return d in ot?ot[d]:ot[d]="on"+d}function ni(d,v){if(d.da)d=!0;else{v=new Re(v,this);var A=d.listener,j=d.ha||d.src;d.fa&&qi(d),d=A.call(j,v)}return d}function Jo(d){return d=d[_e],d instanceof ge?d:null}var hs="__closure_events_fn_"+(1e9*Math.random()>>>0);function vu(d){return typeof d=="function"?d:(d[hs]||(d[hs]=function(v){return d.handleEvent(v)}),d[hs])}function Kt(){Q.call(this),this.i=new ge(this),this.M=this,this.F=null}g(Kt,Q),Kt.prototype[$t]=!0,Kt.prototype.removeEventListener=function(d,v,A,j){ti(this,d,v,A,j)};function ln(d,v){var A,j=d.F;if(j)for(A=[];j;j=j.F)A.push(j);if(d=d.M,j=v.type||v,typeof v=="string")v=new oe(v,d);else if(v instanceof oe)v.target=v.target||d;else{var $=v;v=new oe(j,d),k(v,$)}if($=!0,A)for(var F=A.length-1;0<=F;F--){var Z=v.g=A[F];$=jd(Z,j,!0,v)&&$}if(Z=v.g=d,$=jd(Z,j,!0,v)&&$,$=jd(Z,j,!1,v)&&$,A)for(F=0;F<A.length;F++)Z=v.g=A[F],$=jd(Z,j,!1,v)&&$}Kt.prototype.N=function(){if(Kt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var A=d.g[v],j=0;j<A.length;j++)he(A[j]);delete d.g[v],d.h--}}this.F=null},Kt.prototype.K=function(d,v,A,j){return this.i.add(String(d),v,!1,A,j)},Kt.prototype.L=function(d,v,A,j){return this.i.add(String(d),v,!0,A,j)};function jd(d,v,A,j){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,F=0;F<v.length;++F){var Z=v[F];if(Z&&!Z.da&&Z.capture==A){var Ue=Z.listener,Lt=Z.ha||Z.src;Z.fa&&K(d.i,Z),$=Ue.call(Lt,j)!==!1&&$}}return $&&!j.defaultPrevented}function DE(d,v,A){if(typeof d=="function")A&&(d=h(d,A));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:s.setTimeout(d,v||0)}function $E(d){d.g=DE(()=>{d.g=null,d.i&&(d.i=!1,$E(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class L4 extends Q{constructor(v,A){super(),this.m=v,this.l=A,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:$E(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bu(d){Q.call(this),this.h=d,this.g={}}g(bu,Q);var LE=[];function VE(d){I(d.g,function(v,A){this.g.hasOwnProperty(A)&&qi(v)},d),d.g={}}bu.prototype.N=function(){bu.aa.N.call(this),VE(this)},bu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wy=s.JSON.stringify,V4=s.JSON.parse,F4=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function qy(){}qy.prototype.h=null;function FE(d){return d.h||(d.h=d.i())}function BE(){}var _u={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gy(){oe.call(this,"d")}g(Gy,oe);function Hy(){oe.call(this,"c")}g(Hy,oe);var Zo={},UE=null;function Md(){return UE=UE||new Kt}Zo.La="serverreachability";function zE(d){oe.call(this,Zo.La,d)}g(zE,oe);function wu(d){const v=Md();ln(v,new zE(v))}Zo.STAT_EVENT="statevent";function WE(d,v){oe.call(this,Zo.STAT_EVENT,d),this.stat=v}g(WE,oe);function un(d){const v=Md();ln(v,new WE(v,d))}Zo.Ma="timingevent";function qE(d,v){oe.call(this,Zo.Ma,d),this.size=v}g(qE,oe);function xu(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},v)}function Eu(){this.g=!0}Eu.prototype.xa=function(){this.g=!1};function B4(d,v,A,j,$,F){d.info(function(){if(d.g)if(F)for(var Z="",Ue=F.split("&"),Lt=0;Lt<Ue.length;Lt++){var Ce=Ue[Lt].split("=");if(1<Ce.length){var Yt=Ce[0];Ce=Ce[1];var Qt=Yt.split("_");Z=2<=Qt.length&&Qt[1]=="type"?Z+(Yt+"="+Ce+"&"):Z+(Yt+"=redacted&")}}else Z=null;else Z=F;return"XMLHTTP REQ ("+j+") [attempt "+$+"]: "+v+`
`+A+`
`+Z})}function U4(d,v,A,j,$,F,Z){d.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+$+"]: "+v+`
`+A+`
`+F+" "+Z})}function ps(d,v,A,j){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+W4(d,A)+(j?" "+j:"")})}function z4(d,v){d.info(function(){return"TIMEOUT: "+v})}Eu.prototype.info=function(){};function W4(d,v){if(!d.g)return v;if(!v)return null;try{var A=JSON.parse(v);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var j=A[d];if(!(2>j.length)){var $=j[1];if(Array.isArray($)&&!(1>$.length)){var F=$[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Z=1;Z<$.length;Z++)$[Z]=""}}}}return Wy(A)}catch{return v}}var Dd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},GE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ky;function $d(){}g($d,qy),$d.prototype.g=function(){return new XMLHttpRequest},$d.prototype.i=function(){return{}},Ky=new $d;function Gi(d,v,A,j){this.j=d,this.i=v,this.l=A,this.R=j||1,this.U=new bu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new HE}function HE(){this.i=null,this.g="",this.h=!1}var KE={},Yy={};function Qy(d,v,A){d.L=1,d.v=Bd(ri(v)),d.m=A,d.P=!0,YE(d,null)}function YE(d,v){d.F=Date.now(),Ld(d),d.A=ri(d.v);var A=d.A,j=d.R;Array.isArray(j)||(j=[String(j)]),uT(A.i,"t",j),d.C=0,A=d.j.J,d.h=new HE,d.g=AT(d.j,A?v:null,!d.m),0<d.O&&(d.M=new L4(h(d.Y,d,d.g),d.O)),v=d.U,A=d.g,j=d.ca;var $="readystatechange";Array.isArray($)||($&&(LE[0]=$.toString()),$=LE);for(var F=0;F<$.length;F++){var Z=ft(A,$[F],j||v.handleEvent,!1,v.h||v);if(!Z)break;v.g[Z.key]=Z}v=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),wu(),B4(d.i,d.u,d.A,d.l,d.R,d.m)}Gi.prototype.ca=function(d){d=d.target;const v=this.M;v&&ii(d)==3?v.j():this.Y(d)},Gi.prototype.Y=function(d){try{if(d==this.g)e:{const Qt=ii(this.g);var v=this.g.Ba();const ys=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||gT(this.g)))){this.J||Qt!=4||v==7||(v==8||0>=ys?wu(3):wu(2)),Xy(this);var A=this.g.Z();this.X=A;t:if(QE(this)){var j=gT(this.g);d="";var $=j.length,F=ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ea(this),Tu(this);var Z="";break t}this.h.i=new s.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,d+=this.h.i.decode(j[v],{stream:!(F&&v==$-1)});j.length=0,this.h.g+=d,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=A==200,U4(this.i,this.u,this.A,this.l,this.R,Qt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Lt=this.g;if((Ue=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ue)){var Ce=Ue;break t}}Ce=null}if(A=Ce)ps(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jy(this,A);else{this.o=!1,this.s=3,un(12),ea(this),Tu(this);break e}}if(this.P){A=!0;let pr;for(;!this.J&&this.C<Z.length;)if(pr=q4(this,Z),pr==Yy){Qt==4&&(this.s=4,un(14),A=!1),ps(this.i,this.l,null,"[Incomplete Response]");break}else if(pr==KE){this.s=4,un(15),ps(this.i,this.l,Z,"[Invalid Chunk]"),A=!1;break}else ps(this.i,this.l,pr,null),Jy(this,pr);if(QE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||Z.length!=0||this.h.h||(this.s=1,un(16),A=!1),this.o=this.o&&A,!A)ps(this.i,this.l,Z,"[Invalid Chunked Response]"),ea(this),Tu(this);else if(0<Z.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),iv(Yt),Yt.M=!0,un(11))}}else ps(this.i,this.l,Z,null),Jy(this,Z);Qt==4&&ea(this),this.o&&!this.J&&(Qt==4?ET(this.j,this):(this.o=!1,Ld(this)))}else lF(this.g),A==400&&0<Z.indexOf("Unknown SID")?(this.s=3,un(12)):(this.s=0,un(13)),ea(this),Tu(this)}}}catch{}finally{}};function QE(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function q4(d,v){var A=d.C,j=v.indexOf(`
`,A);return j==-1?Yy:(A=Number(v.substring(A,j)),isNaN(A)?KE:(j+=1,j+A>v.length?Yy:(v=v.slice(j,j+A),d.C=j+A,v)))}Gi.prototype.cancel=function(){this.J=!0,ea(this)};function Ld(d){d.S=Date.now()+d.I,XE(d,d.I)}function XE(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=xu(h(d.ba,d),v)}function Xy(d){d.B&&(s.clearTimeout(d.B),d.B=null)}Gi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(z4(this.i,this.A),this.L!=2&&(wu(),un(17)),ea(this),this.s=2,Tu(this)):XE(this,this.S-d)};function Tu(d){d.j.G==0||d.J||ET(d.j,d)}function ea(d){Xy(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,VE(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Jy(d,v){try{var A=d.j;if(A.G!=0&&(A.g==d||Zy(A.h,d))){if(!d.K&&Zy(A.h,d)&&A.G==3){try{var j=A.Da.g.parse(v)}catch{j=null}if(Array.isArray(j)&&j.length==3){var $=j;if($[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)Hd(A),qd(A);else break e;rv(A),un(18)}}else A.za=$[1],0<A.za-A.T&&37500>$[2]&&A.F&&A.v==0&&!A.C&&(A.C=xu(h(A.Za,A),6e3));if(1>=eT(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else na(A,11)}else if((d.K||A.g==d)&&Hd(A),!w(v))for($=A.Da.g.parse(v),v=0;v<$.length;v++){let Ce=$[v];if(A.T=Ce[0],Ce=Ce[1],A.G==2)if(Ce[0]=="c"){A.K=Ce[1],A.ia=Ce[2];const Yt=Ce[3];Yt!=null&&(A.la=Yt,A.j.info("VER="+A.la));const Qt=Ce[4];Qt!=null&&(A.Aa=Qt,A.j.info("SVER="+A.Aa));const ys=Ce[5];ys!=null&&typeof ys=="number"&&0<ys&&(j=1.5*ys,A.L=j,A.j.info("backChannelRequestTimeoutMs_="+j)),j=A;const pr=d.g;if(pr){const Yd=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yd){var F=j.h;F.g||Yd.indexOf("spdy")==-1&&Yd.indexOf("quic")==-1&&Yd.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ev(F,F.h),F.h=null))}if(j.D){const ov=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;ov&&(j.ya=ov,Ye(j.I,j.D,ov))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),j=A;var Z=d;if(j.qa=IT(j,j.J?j.ia:null,j.W),Z.K){tT(j.h,Z);var Ue=Z,Lt=j.L;Lt&&(Ue.I=Lt),Ue.B&&(Xy(Ue),Ld(Ue)),j.g=Z}else wT(j);0<A.i.length&&Gd(A)}else Ce[0]!="stop"&&Ce[0]!="close"||na(A,7);else A.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?na(A,7):nv(A):Ce[0]!="noop"&&A.l&&A.l.ta(Ce),A.v=0)}}wu(4)}catch{}}var G4=class{constructor(d,v){this.g=d,this.map=v}};function JE(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ZE(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function eT(d){return d.h?1:d.g?d.g.size:0}function Zy(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function ev(d,v){d.g?d.g.add(v):d.h=v}function tT(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}JE.prototype.cancel=function(){if(this.i=nT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function nT(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const A of d.g.values())v=v.concat(A.D);return v}return y(d.i)}function H4(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var v=[],A=d.length,j=0;j<A;j++)v.push(d[j]);return v}v=[],A=0;for(j in d)v[A++]=d[j];return v}function K4(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var v=[];d=d.length;for(var A=0;A<d;A++)v.push(A);return v}v=[],A=0;for(const j in d)v[A++]=j;return v}}}function rT(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var A=K4(d),j=H4(d),$=j.length,F=0;F<$;F++)v.call(void 0,j[F],A&&A[F],d)}var iT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Y4(d,v){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var j=d[A].indexOf("="),$=null;if(0<=j){var F=d[A].substring(0,j);$=d[A].substring(j+1)}else F=d[A];v(F,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function ta(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ta){this.h=d.h,Vd(this,d.j),this.o=d.o,this.g=d.g,Fd(this,d.s),this.l=d.l;var v=d.i,A=new Au;A.i=v.i,v.g&&(A.g=new Map(v.g),A.h=v.h),oT(this,A),this.m=d.m}else d&&(v=String(d).match(iT))?(this.h=!1,Vd(this,v[1]||"",!0),this.o=Su(v[2]||""),this.g=Su(v[3]||"",!0),Fd(this,v[4]),this.l=Su(v[5]||"",!0),oT(this,v[6]||"",!0),this.m=Su(v[7]||"")):(this.h=!1,this.i=new Au(null,this.h))}ta.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Iu(v,aT,!0),":");var A=this.g;return(A||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Iu(v,aT,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(Iu(A,A.charAt(0)=="/"?J4:X4,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",Iu(A,eF)),d.join("")};function ri(d){return new ta(d)}function Vd(d,v,A){d.j=A?Su(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Fd(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function oT(d,v,A){v instanceof Au?(d.i=v,tF(d.i,d.h)):(A||(v=Iu(v,Z4)),d.i=new Au(v,d.h))}function Ye(d,v,A){d.i.set(v,A)}function Bd(d){return Ye(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Su(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Iu(d,v,A){return typeof d=="string"?(d=encodeURI(d).replace(v,Q4),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Q4(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var aT=/[#\/\?@]/g,X4=/[#\?:]/g,J4=/[#\?]/g,Z4=/[#\?@]/g,eF=/#/g;function Au(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Hi(d){d.g||(d.g=new Map,d.h=0,d.i&&Y4(d.i,function(v,A){d.add(decodeURIComponent(v.replace(/\+/g," ")),A)}))}t=Au.prototype,t.add=function(d,v){Hi(this),this.i=null,d=ms(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(v),this.h+=1,this};function sT(d,v){Hi(d),v=ms(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function lT(d,v){return Hi(d),v=ms(d,v),d.g.has(v)}t.forEach=function(d,v){Hi(this),this.g.forEach(function(A,j){A.forEach(function($){d.call(v,$,j,this)},this)},this)},t.na=function(){Hi(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),A=[];for(let j=0;j<v.length;j++){const $=d[j];for(let F=0;F<$.length;F++)A.push(v[j])}return A},t.V=function(d){Hi(this);let v=[];if(typeof d=="string")lT(this,d)&&(v=v.concat(this.g.get(ms(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)v=v.concat(d[A])}return v},t.set=function(d,v){return Hi(this),this.i=null,d=ms(this,d),lT(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function uT(d,v,A){sT(d,v),0<A.length&&(d.i=null,d.g.set(ms(d,v),y(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var A=0;A<v.length;A++){var j=v[A];const F=encodeURIComponent(String(j)),Z=this.V(j);for(j=0;j<Z.length;j++){var $=F;Z[j]!==""&&($+="="+encodeURIComponent(String(Z[j]))),d.push($)}}return this.i=d.join("&")};function ms(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function tF(d,v){v&&!d.j&&(Hi(d),d.i=null,d.g.forEach(function(A,j){var $=j.toLowerCase();j!=$&&(sT(this,j),uT(this,$,A))},d)),d.j=v}function nF(d,v){const A=new Eu;if(s.Image){const j=new Image;j.onload=p(Ki,A,"TestLoadImage: loaded",!0,v,j),j.onerror=p(Ki,A,"TestLoadImage: error",!1,v,j),j.onabort=p(Ki,A,"TestLoadImage: abort",!1,v,j),j.ontimeout=p(Ki,A,"TestLoadImage: timeout",!1,v,j),s.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=d}else v(!1)}function rF(d,v){const A=new Eu,j=new AbortController,$=setTimeout(()=>{j.abort(),Ki(A,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:j.signal}).then(F=>{clearTimeout($),F.ok?Ki(A,"TestPingServer: ok",!0,v):Ki(A,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),Ki(A,"TestPingServer: error",!1,v)})}function Ki(d,v,A,j,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),j(A)}catch{}}function iF(){this.g=new F4}function oF(d,v,A){const j=A||"";try{rT(d,function($,F){let Z=$;u($)&&(Z=Wy($)),v.push(j+F+"="+encodeURIComponent(Z))})}catch($){throw v.push(j+"type="+encodeURIComponent("_badmap")),$}}function Ud(d){this.l=d.Ub||null,this.j=d.eb||!1}g(Ud,qy),Ud.prototype.g=function(){return new zd(this.l,this.j)},Ud.prototype.i=function(d){return function(){return d}}({});function zd(d,v){Kt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(zd,Kt),t=zd.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Ou(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||s).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pu(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ou(this)),this.g&&(this.readyState=3,Ou(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cT(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function cT(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Pu(this):Ou(this),this.readyState==3&&cT(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Pu(this))},t.Qa=function(d){this.g&&(this.response=d,Pu(this))},t.ga=function(){this.g&&Pu(this)};function Pu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ou(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var A=v.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=v.next();return d.join(`\r
`)};function Ou(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(zd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function fT(d){let v="";return I(d,function(A,j){v+=j,v+=":",v+=A,v+=`\r
`}),v}function tv(d,v,A){e:{for(j in A){var j=!1;break e}j=!0}j||(A=fT(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):Ye(d,v,A))}function dt(d){Kt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(dt,Kt);var aF=/^https?$/i,sF=["POST","PUT"];t=dt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,A,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ky.g(),this.v=this.o?FE(this.o):FE(Ky),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(F){dT(this,F);return}if(d=A||"",A=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var $ in j)A.set($,j[$]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const F of j.keys())A.set(F,j.get(F));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(A.keys()).find(F=>F.toLowerCase()=="content-type"),$=s.FormData&&d instanceof s.FormData,!(0<=Array.prototype.indexOf.call(sF,v,void 0))||j||$||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Z]of A)this.g.setRequestHeader(F,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mT(this),this.u=!0,this.g.send(d),this.u=!1}catch(F){dT(this,F)}};function dT(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,hT(d),Wd(d)}function hT(d){d.A||(d.A=!0,ln(d,"complete"),ln(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ln(this,"complete"),ln(this,"abort"),Wd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wd(this,!0)),dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pT(this):this.bb())},t.bb=function(){pT(this)};function pT(d){if(d.h&&typeof a<"u"&&(!d.v[1]||ii(d)!=4||d.Z()!=2)){if(d.u&&ii(d)==4)DE(d.Ea,0,d);else if(ln(d,"readystatechange"),ii(d)==4){d.h=!1;try{const Z=d.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var A;if(!(A=v)){var j;if(j=Z===0){var $=String(d.D).match(iT)[1]||null;!$&&s.self&&s.self.location&&($=s.self.location.protocol.slice(0,-1)),j=!aF.test($?$.toLowerCase():"")}A=j}if(A)ln(d,"complete"),ln(d,"success");else{d.m=6;try{var F=2<ii(d)?d.g.statusText:""}catch{F=""}d.l=F+" ["+d.Z()+"]",hT(d)}}finally{Wd(d)}}}}function Wd(d,v){if(d.g){mT(d);const A=d.g,j=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||ln(d,"ready");try{A.onreadystatechange=j}catch{}}}function mT(d){d.I&&(s.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ii(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),V4(v)}};function gT(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function lF(d){const v={};d=(d.g&&2<=ii(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<d.length;j++){if(w(d[j]))continue;var A=C(d[j]);const $=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const F=v[$]||[];v[$]=F,F.push(A)}E(v,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cu(d,v,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||v}function yT(d){this.Aa=0,this.i=[],this.j=new Eu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cu("baseRetryDelayMs",5e3,d),this.cb=Cu("retryDelaySeedMs",1e4,d),this.Wa=Cu("forwardChannelMaxRetries",2,d),this.wa=Cu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new JE(d&&d.concurrentRequestLimit),this.Da=new iF,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yT.prototype,t.la=8,t.G=1,t.connect=function(d,v,A,j){un(0),this.W=d,this.H=v||{},A&&j!==void 0&&(this.H.OSID=A,this.H.OAID=j),this.F=this.X,this.I=IT(this,null,this.W),Gd(this)};function nv(d){if(vT(d),d.G==3){var v=d.U++,A=ri(d.I);if(Ye(A,"SID",d.K),Ye(A,"RID",v),Ye(A,"TYPE","terminate"),ku(d,A),v=new Gi(d,d.j,v),v.L=2,v.v=Bd(ri(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(v.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=v.v,A=!0),A||(v.g=AT(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ld(v)}ST(d)}function qd(d){d.g&&(iv(d),d.g.cancel(),d.g=null)}function vT(d){qd(d),d.u&&(s.clearTimeout(d.u),d.u=null),Hd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&s.clearTimeout(d.s),d.s=null)}function Gd(d){if(!ZE(d.h)&&!d.s){d.s=!0;var v=d.Ga;H||Y(),V||(H(),V=!0),W.add(v,d),d.B=0}}function uF(d,v){return eT(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=xu(h(d.Ga,d,v),TT(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const $=new Gi(this,this.j,d);let F=this.o;if(this.S&&(F?(F=S(F),k(F,this.S)):F=this.S),this.m!==null||this.O||($.H=F,F=null),this.P)e:{for(var v=0,A=0;A<this.i.length;A++){t:{var j=this.i[A];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(v+=j,4096<v){v=A;break e}if(v===4096||A===this.i.length-1){v=A+1;break e}}v=1e3}else v=1e3;v=_T(this,$,v),A=ri(this.I),Ye(A,"RID",d),Ye(A,"CVER",22),this.D&&Ye(A,"X-HTTP-Session-Id",this.D),ku(this,A),F&&(this.O?v="headers="+encodeURIComponent(String(fT(F)))+"&"+v:this.m&&tv(A,this.m,F)),ev(this.h,$),this.Ua&&Ye(A,"TYPE","init"),this.P?(Ye(A,"$req",v),Ye(A,"SID","null"),$.T=!0,Qy($,A,null)):Qy($,A,v),this.G=2}}else this.G==3&&(d?bT(this,d):this.i.length==0||ZE(this.h)||bT(this))};function bT(d,v){var A;v?A=v.l:A=d.U++;const j=ri(d.I);Ye(j,"SID",d.K),Ye(j,"RID",A),Ye(j,"AID",d.T),ku(d,j),d.m&&d.o&&tv(j,d.m,d.o),A=new Gi(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),v&&(d.i=v.D.concat(d.i)),v=_T(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ev(d.h,A),Qy(A,j,v)}function ku(d,v){d.H&&I(d.H,function(A,j){Ye(v,j,A)}),d.l&&rT({},function(A,j){Ye(v,j,A)})}function _T(d,v,A){A=Math.min(d.i.length,A);var j=d.l?h(d.l.Na,d.l,d):null;e:{var $=d.i;let F=-1;for(;;){const Z=["count="+A];F==-1?0<A?(F=$[0].g,Z.push("ofs="+F)):F=0:Z.push("ofs="+F);let Ue=!0;for(let Lt=0;Lt<A;Lt++){let Ce=$[Lt].g;const Yt=$[Lt].map;if(Ce-=F,0>Ce)F=Math.max(0,$[Lt].g-100),Ue=!1;else try{oF(Yt,Z,"req"+Ce+"_")}catch{j&&j(Yt)}}if(Ue){j=Z.join("&");break e}}}return d=d.i.splice(0,A),v.D=d,j}function wT(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;H||Y(),V||(H(),V=!0),W.add(v,d),d.v=0}}function rv(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=xu(h(d.Fa,d),TT(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,xT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=xu(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,un(10),qd(this),xT(this))};function iv(d){d.A!=null&&(s.clearTimeout(d.A),d.A=null)}function xT(d){d.g=new Gi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=ri(d.qa);Ye(v,"RID","rpc"),Ye(v,"SID",d.K),Ye(v,"AID",d.T),Ye(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ye(v,"TO",d.ja),Ye(v,"TYPE","xmlhttp"),ku(d,v),d.m&&d.o&&tv(v,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=Bd(ri(v)),A.m=null,A.P=!0,YE(A,d)}t.Za=function(){this.C!=null&&(this.C=null,qd(this),rv(this),un(19))};function Hd(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function ET(d,v){var A=null;if(d.g==v){Hd(d),iv(d),d.g=null;var j=2}else if(Zy(d.h,v))A=v.D,tT(d.h,v),j=1;else return;if(d.G!=0){if(v.o)if(j==1){A=v.m?v.m.length:0,v=Date.now()-v.F;var $=d.B;j=Md(),ln(j,new qE(j,A)),Gd(d)}else wT(d);else if($=v.s,$==3||$==0&&0<v.X||!(j==1&&uF(d,v)||j==2&&rv(d)))switch(A&&0<A.length&&(v=d.h,v.i=v.i.concat(A)),$){case 1:na(d,5);break;case 4:na(d,10);break;case 3:na(d,6);break;default:na(d,2)}}}function TT(d,v){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*v}function na(d,v){if(d.j.info("Error code "+v),v==2){var A=h(d.fb,d),j=d.Xa;const $=!j;j=new ta(j||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Vd(j,"https"),Bd(j),$?nF(j.toString(),A):rF(j.toString(),A)}else un(2);d.G=0,d.l&&d.l.sa(v),ST(d),vT(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function ST(d){if(d.G=0,d.ka=[],d.l){const v=nT(d.h);(v.length!=0||d.i.length!=0)&&(b(d.ka,v),b(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function IT(d,v,A){var j=A instanceof ta?ri(A):new ta(A);if(j.g!="")v&&(j.g=v+"."+j.g),Fd(j,j.s);else{var $=s.location;j=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var F=new ta(null);j&&Vd(F,j),v&&(F.g=v),$&&Fd(F,$),A&&(F.l=A),j=F}return A=d.D,v=d.ya,A&&v&&Ye(j,A,v),Ye(j,"VER",d.la),ku(d,j),j}function AT(d,v,A){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new dt(new Ud({eb:A})):new dt(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function PT(){}t=PT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Kd(){}Kd.prototype.g=function(d,v){return new On(d,v)};function On(d,v){Kt.call(this),this.g=new yT(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!w(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!w(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new gs(this)}g(On,Kt),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){nv(this.g)},On.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=Wy(d),d=A);v.i.push(new G4(v.Ya++,d)),v.G==3&&Gd(v)},On.prototype.N=function(){this.g.l=null,delete this.j,nv(this.g),delete this.g,On.aa.N.call(this)};function OT(d){Gy.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const A in v){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}g(OT,Gy);function CT(){Hy.call(this),this.status=1}g(CT,Hy);function gs(d){this.g=d}g(gs,PT),gs.prototype.ua=function(){ln(this.g,"a")},gs.prototype.ta=function(d){ln(this.g,new OT(d))},gs.prototype.sa=function(d){ln(this.g,new CT)},gs.prototype.ra=function(){ln(this.g,"b")},Kd.prototype.createWebChannel=Kd.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,Sj=function(){return new Kd},Tj=function(){return Md()},Ej=Zo,Pb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dd.NO_ERROR=0,Dd.TIMEOUT=8,Dd.HTTP_ERROR=6,Zh=Dd,GE.COMPLETE="complete",xj=GE,BE.EventType=_u,_u.OPEN="a",_u.CLOSE="b",_u.ERROR="c",_u.MESSAGE="d",Kt.prototype.listen=Kt.prototype.K,fc=BE,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,wj=dt}).apply(typeof mh<"u"?mh:typeof self<"u"?self:typeof window<"u"?window:{});const OI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new Sg("@firebase/firestore");function Ps(){return Ua.logLevel}function X(t,...e){if(Ua.logLevel<=Ee.DEBUG){const n=e.map(Mx);Ua.debug(`Firestore (${eu}): ${t}`,...n)}}function dn(t,...e){if(Ua.logLevel<=Ee.ERROR){const n=e.map(Mx);Ua.error(`Firestore (${eu}): ${t}`,...n)}}function gl(t,...e){if(Ua.logLevel<=Ee.WARN){const n=e.map(Mx);Ua.warn(`Firestore (${eu}): ${t}`,...n)}}function Mx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: `+t;throw dn(e),new Error(e)}function ue(t,e){t||le()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class P9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class O9{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ue(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xi,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string"),new Ij(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string"),new Bt(e)}}class C9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class k9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new C9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class N9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ue(this.o===void 0);const r=o=>{o.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,X("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string"),this.R=n.token,new N9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=j9(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function yl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function Pj(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ke(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new Ke(0,0))}static max(){return new ce(new Ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return sf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class je extends sf{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new je(n)}static emptyPath(){return new je([])}}const M9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class st extends sf{construct(e,n,r){return new st(e,n,r)}static isValidIdentifier(e){return M9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),st.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new st(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ee(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ee(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ee(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new st(n)}static emptyPath(){return new st([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(je.fromString(e))}static fromName(e){return new ne(je.fromString(e).popFirst(5))}static empty(){return new ne(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Ob(t){return t.fields.find(e=>e.kind===2)}function la(t){return t.fields.filter(e=>e.kind!==2)}Wp.UNKNOWN_ID=-1;class ep{constructor(e,n){this.fieldPath=e,this.kind=n}}class lf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new lf(0,Un.min())}}function D9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new Un(i,ne.empty(),e)}function Oj(t){return new Un(t.readTime,t.key,-1)}class Un{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Un(ce.min(),ne.empty(),-1)}static max(){return new Un(ce.max(),ne.empty(),-1)}}function Dx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function as(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==Cj)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new L((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new xi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ac(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=$x(r.target.error);this.V.reject(new Ac(e,i))}}static open(e,n,r,i){try{return new Og(n,e.transaction(i,r))}catch(o){throw new Ac(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(X("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new L9(n)}}class Po{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Po.S(Ot())===12.2&&dn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return X("SimpleDb","Removing database:",e),ha(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!wx())return!1;if(Po.v())return!0;const e=Ot(),n=Po.S(e),r=0<n&&n<10,i=Nj(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(X("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const a=o.target.result;n(a)},i.onblocked=()=>{r(new Ac(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const a=o.target.error;a.name==="VersionError"?r(new ee(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new ee(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Ac(e,a))},i.onupgradeneeded=o=>{X("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const a=o.target.result;this.p.O(a,i.transaction,o.oldVersion,this.version).next(()=>{X("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const s=Og.open(this.db,e,o?"readonly":"readwrite",r),l=i(s).next(u=>(s.g(),u)).catch(u=>(s.abort(u),L.reject(u))).toPromise();return l.catch(()=>{}),await s.m,l}catch(s){const l=s,u=l.name!=="FirebaseError"&&a<3;if(X("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Nj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class $9{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ha(this.B.delete())}}class Ac extends ee{constructor(e,n){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function zo(t){return t.name==="IndexedDbTransactionError"}class L9{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(X("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(X("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ha(r)}add(e){return X("SimpleDb","ADD",this.store.name,e,e),ha(this.store.add(e))}get(e){return ha(this.store.get(e)).next(n=>(n===void 0&&(n=null),X("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return X("SimpleDb","DELETE",this.store.name,e),ha(this.store.delete(e))}count(){return X("SimpleDb","COUNT",this.store.name),ha(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new L((a,s)=>{o.onerror=l=>{s(l.target.error)},o.onsuccess=l=>{a(l.target.result)}})}{const o=this.cursor(r),a=[];return this.W(o,(s,l)=>{a.push(l)}).next(()=>a)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new L((i,o)=>{r.onerror=a=>{o(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}j(e,n){X("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(o,a,s)=>s.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new L((r,i)=>{n.onerror=o=>{const a=$x(o.target.error);i(a)},n.onsuccess=o=>{const a=o.target.result;a?e(a.primaryKey,a.value).next(s=>{s?a.continue():r()}):r()}})}W(e,n){const r=[];return new L((i,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{const s=a.target.result;if(!s)return void i();const l=new $9(s),u=n(s.primaryKey,s.value,l);if(u instanceof L){const c=u.catch(f=>(l.done(),L.reject(f)));r.push(c)}l.isDone?i():l.K===null?s.continue():s.continue(l.K)}}).next(()=>L.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ha(t){return new L((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=$x(r.target.error);n(i)}})}let CI=!1;function $x(t){const e=Po.S(Ot());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CI||(CI=!0,setTimeout(()=>{throw r},0)),r}}return t}class V9{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){X("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{X("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){zo(n)?X("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await as(n)}await this.X(6e4)})}}class F9{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,o=!0;return L.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return X("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next(s=>{i-=s,r.add(a)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const a=o.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(i,o)).next(s=>(X("IndexBackfiller",`Updating offset: ${s}`),this.localStore.indexManager.updateCollectionGroup(e,n,s))).next(()=>a.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{const a=Oj(o);Dx(a,r)>0&&(r=a)}),new Un(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}er.oe=-1;function Cg(t){return t==null}function uf(t){return t===0&&1/t==-1/0}function B9(t){return typeof t=="number"&&Number.isInteger(t)&&!uf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kI(e)),e=U9(t.get(n),e);return kI(e)}function U9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function kI(t){return t+""}function Br(t){const e=t.length;if(ue(e>=2),e===2)return ue(t.charAt(0)===""&&t.charAt(1)===""),je.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const a=t.indexOf("",o);switch((a<0||a>n)&&le(),t.charAt(a+1)){case"":const s=t.substring(o,a);let l;i.length===0?l=s:(i+=s,l=i,i=""),r.push(l);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:le()}o=a+2}return new je(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t,e){return[t,gn(e)]}function Rj(t,e,n){return[t,gn(e),n]}const z9={},W9=["prefixPath","collectionGroup","readTime","documentId"],q9=["prefixPath","collectionGroup","documentId"],G9=["collectionGroup","readTime","prefixPath","documentId"],H9=["canonicalId","targetId"],K9=["targetId","path"],Y9=["path","targetId"],Q9=["collectionId","parent"],X9=["indexId","uid"],J9=["uid","sequenceNumber"],Z9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],e8=["indexId","uid","orderedDocumentKey"],t8=["userId","collectionPath","documentId"],n8=["userId","collectionPath","largestBatchId"],r8=["userId","collectionGroup","largestBatchId"],jj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],i8=[...jj,"documentOverlays"],Mj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Dj=Mj,Lx=[...Dj,"indexConfiguration","indexState","indexEntries"],o8=Lx,a8=[...Lx,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb extends kj{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Ct(t,e){const n=pe(t);return Po.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ss(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $j(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=o??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jI(this.data.getIterator())}getIteratorFrom(e){return new jI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Be(this.comparator);return n.data=e,n}}class jI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function bs(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(st.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Be(st.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Lj("Invalid base64 string: "+o):o}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const s8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(t){if(ue(!!t),typeof t=="string"){let e=0;const n=s8.exec(t);if(ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jo(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Fx(t){const e=t.mapValue.fields.__previous_value__;return Vx(e)?Fx(e):e}function cf(t){const e=Ni(t.mapValue.fields.__local_write_time__.timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class za{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new za("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof za&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},np={nullValue:"NULL_VALUE"};function Wa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vx(t)?4:Vj(t)?9007199254740991:kg(t)?10:11:le()}function Xr(t,e){if(t===e)return!0;const n=Wa(t);if(n!==Wa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cf(t).isEqual(cf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Ni(i.timestampValue),s=Ni(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return jo(i.bytesValue).isEqual(jo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return et(i.geoPointValue.latitude)===et(o.geoPointValue.latitude)&&et(i.geoPointValue.longitude)===et(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return et(i.integerValue)===et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=et(i.doubleValue),s=et(o.doubleValue);return a===s?uf(a)===uf(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return yl(t.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(RI(a)!==RI(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Xr(a[l],s[l])))return!1;return!0}(t,e);default:return le()}}function ff(t,e){return(t.values||[]).find(n=>Xr(n,e))!==void 0}function Mo(t,e){if(t===e)return 0;const n=Wa(t),r=Wa(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=et(o.integerValue||o.doubleValue),l=et(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return MI(t.timestampValue,e.timestampValue);case 4:return MI(cf(t),cf(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(o,a){const s=jo(o),l=jo(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=ye(s[u],l[u]);if(c!==0)return c}return ye(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=ye(et(o.latitude),et(a.latitude));return s!==0?s:ye(et(o.longitude),et(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return DI(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,c;const f=o.fields||{},h=a.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,y=ye(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:DI(p,g)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===go.mapValue&&a===go.mapValue)return 0;if(o===go.mapValue)return 1;if(a===go.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=ye(l[f],c[f]);if(h!==0)return h;const p=Mo(s[l[f]],u[c[f]]);if(p!==0)return p}return ye(l.length,c.length)}(t.mapValue,e.mapValue);default:throw le()}}function MI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Ni(t),r=Ni(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function DI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Mo(n[i],r[i]);if(o)return o}return ye(n.length,r.length)}function vl(t){return kb(t)}function kb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ni(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return jo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=kb(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${kb(n.fields[a])}`;return i+"}"}(t.mapValue):le()}function df(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Nb(t){return!!t&&"integerValue"in t}function hf(t){return!!t&&"arrayValue"in t}function $I(t){return!!t&&"nullValue"in t}function LI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rp(t){return!!t&&"mapValue"in t}function kg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ss(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Vj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const Fj={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function u8(t){return"nullValue"in t?np:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?df(za.empty(),ne.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?kg(t)?Fj:{mapValue:{}}:le()}function c8(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?df(za.empty(),ne.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?Fj:"mapValue"in t?kg(t)?{mapValue:{}}:go:le()}function VI(t,e){const n=Mo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function FI(t,e){const n=Mo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pc(n)}setAll(e){let n=st.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=Pc(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());rp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ss(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new hn(Pc(this.value))}}function Bj(t){const e=[];return ss(t.fields,(n,r)=>{const i=new st([n]);if(rp(r)){const o=Bj(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new mt(e,0,ce.min(),ce.min(),ce.min(),hn.empty(),0)}static newFoundDocument(e,n,r,i){return new mt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new mt(e,2,n,ce.min(),ce.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new mt(e,3,n,ce.min(),ce.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n){this.position=e,this.inclusive=n}}function BI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ne.comparator(ne.fromName(a.referenceValue),n.key):r=Mo(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function UI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n="asc"){this.field=e,this.dir=n}}function f8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uj=class{};class Te extends Uj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new d8(e,n,r):n==="array-contains"?new m8(e,r):n==="in"?new Kj(e,r):n==="not-in"?new g8(e,r):n==="array-contains-any"?new y8(e,r):new Te(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new h8(e,r):new p8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Mo(n,this.value)):n!==null&&Wa(this.value)===Wa(n)&&this.matchesComparison(Mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $e extends Uj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new $e(e,n)}matches(e){return _l(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _l(t){return t.op==="and"}function Rb(t){return t.op==="or"}function Bx(t){return zj(t)&&_l(t)}function zj(t){for(const e of t.filters)if(e instanceof $e)return!1;return!0}function jb(t){if(t instanceof Te)return t.field.canonicalString()+t.op.toString()+vl(t.value);if(Bx(t))return t.filters.map(e=>jb(e)).join(",");{const e=t.filters.map(n=>jb(n)).join(",");return`${t.op}(${e})`}}function Wj(t,e){return t instanceof Te?function(r,i){return i instanceof Te&&r.op===i.op&&r.field.isEqual(i.field)&&Xr(r.value,i.value)}(t,e):t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&Wj(a,i.filters[s]),!0):!1}(t,e):void le()}function qj(t,e){const n=t.filters.concat(e);return $e.create(n,t.op)}function Gj(t){return t instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${vl(n.value)}`}(t):t instanceof $e?function(n){return n.op.toString()+" {"+n.getFilters().map(Gj).join(" ,")+"}"}(t):"Filter"}class d8 extends Te{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class h8 extends Te{constructor(e,n){super(e,"in",n),this.keys=Hj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class p8 extends Te{constructor(e,n){super(e,"not-in",n),this.keys=Hj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Hj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class m8 extends Te{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hf(n)&&ff(n.arrayValue,this.value)}}class Kj extends Te{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ff(this.value.arrayValue,n)}}class g8 extends Te{constructor(e,n){super(e,"not-in",n)}matches(e){if(ff(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ff(this.value.arrayValue,n)}}class y8 extends Te{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ff(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function Mb(t,e=null,n=[],r=[],i=null,o=null,a=null){return new v8(t,e,n,r,i,o,a)}function qa(t){const e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Cg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vl(r)).join(",")),e.ue=n}return e.ue}function hd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!f8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Wj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UI(t.startAt,e.startAt)&&UI(t.endAt,e.endAt)}function qp(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Gp(t,e){return t.filters.filter(n=>n instanceof Te&&n.field.isEqual(e))}function zI(t,e,n){let r=np,i=!0;for(const o of Gp(t,e)){let a=np,s=!0;switch(o.op){case"<":case"<=":a=u8(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,s=!1;break;case"!=":case"not-in":a=np}VI({value:r,inclusive:i},{value:a,inclusive:s})<0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];VI({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function WI(t,e,n){let r=go,i=!0;for(const o of Gp(t,e)){let a=go,s=!0;switch(o.op){case">=":case">":a=c8(o.value),s=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,s=!1;break;case"!=":case"not-in":a=go}FI({value:r,inclusive:i},{value:a,inclusive:s})>0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];FI({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function b8(t,e,n,r,i,o,a,s){return new tu(t,e,n,r,i,o,a,s)}function pd(t){return new tu(t)}function qI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Yj(t){return t.collectionGroup!==null}function Oc(t){const e=pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Be(st.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new pf(o,r))}),n.has(st.keyField().canonicalString())||e.ce.push(new pf(st.keyField(),r))}return e.ce}function ir(t){const e=pe(t);return e.le||(e.le=_8(e,Oc(t))),e.le}function _8(t,e){if(t.limitType==="F")return Mb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new pf(i.field,o)});const n=t.endAt?new bl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bl(t.startAt.position,t.startAt.inclusive):null;return Mb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Db(t,e){const n=t.filters.concat([e]);return new tu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hp(t,e,n){return new tu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ng(t,e){return hd(ir(t),ir(e))&&t.limitType===e.limitType}function Qj(t){return`${qa(ir(t))}|lt:${t.limitType}`}function Os(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Gj(i)).join(", ")}]`),Cg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>vl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>vl(i)).join(",")),`Target(${r})`}(ir(t))}; limitType=${t.limitType})`}function md(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Oc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=BI(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,Oc(r),i)||r.endAt&&!function(a,s,l){const u=BI(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,Oc(r),i))}(t,e)}function w8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Xj(t){return(e,n)=>{let r=!1;for(const i of Oc(t)){const o=x8(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function x8(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Mo(l,u):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return $j(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=new rt(ne.comparator);function $n(){return E8}const Jj=new rt(ne.comparator);function dc(...t){let e=Jj;for(const n of t)e=e.insert(n.key,n);return e}function Zj(t){let e=Jj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ur(){return Cc()}function eM(){return Cc()}function Cc(){return new Wo(t=>t.toString(),(t,e)=>t.isEqual(e))}const T8=new rt(ne.comparator),S8=new Be(ne.comparator);function be(...t){let e=S8;for(const n of t)e=e.add(n);return e}const I8=new Be(ye);function A8(){return I8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(e)?"-0":e}}function tM(t){return{integerValue:""+t}}function P8(t,e){return B9(e)?tM(e):Ux(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this._=void 0}}function O8(t,e,n){return t instanceof mf?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Vx(o)&&(o=Fx(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof wl?rM(t,e):t instanceof xl?iM(t,e):function(i,o){const a=nM(i,o),s=GI(a)+GI(i.Pe);return Nb(a)&&Nb(i.Pe)?tM(s):Ux(i.serializer,s)}(t,e)}function C8(t,e,n){return t instanceof wl?rM(t,e):t instanceof xl?iM(t,e):n}function nM(t,e){return t instanceof gf?function(r){return Nb(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class mf extends Rg{}class wl extends Rg{constructor(e){super(),this.elements=e}}function rM(t,e){const n=oM(e);for(const r of t.elements)n.some(i=>Xr(i,r))||n.push(r);return{arrayValue:{values:n}}}class xl extends Rg{constructor(e){super(),this.elements=e}}function iM(t,e){let n=oM(e);for(const r of t.elements)n=n.filter(i=>!Xr(i,r));return{arrayValue:{values:n}}}class gf extends Rg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function GI(t){return et(t.integerValue||t.doubleValue)}function oM(t){return hf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e,n){this.field=e,this.transform=n}}function N8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof wl&&i instanceof wl||r instanceof xl&&i instanceof xl?yl(r.elements,i.elements,Xr):r instanceof gf&&i instanceof gf?Xr(r.Pe,i.Pe):r instanceof mf&&i instanceof mf}(t.transform,e.transform)}class R8{constructor(e,n){this.version=e,this.transformResults=n}}class on{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new on}static exists(e){return new on(void 0,e)}static updateTime(e){return new on(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ip(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jg{}function aM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mg(t.key,on.none()):new nu(t.key,t.data,on.none());{const n=t.data,r=hn.empty();let i=new Be(st.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Bi(t.key,r,new Dn(i.toArray()),on.none())}}function j8(t,e,n){t instanceof nu?function(i,o,a){const s=i.value.clone(),l=KI(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Bi?function(i,o,a){if(!ip(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=KI(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(sM(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function kc(t,e,n,r){return t instanceof nu?function(o,a,s,l){if(!ip(o.precondition,a))return s;const u=o.value.clone(),c=YI(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bi?function(o,a,s,l){if(!ip(o.precondition,a))return s;const u=YI(o.fieldTransforms,l,a),c=a.data;return c.setAll(sM(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return ip(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function M8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=nM(r.transform,i||null);o!=null&&(n===null&&(n=hn.empty()),n.set(r.field,o))}return n||null}function HI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yl(r,i,(o,a)=>N8(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nu extends jg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bi extends jg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function sM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function KI(t,e,n){const r=new Map;ue(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,C8(a,s,n[i]))}return r}function YI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,O8(o,a,e))}return r}class Mg extends jg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lM extends jg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&j8(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=eM();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=aM(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,(n,r)=>HI(n,r))&&yl(this.baseMutations,e.baseMutations,(n,r)=>HI(n,r))}}class Wx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ue(e.mutations.length===r.length);let i=function(){return T8}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new Wx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Pe;function $8(t){switch(t){default:return le();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function uM(t){if(t===void 0)return dn("GRPC error has no .code"),q.UNKNOWN;switch(t){case bt.OK:return q.OK;case bt.CANCELLED:return q.CANCELLED;case bt.UNKNOWN:return q.UNKNOWN;case bt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case bt.INTERNAL:return q.INTERNAL;case bt.UNAVAILABLE:return q.UNAVAILABLE;case bt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case bt.NOT_FOUND:return q.NOT_FOUND;case bt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case bt.ABORTED:return q.ABORTED;case bt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case bt.DATA_LOSS:return q.DATA_LOSS;default:return le()}}(Pe=bt||(bt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=new Oa([4294967295,4294967295],0);function QI(t){const e=L8().encode(t),n=new _j;return n.update(e),new Uint8Array(n.digest())}function XI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Oa([n,r],0),new Oa([i,o],0)]}class Gx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hc(`Invalid padding: ${n}`);if(r<0)throw new hc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Oa.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Oa.fromNumber(r)));return i.compare(V8)===1&&(i=new Oa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=QI(e),[r,i]=XI(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new Gx(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=QI(e),[r,i]=XI(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Dg(ce.min(),i,new rt(ye),$n(),be())}}class gd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gd(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class cM{constructor(e,n){this.targetId=e,this.me=n}}class fM{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class JI{constructor(){this.fe=0,this.ge=eA(),this.pe=Tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=be(),n=be(),r=be();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new gd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=eA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class F8{constructor(e){this.Le=e,this.Be=new Map,this.ke=$n(),this.qe=ZI(),this.Qe=new rt(ye)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(qp(o))if(r===0){const a=new ne(o.path);this.Ue(n,a,mt.newNoDocument(a,ce.min()))}else ue(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=jo(r).toUint8Array()}catch(l){if(l instanceof Lj)return gl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new Gx(a,i,o)}catch(l){return gl(l instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&qp(s.target)){const l=new ne(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,mt.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=be();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Dg(e,n,this.Qe,this.ke,r);return this.ke=$n(),this.qe=ZI(),this.Qe=new rt(ye),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new JI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Be(ye),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new JI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ZI(){return new rt(ne.comparator)}function eA(){return new rt(ne.comparator)}const B8={asc:"ASCENDING",desc:"DESCENDING"},U8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z8={and:"AND",or:"OR"};class W8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $b(t,e){return t.useProto3Json||Cg(e)?e:{value:e}}function El(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q8(t,e){return El(t,e.toTimestamp())}function yn(t){return ue(!!t),ce.fromTimestamp(function(n){const r=Ni(n);return new Ke(r.seconds,r.nanos)}(t))}function Hx(t,e){return Lb(t,e).canonicalString()}function Lb(t,e){const n=function(i){return new je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hM(t){const e=je.fromString(t);return ue(xM(e)),e}function Kp(t,e){return Hx(t.databaseId,e.path)}function Ca(t,e){const n=hM(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(gM(n))}function pM(t,e){return Hx(t.databaseId,e)}function mM(t){const e=hM(t);return e.length===4?je.emptyPath():gM(e)}function Vb(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gM(t){return ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tA(t,e,n){return{name:Kp(t,e),fields:n.value.mapValue.fields}}function G8(t,e,n){const r=Ca(t,e.name),i=yn(e.updateTime),o=e.createTime?yn(e.createTime):ce.min(),a=new hn({mapValue:{fields:e.fields}}),s=mt.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function H8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(ue(c===void 0||typeof c=="string"),Tt.fromBase64String(c||"")):(ue(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Tt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?q.UNKNOWN:uM(u.code);return new ee(c,u.message||"")}(a);n=new fM(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ca(t,r.document.name),o=yn(r.document.updateTime),a=r.document.createTime?yn(r.document.createTime):ce.min(),s=new hn({mapValue:{fields:r.document.fields}}),l=mt.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new op(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ca(t,r.document),o=r.readTime?yn(r.readTime):ce.min(),a=mt.newNoDocument(i,o),s=r.removedTargetIds||[];n=new op([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ca(t,r.document),o=r.removedTargetIds||[];n=new op([],o,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new D8(i,o),s=r.targetId;n=new cM(s,a)}}return n}function Yp(t,e){let n;if(e instanceof nu)n={update:tA(t,e.key,e.value)};else if(e instanceof Mg)n={delete:Kp(t,e.key)};else if(e instanceof Bi)n={update:tA(t,e.key,e.data),updateMask:Z8(e.fieldMask)};else{if(!(e instanceof lM))return le();n={verify:Kp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof mf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof wl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof xl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof gf)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:q8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le()}(t,e.precondition)),n}function Fb(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?on.updateTime(yn(o.updateTime)):o.exists!==void 0?on.exists(o.exists):on.none()}(e.currentDocument):on.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,s){let l=null;if("setToServerValue"in s)ue(s.setToServerValue==="REQUEST_TIME"),l=new mf;else if("appendMissingElements"in s){const c=s.appendMissingElements.values||[];l=new wl(c)}else if("removeAllFromArray"in s){const c=s.removeAllFromArray.values||[];l=new xl(c)}else"increment"in s?l=new gf(a,s.increment):le();const u=st.fromServerFormat(s.fieldPath);return new k8(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Ca(t,e.update.name),o=new hn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(l){const u=l.fieldPaths||[];return new Dn(u.map(c=>st.fromServerFormat(c)))}(e.updateMask);return new Bi(i,o,a,n,r)}return new nu(i,o,n,r)}if(e.delete){const i=Ca(t,e.delete);return new Mg(i,n)}if(e.verify){const i=Ca(t,e.verify);return new lM(i,n)}return le()}function K8(t,e){return t&&t.length>0?(ue(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?yn(i.updateTime):yn(o);return a.isEqual(ce.min())&&(a=yn(o)),new R8(a,i.transformResults||[])}(n,e))):[]}function yM(t,e){return{documents:[pM(t,e.path)]}}function vM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pM(t,i);const o=function(u){if(u.length!==0)return wM($e.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Cs(h.field),direction:Q8(h.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=$b(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function bM(t){let e=mM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ue(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=_M(f);return h instanceof $e&&Bx(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(h=>function(g){return new pf(ks(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,Cg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new bl(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new bl(p,h)}(n.endAt)),b8(e,i,a,o,s,"F",l,u)}function Y8(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _M(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ks(n.unaryFilter.field);return Te.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ks(n.unaryFilter.field);return Te.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ks(n.unaryFilter.field);return Te.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ks(n.unaryFilter.field);return Te.create(a,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return Te.create(ks(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $e.create(n.compositeFilter.filters.map(r=>_M(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function Q8(t){return B8[t]}function X8(t){return U8[t]}function J8(t){return z8[t]}function Cs(t){return{fieldPath:t.canonicalString()}}function ks(t){return st.fromServerFormat(t.fieldPath)}function wM(t){return t instanceof Te?function(n){if(n.op==="=="){if(LI(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NAN"}};if($I(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LI(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NAN"}};if($I(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(n.field),op:X8(n.op),value:n.value}}}(t):t instanceof $e?function(n){const r=n.getFilters().map(i=>wM(i));return r.length===1?r[0]:{compositeFilter:{op:J8(n.op),filters:r}}}(t):le()}function Z8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,r,i,o=ce.min(),a=ce.min(),s=Tt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.ct=e}}function e7(t,e){let n;if(e.document)n=G8(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ne.fromSegments(e.noDocument.path),i=Ha(e.noDocument.readTime);n=mt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return le();{const r=ne.fromSegments(e.unknownDocument.path),i=Ha(e.unknownDocument.version);n=mt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new Ke(i[0],i[1]);return ce.fromTimestamp(o)}(e.readTime)),n}function nA(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Qp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,a){return{name:Kp(o,a.key),fields:a.data.value.mapValue.fields,updateTime:El(o,a.version.toTimestamp()),createTime:El(o,a.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ga(e.version)};else{if(!e.isUnknownDocument())return le();r.unknownDocument={path:n.path.toArray(),version:Ga(e.version)}}return r}function Qp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ga(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ha(t){const e=new Ke(t.seconds,t.nanoseconds);return ce.fromTimestamp(e)}function pa(t,e){const n=(e.baseMutations||[]).map(o=>Fb(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){const a=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const s=e.mutations[o+1];a.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>Fb(t.ct,o)),i=Ke.fromMillis(e.localWriteTimeMs);return new zx(e.batchId,i,n,r)}function pc(t){const e=Ha(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ha(t.lastLimboFreeSnapshotVersion):ce.min();let r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return ue(o.documents.length===1),ir(pd(mM(o.documents[0])))}(t.query):function(o){return ir(bM(o))}(t.query),new gi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Tt.fromBase64String(t.resumeToken))}function TM(t,e){const n=Ga(e.snapshotVersion),r=Ga(e.lastLimboFreeSnapshotVersion);let i;i=qp(e.target)?yM(t.ct,e.target):vM(t.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qa(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function SM(t){const e=bM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hp(e,e.limit,"L"):e}function Fv(t,e){return new qx(e.largestBatchId,Fb(t.ct,e.overlayMutation))}function rA(t,e){const n=e.path.lastSegment();return[t,gn(e.path.popLast()),n]}function iA(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Ga(r.readTime),documentKey:gn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{getBundleMetadata(e,n){return oA(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Ha(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return oA(e).put(function(i){return{bundleId:i.id,createTime:Ga(yn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return aA(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:SM(o.bundledQuery),readTime:Ha(o.readTime)}}(r)})}saveNamedQuery(e,n){return aA(e).put(function(i){return{name:i.name,readTime:Ga(yn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function oA(t){return Ct(t,"bundles")}function aA(t){return Ct(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new $g(e,r)}getOverlay(e,n){return Fu(e).get(rA(this.userId,n)).next(r=>r?Fv(this.serializer,r):null)}getOverlays(e,n){const r=Ur();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,a)=>{const s=new qx(n,a);i.push(this.ht(e,s))}),L.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(a=>i.add(gn(a.getCollectionPath())));const o=[];return i.forEach(a=>{const s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);o.push(Fu(e).j("collectionPathOverlayIndex",s))}),L.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Ur(),o=gn(n),a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Fu(e).U("collectionPathOverlayIndex",a).next(s=>{for(const l of s){const u=Fv(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Ur();let a;const s=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Fu(e).J({index:"collectionGroupOverlayIndex",range:s},(l,u,c)=>{const f=Fv(this.serializer,u);o.size()<i||f.largestBatchId===a?(o.set(f.getKey(),f),a=f.largestBatchId):c.done()}).next(()=>o)}ht(e,n){return Fu(e).put(function(i,o,a){const[s,l,u]=rA(o,a.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Yp(i.ct,a.mutation)}}(this.serializer,this.userId,n))}}function Fu(t){return Ct(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{Pt(e){return Ct(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Tt.fromUint8Array(r):Tt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(et(e.integerValue));else if("doubleValue"in e){const r=et(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),uf(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Ni(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(jo(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?Vj(e)?this.dt(n,Number.MAX_SAFE_INTEGER):kg(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):le()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const o=e.fields||{};this.dt(n,53);const a="value",s=((i=(r=o[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(et(s)),this.Vt(a,n),this.Tt(o[a],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ne.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}ma.vt=new ma;function r7(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function sA(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const a=r7(255&r[o]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class i7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=sA(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=sA(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(o){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,o,!1),new Uint8Array(a.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class o7{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class a7{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Bu{constructor(){this.jt=new i7,this.Ht=new o7(this.jt),this.Jt=new a7(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ga(this.indexId,this.documentKey,this.arrayValue,r)}}function Xi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=lA(t.arrayValue,e.arrayValue),n!==0?n:(n=lA(t.directionalValue,e.directionalValue),n!==0?n:ne.comparator(t.documentKey,e.documentKey)))}function lA(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.Xt=new Be((n,r)=>st.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(ue(e.collectionGroup===this.collectionId),this.nn)return!1;const n=Ob(e);if(n!==void 0&&!this.sn(n))return!1;const r=la(e);let i=new Set,o=0,a=0;for(;o<r.length&&this.sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Xt.size>0){const s=this.Xt.getIterator().getNext();if(!i.has(s.field.canonicalString())){const l=r[o];if(!this.on(s,l)||!this._n(this.en[a++],l))return!1}++o}for(;o<r.length;++o){const s=r[o];if(a>=this.en.length||!this._n(this.en[a++],s))return!1}return!0}an(){if(this.nn)return null;let e=new Be(st.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new ep(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new ep(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new ep(r.field,r.dir==="asc"?0:1)));return new Wp(Wp.UNKNOWN_ID,this.collectionId,n,lf.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){var e,n;if(ue(t instanceof Te||t instanceof $e),t instanceof Te){if(t instanceof Kj){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>Te.create(t.field,"==",o)))||[];return $e.create(i,"or")}return t}const r=t.filters.map(i=>IM(i));return $e.create(r,t.op)}function s7(t){if(t.getFilters().length===0)return[];const e=zb(IM(t));return ue(AM(e)),Bb(e)||Ub(e)?[e]:e.getFilters()}function Bb(t){return t instanceof Te}function Ub(t){return t instanceof $e&&Bx(t)}function AM(t){return Bb(t)||Ub(t)||function(n){if(n instanceof $e&&Rb(n)){for(const r of n.getFilters())if(!Bb(r)&&!Ub(r))return!1;return!0}return!1}(t)}function zb(t){if(ue(t instanceof Te||t instanceof $e),t instanceof Te)return t;if(t.filters.length===1)return zb(t.filters[0]);const e=t.filters.map(r=>zb(r));let n=$e.create(e,t.op);return n=Xp(n),AM(n)?n:(ue(n instanceof $e),ue(_l(n)),ue(n.filters.length>1),n.filters.reduce((r,i)=>Kx(r,i)))}function Kx(t,e){let n;return ue(t instanceof Te||t instanceof $e),ue(e instanceof Te||e instanceof $e),n=t instanceof Te?e instanceof Te?function(i,o){return $e.create([i,o],"and")}(t,e):cA(t,e):e instanceof Te?cA(e,t):function(i,o){if(ue(i.filters.length>0&&o.filters.length>0),_l(i)&&_l(o))return qj(i,o.getFilters());const a=Rb(i)?i:o,s=Rb(i)?o:i,l=a.filters.map(u=>Kx(u,s));return $e.create(l,"or")}(t,e),Xp(n)}function cA(t,e){if(_l(e))return qj(e,t.getFilters());{const n=e.filters.map(r=>Kx(t,r));return $e.create(n,"or")}}function Xp(t){if(ue(t instanceof Te||t instanceof $e),t instanceof Te)return t;const e=t.getFilters();if(e.length===1)return Xp(e[0]);if(zj(t))return t;const n=e.map(i=>Xp(i)),r=[];return n.forEach(i=>{i instanceof Te?r.push(i):i instanceof $e&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:$e.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(){this.un=new Yx}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Un.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Un.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class Yx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Be(je.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Be(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Uint8Array(0);class u7{constructor(e,n){this.databaseId=n,this.cn=new Yx,this.ln=new Wo(r=>qa(r),(r,i)=>hd(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const o={collectionId:r,parent:gn(i)};return fA(e).put(o)}return L.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[Pj(n),""],!1,!0);return fA(e).U(i).next(o=>{for(const a of o){if(a.collectionId!==n)break;r.push(Br(a.parent))}return r})}addFieldIndex(e,n){const r=Uu(e),i=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const a=ws(e);return o.next(s=>{a.put(iA(s,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=Uu(e),i=ws(e),o=_s(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Uu(e),r=_s(e),i=ws(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return L.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new uA(r).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=_s(e);let i=!0;const o=new Map;return L.forEach(this.hn(n),a=>this.Pn(e,a).next(s=>{i&&(i=!!s),o.set(a,s)})).next(()=>{if(i){let a=be();const s=[];return L.forEach(o,(l,u)=>{X("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(P=>`${P.fieldPath}:${P.kind}`).join(",")}`}(l)} to execute ${qa(n)}`);const c=function(_,P){const T=Ob(P);if(T===void 0)return null;for(const I of Gp(_,T.fieldPath))switch(I.op){case"array-contains-any":return I.value.arrayValue.values||[];case"array-contains":return[I.value]}return null}(u,l),f=function(_,P){const T=new Map;for(const I of la(P))for(const E of Gp(_,I.fieldPath))switch(E.op){case"==":case"in":T.set(I.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return T.set(I.fieldPath.canonicalString(),E.value),Array.from(T.values())}return null}(u,l),h=function(_,P){const T=[];let I=!0;for(const E of la(P)){const S=E.kind===0?zI(_,E.fieldPath,_.startAt):WI(_,E.fieldPath,_.startAt);T.push(S.value),I&&(I=S.inclusive)}return new bl(T,I)}(u,l),p=function(_,P){const T=[];let I=!0;for(const E of la(P)){const S=E.kind===0?WI(_,E.fieldPath,_.endAt):zI(_,E.fieldPath,_.endAt);T.push(S.value),I&&(I=S.inclusive)}return new bl(T,I)}(u,l),g=this.In(l,u,h),y=this.In(l,u,p),b=this.Tn(l,u,f),x=this.En(l.indexId,c,g,h.inclusive,y,p.inclusive,b);return L.forEach(x,w=>r.G(w,n.limit).next(_=>{_.forEach(P=>{const T=ne.fromSegments(P.documentKey);a.has(T)||(a=a.add(T),s.push(T))})}))}).next(()=>s)}return L.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=s7($e.create(e.filters,"and")).map(r=>Mb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,o,a,s){const l=(n!=null?n.length:1)*Math.max(r.length,o.length),u=l/(n!=null?n.length:1),c=[];for(let f=0;f<l;++f){const h=n?this.dn(n[f/u]):yh,p=this.An(e,h,r[f%u],i),g=this.Rn(e,h,o[f%u],a),y=s.map(b=>this.An(e,h,b,!0));c.push(...this.createRange(p,g,y))}return c}An(e,n,r,i){const o=new ga(e,ne.empty(),n,r);return i?o:o.Zt()}Rn(e,n,r,i){const o=new ga(e,ne.empty(),n,r);return i?o.Zt():o}Pn(e,n){const r=new uA(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let a=null;for(const s of o)r.rn(s)&&(!a||s.fields.length>a.fields.length)&&(a=s);return a})}getIndexType(e,n){let r=2;const i=this.hn(n);return L.forEach(i,o=>this.Pn(e,o).next(a=>{a?r!==0&&a.fields.length<function(l){let u=new Be(st.comparator),c=!1;for(const f of l.filters)for(const h of f.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const f of l.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(c?1:0)}(o)&&(r=1):r=0})).next(()=>function(a){return a.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new Bu;for(const i of la(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const a=r.Yt(i.kind);ma.vt.It(o,a)}return r.zt()}dn(e){const n=new Bu;return ma.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Bu;return ma.vt.It(df(this.databaseId,n),r.Yt(function(o){const a=la(o);return a.length===0?0:a[a.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Bu);let o=0;for(const a of la(e)){const s=r[o++];for(const l of i)if(this.fn(n,a.fieldPath)&&hf(s))i=this.gn(i,a,s);else{const u=l.Yt(a.kind);ma.vt.It(s,u)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],o=[];for(const a of r.arrayValue.values||[])for(const s of i){const l=new Bu;l.seed(s.zt()),ma.vt.It(a,l.Yt(n.kind)),o.push(l)}return o}fn(e,n){return!!e.filters.find(r=>r instanceof Te&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Uu(e),i=ws(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{const a=[];return L.forEach(o,s=>i.get([s.indexId,this.uid]).next(l=>{a.push(function(c,f){const h=f?new lf(f.sequenceNumber,new Un(Ha(f.readTime),new ne(Br(f.documentKey)),f.largestBatchId)):lf.empty(),p=c.fields.map(([g,y])=>new ep(st.fromServerFormat(g),y));return new Wp(c.indexId,c.collectionGroup,p,h)}(s,l))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:ye(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Uu(e),o=ws(e);return this.yn(e).next(a=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(s=>L.forEach(s,l=>o.put(iA(l.indexId,this.uid,a,r)))))}updateIndexEntries(e,n){const r=new Map;return L.forEach(n,(i,o)=>{const a=r.get(i.collectionGroup);return(a?L.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(s=>(r.set(i.collectionGroup,s),L.forEach(s,l=>this.wn(e,i,l).next(u=>{const c=this.Sn(o,l);return u.isEqual(c)?L.resolve():this.bn(e,o,l,u,c)}))))})}Dn(e,n,r,i){return _s(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return _s(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=_s(e);let o=new Be(Xi);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(a,s)=>{o=o.add(new ga(r.indexId,n,s.arrayValue,s.directionalValue))}).next(()=>o)}Sn(e,n){let r=new Be(Xi);const i=this.Vn(n,e);if(i==null)return r;const o=Ob(n);if(o!=null){const a=e.data.field(o.fieldPath);if(hf(a))for(const s of a.arrayValue.values||[])r=r.add(new ga(n.indexId,e.key,this.dn(s),i))}else r=r.add(new ga(n.indexId,e.key,yh,i));return r}bn(e,n,r,i,o){X("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const a=[];return function(l,u,c,f,h){const p=l.getIterator(),g=u.getIterator();let y=bs(p),b=bs(g);for(;y||b;){let x=!1,w=!1;if(y&&b){const _=c(y,b);_<0?w=!0:_>0&&(x=!0)}else y!=null?w=!0:x=!0;x?(f(b),b=bs(g)):w?(h(y),y=bs(p)):(y=bs(p),b=bs(g))}}(i,o,Xi,s=>{a.push(this.Dn(e,n,r,s))},s=>{a.push(this.vn(e,n,r,s))}),L.waitFor(a)}yn(e){let n=1;return ws(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((a,s)=>Xi(a,s)).filter((a,s,l)=>!s||Xi(a,l[s-1])!==0);const i=[];i.push(e);for(const a of r){const s=Xi(a,e),l=Xi(a,n);if(s===0)i[0]=e.Zt();else if(s>0&&l<0)i.push(a),i.push(a.Zt());else if(l>0)break}i.push(n);const o=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const s=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,yh,[]],l=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,yh,[]];o.push(IDBKeyRange.bound(s,l))}return o}Cn(e,n){return Xi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(dA)}getMinOffset(e,n){return L.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||le())).next(dA)}}function fA(t){return Ct(t,"collectionParents")}function _s(t){return Ct(t,"indexEntries")}function Uu(t){return Ct(t,"indexConfiguration")}function ws(t){return Ct(t,"indexState")}function dA(t){ue(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Dx(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Un(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _n{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const l=r.J({range:a},(c,f,h)=>(s++,h.delete()));o.push(l.next(()=>{ue(s===1)}));const u=[];for(const c of n.mutations){const f=Rj(e,c.key.path,n.batchId);o.push(i.delete(f)),u.push(c.key)}return L.waitFor(o).next(()=>u)}function Jp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw le();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(41943040,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class Lg{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){ue(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new Lg(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ji(e).J({index:"userMutationsIndex",range:r},(i,o,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=Ns(e),a=Ji(e);return a.add({}).next(s=>{ue(typeof s=="number");const l=new zx(s,n,r,i),u=function(p,g,y){const b=y.baseMutations.map(w=>Yp(p.ct,w)),x=y.mutations.map(w=>Yp(p.ct,w));return{userId:g,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:b,mutations:x}}(this.serializer,this.userId,l),c=[];let f=new Be((h,p)=>ye(h.canonicalString(),p.canonicalString()));for(const h of i){const p=Rj(this.userId,h.key.path,s);f=f.add(h.key.path.popLast()),c.push(a.put(u)),c.push(o.put(p,z9))}return f.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Fn[s]=l.keys()}),L.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Ji(e).get(n).next(r=>r?(ue(r.userId===this.userId),pa(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?L.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Ji(e).J({index:"userMutationsIndex",range:i},(a,s,l)=>{s.userId===this.userId&&(ue(s.batchId>=r),o=pa(this.serializer,s)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ji(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,a)=>{r=o.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ji(e).U("userMutationsIndex",n).next(r=>r.map(i=>pa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=tp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Ns(e).J({range:i},(a,s,l)=>{const[u,c,f]=a,h=Br(c);if(u===this.userId&&n.path.isEqual(h))return Ji(e).get(f).next(p=>{if(!p)throw le();ue(p.userId===this.userId),o.push(pa(this.serializer,p))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Be(ye);const i=[];return n.forEach(o=>{const a=tp(this.userId,o.path),s=IDBKeyRange.lowerBound(a),l=Ns(e).J({range:s},(u,c,f)=>{const[h,p,g]=u,y=Br(p);h===this.userId&&o.path.isEqual(y)?r=r.add(g):f.done()});i.push(l)}),L.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=tp(this.userId,r),a=IDBKeyRange.lowerBound(o);let s=new Be(ye);return Ns(e).J({range:a},(l,u,c)=>{const[f,h,p]=l,g=Br(h);f===this.userId&&r.isPrefixOf(g)?g.length===i&&(s=s.add(p)):c.done()}).next(()=>this.xn(e,s))}xn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(Ji(e).get(o).next(a=>{if(a===null)throw le();ue(a.userId===this.userId),r.push(pa(this.serializer,a))}))}),L.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return PM(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),L.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();const r=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return Ns(e).J({range:r},(o,a,s)=>{if(o[0]===this.userId){const l=Br(o[1]);i.push(l)}else s.done()}).next(()=>{ue(i.length===0)})})}containsKey(e,n){return OM(e,this.userId,n)}Nn(e){return CM(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function OM(t,e,n){const r=tp(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return Ns(t).J({range:o,H:!0},(s,l,u)=>{const[c,f,h]=s;c===e&&f===i&&(a=!0),u.done()}).next(()=>a)}function Ji(t){return Ct(t,"mutations")}function Ns(t){return Ct(t,"documentMutations")}function CM(t){return Ct(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ka(0)}static kn(){return new Ka(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Ka(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>ce.fromTimestamp(new Ke(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>xs(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(ue(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return xs(e).J((a,s)=>{const l=pc(s);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>L.waitFor(o)).next(()=>i)}forEachTarget(e,n){return xs(e).J((r,i)=>{const o=pc(i);n(o)})}qn(e){return pA(e).get("targetGlobalKey").next(n=>(ue(n!==null),n))}Qn(e,n){return pA(e).put("targetGlobalKey",n)}Kn(e,n){return xs(e).put(TM(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=qa(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return xs(e).J({range:i,index:"queryTargetsIndex"},(a,s,l)=>{const u=pc(s);hd(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=lo(e);return n.forEach(a=>{const s=gn(a.path);i.push(o.put({targetId:r,path:s})),i.push(this.referenceDelegate.addReference(e,r,a))}),L.waitFor(i)}removeMatchingKeys(e,n,r){const i=lo(e);return L.forEach(n,o=>{const a=gn(o.path);return L.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=lo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=lo(e);let o=be();return i.J({range:r,H:!0},(a,s,l)=>{const u=Br(a[1]),c=new ne(u);o=o.add(c)}).next(()=>o)}containsKey(e,n){const r=gn(n.path),i=IDBKeyRange.bound([r],[Pj(r)],!1,!0);let o=0;return lo(e).J({index:"documentTargetsIndex",H:!0,range:i},([a,s],l,u)=>{a!==0&&(o++,u.done())}).next(()=>o>0)}ot(e,n){return xs(e).get(n).next(r=>r?pc(r):null)}}function xs(t){return Ct(t,"targets")}function pA(t){return Ct(t,"targetGlobal")}function lo(t){return Ct(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA([t,e],[n,r]){const i=ye(t,n);return i===0?ye(e,r):i}class f7{constructor(e){this.Un=e,this.buffer=new Be(mA),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class d7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){X("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await as(n)}await this.Hn(3e5)})}}class h7{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(er.oe);const r=new f7(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(hA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hA):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,o,a,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,s=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Ps()<=Ee.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function p7(t,e){return new h7(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,n){this.db=e,this.garbageCollector=p7(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return vh(e,r)}removeReference(e,n,r){return vh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return vh(e,n)}nr(e,n){return function(i,o){let a=!1;return CM(i).Y(s=>OM(i,s,o).next(l=>(l&&(a=!0),L.resolve(!l)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.tr(e,(a,s)=>{if(s<=n){const l=this.nr(e,a).next(u=>{if(!u)return o++,r.getEntry(e,a).next(()=>(r.removeEntry(a,ce.min()),lo(e).delete(function(f){return[0,gn(f.path)]}(a))))});i.push(l)}}).next(()=>L.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return vh(e,n)}tr(e,n){const r=lo(e);let i,o=er.oe;return r.J({index:"documentTargetsIndex"},([a,s],{path:l,sequenceNumber:u})=>{a===0?(o!==er.oe&&n(new ne(Br(i)),o),o=u,i=l):o=er.oe}).next(()=>{o!==er.oe&&n(new ne(Br(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vh(t,e){return lo(t).put(function(r,i){return{targetId:0,path:gn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.changes=new Wo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ra(e).put(r)}removeEntry(e,n,r){return ra(e).delete(function(o,a){const s=o.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],Qp(a),s[s.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=mt.newInvalidDocument(n);return ra(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(zu(n))},(i,o)=>{r=this.ir(n,o)}).next(()=>r)}sr(e,n){let r={size:0,document:mt.newInvalidDocument(n)};return ra(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(zu(n))},(i,o)=>{r={document:this.ir(n,o),size:Jp(o)}}).next(()=>r)}getEntries(e,n){let r=$n();return this._r(e,n,(i,o)=>{const a=this.ir(i,o);r=r.insert(i,a)}).next(()=>r)}ar(e,n){let r=$n(),i=new rt(ne.comparator);return this._r(e,n,(o,a)=>{const s=this.ir(o,a);r=r.insert(o,s),i=i.insert(o,Jp(a))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return L.resolve();let i=new Be(vA);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(zu(i.first()),zu(i.last())),a=i.getIterator();let s=a.getNext();return ra(e).J({index:"documentKeyIndex",range:o},(l,u,c)=>{const f=ne.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;s&&vA(s,f)<0;)r(s,null),s=a.getNext();s&&s.isEqual(f)&&(r(s,u),s=a.hasNext()?a.getNext():null),s?c.$(zu(s)):c.done()}).next(()=>{for(;s;)r(s,null),s=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const a=n.path,s=[a.popLast().toArray(),a.lastSegment(),Qp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ra(e).U(IDBKeyRange.bound(s,l,!0)).next(u=>{o==null||o.incrementDocumentReadCount(u.length);let c=$n();for(const f of u){const h=this.ir(ne.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h.isFoundDocument()&&(md(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let o=$n();const a=yA(n,r),s=yA(n,Un.max());return ra(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,s,!0)},(l,u,c)=>{const f=this.ir(ne.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(f.key,f),o.size===i&&c.done()}).next(()=>o)}newChangeBuffer(e){return new y7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return gA(e).get("remoteDocumentGlobalKey").next(n=>(ue(!!n),n))}rr(e,n){return gA(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=e7(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ce.min())))return r}return mt.newInvalidDocument(e)}}function NM(t){return new g7(t)}class y7 extends kM{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new Wo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Be((o,a)=>ye(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{const s=this.lr.get(o);if(n.push(this.cr.removeEntry(e,o,s.readTime)),a.isValidDocument()){const l=nA(this.cr.serializer,a);i=i.add(o.path.popLast());const u=Jp(l);r+=u-s.size,n.push(this.cr.addEntry(e,o,l))}else if(r-=s.size,this.trackRemovals){const l=nA(this.cr.serializer,a.convertToNoDocument(ce.min()));n.push(this.cr.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.cr.updateMetadata(e,r)),L.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((o,a)=>{this.lr.set(o,{size:a,readTime:r.get(o).readTime})}),r))}}function gA(t){return Ct(t,"remoteDocumentGlobal")}function ra(t){return Ct(t,"remoteDocumentsV14")}function zu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yA(t,e){const n=e.documentKey.path.toArray();return[t,Qp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function vA(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=ye(n[o],r[o]),i)return i;return i=ye(n.length,r.length),i||(i=ye(n[n.length-2],r[r.length-2]),i||ye(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&kc(r.mutation,i,Dn.empty(),Ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=Ur();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=dc();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ur();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=$n();const a=Cc(),s=function(){return Cc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Bi)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),kc(c.mutation,u,c.mutation.getFieldMask(),Ke.now())):a.set(u.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var f;return s.set(u,new v7(c,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=Cc();let i=new rt((a,s)=>a-s),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Dn.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||be()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=eM();c.forEach(h=>{if(!o.has(h)){const p=aM(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return L.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Yj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):L.resolve(Ur());let s=-1,l=o;return a.next(u=>L.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(c)?L.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,be())).next(c=>({batchId:s,changes:Zj(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=dc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=dc();return this.indexManager.getCollectionParents(e,o).next(s=>L.forEach(s,l=>{const u=function(f,h){return new tu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{a=a.insert(f,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,mt.newInvalidDocument(c)))});let s=dc();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&kc(c.mutation,u,Dn.empty(),Ke.now()),md(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yn(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:SM(i.bundledQuery),readTime:yn(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(){this.overlays=new rt(ne.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ur();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=Ur(),o=n.length+1,a=new ne(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new rt((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Ur(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Ur(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return L.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new qx(n,r));let o=this.Ir.get(n);o===void 0&&(o=be(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.Tr=new Be(Nt.Er),this.dr=new Be(Nt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Nt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ne(new je([])),r=new Nt(n,e),i=new Nt(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ne(new je([])),r=new Nt(n,e),i=new Nt(n,e+1);let o=be();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Nt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||ye(e.wr,n.wr)}static Ar(e,n){return ye(e.wr,n.wr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Be(Nt.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new zx(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Nt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Be(ye);return n.forEach(i=>{const o=new Nt(i,0),a=new Nt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ne.isDocumentKey(o)||(o=o.child(""));const a=new Nt(new ne(o),0);let s=new Be(ye);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),L.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ue(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{const o=new Nt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Nt(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e){this.Mr=e,this.docs=function(){return new rt(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(n))}getEntries(e,n){let r=$n();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mt.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=$n();const a=n.path,s=new ne(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||Dx(Oj(c),r)<=0||(i.has(c.key)||md(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,r,i){le()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new T7(this)}getSize(e){return L.resolve(this.size)}}class T7 extends kM{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e){this.persistence=e,this.Nr=new Wo(n=>qa(n),hd),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Qx,this.targetCount=0,this.kr=Ka.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ka(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n){this.qr={},this.overlays={},this.Qr=new er(0),this.Kr=!1,this.Kr=!0,this.$r=new w7,this.referenceDelegate=e(this),this.Ur=new S7(this),this.indexManager=new l7,this.remoteDocumentCache=function(i){return new E7(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new EM(n),this.Gr=new b7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new x7(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new I7(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class I7 extends kj{constructor(e){super(),this.currentSequenceNumber=e}}class Vg{constructor(e){this.persistence=e,this.Jr=new Qx,this.Yr=null}static Zr(e){return new Vg(e)}get Xr(){if(this.Yr)return this.Yr;throw le()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{const i=ne.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e){this.serializer=e}O(e,n,r,i){const o=new Og("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",NI,{unique:!0}),l.createObjectStore("documentMutations")}(e),bA(e),function(l){l.createObjectStore("remoteDocuments")}(e));let a=L.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),bA(e)),a=a.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ce.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(o))),r<4&&i>=4&&(r!==0&&(a=a.next(()=>function(l,u){return u.store("mutations").U().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",NI,{unique:!0});const f=u.store("mutations"),h=c.map(p=>f.put(p));return L.waitFor(h)})}(e,o))),a=a.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(a=a.next(()=>this.ni(o))),r<6&&i>=6&&(a=a.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),r<7&&i>=7&&(a=a.next(()=>this.ii(o))),r<8&&i>=8&&(a=a.next(()=>this.si(e,o))),r<9&&i>=9&&(a=a.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(a=a.next(()=>this.oi(o))),r<11&&i>=11&&(a=a.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(a=a.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:t8});u.createIndex("collectionPathOverlayIndex",n8,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",r8,{unique:!1})})(e)})),r<13&&i>=13&&(a=a.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:W9});u.createIndex("documentKeyIndex",q9),u.createIndex("collectionGroupIndex",G9)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(a=a.next(()=>this.ai(e,o))),r<15&&i>=15&&(a=a.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:X9}).createIndex("sequenceNumberIndex",J9,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Z9}).createIndex("documentKeyIndex",e8,{unique:!1})}(e))),r<16&&i>=16&&(a=a.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(a=a.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Jp(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>L.forEach(i,o=>{const a=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",a).next(s=>L.forEach(s,l=>{ue(l.userId===o.userId);const u=pa(this.serializer,l);return PM(e,o.userId,u).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((a,s)=>{const l=new je(a),u=function(f){return[0,gn(f)]}(l);o.push(n.get(u).next(c=>c?L.resolve():(f=>n.put({targetId:0,path:gn(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>L.waitFor(o))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:Q9});const r=n.store("collectionParents"),i=new Yx,o=a=>{if(i.add(a)){const s=a.lastSegment(),l=a.popLast();return r.put({collectionId:s,parent:gn(l)})}};return n.store("remoteDocuments").J({H:!0},(a,s)=>{const l=new je(a);return o(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([a,s,l],u)=>{const c=Br(s);return o(c.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const o=pc(i),a=TM(this.serializer,o);return n.put(a)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,a)=>{const s=n.store("remoteDocumentsV14"),l=function(f){return f.document?new ne(je.fromString(f.document.name).popFirst(5)):f.noDocument?ne.fromSegments(f.noDocument.path):f.unknownDocument?ne.fromSegments(f.unknownDocument.path):le()}(a).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(s.put(u))}).next(()=>L.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=NM(this.serializer),o=new jM(Vg.Zr,this.serializer.ct);return r.U().next(a=>{const s=new Map;return a.forEach(l=>{var u;let c=(u=s.get(l.userId))!==null&&u!==void 0?u:be();pa(this.serializer,l).keys().forEach(f=>c=c.add(f)),s.set(l.userId,c)}),L.forEach(s,(l,u)=>{const c=new Bt(u),f=$g.lt(this.serializer,c),h=o.getIndexManager(c),p=Lg.lt(c,this.serializer,h,o.referenceDelegate);return new RM(i,p,f,h).recalculateAndSaveOverlaysForDocumentKeys(new Cb(n,er.oe),l).next()})})}}function bA(t){t.createObjectStore("targetDocuments",{keyPath:K9}).createIndex("documentTargetsIndex",Y9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",H9,{unique:!0}),t.createObjectStore("targetGlobal")}const Bv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Xx{constructor(e,n,r,i,o,a,s,l,u,c,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=o,this.window=a,this.document=s,this.ci=u,this.li=c,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=h=>Promise.resolve(),!Xx.D())throw new ee(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new m7(this,i),this.Ai=n+"main",this.serializer=new EM(l),this.Ri=new Po(this.Ai,this.hi,new A7(this.serializer)),this.$r=new n7,this.Ur=new c7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=NM(this.serializer),this.Gr=new t7,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,c===!1&&dn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ee(q.FAILED_PRECONDITION,Bv);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new er(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>bh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(zo(e))return X("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return X("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Wu(e).get("owner").next(n=>L.resolve(this.vi(n)))}Ci(e){return bh(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ct(n,"clientMetadata");return r.U().next(i=>{const o=this.xi(i,18e5),a=i.filter(s=>o.indexOf(s)===-1);return L.forEach(a,s=>r.delete(s.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?L.resolve(!0):Wu(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new ee(q.FAILED_PRECONDITION,Bv);return!1}}return!(!this.networkEnabled||!this.inForeground)||bh(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,s=this.networkEnabled===i.networkEnabled;if(o||a&&s)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&X("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Cb(e,er.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>bh(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return Lg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new u7(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return $g.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=function(l){return l===17?a8:l===16?o8:l===15?Lx:l===14?Dj:l===13?Mj:l===12?i8:l===11?jj:void le()}(this.hi);let a;return this.Ri.runTransaction(e,i,o,s=>(a=new Cb(s,this.Qr?this.Qr.next():er.oe),n==="readwrite-primary"?this.wi(a).next(l=>!!l||this.Si(a)).next(l=>{if(!l)throw dn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new ee(q.FAILED_PRECONDITION,Cj);return r(a)}).next(l=>this.Di(a).next(()=>l)):this.Ki(a).next(()=>r(a)))).then(s=>(a.raiseOnCommittedEvent(),s))}Ki(e){return Wu(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ee(q.FAILED_PRECONDITION,Bv)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wu(e).put("owner",n)}static D(){return Po.D()}bi(e){const n=Wu(e);return n.get("owner").next(r=>this.vi(r)?(X("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):L.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(dn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;NR()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return X("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return dn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){dn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wu(t){return Ct(t,"owner")}function bh(t){return Ct(t,"clientMetadata")}function P7(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=be(),i=be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Jx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return NR()?8:Nj(Ot())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new O7;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ps()<=Ee.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Os(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(Ps()<=Ee.DEBUG&&X("QueryEngine","Query:",Os(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ps()<=Ee.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Os(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(n))):L.resolve())}Yi(e,n){if(qI(n))return L.resolve(null);let r=ir(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Hp(n,null,"F"),r=ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=be(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,Hp(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return qI(n)||i.isEqual(ce.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?L.resolve(null):(Ps()<=Ee.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Os(n)),this.rs(e,a,n,D9(i,-1)).next(s=>s))})}ts(e,n){let r=new Be(Xj(e));return n.forEach((i,o)=>{md(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ps()<=Ee.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Os(n)),this.Ji.getDocumentsMatchingQuery(e,n,Un.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new rt(ye),this._s=new Wo(o=>qa(o),hd),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RM(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function DM(t,e,n,r){return new C7(t,e,n,r)}async function $M(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=be();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function k7(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,h=f.keys();let p=L.resolve();return h.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(y=>{const b=u.docVersions.get(g);ue(b!==null),y.version.compareTo(b)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=be();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function LM(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function N7(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;s.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Tt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(y,b,x){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,p,c)&&s.push(n.Ur.updateTargetData(o,p))});let l=$n(),u=be();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(R7(o,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(ce.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return L.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function R7(t,e,n){let r=be(),i=be();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=$n();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):X("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function j7(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function M7(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new gi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Wb(t,e,n){const r=pe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!zo(a))throw a;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function _A(t,e,n){const r=pe(t);let i=ce.min(),o=be();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const f=pe(l),h=f._s.get(c);return h!==void 0?L.resolve(f.os.get(h)):f.Ur.getTargetData(u,c)}(r,a,ir(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:ce.min(),n?o:be())).next(s=>(D7(r,w8(e),s),{documents:s,Ts:o})))}function D7(t,e,n){let r=t.us.get(e)||ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class wA{constructor(){this.activeTargetIds=A8()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VM{constructor(){this.so=new wA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new wA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h=null;function Uv(){return _h===null?_h=function(){return 268435456+Math.round(2147483648*Math.random())}():_h++,"0x"+_h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class F7 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=Uv(),l=this.xo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(c=>(X("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw gl("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=L7[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Uv();return new Promise((a,s)=>{const l=new wj;l.setWithCredentials(!0),l.listenOnce(xj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Zh.NO_ERROR:const c=l.getResponseJson();X(Zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),a(c);break;case Zh.TIMEOUT:X(Zt,`RPC '${e}' ${o} timed out`),s(new ee(q.DEADLINE_EXCEEDED,"Request time out"));break;case Zh.HTTP_ERROR:const f=l.getStatus();if(X(Zt,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(x)>=0?x:q.UNKNOWN}(p.status);s(new ee(g,p.message))}else s(new ee(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new ee(q.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{X(Zt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);X(Zt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Uv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Sj(),s=Tj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");X(Zt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=a.createWebChannel(c,l);let h=!1,p=!1;const g=new V7({Io:b=>{p?X(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(X(Zt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),X(Zt,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},To:()=>f.close()}),y=(b,x,w)=>{b.listen(x,_=>{try{w(_)}catch(P){setTimeout(()=>{throw P},0)}})};return y(f,fc.EventType.OPEN,()=>{p||(X(Zt,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),y(f,fc.EventType.CLOSE,()=>{p||(p=!0,X(Zt,`RPC '${e}' stream ${i} transport closed`),g.So())}),y(f,fc.EventType.ERROR,b=>{p||(p=!0,gl(Zt,`RPC '${e}' stream ${i} transport errored:`,b),g.So(new ee(q.UNAVAILABLE,"The operation could not be completed")))}),y(f,fc.EventType.MESSAGE,b=>{var x;if(!p){const w=b.data[0];ue(!!w);const _=w,P=_.error||((x=_[0])===null||x===void 0?void 0:x.error);if(P){X(Zt,`RPC '${e}' stream ${i} received error:`,P);const T=P.status;let I=function(O){const k=bt[O];if(k!==void 0)return uM(k)}(T),E=P.message;I===void 0&&(I=q.INTERNAL,E="Unknown error status: "+T+" with message "+P.message),p=!0,g.So(new ee(I,E)),f.close()}else X(Zt,`RPC '${e}' stream ${i} received:`,w),g.bo(w)}}),y(s,Ej.STAT_EVENT,b=>{b.stat===Pb.PROXY?X(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Pb.NOPROXY&&X(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B7(){return typeof window<"u"?window:null}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t){return new W8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new FM(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(dn(n.toString()),dn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ee(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class U7 extends BM{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=H8(this.serializer,e),r=function(o){if(!("targetChange"in o))return ce.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?ce.min():a.readTime?yn(a.readTime):ce.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Vb(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=qp(l)?{documents:yM(o,l)}:{query:vM(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=dM(o,a.resumeToken);const u=$b(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(ce.min())>0){s.readTime=El(o,a.snapshotVersion.toTimestamp());const u=$b(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=Y8(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Vb(this.serializer),n.removeTarget=e,this.a_(n)}}class z7 extends BM{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ue(!!e.streamToken),this.lastStreamToken=e.streamToken,ue(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=K8(e.writeResults,e.commitTime),r=yn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Vb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Yp(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ee(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Lb(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(q.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,Lb(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ee(q.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class q7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(dn(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{ls(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=pe(l);u.L_.add(4),await yd(u),u.q_.set("Unknown"),u.L_.delete(4),await Bg(u)}(this))})}),this.q_=new q7(r,i)}}async function Bg(t){if(ls(t))for(const e of t.B_)await e(!0)}async function yd(t){for(const e of t.B_)await e(!1)}function UM(t,e){const n=pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),n1(n)?t1(n):ru(n).r_()&&e1(n,e))}function Zx(t,e){const n=pe(t),r=ru(n);n.N_.delete(e),r.r_()&&zM(n,e),n.N_.size===0&&(r.r_()?r.o_():ls(n)&&n.q_.set("Unknown"))}function e1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ru(t).A_(e)}function zM(t,e){t.Q_.xe(e),ru(t).R_(e)}function t1(t){t.Q_=new F8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ru(t).start(),t.q_.v_()}function n1(t){return ls(t)&&!ru(t).n_()&&t.N_.size>0}function ls(t){return pe(t).L_.size===0}function WM(t){t.Q_=void 0}async function H7(t){t.q_.set("Online")}async function K7(t){t.N_.forEach((e,n)=>{e1(t,e)})}async function Y7(t,e){WM(t),n1(t)?(t.q_.M_(e),t1(t)):t.q_.set("Unknown")}async function Q7(t,e,n){if(t.q_.set("Online"),e instanceof fM&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zp(t,r)}else if(e instanceof op?t.Q_.Ke(e):e instanceof cM?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ce.min()))try{const r=await LM(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Tt.EMPTY_BYTE_STRING,c.snapshotVersion)),zM(o,l);const f=new gi(c.target,l,u,c.sequenceNumber);e1(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await Zp(t,r)}}async function Zp(t,e,n){if(!zo(e))throw e;t.L_.add(1),await yd(t),t.q_.set("Offline"),n||(n=()=>LM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Bg(t)})}function qM(t,e){return e().catch(n=>Zp(t,n,e))}async function vd(t){const e=pe(t),n=Do(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;X7(e);)try{const i=await j7(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,J7(e,i)}catch(i){await Zp(e,i)}GM(e)&&HM(e)}function X7(t){return ls(t)&&t.O_.length<10}function J7(t,e){t.O_.push(e);const n=Do(t);n.r_()&&n.V_&&n.m_(e.mutations)}function GM(t){return ls(t)&&!Do(t).n_()&&t.O_.length>0}function HM(t){Do(t).start()}async function Z7(t){Do(t).p_()}async function eW(t){const e=Do(t);for(const n of t.O_)e.m_(n.mutations)}async function tW(t,e,n){const r=t.O_.shift(),i=Wx.from(r,e,n);await qM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await vd(t)}async function nW(t,e){e&&Do(t).V_&&await async function(r,i){if(function(a){return $8(a)&&a!==q.ABORTED}(i.code)){const o=r.O_.shift();Do(r).s_(),await qM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await vd(r)}}(t,e),GM(t)&&HM(t)}async function EA(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=ls(n);n.L_.add(3),await yd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Bg(n)}async function rW(t,e){const n=pe(t);e?(n.L_.delete(2),await Bg(n)):e||(n.L_.add(2),await yd(n),n.q_.set("Unknown"))}function ru(t){return t.K_||(t.K_=function(n,r,i){const o=pe(n);return o.w_(),new U7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:H7.bind(null,t),Ro:K7.bind(null,t),mo:Y7.bind(null,t),d_:Q7.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),n1(t)?t1(t):t.q_.set("Unknown")):(await t.K_.stop(),WM(t))})),t.K_}function Do(t){return t.U_||(t.U_=function(n,r,i){const o=pe(n);return o.w_(),new z7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Z7.bind(null,t),mo:nW.bind(null,t),f_:eW.bind(null,t),g_:tW.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await vd(t)):(await t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new r1(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function i1(t,e){if(dn("AsyncQueue",`${e}: ${t}`),zo(t))return new ee(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=dc(),this.sortedSet=new rt(this.comparator)}static emptySet(e){return new rl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new rl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this.W_=new rt(ne.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):le():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Tl{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Tl(e,n,rl.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class oW{constructor(){this.queries=SA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=pe(n),o=i.queries;i.queries=SA(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new ee(q.ABORTED,"Firestore shutting down"))}}function SA(){return new Wo(t=>Qj(t),Ng)}async function KM(t,e){const n=pe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new iW,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=i1(a,`Initialization of query '${Os(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&o1(n)}async function YM(t,e){const n=pe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function aW(t,e){const n=pe(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&o1(n)}function sW(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function o1(t){t.Y_.forEach(e=>{e.next()})}var qb,IA;(IA=qb||(qb={})).ea="default",IA.Cache="cache";class QM{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==qb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.key=e}}class JM{constructor(e){this.key=e}}class lW{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=be(),this.mutatedKeys=be(),this.Aa=Xj(e),this.Ra=new rl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new TA,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=md(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;h&&p?h.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),b=!0):this.ga(h,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),b=!0):h&&!p&&(r.track({type:1,doc:h}),b=!0,(l||u)&&(s=!0)),b&&(p?(a=a.add(p),o=y?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,f)=>function(p,g){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return y(p)-y(g)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Tl(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new TA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=be(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new JM(r))}),this.da.forEach(r=>{e.has(r)||n.push(new XM(r))}),n}ba(e){this.Ta=e.Ts,this.da=be();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Tl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class uW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cW{constructor(e){this.key=e,this.va=!1}}class fW{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Wo(s=>Qj(s),Ng),this.Ma=new Map,this.xa=new Set,this.Oa=new rt(ne.comparator),this.Na=new Map,this.La=new Qx,this.Ba={},this.ka=new Map,this.qa=Ka.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function dW(t,e,n=!0){const r=iD(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await ZM(r,e,n,!0),i}async function hW(t,e){const n=iD(t);await ZM(n,e,!0,!1)}async function ZM(t,e,n,r){const i=await M7(t.localStore,ir(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await pW(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&UM(t.remoteStore,i),s}async function pW(t,e,n,r,i){t.Ka=(f,h,p)=>async function(y,b,x,w){let _=b.view.ma(x);_.ns&&(_=await _A(y.localStore,b.query,!1).then(({documents:E})=>b.view.ma(E,_)));const P=w&&w.targetChanges.get(b.targetId),T=w&&w.targetMismatches.get(b.targetId)!=null,I=b.view.applyChanges(_,y.isPrimaryClient,P,T);return PA(y,b.targetId,I.wa),I.snapshot}(t,f,h,p);const o=await _A(t.localStore,e,!0),a=new lW(e,o.Ts),s=a.ma(o.documents),l=gd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);PA(t,n,u.wa);const c=new uW(e,n,a);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function mW(t,e,n){const r=pe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!Ng(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Wb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zx(r.remoteStore,i.targetId),Gb(r,i.targetId)}).catch(as)):(Gb(r,i.targetId),await Wb(r.localStore,i.targetId,!0))}async function gW(t,e){const n=pe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zx(n.remoteStore,r.targetId))}async function yW(t,e,n){const r=oD(t);try{const i=await function(a,s){const l=pe(a),u=Ke.now(),c=s.reduce((p,g)=>p.add(g.key),be());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=$n(),y=be();return l.cs.getEntries(p,c).next(b=>{g=b,g.forEach((x,w)=>{w.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(b=>{f=b;const x=[];for(const w of s){const _=M8(w,f.get(w.key).overlayedDocument);_!=null&&x.push(new Bi(w.key,_,Bj(_.value.mapValue),on.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,x,s)}).next(b=>{h=b;const x=b.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(p,b.batchId,x)})}).then(()=>({batchId:h.batchId,changes:Zj(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new rt(ye)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await bd(r,i.changes),await vd(r.remoteStore)}catch(i){const o=i1(i,"Failed to persist write");n.reject(o)}}async function eD(t,e){const n=pe(t);try{const r=await N7(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?ue(a.va):i.removedDocuments.size>0&&(ue(a.va),a.va=!1))}),await bd(n,r,e)}catch(r){await as(r)}}function AA(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=pe(a);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(s)&&(u=!0)}),u&&o1(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vW(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new rt(ne.comparator);a=a.insert(o,mt.newNoDocument(o,ce.min()));const s=be().add(o),l=new Dg(ce.min(),new Map,new rt(ye),a,s);await eD(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),a1(r)}else await Wb(r.localStore,e,!1).then(()=>Gb(r,e,n)).catch(as)}async function bW(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await k7(n.localStore,e);nD(n,r,null),tD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bd(n,i)}catch(i){await as(i)}}async function _W(t,e,n){const r=pe(t);try{const i=await function(a,s){const l=pe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(ue(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);nD(r,e,n),tD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bd(r,i)}catch(i){await as(i)}}function tD(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function nD(t,e,n){const r=pe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Gb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||rD(t,r)})}function rD(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Zx(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),a1(t))}function PA(t,e,n){for(const r of n)r instanceof XM?(t.La.addReference(r.key,e),wW(t,r)):r instanceof JM?(X("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||rD(t,r.key)):le()}function wW(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(X("SyncEngine","New document in limbo: "+n),t.xa.add(r),a1(t))}function a1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ne(je.fromString(e)),r=t.qa.next();t.Na.set(r,new cW(n)),t.Oa=t.Oa.insert(n,r),UM(t.remoteStore,new gi(ir(pd(n.path)),r,"TargetPurposeLimboResolution",er.oe))}}async function bd(t,e,n){const r=pe(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Jx.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const c=pe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>L.forEach(u,h=>L.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>L.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!zo(f))throw f;X("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=c.os.get(h),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(h,y)}}}(r.localStore,o))}async function xW(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await $M(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new ee(q.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bd(n,r.hs)}}function EW(t,e){const n=pe(t),r=n.Na.get(e);if(r&&r.va)return be().add(r.key);{let i=be();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function iD(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vW.bind(null,e),e.Ca.d_=aW.bind(null,e.eventManager),e.Ca.$a=sW.bind(null,e.eventManager),e}function oD(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_W.bind(null,e),e}class yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return DM(this.persistence,new MM,e.initialUser,this.serializer)}Ga(e){return new jM(Vg.Zr,this.serializer)}Wa(e){return new VM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yf.provider={build:()=>new yf};class TW extends yf{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await oD(this.Ja.syncEngine),await vd(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return DM(this.persistence,new MM,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new d7(r,e.asyncQueue,n)}Ha(e,n){const r=new F9(n,this.persistence);return new V9(e.asyncQueue,r)}Ga(e){const n=P7(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new Xx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,B7(),ap(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new VM}}class em{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xW.bind(null,this.syncEngine),await rW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oW}()}createDatastore(e){const n=Fg(e.databaseInfo.databaseId),r=function(o){return new F7(o)}(e.databaseInfo);return function(o,a,s,l){return new W7(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new G7(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>AA(this.syncEngine,n,0),function(){return xA.D()?new xA:new $7}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const f=new fW(i,o,a,s,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=pe(i);X("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await yd(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}em.provider={build:()=>new em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):dn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=Aj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{X("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(X("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=i1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zv(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await $M(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function OA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await IW(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>EA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>EA(e.remoteStore,i)),t._onlineComponents=e}async function IW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await zv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;gl("Error using user provided cache. Falling back to memory cache: "+n),await zv(t,new yf)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await zv(t,new yf);return t._offlineComponents}async function sD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await OA(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await OA(t,new em))),t._onlineComponents}function AW(t){return sD(t).then(e=>e.syncEngine)}async function Hb(t){const e=await sD(t),n=e.eventManager;return n.onListen=dW.bind(null,e.syncEngine),n.onUnlisten=mW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gW.bind(null,e.syncEngine),n}function PW(t,e,n={}){const r=new xi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new aD({next:h=>{c.Za(),a.enqueueAndForget(()=>YM(o,f));const p=h.docs.has(s);!p&&h.fromCache?u.reject(new ee(q.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new ee(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new QM(pd(s.path),c,{includeMetadataChanges:!0,_a:!0});return KM(o,f)}(await Hb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t,e,n){if(!n)throw new ee(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OW(t,e,n,r){if(e===!0&&r===!0)throw new ee(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kA(t){if(!ne.isDocumentKey(t))throw new ee(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NA(t){if(ne.isDocumentKey(t))throw new ee(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ug(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ug(t);throw new ee(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ee(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ee(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ee(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new A9;switch(r.type){case"firstParty":return new k9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=CA.get(n);r&&(X("ComponentProvider","Removing Datastore"),CA.delete(n),r.terminate())}(this),Promise.resolve()}}function CW(t,e,n,r={}){var i;const o=(t=or(t,zg))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=Bt.MOCK_USER;else{s=V6(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ee(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Bt(u)}t._authCredentials=new P9(new Ij(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qo(this.firestore,e,this._query)}}class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class Oo extends qo{constructor(e,n,r){super(e,n,pd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new ne(e))}withConverter(e){return new Oo(this.firestore,e,this._path)}}function Kb(t,e,...n){if(t=ct(t),uD("collection","path",e),t instanceof zg){const r=je.fromString(e,...n);return NA(r),new Oo(t,null,r)}{if(!(t instanceof an||t instanceof Oo))throw new ee(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return NA(r),new Oo(t.firestore,null,r)}}function uo(t,e,...n){if(t=ct(t),arguments.length===1&&(e=Aj.newId()),uD("doc","path",e),t instanceof zg){const r=je.fromString(e,...n);return kA(r),new an(t,null,new ne(r))}{if(!(t instanceof an||t instanceof Oo))throw new ee(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return kA(r),new an(t.firestore,t instanceof Oo?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new FM(this,"async_queue_retry"),this.Vu=()=>{const r=ap();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new xi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!zo(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw dn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=r1.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&le()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function MA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class $o extends zg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new jA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jA(e),this._firestoreClient=void 0,await e}}}function kW(t,e,n){n||(n="(default)");const r=Uo(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(pl(o,e))return i;throw new ee(q.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ee(q.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function NW(t,e){const n=Ex(),r="(default)",i=Uo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=$6("firestore");o&&CW(i,...o)}return i}function s1(t){if(t._terminated)throw new ee(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RW(t),t._firestoreClient}function RW(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,c){return new l8(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,lD(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new SW(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sl(Tt.fromBase64String(e))}catch(n){throw new ee(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sl(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW=/^__.*__$/;class MW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}class DW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class f1{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new f1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return tm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(cD(this.Cu)&&jW.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class $W{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fg(e)}Qu(e,n,r,i=!1){return new f1({Cu:e,methodName:n,qu:r,path:st.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qg(t){const e=t._freezeSettings(),n=Fg(t._databaseId);return new $W(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fD(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);h1("Data must be an object, but it was:",a,r);const s=dD(r,a);let l,u;if(o.merge)l=new Dn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=pD(e,f,n);if(!a.contains(h))throw new ee(q.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);UW(c,h)||c.push(h)}l=new Dn(c),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new MW(new hn(s),l,u)}class d1 extends l1{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof d1}}function LW(t,e,n,r){const i=t.Qu(1,e,n);h1("Data must be an object, but it was:",i,r);const o=[],a=hn.empty();ss(r,(l,u)=>{const c=p1(e,l,n);u=ct(u);const f=i.Nu(c);if(u instanceof d1)o.push(c);else{const h=Gg(u,f);h!=null&&(o.push(c),a.set(c,h))}});const s=new Dn(o);return new DW(a,s,i.fieldTransforms)}function VW(t,e,n,r,i,o){if(t.Qu(1,e,n),pD(e,r,n),o.length%2!=0)throw new ee(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`)}function FW(t,e,n,r=!1){return Gg(n,t.Qu(r?4:3,e))}function Gg(t,e){if(hD(t=ct(t)))return h1("Unsupported field value:",e,t),dD(t,e);if(t instanceof l1)return function(r,i){if(!cD(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=Gg(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ke.fromDate(r);return{timestampValue:El(i.serializer,o)}}if(r instanceof Ke){const o=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:El(i.serializer,o)}}if(r instanceof u1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sl)return{bytesValue:dM(i.serializer,r._byteString)};if(r instanceof an){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Hx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof c1)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return Ux(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Ug(r)}`)}(t,e)}function dD(t,e){const n={};return $j(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(t,(r,i)=>{const o=Gg(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function hD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof u1||t instanceof Sl||t instanceof an||t instanceof l1||t instanceof c1)}function h1(t,e,n){if(!hD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ug(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function pD(t,e,n){if((e=ct(e))instanceof Wg)return e._internalPath;if(typeof e=="string")return p1(t,e);throw tm("Field path arguments must be of type string or ",t,!1,void 0,n)}const BW=new RegExp("[~\\*/\\[\\]]");function p1(t,e,n){if(e.search(BW)>=0)throw tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wg(...e.split("."))._internalPath}catch{throw tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tm(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ee(q.INVALID_ARGUMENT,s+t+l)}function UW(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zW extends mD{data(){return super.data()}}function Hg(t,e){return typeof e=="string"?p1(t,e):e instanceof Wg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class m1{}class g1 extends m1{}function qW(t,e,...n){let r=[];e instanceof m1&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof y1).length,s=o.filter(l=>l instanceof Kg).length;if(a>1||a>0&&s>0)throw new ee(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Kg extends g1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kg(e,n,r)}_apply(e){const n=this._parse(e);return gD(e._query,n),new qo(e.firestore,e.converter,Db(e._query,n))}_parse(e){const n=qg(e.firestore);return function(o,a,s,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ee(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){$A(f,c);const p=[];for(const g of f)p.push(DA(l,o,g));h={arrayValue:{values:p}}}else h=DA(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||$A(f,c),h=FW(s,a,f,c==="in"||c==="not-in");return Te.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wv(t,e,n){const r=e,i=Hg("where",t);return Kg._create(i,r,n)}class y1 extends m1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new y1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$e.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)gD(a,l),a=Db(a,l)}(e._query,n),new qo(e.firestore,e.converter,Db(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class v1 extends g1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new v1(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new ee(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ee(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pf(o,a)}(e._query,this._field,this._direction);return new qo(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new tu(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function GW(t,e="asc"){const n=e,r=Hg("orderBy",t);return v1._create(r,n)}class b1 extends g1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new b1(e,n,r)}_apply(e){return new qo(e.firestore,e.converter,Hp(e._query,this._limit,this._limitType))}}function HW(t){return b1._create("limit",t,"F")}function DA(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new ee(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yj(e)&&n.indexOf("/")!==-1)throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(je.fromString(n));if(!ne.isDocumentKey(r))throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return df(t,new ne(r))}if(n instanceof an)return df(t,n._key);throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ug(n)}.`)}function $A(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gD(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KW{convertValue(e,n="none"){switch(Wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ss(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>et(a.doubleValue));return new c1(o)}convertGeoPoint(e){return new u1(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Fx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cf(e));default:return null}}convertTimestamp(e){const n=Ni(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);ue(xM(r));const i=new za(r.get(1),r.get(3)),o=new ne(r.popFirst(5));return i.isEqual(n)||dn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vD extends mD{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class sp extends vD{data(e={}){return super.data(e)}}class YW{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new mc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sp(this._firestore,this._userDataWriter,r.key,r,new mc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new sp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new mc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new sp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new mc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:QW(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function QW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){t=or(t,an);const e=or(t.firestore,$o);return PW(s1(e),t._key).then(n=>wD(e,t,n))}class bD extends KW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function LA(t,e,n){t=or(t,an);const r=or(t.firestore,$o),i=yD(t.converter,e);return Yg(r,[fD(qg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,on.none())])}function XW(t,e,n,...r){t=or(t,an);const i=or(t.firestore,$o),o=qg(i);let a;return a=typeof(e=ct(e))=="string"||e instanceof Wg?VW(o,"updateDoc",t._key,e,n,r):LW(o,"updateDoc",t._key,e),Yg(i,[a.toMutation(t._key,on.exists(!0))])}function JW(t){return Yg(or(t.firestore,$o),[new Mg(t._key,on.none())])}function _D(t,e){const n=or(t.firestore,$o),r=uo(t),i=yD(t.converter,e);return Yg(n,[fD(qg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,on.exists(!1))]).then(()=>r)}function ZW(t,...e){var n,r,i;t=ct(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||MA(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(MA(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof an)u=or(t.firestore,$o),c=pd(t._key.path),l={next:f=>{e[a]&&e[a](wD(u,t,f))},error:e[a+1],complete:e[a+2]};else{const f=or(t,qo);u=or(f.firestore,$o),c=f._query;const h=new bD(u);l={next:p=>{e[a]&&e[a](new YW(u,h,f,p))},error:e[a+1],complete:e[a+2]},WW(t._query)}return function(h,p,g,y){const b=new aD(y),x=new QM(p,b,g);return h.asyncQueue.enqueueAndForget(async()=>KM(await Hb(h),x)),()=>{b.Za(),h.asyncQueue.enqueueAndForget(async()=>YM(await Hb(h),x))}}(s1(u),c,s,l)}function Yg(t,e){return function(r,i){const o=new xi;return r.asyncQueue.enqueueAndForget(async()=>yW(await AW(r),i,o)),o.promise}(s1(t),e)}function wD(t,e,n){const r=n.docs.get(e._key),i=new bD(t);return new vD(t,i,e._key,r,new mc(n.hasPendingWrites,n.fromCache),e.converter)}class eq{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=xD(),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function tq(t){return new eq(t)}class nq{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=em.provider,this._offlineComponentProvider={build:n=>new TW(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}function xD(t){return new nq(void 0)}(function(e,n=!0){(function(i){eu=i})(Jl),Qr(new kr("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new $o(new O9(r.getProvider("auth-internal")),new R9(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ee(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new za(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),rr(OI,"4.7.3",e),rr(OI,"4.7.3","esm2017")})();var rq="firebase",iq="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(rq,iq,"app");const ED="@firebase/installations",_1="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=1e4,SD=`w:${_1}`,ID="FIS_v2",oq="https://firebaseinstallations.googleapis.com/v1",aq=60*60*1e3,sq="installations",lq="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ya=new os(sq,lq,uq);function AD(t){return t instanceof Nr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD({projectId:t}){return`${oq}/projects/${t}/installations`}function OD(t){return{token:t.token,requestStatus:2,expiresIn:fq(t.expiresIn),creationTime:Date.now()}}async function CD(t,e){const r=(await e.json()).error;return Ya.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function kD({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function cq(t,{refreshToken:e}){const n=kD(t);return n.append("Authorization",dq(e)),n}async function ND(t){const e=await t();return e.status>=500&&e.status<600?t():e}function fq(t){return Number(t.replace("s","000"))}function dq(t){return`${ID} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hq({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=PD(t),i=kD(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:n,authVersion:ID,appId:t.appId,sdkVersion:SD},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await ND(()=>fetch(r,s));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:OD(u.authToken)}}else throw await CD("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pq(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq=/^[cdef][\w-]{21}$/,Yb="";function gq(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=yq(t);return mq.test(n)?n:Yb}catch{return Yb}}function yq(t){return pq(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=new Map;function MD(t,e){const n=Qg(t);DD(n,e),vq(n,e)}function DD(t,e){const n=jD.get(t);if(n)for(const r of n)r(e)}function vq(t,e){const n=bq();n&&n.postMessage({key:t,fid:e}),_q()}let wa=null;function bq(){return!wa&&"BroadcastChannel"in self&&(wa=new BroadcastChannel("[Firebase] FID Change"),wa.onmessage=t=>{DD(t.data.key,t.data.fid)}),wa}function _q(){jD.size===0&&wa&&(wa.close(),wa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq="firebase-installations-database",xq=1,Qa="firebase-installations-store";let qv=null;function w1(){return qv||(qv=DR(wq,xq,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Qa)}}})),qv}async function nm(t,e){const n=Qg(t),i=(await w1()).transaction(Qa,"readwrite"),o=i.objectStore(Qa),a=await o.get(n);return await o.put(e,n),await i.done,(!a||a.fid!==e.fid)&&MD(t,e.fid),e}async function $D(t){const e=Qg(t),r=(await w1()).transaction(Qa,"readwrite");await r.objectStore(Qa).delete(e),await r.done}async function Xg(t,e){const n=Qg(t),i=(await w1()).transaction(Qa,"readwrite"),o=i.objectStore(Qa),a=await o.get(n),s=e(a);return s===void 0?await o.delete(n):await o.put(s,n),await i.done,s&&(!a||a.fid!==s.fid)&&MD(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(t){let e;const n=await Xg(t.appConfig,r=>{const i=Eq(r),o=Tq(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Yb?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Eq(t){const e=t||{fid:gq(),registrationStatus:0};return LD(e)}function Tq(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ya.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Sq(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Iq(t)}:{installationEntry:e}}async function Sq(t,e){try{const n=await hq(t,e);return nm(t.appConfig,n)}catch(n){throw AD(n)&&n.customData.serverCode===409?await $D(t.appConfig):await nm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Iq(t){let e=await VA(t.appConfig);for(;e.registrationStatus===1;)await RD(100),e=await VA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await x1(t);return r||n}return e}function VA(t){return Xg(t,e=>{if(!e)throw Ya.create("installation-not-found");return LD(e)})}function LD(t){return Aq(t)?{fid:t.fid,registrationStatus:0}:t}function Aq(t){return t.registrationStatus===1&&t.registrationTime+TD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pq({appConfig:t,heartbeatServiceProvider:e},n){const r=Oq(t,n),i=cq(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:SD,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await ND(()=>fetch(r,s));if(l.ok){const u=await l.json();return OD(u)}else throw await CD("Generate Auth Token",l)}function Oq(t,{fid:e}){return`${PD(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(t,e=!1){let n;const r=await Xg(t.appConfig,o=>{if(!VD(o))throw Ya.create("not-registered");const a=o.authToken;if(!e&&Nq(a))return o;if(a.requestStatus===1)return n=Cq(t,e),o;{if(!navigator.onLine)throw Ya.create("app-offline");const s=jq(o);return n=kq(t,s),s}});return n?await n:r.authToken}async function Cq(t,e){let n=await FA(t.appConfig);for(;n.authToken.requestStatus===1;)await RD(100),n=await FA(t.appConfig);const r=n.authToken;return r.requestStatus===0?E1(t,e):r}function FA(t){return Xg(t,e=>{if(!VD(e))throw Ya.create("not-registered");const n=e.authToken;return Mq(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function kq(t,e){try{const n=await Pq(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await nm(t.appConfig,r),n}catch(n){if(AD(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $D(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await nm(t.appConfig,r)}throw n}}function VD(t){return t!==void 0&&t.registrationStatus===2}function Nq(t){return t.requestStatus===2&&!Rq(t)}function Rq(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+aq}function jq(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Mq(t){return t.requestStatus===1&&t.requestTime+TD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dq(t){const e=t,{installationEntry:n,registrationPromise:r}=await x1(e);return r?r.catch(console.error):E1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $q(t,e=!1){const n=t;return await Lq(n),(await E1(n,e)).token}async function Lq(t){const{registrationPromise:e}=await x1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(t){if(!t||!t.options)throw Gv("App Configuration");if(!t.name)throw Gv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Gv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Gv(t){return Ya.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="installations",Fq="installations-internal",Bq=t=>{const e=t.getProvider("app").getImmediate(),n=Vq(e),r=Uo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Uq=t=>{const e=t.getProvider("app").getImmediate(),n=Uo(e,FD).getImmediate();return{getId:()=>Dq(n),getToken:i=>$q(n,i)}};function zq(){Qr(new kr(FD,Bq,"PUBLIC")),Qr(new kr(Fq,Uq,"PRIVATE"))}zq();rr(ED,_1);rr(ED,_1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="analytics",Wq="firebase_id",qq="origin",Gq=60*1e3,Hq="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",T1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new Sg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Fn=new os("analytics","Analytics",Kq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(t){if(!t.startsWith(T1)){const e=Fn.create("invalid-gtag-resource",{gtagURL:t});return An.warn(e.message),""}return t}function BD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Qq(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Xq(t,e){const n=Qq("firebase-js-sdk-policy",{createScriptURL:Yq}),r=document.createElement("script"),i=`${T1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Jq(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Zq(t,e,n,r,i,o){const a=r[i];try{if(a)await e[a];else{const l=(await BD(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(s){An.error(s)}t("config",i,o)}async function eG(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const s=await BD(n);for(const l of a){const u=s.find(f=>f.measurementId===l),c=u&&e[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){An.error(o)}}function tG(t,e,n,r){async function i(o,...a){try{if(o==="event"){const[s,l]=a;await eG(t,e,n,s,l)}else if(o==="config"){const[s,l]=a;await Zq(t,e,n,r,s,l)}else if(o==="consent"){const[s,l]=a;t("consent",s,l)}else if(o==="get"){const[s,l,u]=a;t("get",s,l,u)}else if(o==="set"){const[s]=a;t("set",s)}else t(o,...a)}catch(s){An.error(s)}}return i}function nG(t,e,n,r,i){let o=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=tG(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function rG(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(T1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG=30,oG=1e3;class aG{constructor(e={},n=oG){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const UD=new aG;function sG(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function lG(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:sG(r)},o=Hq.replace("{app-id}",n),a=await fetch(o,i);if(a.status!==200&&a.status!==304){let s="";try{const l=await a.json();!((e=l.error)===null||e===void 0)&&e.message&&(s=l.error.message)}catch{}throw Fn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s})}return a.json()}async function uG(t,e=UD,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Fn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Fn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new dG;return setTimeout(async()=>{s.abort()},Gq),zD({appId:r,apiKey:i,measurementId:o},a,s,e)}async function zD(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=UD){var o;const{appId:a,measurementId:s}=t;try{await cG(r,e)}catch(l){if(s)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await lG(t);return i.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!fG(u)){if(i.deleteThrottleMetadata(a),s)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:s};throw l}const c=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?JS(n,i.intervalMillis,iG):JS(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(a,f),An.debug(`Calling attemptFetch again in ${c} millis`),zD(t,f,r,i)}}function cG(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function fG(t){if(!(t instanceof Nr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class dG{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function hG(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,a=Object.assign(Object.assign({},r),{send_to:o});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pG(){if(wx())try{await RR()}catch(t){return An.warn(Fn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return An.warn(Fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function mG(t,e,n,r,i,o,a){var s;const l=uG(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>An.error(p)),e.push(l);const u=pG().then(p=>{if(p)return r.getId()}),[c,f]=await Promise.all([l,u]);rG(o)||Xq(o,c.measurementId),i("js",new Date);const h=(s=a==null?void 0:a.config)!==null&&s!==void 0?s:{};return h[qq]="firebase",h.update=!0,f!=null&&(h[Wq]=f),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e){this.app=e}_delete(){return delete Rc[this.app.options.appId],Promise.resolve()}}let Rc={},BA=[];const UA={};let Hv="dataLayer",yG="gtag",zA,WD,WA=!1;function vG(){const t=[];if(kR()&&t.push("This is a browser extension environment."),q6()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Fn.create("invalid-analytics-context",{errorInfo:e});An.warn(n.message)}}function bG(t,e,n){vG();const r=t.options.appId;if(!r)throw Fn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Fn.create("no-api-key");if(Rc[r]!=null)throw Fn.create("already-exists",{id:r});if(!WA){Jq(Hv);const{wrappedGtag:o,gtagCore:a}=nG(Rc,BA,UA,Hv,yG);WD=o,zA=a,WA=!0}return Rc[r]=mG(t,BA,UA,e,zA,Hv,n),new gG(t)}function qA(t=Ex()){t=ct(t);const e=Uo(t,rm);return e.isInitialized()?e.getImmediate():_G(t)}function _G(t,e={}){const n=Uo(t,rm);if(n.isInitialized()){const i=n.getImmediate();if(pl(e,n.getOptions()))return i;throw Fn.create("already-initialized")}return n.initialize({options:e})}function wG(t,e,n,r){t=ct(t),hG(WD,Rc[t.app.options.appId],e,n,r).catch(i=>An.error(i))}const GA="@firebase/analytics",HA="0.10.8";function xG(){Qr(new kr(rm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return bG(r,i,n)},"PUBLIC")),Qr(new kr("analytics-internal",t,"PRIVATE")),rr(GA,HA),rr(GA,HA,"esm2017");function t(e){try{const n=e.getProvider(rm).getImmediate();return{logEvent:(r,i,o)=>wG(n,r,i,o)}}catch(n){throw Fn.create("interop-component-reg-failed",{reason:n})}}}xG();const KA={apiKey:"AIzaSyBdfU7o3i_2U3oUE_GRKGtUeVuzSJ0RnHU",authDomain:"novexpro-a629e.firebaseapp.com",projectId:"novexpro-a629e",storageBucket:"novexpro-a629e.firebasestorage.app",messagingSenderId:"101696695126",appId:"1:101696695126:web:685125cd6fe5333b23c4f7",measurementId:"G-RBJC2PRDFY"};let qu,vr,Jn,YA;try{qu=Tb(KA),vr=AI(qu),Jn=kW(qu,{localCache:tq({tabManager:xD(void 0)})}),hz(vr,cj),typeof window<"u"&&(YA=qA(qu))}catch(t){t.code!=="app/duplicate-app"&&console.error("Error initializing Firebase:",t),qu=Tb(KA),vr=AI(),Jn=NW(),typeof window<"u"&&(YA=qA())}let EG={data:""},TG=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||EG,SG=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,IG=/\/\*[^]*?\*\/|  +/g,QA=/\n+/g,co=(t,e)=>{let n="",r="",i="";for(let o in t){let a=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+a+";":r+=o[1]=="f"?co(a,o):o+"{"+co(a,o[1]=="k"?"":e)+"}":typeof a=="object"?r+=co(a,e?e.replace(/([^,])+/g,s=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,s):s?s+" "+l:l)):o):a!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=co.p?co.p(o,a):o+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+r},oi={},qD=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+qD(t[n]);return e}return t},AG=(t,e,n,r,i)=>{let o=qD(t),a=oi[o]||(oi[o]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(o));if(!oi[a]){let l=o!==t?t:(u=>{let c,f,h=[{}];for(;c=SG.exec(u.replace(IG,""));)c[4]?h.shift():c[3]?(f=c[3].replace(QA," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][c[1]]=c[2].replace(QA," ").trim();return h[0]})(t);oi[a]=co(i?{["@keyframes "+a]:l}:l,n?"":"."+a)}let s=n&&oi.g?oi.g:null;return n&&(oi.g=oi[a]),((l,u,c,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(oi[a],e,r,s),a},PG=(t,e,n)=>t.reduce((r,i,o)=>{let a=e[o];if(a&&a.call){let s=a(n),l=s&&s.props&&s.props.className||/^go/.test(s)&&s;a=l?"."+l:s&&typeof s=="object"?s.props?"":co(s,""):s===!1?"":s}return r+i+(a??"")},"");function Jg(t){let e=this||{},n=t.call?t(e.p):t;return AG(n.unshift?n.raw?PG(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,TG(e.target),e.g,e.o,e.k)}let GD,Qb,Xb;Jg.bind({g:1});let Ri=Jg.bind({k:1});function OG(t,e,n,r){co.p=e,GD=t,Qb=n,Xb=r}function Go(t,e){let n=this||{};return function(){let r=arguments;function i(o,a){let s=Object.assign({},o),l=s.className||i.className;n.p=Object.assign({theme:Qb&&Qb()},s),n.o=/ *go\d+/.test(l),s.className=Jg.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=s.as||t,delete s.as),Xb&&u[0]&&Xb(s),GD(u,s)}return i}}var CG=t=>typeof t=="function",im=(t,e)=>CG(t)?t(e):t,kG=(()=>{let t=0;return()=>(++t).toString()})(),HD=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),NG=20,lp=new Map,RG=1e3,XA=t=>{if(lp.has(t))return;let e=setTimeout(()=>{lp.delete(t),us({type:4,toastId:t})},RG);lp.set(t,e)},jG=t=>{let e=lp.get(t);e&&clearTimeout(e)},Jb=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,NG)};case 1:return e.toast.id&&jG(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return t.toasts.find(o=>o.id===n.id)?Jb(t,{type:1,toast:n}):Jb(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?XA(r):t.toasts.forEach(o=>{XA(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},up=[],cp={toasts:[],pausedAt:void 0},us=t=>{cp=Jb(cp,t),up.forEach(e=>{e(cp)})},MG={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},DG=(t={})=>{let[e,n]=M.useState(cp);M.useEffect(()=>(up.push(n),()=>{let i=up.indexOf(n);i>-1&&up.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var o,a;return{...t,...t[i.type],...i,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||MG[i.type],style:{...t.style,...(a=t[i.type])==null?void 0:a.style,...i.style}}});return{...e,toasts:r}},$G=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||kG()}),_d=t=>(e,n)=>{let r=$G(e,t,n);return us({type:2,toast:r}),r.id},Ln=(t,e)=>_d("blank")(t,e);Ln.error=_d("error");Ln.success=_d("success");Ln.loading=_d("loading");Ln.custom=_d("custom");Ln.dismiss=t=>{us({type:3,toastId:t})};Ln.remove=t=>us({type:4,toastId:t});Ln.promise=(t,e,n)=>{let r=Ln.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(Ln.success(im(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{Ln.error(im(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var LG=(t,e)=>{us({type:1,toast:{id:t,height:e}})},VG=()=>{us({type:5,time:Date.now()})},FG=t=>{let{toasts:e,pausedAt:n}=DG(t);M.useEffect(()=>{if(n)return;let o=Date.now(),a=e.map(s=>{if(s.duration===1/0)return;let l=(s.duration||0)+s.pauseDuration-(o-s.createdAt);if(l<0){s.visible&&Ln.dismiss(s.id);return}return setTimeout(()=>Ln.dismiss(s.id),l)});return()=>{a.forEach(s=>s&&clearTimeout(s))}},[e,n]);let r=M.useCallback(()=>{n&&us({type:6,time:Date.now()})},[n]),i=M.useCallback((o,a)=>{let{reverseOrder:s=!1,gutter:l=8,defaultPosition:u}=a||{},c=e.filter(p=>(p.position||u)===(o.position||u)&&p.height),f=c.findIndex(p=>p.id===o.id),h=c.filter((p,g)=>g<f&&p.visible).length;return c.filter(p=>p.visible).slice(...s?[h+1]:[0,h]).reduce((p,g)=>p+(g.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:LG,startPause:VG,endPause:r,calculateOffset:i}}},BG=Ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,UG=Ri`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,zG=Ri`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,WG=Go("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${UG} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${zG} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,qG=Ri`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,GG=Go("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${qG} 1s linear infinite;
`,HG=Ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,KG=Ri`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,YG=Go("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${HG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${KG} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,QG=Go("div")`
  position: absolute;
`,XG=Go("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,JG=Ri`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ZG=Go("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${JG} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,eH=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?M.createElement(ZG,null,e):e:n==="blank"?null:M.createElement(XG,null,M.createElement(GG,{...r}),n!=="loading"&&M.createElement(QG,null,n==="error"?M.createElement(WG,{...r}):M.createElement(YG,{...r})))},tH=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,nH=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,rH="0%{opacity:0;} 100%{opacity:1;}",iH="0%{opacity:1;} 100%{opacity:0;}",oH=Go("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,aH=Go("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,sH=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=HD()?[rH,iH]:[tH(n),nH(n)];return{animation:e?`${Ri(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ri(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},lH=M.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?sH(t.position||e||"top-center",t.visible):{opacity:0},o=M.createElement(eH,{toast:t}),a=M.createElement(aH,{...t.ariaProps},im(t.message,t));return M.createElement(oH,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:a}):M.createElement(M.Fragment,null,o,a))});OG(M.createElement);var uH=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=M.useCallback(a=>{if(a){let s=()=>{let l=a.getBoundingClientRect().height;r(t,l)};s(),new MutationObserver(s).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return M.createElement("div",{ref:o,className:e,style:n},i)},cH=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:HD()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},fH=Jg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,wh=16,KD=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:a})=>{let{toasts:s,handlers:l}=FG(n);return M.createElement("div",{style:{position:"fixed",zIndex:9999,top:wh,left:wh,right:wh,bottom:wh,pointerEvents:"none",...o},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},s.map(u=>{let c=u.position||e,f=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),h=cH(c,f);return M.createElement(uH,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?fH:"",style:h},u.type==="custom"?im(u.message,u):i?i(u):M.createElement(lH,{toast:u,position:c}))}))},De=Ln;const YD=M.createContext(void 0),xh=t=>{switch(t.code){case"auth/invalid-credential":return"Invalid email or password. Please try again.";case"auth/user-not-found":return"No account found with this email address.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/weak-password":return"Password should be at least 6 characters.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/network-request-failed":return"Network error. Please check your connection.";case"auth/too-many-requests":return"Too many attempts. Please try again later.";default:return"An error occurred. Please try again."}};function dH({children:t}){const[e,n]=M.useState({user:null,isAuthenticated:!1,isLoading:!0,error:null});M.useEffect(()=>{const u=gz(vr,async c=>{if(c)try{const h=(await Nc(uo(Jn,"users",c.uid))).data();n({user:h?{id:c.uid,...h,emailVerified:c.emailVerified}:null,isAuthenticated:!0,isLoading:!1,error:null}),c.emailVerified||De.error("Please verify your email address",{duration:5e3,icon:"✉️"})}catch(f){console.error("Error fetching user data:",f),n({user:null,isAuthenticated:!1,isLoading:!1,error:"Failed to load user data"})}else n({user:null,isAuthenticated:!1,isLoading:!1,error:null})});return()=>u()},[]);const r=async()=>{const u=vr.currentUser;if(u&&!u.emailVerified)try{await cz(u),De.success("Verification email sent!")}catch(c){console.error("Error sending verification email:",c),De.error("Failed to send verification email")}},i=async(u,c)=>{try{const{user:f}=await uz(vr,u,c);if(!f.emailVerified)throw await r(),De.error("Please verify your email before signing in"),await yI(vr),new Error("Email not verified");const p=(await Nc(uo(Jn,"users",f.uid))).data();n(g=>({...g,user:{id:f.uid,...p,emailVerified:f.emailVerified},isAuthenticated:!0,error:null})),De.success("Welcome back!")}catch(f){const p=xh(f);throw De.error(p),n(g=>({...g,error:p})),f}},o=async()=>{try{const u=new ci,{user:c}=await Mz(vr,u);if(!(await Nc(uo(Jn,"users",c.uid))).exists()){const h={fullName:c.displayName||"",email:c.email||"",phoneNumber:c.phoneNumber||"",countryCode:"+1",createdAt:new Date().toISOString(),emailVerified:!0};await LA(uo(Jn,"users",c.uid),h),n(p=>({...p,user:{id:c.uid,...h},isAuthenticated:!0,error:null}))}De.success("Successfully signed in with Google")}catch(u){const f=xh(u);throw De.error(f),n(h=>({...h,error:f})),u}},a=async u=>{try{const{user:c}=await lz(vr,u.email,u.password);await dz(c,{displayName:u.fullName});const f={fullName:u.fullName,email:u.email,phoneNumber:u.phoneNumber,countryCode:u.countryCode,createdAt:new Date().toISOString(),emailVerified:!1};await LA(uo(Jn,"users",c.uid),f),await r(),n(h=>({...h,user:{id:c.uid,...f},isAuthenticated:!0,error:null})),De.success("Account created successfully! Please verify your email.")}catch(c){const h=xh(c);throw De.error(h),n(p=>({...p,error:h})),c}},s=async()=>{try{await yI(vr),n({user:null,isAuthenticated:!1,isLoading:!1,error:null}),De.success("Signed out successfully")}catch(u){console.error("Error signing out:",u),De.error("Failed to sign out")}},l=async u=>{try{await sz(vr,u),De.success("Password reset email sent!")}catch(c){const h=xh(c);throw De.error(h),c}};return m.jsx(YD.Provider,{value:{...e,signIn:i,signInWithGoogle:o,signUp:a,signOut:s,sendVerificationEmail:r,resetPassword:l},children:t})}function wd(){const t=M.useContext(YD);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function Gu({children:t}){const{isAuthenticated:e,isLoading:n}=wd(),r=sd();return n?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e?m.jsx(m.Fragment,{children:t}):m.jsx(TR,{to:"/auth",state:{from:r},replace:!0})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),me=(t,e)=>{const n=M.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},c)=>M.createElement("svg",{ref:c,...hH,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${pH(t)}`,s].join(" "),...u},[...e.map(([f,h])=>M.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=me("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=me("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=me("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=me("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=me("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=me("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=me("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=me("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=me("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=me("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=me("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=me("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=me("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=me("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=me("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=me("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=me("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function BH({currentPage:t,isCollapsed:e,onPageChange:n,onCollapse:r,isDarkMode:i,onThemeChange:o}){const a=_x(),[s,l]=M.useState(!1),[u,c]=M.useState(!1),[f,h]=M.useState(!1),p=[{id:"home",label:"Home",icon:EH,path:"/"},{id:"dashboard",label:"Market Dashboard",icon:TH,path:"/dashboard"},{id:"trends",label:"Trends",icon:Xa,path:"/trends"},{id:"quote",label:"Get Quote",icon:kH,path:"/quote"},{id:"aluminum-shorts",label:"Aluminum Shorts",icon:PH,path:"/aluminum-shorts"},{id:"alerts",label:"Manage Alerts",icon:Hr,path:"/alerts"}],g=(y,b)=>{a(y)};return m.jsx("div",{className:"relative",children:m.jsxs("div",{className:`fixed inset-y-0 left-0 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 z-20
          ${e?"w-16":"w-64"}`,children:[m.jsx("button",{onClick:()=>r(!e),className:"absolute -right-3 top-8 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-full p-1 shadow-md",children:e?m.jsx(ZD,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}):m.jsx(JD,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),m.jsxs("div",{className:"flex flex-col h-full",children:[m.jsx("nav",{className:"flex-1 px-3 py-4",children:p.map(y=>{const b=y.icon,x=t===y.id;return m.jsxs("button",{onClick:()=>g(y.path),className:`w-full flex items-center px-3 py-2 mb-1 rounded-lg transition-all duration-200 ${x?"bg-gradient-to-r from-blue-500/10 to-purple-500/10 text-transparent bg-clip-text":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[m.jsx(b,{className:`w-5 h-5 flex-shrink-0 ${x?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`}),!e&&m.jsx("span",{className:`ml-3 text-sm font-medium ${x?"bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent":""}`,children:y.label})]},y.id)})}),m.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-3",children:m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>l(!s),className:"w-full flex items-center px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[m.jsx(jH,{className:"w-5 h-5 flex-shrink-0 text-gray-500 dark:text-gray-400"}),!e&&m.jsx("span",{className:"ml-3 text-sm font-medium",children:"Settings"})]}),s&&!e&&m.jsxs("div",{className:"absolute bottom-full left-0 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg mb-1 overflow-hidden",children:[m.jsxs("button",{onClick:()=>o(!i),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:[i?m.jsx(DH,{className:"w-4 h-4 mr-2"}):m.jsx(AH,{className:"w-4 h-4 mr-2"}),i?"Light Mode":"Dark Mode"]}),m.jsxs("button",{onClick:()=>h(!0),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:[m.jsx(vH,{className:"w-4 h-4 mr-2"}),"Subscription"]}),m.jsxs("button",{onClick:()=>c(!0),className:"w-full flex items-center px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-50 dark:hover:bg-gray-700",children:[m.jsx(IH,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})})]})]})})}function o$({onClose:t}){const e=_x(),n=sd(),{signIn:r,signUp:i,signInWithGoogle:o}=wd(),[a,s]=M.useState(!0),[l,u]=M.useState(!1),[c,f]=M.useState(!1),[h,p]=M.useState({fullName:"",email:"",phoneNumber:"",countryCode:"+91",password:""}),[g,y]=M.useState({}),b=()=>{const P={};return!a&&!h.fullName.trim()&&(P.fullName="Full name is required"),h.email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)||(P.email="Invalid email address"),!a&&!h.phoneNumber.match(/^\d{10}$/)&&(P.phoneNumber="Phone number must be 10 digits"),h.password.length<8&&(P.password="Password must be at least 8 characters"),y(P),Object.keys(P).length===0},x=()=>{var T,I;const P=((I=(T=n.state)==null?void 0:T.from)==null?void 0:I.pathname)||"/dashboard";t&&t(),e(P,{replace:!0}),De.success("Welcome to your dashboard!")},w=async P=>{if(P.preventDefault(),!(!b()||c)){f(!0);try{a?await r(h.email,h.password):await i(h),x()}catch(T){console.error("Authentication error:",T),f(!1)}}},_=async()=>{if(!c){f(!0);try{await o(),x()}catch(P){console.error("Google sign-in error:",P),f(!1)}}};return m.jsxs("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/30 to-purple-600/30 backdrop-blur-lg"}),m.jsxs("div",{className:"relative w-full max-w-md bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl p-8 overflow-hidden",children:[m.jsx("div",{className:"absolute -top-24 -left-24 w-48 h-48 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),m.jsx("div",{className:"absolute -bottom-24 -right-24 w-48 h-48 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),m.jsx("div",{className:"absolute -bottom-16 -left-16 w-36 h-36 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"}),t&&m.jsx("button",{onClick:t,className:"absolute right-4 top-4 p-2 hover:bg-gray-100/80 rounded-full transition-colors",children:m.jsx(Zg,{className:"w-5 h-5 text-gray-500"})}),m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-[#4A4DE6]",children:a?"Welcome back!":"Create Account"}),m.jsx("p",{className:"text-[#555555] mt-2",children:a?"Sign in to access your dashboard":"Fill in your information to get started"})]}),m.jsx("button",{onClick:_,disabled:c,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-white hover:bg-gray-50 border border-gray-200 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed mb-6",children:c?m.jsx(Zb,{className:"w-5 h-5 animate-spin"}):m.jsxs(m.Fragment,{children:[m.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),m.jsx("span",{className:"text-gray-700",children:"Continue with Google"})]})}),m.jsxs("div",{className:"relative mb-8",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("div",{className:"w-full border-t border-gray-200"})}),m.jsx("div",{className:"relative flex justify-center text-sm",children:m.jsx("span",{className:"px-2 bg-white/80 text-[#AAAAAA]",children:"or continue with email"})})]}),m.jsxs("form",{onSubmit:w,className:"space-y-4",children:[!a&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),m.jsxs("div",{className:"relative",children:[m.jsx(FH,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),m.jsx("input",{type:"text",value:h.fullName,onChange:P=>p({...h,fullName:P.target.value}),className:`w-full pl-10 pr-4 py-3 bg-white/50 border ${g.fullName?"border-red-500":"border-gray-200"} rounded-xl focus:ring-2 focus:ring-[#4A4DE6] focus:border-transparent transition-all`,placeholder:"John Doe"}),g.fullName&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.fullName})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),m.jsxs("div",{className:"relative",children:[m.jsx(xd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),m.jsx("input",{type:"email",value:h.email,onChange:P=>p({...h,email:P.target.value}),className:`w-full pl-10 pr-4 py-3 bg-white/50 border ${g.email?"border-red-500":"border-gray-200"} rounded-xl focus:ring-2 focus:ring-[#4A4DE6] focus:border-transparent transition-all`,placeholder:"john@example.com"}),g.email&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.email})]})]}),!a&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),m.jsxs("div",{className:"relative flex gap-2",children:[m.jsxs("select",{value:h.countryCode,onChange:P=>p({...h,countryCode:P.target.value}),className:"w-24 pl-3 pr-8 py-3 bg-white/50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#4A4DE6] focus:border-transparent appearance-none",children:[m.jsx("option",{value:"+91",children:"+91"}),m.jsx("option",{value:"+1",children:"+1"}),m.jsx("option",{value:"+44",children:"+44"})]}),m.jsxs("div",{className:"relative flex-1",children:[m.jsx(CH,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),m.jsx("input",{type:"tel",value:h.phoneNumber,onChange:P=>p({...h,phoneNumber:P.target.value}),className:`w-full pl-10 pr-4 py-3 bg-white/50 border ${g.phoneNumber?"border-red-500":"border-gray-200"} rounded-xl focus:ring-2 focus:ring-[#4A4DE6] focus:border-transparent transition-all`,placeholder:"9876543210"})]})]}),g.phoneNumber&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.phoneNumber})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(SH,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),m.jsx("input",{type:l?"text":"password",value:h.password,onChange:P=>p({...h,password:P.target.value}),className:`w-full pl-10 pr-12 py-3 bg-white/50 border ${g.password?"border-red-500":"border-gray-200"} rounded-xl focus:ring-2 focus:ring-[#4A4DE6] focus:border-transparent transition-all`,placeholder:"••••••••"}),m.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?m.jsx(t$,{className:"w-5 h-5"}):m.jsx(n$,{className:"w-5 h-5"})}),g.password&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.password})]})]}),m.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center items-center gap-2 py-3 px-4 bg-[#4A4DE6] hover:bg-[#3f41c7] text-white rounded-xl font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:c?m.jsx(Zb,{className:"w-5 h-5 animate-spin"}):a?"Sign in":"Create account"}),m.jsx("p",{className:"text-center text-sm text-[#555555]",children:a?m.jsxs(m.Fragment,{children:["Don't have an account?"," ",m.jsx("button",{type:"button",onClick:()=>s(!1),className:"text-[#4A4DE6] hover:text-[#3f41c7] font-medium",children:"Sign up"})]}):m.jsxs(m.Fragment,{children:["Already have an account?"," ",m.jsx("button",{type:"button",onClick:()=>s(!0),className:"text-[#4A4DE6] hover:text-[#3f41c7] font-medium",children:"Sign in"})]})})]})]})]})]})}function UH(){const t=M.useRef(null);return M.useEffect(()=>{const e=t.current;if(!e)return;const n=()=>{const i=document.createElement("div");i.className="spark";const o=Math.random()*window.innerWidth,a=Math.random()*window.innerHeight;i.style.left=`${o}px`,i.style.top=`${a}px`;const s=(Math.random()-.5)*200,l=(Math.random()-.5)*200,u=Math.random()*360;i.style.setProperty("--travel-x",`${s}px`),i.style.setProperty("--travel-y",`${l}px`),i.style.setProperty("--rotation",`${u}deg`),i.style.animation=`spark ${2+Math.random()*3}s ease-out forwards`,e.appendChild(i),i.addEventListener("animationend",()=>{i.remove()})};for(let i=0;i<50;i++)setTimeout(n,Math.random()*3e3);const r=setInterval(()=>{e.children.length<50&&n()},200);return()=>{clearInterval(r)}},[]),m.jsx("div",{className:"fixed inset-0 pointer-events-none z-0 bg-black overflow-hidden",children:m.jsx("div",{ref:t,className:"absolute inset-0"})})}function zH(){return m.jsx("div",{className:"relative w-full h-32 overflow-hidden -mx-8 px-8",children:m.jsxs("svg",{className:"w-[130%] h-full -ml-[15%]",preserveAspectRatio:"none",viewBox:"0 0 1400 100",children:[m.jsxs("defs",{children:[m.jsxs("linearGradient",{id:"stockLine",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[m.jsx("stop",{offset:"0%",stopColor:"#3B82F6",stopOpacity:"1",children:m.jsx("animate",{attributeName:"stop-color",values:"#3B82F6; #2563EB; #3B82F6",dur:"4s",repeatCount:"indefinite"})}),m.jsx("stop",{offset:"100%",stopColor:"#2563EB",stopOpacity:"1",children:m.jsx("animate",{attributeName:"stop-color",values:"#2563EB; #3B82F6; #2563EB",dur:"4s",repeatCount:"indefinite"})})]}),m.jsxs("filter",{id:"glow",children:[m.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),m.jsxs("feMerge",{children:[m.jsx("feMergeNode",{in:"coloredBlur"}),m.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),[...Array(16)].map((t,e)=>m.jsx("rect",{x:e*90,y:100-(e*6+15),width:"60",height:e*6+15,fill:"url(#stockLine)",opacity:"0.3",rx:"2",children:m.jsx("animate",{attributeName:"height",values:`${e*6+15};${e*6+20};${e*6+15}`,dur:"2s",repeatCount:"indefinite",begin:`${e*.2}s`})},`bar-${e}`)),m.jsx("path",{d:"M0,80 Q350,70 700,50 T1400,20",fill:"none",stroke:"url(#stockLine)",strokeWidth:"4",filter:"url(#glow)",className:"animate-draw",children:m.jsx("animate",{attributeName:"d",values:`
              M0,80 Q350,70 700,50 T1400,20;
              M0,70 Q350,60 700,40 T1400,10;
              M0,80 Q350,70 700,50 T1400,20
            `,dur:"4s",repeatCount:"indefinite"})}),[0,350,700,1050,1400].map((t,e)=>m.jsx("circle",{cx:t,cy:50,r:"4",fill:"#fff",className:"animate-pulse",filter:"url(#glow)",children:m.jsx("animate",{attributeName:"cy",values:`${80-e*15};${70-e*15};${80-e*15}`,dur:"4s",repeatCount:"indefinite"})},e))]})})}function WH(){const[t,e]=M.useState(!1);return m.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-black",children:[m.jsx(UH,{}),m.jsx("div",{className:"relative z-10 min-h-screen flex flex-col items-center justify-center p-4",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:m.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[m.jsx("div",{className:"relative mb-4",children:m.jsx("h1",{className:"text-7xl md:text-8xl lg:text-9xl font-bold",style:{background:"linear-gradient(135deg, #FF6B6B 0%, #4ECDC4 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 40px rgba(255, 107, 107, 0.3)",fontFamily:"'Poppins', sans-serif",letterSpacing:"-2px",filter:"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.2))",transform:"translateZ(0)"},children:"NOVEX PRO"})}),m.jsx(zH,{}),m.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-extrabold max-w-4xl mx-auto leading-tight text-gray-200 -mt-12 mb-6",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"},children:"Empowering Metal Buyers with Real-Time Insights"}),m.jsxs("div",{className:"flex flex-col items-center space-y-3 text-xl text-gray-300 mb-8",children:[m.jsxs("p",{className:"flex items-center gap-2",children:[m.jsx(Hr,{className:"w-6 h-6 text-blue-400"}),"Set custom alerts"]}),m.jsxs("p",{className:"flex items-center gap-2",children:[m.jsx(Xa,{className:"w-6 h-6 text-green-400"}),"Analyze global trends"]}),m.jsxs("p",{className:"flex items-center gap-2",children:[m.jsx(LH,{className:"w-6 h-6 text-purple-400"}),"Optimize your metal procurement strategies"]}),m.jsxs("p",{className:"flex items-center gap-2",children:[m.jsx(bH,{className:"w-6 h-6 text-orange-400"}),"Get quotes and manage hedge positions"]})]}),m.jsxs("button",{onClick:()=>e(!0),className:"group inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-xl font-semibold rounded-full hover:from-blue-700 hover:to-purple-700 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:["Get Started",m.jsx(mH,{className:"w-6 h-6 transition-transform group-hover:translate-x-1"})]})]})})}),t&&m.jsx(o$,{onClose:()=>e(!1)})]})}const qH=[{date:"27 Nov 2024",price:2577,change:-.52},{date:"26 Nov 2024",price:2590.5,change:-.98},{date:"25 Nov 2024",price:2616,change:1.04},{date:"22 Nov 2024",price:2589,change:-.85}].map(t=>({date:String(t.date),price:Number(t.price),change:Number(t.change)}));function A1(){const[t,e]=M.useState(qH),[n,r]=M.useState(!1),[i,o]=M.useState(null);return{data:t,loading:n,error:i}}const GH=({data:t,previousDayPrice:e,rbiRate:n=84.4063})=>{const r=e?Math.abs(t.price-e):0,i=r*n,o=e?t.price>e:!1;return m.jsxs("div",{className:"premium-card p-4 dark:bg-gray-800/50",children:[m.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.date}),m.jsxs("div",{className:"text-2xl font-bold gradient-text font-mono mb-2",children:["$",t.price.toFixed(2)]}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:`flex items-center gap-1 text-sm ${o?"text-green-500":"text-red-500"}`,children:[o?m.jsx(Xa,{className:"w-4 h-4"}):m.jsx(vf,{className:"w-4 h-4"}),m.jsxs("span",{className:"font-medium",children:["$",r.toFixed(2)]})]}),m.jsxs("div",{className:`flex items-center gap-1 text-sm ${o?"text-green-500":"text-red-500"}`,children:[o?m.jsx(Xa,{className:"w-4 h-4"}):m.jsx(vf,{className:"w-4 h-4"}),m.jsxs("span",{className:"font-medium",children:["₹",i.toFixed(2)]})]})]})]})};function HH(){const[t,e]=M.useState({price:241.45,currentPrice:241.45,lastUpdated:new Date().toISOString(),changePercent:.15,volume:1580,dayHigh:242.3,dayLow:240.8}),[n,r]=M.useState(null),[i,o]=M.useState(!1);return{priceData:t,error:n,loading:i}}function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function zn(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function vt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Rr(t){vt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||om(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function KH(t,e){vt(2,arguments);var n=Rr(t),r=zn(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function P1(t,e){vt(2,arguments);var n=Rr(t).getTime(),r=zn(e);return new Date(n+r)}var YH=36e5;function QH(t,e){vt(2,arguments);var n=zn(e);return P1(t,n*YH)}var XH={};function ey(){return XH}function JH(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var ZH=6e4;function eK(t,e){vt(2,arguments);var n=zn(e);return P1(t,n*ZH)}function tK(t){return vt(1,arguments),t instanceof Date||om(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function nK(t){if(vt(1,arguments),!tK(t)&&typeof t!="number")return!1;var e=Rr(t);return!isNaN(Number(e))}function rK(t,e){vt(2,arguments);var n=zn(e);return P1(t,-n)}var iK=864e5;function oK(t){vt(1,arguments);var e=Rr(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/iK)+1}function am(t){vt(1,arguments);var e=1,n=Rr(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function a$(t){vt(1,arguments);var e=Rr(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=am(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=am(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function aK(t){vt(1,arguments);var e=a$(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=am(n);return r}var sK=6048e5;function lK(t){vt(1,arguments);var e=Rr(t),n=am(e).getTime()-aK(e).getTime();return Math.round(n/sK)+1}function sm(t,e){var n,r,i,o,a,s,l,u;vt(1,arguments);var c=ey(),f=zn((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Rr(t),p=h.getUTCDay(),g=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function s$(t,e){var n,r,i,o,a,s,l,u;vt(1,arguments);var c=Rr(t),f=c.getUTCFullYear(),h=ey(),p=zn((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,p),g.setUTCHours(0,0,0,0);var y=sm(g,e),b=new Date(0);b.setUTCFullYear(f,0,p),b.setUTCHours(0,0,0,0);var x=sm(b,e);return c.getTime()>=y.getTime()?f+1:c.getTime()>=x.getTime()?f:f-1}function uK(t,e){var n,r,i,o,a,s,l,u;vt(1,arguments);var c=ey(),f=zn((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=s$(t,e),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var g=sm(p,e);return g}var cK=6048e5;function fK(t,e){vt(1,arguments);var n=Rr(t),r=sm(n,e).getTime()-uK(n,e).getTime();return Math.round(r/cK)+1}function Me(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Zi={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Me(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Me(r+1,2)},d:function(e,n){return Me(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Me(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Me(e.getUTCHours(),n.length)},m:function(e,n){return Me(e.getUTCMinutes(),n.length)},s:function(e,n){return Me(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return Me(o,n.length)}},Es={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dK={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Zi.y(e,n)},Y:function(e,n,r,i){var o=s$(e,i),a=o>0?o:1-o;if(n==="YY"){var s=a%100;return Me(s,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):Me(a,n.length)},R:function(e,n){var r=a$(e);return Me(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Me(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Me(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Me(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Zi.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Me(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var o=fK(e,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):Me(o,n.length)},I:function(e,n,r){var i=lK(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Me(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Zi.d(e,n)},D:function(e,n,r){var i=oK(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Me(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var o=e.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Me(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var o=e.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Me(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return Me(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),o;switch(i===12?o=Es.noon:i===0?o=Es.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),o;switch(i>=17?o=Es.evening:i>=12?o=Es.afternoon:i>=4?o=Es.morning:o=Es.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Zi.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Zi.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Me(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Me(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Zi.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Zi.s(e,n)},S:function(e,n){return Zi.S(e,n)},X:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return tP(a);case"XXXX":case"XX":return ua(a);case"XXXXX":case"XXX":default:return ua(a,":")}},x:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(n){case"x":return tP(a);case"xxxx":case"xx":return ua(a);case"xxxxx":case"xxx":default:return ua(a,":")}},O:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+eP(a,":");case"OOOO":default:return"GMT"+ua(a,":")}},z:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+eP(a,":");case"zzzz":default:return"GMT"+ua(a,":")}},t:function(e,n,r,i){var o=i._originalDate||e,a=Math.floor(o.getTime()/1e3);return Me(a,n.length)},T:function(e,n,r,i){var o=i._originalDate||e,a=o.getTime();return Me(a,n.length)}};function eP(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var a=e;return n+String(i)+a+Me(o,2)}function tP(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Me(Math.abs(t)/60,2)}return ua(t,e)}function ua(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),o=Me(Math.floor(i/60),2),a=Me(i%60,2);return r+o+n+a}var nP=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},l$=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},hK=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return nP(e,n);var a;switch(i){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",nP(i,n)).replace("{{time}}",l$(o,n))},pK={p:l$,P:hK},mK=["D","DD"],gK=["YY","YYYY"];function yK(t){return mK.indexOf(t)!==-1}function vK(t){return gK.indexOf(t)!==-1}function rP(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var bK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_K=function(e,n,r){var i,o=bK[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Kv(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var wK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},EK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TK={date:Kv({formats:wK,defaultWidth:"full"}),time:Kv({formats:xK,defaultWidth:"full"}),dateTime:Kv({formats:EK,defaultWidth:"full"})},SK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IK=function(e,n,r,i){return SK[e]};function Hu(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{var s=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[s]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var AK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},OK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},NK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},RK=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},jK={ordinalNumber:RK,era:Hu({values:AK,defaultWidth:"wide"}),quarter:Hu({values:PK,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Hu({values:OK,defaultWidth:"wide"}),day:Hu({values:CK,defaultWidth:"wide"}),dayPeriod:Hu({values:kK,defaultWidth:"wide",formattingValues:NK,defaultFormattingWidth:"wide"})};function Ku(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var a=o[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?DK(s,function(f){return f.test(a)}):MK(s,function(f){return f.test(a)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(a.length);return{value:u,rest:c}}}function MK(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function DK(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function $K(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],o=e.match(t.parsePattern);if(!o)return null;var a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;var s=e.slice(i.length);return{value:a,rest:s}}}var LK=/^(\d+)(th|st|nd|rd)?/i,VK=/\d+/i,FK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BK={any:[/^b/i,/^(a|c)/i]},UK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zK={any:[/1/i,/2/i,/3/i,/4/i]},WK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},GK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},HK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},QK={ordinalNumber:$K({matchPattern:LK,parsePattern:VK,valueCallback:function(e){return parseInt(e,10)}}),era:Ku({matchPatterns:FK,defaultMatchWidth:"wide",parsePatterns:BK,defaultParseWidth:"any"}),quarter:Ku({matchPatterns:UK,defaultMatchWidth:"wide",parsePatterns:zK,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ku({matchPatterns:WK,defaultMatchWidth:"wide",parsePatterns:qK,defaultParseWidth:"any"}),day:Ku({matchPatterns:GK,defaultMatchWidth:"wide",parsePatterns:HK,defaultParseWidth:"any"}),dayPeriod:Ku({matchPatterns:KK,defaultMatchWidth:"any",parsePatterns:YK,defaultParseWidth:"any"})},XK={code:"en-US",formatDistance:_K,formatLong:TK,formatRelative:IK,localize:jK,match:QK,options:{weekStartsOn:0,firstWeekContainsDate:1}},JK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ZK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eY=/^'([^]*?)'?$/,tY=/''/g,nY=/[a-zA-Z]/;function Lo(t,e,n){var r,i,o,a,s,l,u,c,f,h,p,g,y,b;vt(2,arguments);var x=String(e),w=ey(),_=(r=(i=void 0)!==null&&i!==void 0?i:w.locale)!==null&&r!==void 0?r:XK,P=zn((o=(a=(s=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&s!==void 0?s:w.firstWeekContainsDate)!==null&&a!==void 0?a:(u=w.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=zn((f=(h=(p=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&p!==void 0?p:w.weekStartsOn)!==null&&h!==void 0?h:(y=w.locale)===null||y===void 0||(b=y.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&f!==void 0?f:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var I=Rr(t);if(!nK(I))throw new RangeError("Invalid time value");var E=JH(I),S=rK(I,E),O={firstWeekContainsDate:P,weekStartsOn:T,locale:_,_originalDate:I},k=x.match(ZK).map(function(C){var R=C[0];if(R==="p"||R==="P"){var N=pK[R];return N(C,_.formatLong)}return C}).join("").match(JK).map(function(C){if(C==="''")return"'";var R=C[0];if(R==="'")return rY(C);var N=dK[R];if(N)return vK(C)&&rP(C,e,String(t)),yK(C)&&rP(C,e,String(t)),N(S,C,_.localize,O);if(R.match(nY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return C}).join("");return k}function rY(t){var e=t.match(eY);return e?e[1].replace(tY,"'"):t}function Yv(t,e){vt(2,arguments);var n=zn(e);return KH(t,-n)}function iP(t,e){vt(2,arguments);var n=zn(e);return QH(t,-n)}function oP(t,e){vt(2,arguments);var n=zn(e);return eK(t,-n)}function iY(){const{priceData:t,error:e,loading:n}=HH();return m.jsxs("div",{className:`bg-gradient-to-br from-blue-50/90 via-purple-50/90 to-pink-50/90 backdrop-blur-sm rounded-xl p-6 
      border border-white/50 shadow-[0_4px_12px_rgba(0,0,0,0.05)] hover:shadow-[0_6px_16px_rgba(0,0,0,0.1)] 
      transition-all duration-300`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"MCX Aluminium"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Source: moneycontrol.com"})]}),m.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Future Nov 2024"})]}),m.jsx("div",{className:"mb-4",children:n?m.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[m.jsx(Zb,{className:"w-6 h-6 animate-spin"}),m.jsx("span",{children:"Loading price..."})]}):e?m.jsx("div",{className:"text-red-500",children:e}):m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-baseline gap-2",children:[m.jsx("span",{className:"font-mono text-[56px] font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"₹246.30"}),m.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"per kg"})]}),m.jsx("div",{className:"text-xl text-green-500",children:"+0.50%"})]})}),t&&m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["Last updated: ",Lo(new Date(t.lastUpdated),"hh:mm:ss a")]}),m.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"Live"})]})]})}const aP=45,sP=1.0825,oY=84.4063;function aY(){var a,s;const{data:t}=A1(),e=((a=t==null?void 0:t[0])==null?void 0:a.price)||2639.5,r=(e+aP)*sP*oY/1e3,i=((s=t==null?void 0:t[0])==null?void 0:s.change)||-16,o=i/e*100||-.63;return m.jsxs("div",{className:`bg-gradient-to-br from-blue-50/90 via-purple-50/90 to-pink-50/90 backdrop-blur-sm rounded-xl p-6 
      border border-white/50 shadow-[0_4px_12px_rgba(0,0,0,0.05)] hover:shadow-[0_6px_16px_rgba(0,0,0,0.1)] 
      transition-all duration-300`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"LME Aluminium"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Source: Investing.com"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-50 to-purple-50 text-blue-600",children:"$"}),m.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-full text-gray-400",children:"₹"})]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-baseline gap-2",children:[m.jsxs("span",{className:"font-mono text-[64px] font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:["$",e.toFixed(2)]}),m.jsx("span",{className:"text-xl text-gray-500",children:"per MT"})]}),m.jsxs("div",{className:"text-2xl text-red-500 mb-6",children:[i.toFixed(2)," (",o.toFixed(2),"%)"]})]}),m.jsxs("div",{className:"pt-6 border-t border-gray-100/50",children:[m.jsxs("div",{className:"flex items-baseline gap-2",children:[m.jsxs("span",{className:"font-mono text-[64px] font-bold bg-gradient-to-r from-green-500 to-green-600 bg-clip-text text-transparent",children:["₹",r.toFixed(2)]}),m.jsx("span",{className:"text-xl text-gray-500",children:"per kg"})]}),m.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Includes premium ($",aP,"/MT) & duty factor (",((sP-1)*100).toFixed(2),"%)"]})]}),m.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[m.jsx("span",{className:"text-gray-500",children:"Last updated: Live"}),m.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"Live"})]})]})}const sY={RBI:{DEFAULT_RATE:84.4708}};function lY(){const[t]=M.useState(sY.RBI.DEFAULT_RATE),[e]=M.useState(new Date),[n]=M.useState(!1),[r]=M.useState(null);return{rate:t,lastUpdated:e,loading:n,error:r}}function uY(){const{rate:t,lastUpdated:e,loading:n}=lY();return m.jsxs("div",{className:`bg-gradient-to-br from-blue-50/90 via-purple-50/90 to-pink-50/90 backdrop-blur-sm rounded-xl p-6 
      border border-white/50 shadow-[0_4px_12px_rgba(0,0,0,0.05)] hover:shadow-[0_6px_16px_rgba(0,0,0,0.1)] 
      transition-all duration-300`,children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"RBI Reference Rate"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Source: ceicdata.com"})]}),m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx("span",{className:"text-green-500 text-2xl",children:"$"}),m.jsx("span",{className:"text-2xl text-gray-700 dark:text-gray-300",children:"1"}),m.jsx("span",{className:"text-2xl text-gray-700 dark:text-gray-300",children:"="}),m.jsx("span",{className:"text-blue-500 text-2xl",children:"₹"}),m.jsx("span",{className:`font-mono text-[64px] font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent ${n?"animate-pulse":""}`,children:t.toFixed(4)})]}),m.jsx("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:Lo(e,"dd MMM yyyy")}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["Last updated: ",Lo(e,"hh:mm a")," IST"]}),m.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium",children:"Daily"})]})]})}function cY(){const{user:t}=wd(),[e,n]=M.useState("MCX"),[r,i]=M.useState([]),[o,a]=M.useState("Price"),[s,l]=M.useState("gain"),[u,c]=M.useState("one-time"),[f,h]=M.useState({webApp:!1,whatsApp:!1,email:!1}),[p,g]=M.useState(!1),[y,b]=M.useState(""),[x,w]=M.useState(""),[_,P]=M.useState(""),T=async()=>{if(!t){De.error("Please sign in to create alerts");return}try{const I={userId:t.id,category:e,suppliers:e==="Suppliers"?r:[],type:o,targetPrice:o==="Price"?parseFloat(x):null,targetPercentage:o==="Percentage"?parseFloat(_):null,percentageType:o==="Percentage"?s:null,frequency:u,notificationChannels:Object.entries(f).filter(([E,S])=>S).map(([E])=>E),customMessage:y,isActive:!0,createdAt:new Date().toISOString()};await _D(Kb(Jn,"alerts"),I),De.success("Alert created successfully!"),w(""),P(""),b(""),h({webApp:!1,whatsApp:!1,email:!1}),i([])}catch(I){console.error("Error creating alert:",I),De.error("Failed to create alert. Please try again.")}};return m.jsxs("div",{className:`bg-gradient-to-br from-blue-50/90 via-purple-50/90 to-pink-50/90 backdrop-blur-sm rounded-xl p-6 
      border border-white/50 shadow-[0_4px_12px_rgba(0,0,0,0.05)] hover:shadow-[0_6px_16px_rgba(0,0,0,0.1)] 
      transition-all duration-300`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Hr,{className:"w-6 h-6 text-blue-600"}),m.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Price Alert"})]}),m.jsxs("button",{onClick:()=>g(!p),className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 
            text-white rounded-full hover:from-blue-700 hover:to-purple-700 transition-all duration-300 
            shadow-md hover:shadow-lg`,children:[m.jsx(I1,{className:"w-4 h-4"}),"AluminumGenie"]})]}),p&&m.jsx("div",{className:"mb-6",children:m.jsx("textarea",{placeholder:"Ask me to create personalized alerts based on any market conditions...",className:`w-full p-3 border border-gray-200 rounded-lg h-24 resize-none focus:ring-2 
              focus:ring-blue-500 focus:border-transparent bg-white/50`,value:y,onChange:I=>b(I.target.value)})}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-lg mb-2",children:"Category"}),m.jsx("div",{className:"flex rounded-lg overflow-hidden border border-gray-200",children:["MCX","LME","Suppliers"].map(I=>m.jsx("button",{onClick:()=>n(I),className:`flex-1 py-2 px-4 text-center transition-all duration-300 ${e===I?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white/50 text-gray-600 hover:bg-gray-50"}`,children:I},I))})]}),e!=="Suppliers"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-lg mb-2",children:"Alert Type"}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Price","Percentage"].map(I=>m.jsx("button",{onClick:()=>a(I),className:`py-2 px-4 rounded-lg text-center transition-colors ${o===I?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white/50 text-gray-600 hover:bg-gray-50"}`,children:I},I))})]}),o==="Price"?m.jsxs("div",{children:[m.jsxs("label",{className:"block text-gray-700 text-lg mb-2",children:["Target Price (",e==="LME"?"USD":"₹",")"]}),m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:e==="LME"?"$":"₹"}),m.jsx("input",{type:"number",step:"0.01",value:x,onChange:I=>w(I.target.value),className:`w-full pl-8 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 
                  focus:ring-blue-500 focus:border-transparent bg-white/50`,placeholder:"Enter target price"})]})]}):m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-lg mb-2",children:"Percentage Change"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("select",{value:s,onChange:I=>l(I.target.value),className:`flex-1 px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 
                  focus:ring-blue-500 focus:border-transparent bg-white/50`,children:[m.jsx("option",{value:"gain",children:"Gain"}),m.jsx("option",{value:"loss",children:"Loss"}),m.jsx("option",{value:"gainloss",children:"Gain/Loss"})]}),m.jsx("input",{type:"number",step:"0.01",value:_,onChange:I=>P(I.target.value),className:`flex-1 px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 
                  focus:ring-blue-500 focus:border-transparent bg-white/50`,placeholder:"Enter percentage"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-lg mb-2",children:"Notification Method"}),m.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[m.jsxs("button",{onClick:()=>h(I=>({...I,webApp:!I.webApp})),className:`flex items-center justify-center gap-2 py-2 px-4 rounded-lg transition-colors ${f.webApp?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white/50 text-gray-600 hover:bg-gray-50"}`,children:[m.jsx(Hr,{className:"w-4 h-4"}),m.jsx("span",{children:"Web App"})]}),m.jsxs("button",{onClick:()=>h(I=>({...I,whatsApp:!I.whatsApp})),className:`flex items-center justify-center gap-2 py-2 px-4 rounded-lg transition-colors ${f.whatsApp?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white/50 text-gray-600 hover:bg-gray-50"}`,children:[m.jsx(S1,{className:"w-4 h-4"}),m.jsx("span",{children:"WhatsApp"})]}),m.jsxs("button",{onClick:()=>h(I=>({...I,email:!I.email})),className:`flex items-center justify-center gap-2 py-2 px-4 rounded-lg transition-colors ${f.email?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white/50 text-gray-600 hover:bg-gray-50"}`,children:[m.jsx(xd,{className:"w-4 h-4"}),m.jsx("span",{children:"Email"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-lg mb-2",children:"Custom Message (Optional)"}),m.jsx("textarea",{placeholder:"Add a custom message for your alert",className:`w-full p-3 border border-gray-200 rounded-lg h-24 resize-none focus:ring-2 
              focus:ring-blue-500 focus:border-transparent bg-white/50`,value:y,onChange:I=>b(I.target.value)}),m.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Available variables: ","{price}",", ","{change}",", ","{percentage}"]})]}),m.jsxs("button",{onClick:T,className:`w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg 
            hover:from-blue-700 hover:to-purple-700 transition-all duration-300 flex items-center 
            justify-center gap-2 shadow-md hover:shadow-lg`,children:[m.jsx(Hr,{className:"w-5 h-5"}),"Create Alert"]})]})]})}const fY=84.4063;function dY(){const{data:t,loading:e,error:n}=A1();return e?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"animate-pulse gradient-text text-xl",children:"Loading..."})}):n?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"text-red-500",children:n})}):m.jsxs("div",{className:"max-w-7xl mx-auto px-4 space-y-6",children:[m.jsxs("section",{className:"premium-card p-6",children:[m.jsxs("div",{className:"flex justify-between items-baseline mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold gradient-text",children:"LME Cash Settlement"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Source: Westmetals"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((r,i)=>m.jsx(GH,{data:r,previousDayPrice:i<t.length-1?t[i+1].price:void 0,rbiRate:fY},r.date))})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsx("section",{className:"space-y-6",children:m.jsx(cY,{})}),m.jsxs("section",{className:"space-y-6",children:[m.jsx(iY,{}),m.jsx(aY,{}),m.jsx(uY,{})]})]})]})}function u$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=u$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ke(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=u$(t))&&(r&&(r+=" "),r+=e);return r}var hY=Array.isArray,Pn=hY,pY=typeof Qd=="object"&&Qd&&Qd.Object===Object&&Qd,c$=pY,mY=c$,gY=typeof self=="object"&&self&&self.Object===Object&&self,yY=mY||gY||Function("return this")(),ei=yY,vY=ei,bY=vY.Symbol,Ed=bY,lP=Ed,f$=Object.prototype,_Y=f$.hasOwnProperty,wY=f$.toString,Yu=lP?lP.toStringTag:void 0;function xY(t){var e=_Y.call(t,Yu),n=t[Yu];try{t[Yu]=void 0;var r=!0}catch{}var i=wY.call(t);return r&&(e?t[Yu]=n:delete t[Yu]),i}var EY=xY,TY=Object.prototype,SY=TY.toString;function IY(t){return SY.call(t)}var AY=IY,uP=Ed,PY=EY,OY=AY,CY="[object Null]",kY="[object Undefined]",cP=uP?uP.toStringTag:void 0;function NY(t){return t==null?t===void 0?kY:CY:cP&&cP in Object(t)?PY(t):OY(t)}var Ui=NY;function RY(t){return t!=null&&typeof t=="object"}var zi=RY,jY=Ui,MY=zi,DY="[object Symbol]";function $Y(t){return typeof t=="symbol"||MY(t)&&jY(t)==DY}var iu=$Y,LY=Pn,VY=iu,FY=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,BY=/^\w*$/;function UY(t,e){if(LY(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||VY(t)?!0:BY.test(t)||!FY.test(t)||e!=null&&t in Object(e)}var O1=UY;function zY(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ho=zY;const ou=We(Ho);var WY=Ui,qY=Ho,GY="[object AsyncFunction]",HY="[object Function]",KY="[object GeneratorFunction]",YY="[object Proxy]";function QY(t){if(!qY(t))return!1;var e=WY(t);return e==HY||e==KY||e==GY||e==YY}var C1=QY;const we=We(C1);var XY=ei,JY=XY["__core-js_shared__"],ZY=JY,Qv=ZY,fP=function(){var t=/[^.]+$/.exec(Qv&&Qv.keys&&Qv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function eQ(t){return!!fP&&fP in t}var tQ=eQ,nQ=Function.prototype,rQ=nQ.toString;function iQ(t){if(t!=null){try{return rQ.call(t)}catch{}try{return t+""}catch{}}return""}var d$=iQ,oQ=C1,aQ=tQ,sQ=Ho,lQ=d$,uQ=/[\\^$.*+?()[\]{}|]/g,cQ=/^\[object .+?Constructor\]$/,fQ=Function.prototype,dQ=Object.prototype,hQ=fQ.toString,pQ=dQ.hasOwnProperty,mQ=RegExp("^"+hQ.call(pQ).replace(uQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gQ(t){if(!sQ(t)||aQ(t))return!1;var e=oQ(t)?mQ:cQ;return e.test(lQ(t))}var yQ=gQ;function vQ(t,e){return t==null?void 0:t[e]}var bQ=vQ,_Q=yQ,wQ=bQ;function xQ(t,e){var n=wQ(t,e);return _Q(n)?n:void 0}var cs=xQ,EQ=cs,TQ=EQ(Object,"create"),ty=TQ,dP=ty;function SQ(){this.__data__=dP?dP(null):{},this.size=0}var IQ=SQ;function AQ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var PQ=AQ,OQ=ty,CQ="__lodash_hash_undefined__",kQ=Object.prototype,NQ=kQ.hasOwnProperty;function RQ(t){var e=this.__data__;if(OQ){var n=e[t];return n===CQ?void 0:n}return NQ.call(e,t)?e[t]:void 0}var jQ=RQ,MQ=ty,DQ=Object.prototype,$Q=DQ.hasOwnProperty;function LQ(t){var e=this.__data__;return MQ?e[t]!==void 0:$Q.call(e,t)}var VQ=LQ,FQ=ty,BQ="__lodash_hash_undefined__";function UQ(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=FQ&&e===void 0?BQ:e,this}var zQ=UQ,WQ=IQ,qQ=PQ,GQ=jQ,HQ=VQ,KQ=zQ;function au(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}au.prototype.clear=WQ;au.prototype.delete=qQ;au.prototype.get=GQ;au.prototype.has=HQ;au.prototype.set=KQ;var YQ=au;function QQ(){this.__data__=[],this.size=0}var XQ=QQ;function JQ(t,e){return t===e||t!==t&&e!==e}var k1=JQ,ZQ=k1;function eX(t,e){for(var n=t.length;n--;)if(ZQ(t[n][0],e))return n;return-1}var ny=eX,tX=ny,nX=Array.prototype,rX=nX.splice;function iX(t){var e=this.__data__,n=tX(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():rX.call(e,n,1),--this.size,!0}var oX=iX,aX=ny;function sX(t){var e=this.__data__,n=aX(e,t);return n<0?void 0:e[n][1]}var lX=sX,uX=ny;function cX(t){return uX(this.__data__,t)>-1}var fX=cX,dX=ny;function hX(t,e){var n=this.__data__,r=dX(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var pX=hX,mX=XQ,gX=oX,yX=lX,vX=fX,bX=pX;function su(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}su.prototype.clear=mX;su.prototype.delete=gX;su.prototype.get=yX;su.prototype.has=vX;su.prototype.set=bX;var ry=su,_X=cs,wX=ei,xX=_X(wX,"Map"),N1=xX,hP=YQ,EX=ry,TX=N1;function SX(){this.size=0,this.__data__={hash:new hP,map:new(TX||EX),string:new hP}}var IX=SX;function AX(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var PX=AX,OX=PX;function CX(t,e){var n=t.__data__;return OX(e)?n[typeof e=="string"?"string":"hash"]:n.map}var iy=CX,kX=iy;function NX(t){var e=kX(this,t).delete(t);return this.size-=e?1:0,e}var RX=NX,jX=iy;function MX(t){return jX(this,t).get(t)}var DX=MX,$X=iy;function LX(t){return $X(this,t).has(t)}var VX=LX,FX=iy;function BX(t,e){var n=FX(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var UX=BX,zX=IX,WX=RX,qX=DX,GX=VX,HX=UX;function lu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}lu.prototype.clear=zX;lu.prototype.delete=WX;lu.prototype.get=qX;lu.prototype.has=GX;lu.prototype.set=HX;var R1=lu,h$=R1,KX="Expected a function";function j1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(KX);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(j1.Cache||h$),n}j1.Cache=h$;var p$=j1;const YX=We(p$);var QX=p$,XX=500;function JX(t){var e=QX(t,function(r){return n.size===XX&&n.clear(),r}),n=e.cache;return e}var ZX=JX,eJ=ZX,tJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nJ=/\\(\\)?/g,rJ=eJ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(tJ,function(n,r,i,o){e.push(i?o.replace(nJ,"$1"):r||n)}),e}),iJ=rJ;function oJ(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var M1=oJ,pP=Ed,aJ=M1,sJ=Pn,lJ=iu,uJ=1/0,mP=pP?pP.prototype:void 0,gP=mP?mP.toString:void 0;function m$(t){if(typeof t=="string")return t;if(sJ(t))return aJ(t,m$)+"";if(lJ(t))return gP?gP.call(t):"";var e=t+"";return e=="0"&&1/t==-uJ?"-0":e}var cJ=m$,fJ=cJ;function dJ(t){return t==null?"":fJ(t)}var g$=dJ,hJ=Pn,pJ=O1,mJ=iJ,gJ=g$;function yJ(t,e){return hJ(t)?t:pJ(t,e)?[t]:mJ(gJ(t))}var y$=yJ,vJ=iu,bJ=1/0;function _J(t){if(typeof t=="string"||vJ(t))return t;var e=t+"";return e=="0"&&1/t==-bJ?"-0":e}var oy=_J,wJ=y$,xJ=oy;function EJ(t,e){e=wJ(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[xJ(e[n++])];return n&&n==r?t:void 0}var D1=EJ,TJ=D1;function SJ(t,e,n){var r=t==null?void 0:TJ(t,e);return r===void 0?n:r}var v$=SJ;const ar=We(v$);function IJ(t){return t==null}var AJ=IJ;const Se=We(AJ);var PJ=Ui,OJ=Pn,CJ=zi,kJ="[object String]";function NJ(t){return typeof t=="string"||!OJ(t)&&CJ(t)&&PJ(t)==kJ}var RJ=NJ;const Td=We(RJ);var b$={exports:{}},Ve={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1=Symbol.for("react.element"),L1=Symbol.for("react.portal"),ay=Symbol.for("react.fragment"),sy=Symbol.for("react.strict_mode"),ly=Symbol.for("react.profiler"),uy=Symbol.for("react.provider"),cy=Symbol.for("react.context"),jJ=Symbol.for("react.server_context"),fy=Symbol.for("react.forward_ref"),dy=Symbol.for("react.suspense"),hy=Symbol.for("react.suspense_list"),py=Symbol.for("react.memo"),my=Symbol.for("react.lazy"),MJ=Symbol.for("react.offscreen"),_$;_$=Symbol.for("react.module.reference");function dr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $1:switch(t=t.type,t){case ay:case ly:case sy:case dy:case hy:return t;default:switch(t=t&&t.$$typeof,t){case jJ:case cy:case fy:case my:case py:case uy:return t;default:return e}}case L1:return e}}}Ve.ContextConsumer=cy;Ve.ContextProvider=uy;Ve.Element=$1;Ve.ForwardRef=fy;Ve.Fragment=ay;Ve.Lazy=my;Ve.Memo=py;Ve.Portal=L1;Ve.Profiler=ly;Ve.StrictMode=sy;Ve.Suspense=dy;Ve.SuspenseList=hy;Ve.isAsyncMode=function(){return!1};Ve.isConcurrentMode=function(){return!1};Ve.isContextConsumer=function(t){return dr(t)===cy};Ve.isContextProvider=function(t){return dr(t)===uy};Ve.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$1};Ve.isForwardRef=function(t){return dr(t)===fy};Ve.isFragment=function(t){return dr(t)===ay};Ve.isLazy=function(t){return dr(t)===my};Ve.isMemo=function(t){return dr(t)===py};Ve.isPortal=function(t){return dr(t)===L1};Ve.isProfiler=function(t){return dr(t)===ly};Ve.isStrictMode=function(t){return dr(t)===sy};Ve.isSuspense=function(t){return dr(t)===dy};Ve.isSuspenseList=function(t){return dr(t)===hy};Ve.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ay||t===ly||t===sy||t===dy||t===hy||t===MJ||typeof t=="object"&&t!==null&&(t.$$typeof===my||t.$$typeof===py||t.$$typeof===uy||t.$$typeof===cy||t.$$typeof===fy||t.$$typeof===_$||t.getModuleId!==void 0)};Ve.typeOf=dr;b$.exports=Ve;var DJ=b$.exports,$J=Ui,LJ=zi,VJ="[object Number]";function FJ(t){return typeof t=="number"||LJ(t)&&$J(t)==VJ}var w$=FJ;const BJ=We(w$);var UJ=w$;function zJ(t){return UJ(t)&&t!=+t}var WJ=zJ;const Sd=We(WJ);var Ir=function(e){return e===0?0:e>0?1:-1},xa=function(e){return Td(e)&&e.indexOf("%")===e.length-1},te=function(e){return BJ(e)&&!Sd(e)},Pt=function(e){return te(e)||Td(e)},qJ=0,Id=function(e){var n=++qJ;return"".concat(e||"").concat(n)},Ja=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(e)&&!Td(e))return r;var o;if(xa(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Sd(o)&&(o=r),i&&o>n&&(o=n),o},fo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},GJ=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Er=function(e,n){return te(e)&&te(n)?function(r){return e+r*(n-e)}:function(){return n}};function lm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ar(r,e))===n})}function il(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function e_(t){"@babel/helpers - typeof";return e_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e_(t)}var HJ=["viewBox","children"],KJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yP=["points","pathLength"],Xv={svg:HJ,polygon:yP,polyline:yP},V1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],um=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.isValidElement(e)&&(r=e.props),!ou(r))return null;var i={};return Object.keys(r).forEach(function(o){V1.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},YJ=function(e,n,r){return function(i){return e(n,r,i),null}},cm=function(e,n,r){if(!ou(e)||e_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];V1.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=YJ(a,n,r))}),i},QJ=["children"],XJ=["children"];function vP(t,e){if(t==null)return{};var n=JJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function t_(t){"@babel/helpers - typeof";return t_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t_(t)}var bP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Ei=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},_P=null,Jv=null,F1=function t(e){if(e===_P&&Array.isArray(Jv))return Jv;var n=[];return M.Children.forEach(e,function(r){Se(r)||(DJ.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Jv=n,_P=e,n};function sr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ei(i)}):r=[Ei(e)],F1(t).forEach(function(i){var o=ar(i,"type.displayName")||ar(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Rn(t,e){var n=sr(t,e);return n&&n[0]}var wP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!te(r)||r<=0||!te(i)||i<=0)},ZJ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],eZ=function(e){return e&&e.type&&Td(e.type)&&ZJ.indexOf(e.type)>=0},tZ=function(e){return e&&t_(e)==="object"&&"clipDot"in e},nZ=function(e,n,r,i){var o,a=(o=Xv==null?void 0:Xv[i])!==null&&o!==void 0?o:[];return!we(e)&&(i&&a.includes(n)||KJ.includes(n))||r&&V1.includes(n)},Ae=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!ou(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;nZ((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},n_=function t(e,n){if(e===n)return!0;var r=M.Children.count(e);if(r!==M.Children.count(n))return!1;if(r===0)return!0;if(r===1)return xP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!xP(o,a))return!1}return!0},xP=function(e,n){if(Se(e)&&Se(n))return!0;if(!Se(e)&&!Se(n)){var r=e.props||{},i=r.children,o=vP(r,QJ),a=n.props||{},s=a.children,l=vP(a,XJ);return i&&s?il(o,l)&&n_(i,s):!i&&!s?il(o,l):!1}return!1},EP=function(e,n){var r=[],i={};return F1(e).forEach(function(o,a){if(eZ(o))r.push(o);else if(o){var s=Ei(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},rZ=function(e){var n=e&&e.type;return n&&bP[n]?bP[n]:null},iZ=function(e,n){return F1(n).indexOf(e)},oZ=["children","width","height","viewBox","className","style","title","desc"];function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r_.apply(this,arguments)}function aZ(t,e){if(t==null)return{};var n=sZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function i_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=aZ(t,oZ),c=i||{width:n,height:r,x:0,y:0},f=ke("recharts-surface",o);return D.createElement("svg",r_({},Ae(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),D.createElement("title",null,s),D.createElement("desc",null,l),e)}var lZ=["children","className"];function o_(){return o_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o_.apply(this,arguments)}function uZ(t,e){if(t==null)return{};var n=cZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yt=D.forwardRef(function(t,e){var n=t.children,r=t.className,i=uZ(t,lZ),o=ke("recharts-layer",r);return D.createElement("g",o_({className:o},Ae(i,!0),{ref:e}),n)}),Ti=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function fZ(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var dZ=fZ,hZ=dZ;function pZ(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:hZ(t,e,n)}var mZ=pZ,gZ="\\ud800-\\udfff",yZ="\\u0300-\\u036f",vZ="\\ufe20-\\ufe2f",bZ="\\u20d0-\\u20ff",_Z=yZ+vZ+bZ,wZ="\\ufe0e\\ufe0f",xZ="\\u200d",EZ=RegExp("["+xZ+gZ+_Z+wZ+"]");function TZ(t){return EZ.test(t)}var x$=TZ;function SZ(t){return t.split("")}var IZ=SZ,E$="\\ud800-\\udfff",AZ="\\u0300-\\u036f",PZ="\\ufe20-\\ufe2f",OZ="\\u20d0-\\u20ff",CZ=AZ+PZ+OZ,kZ="\\ufe0e\\ufe0f",NZ="["+E$+"]",a_="["+CZ+"]",s_="\\ud83c[\\udffb-\\udfff]",RZ="(?:"+a_+"|"+s_+")",T$="[^"+E$+"]",S$="(?:\\ud83c[\\udde6-\\uddff]){2}",I$="[\\ud800-\\udbff][\\udc00-\\udfff]",jZ="\\u200d",A$=RZ+"?",P$="["+kZ+"]?",MZ="(?:"+jZ+"(?:"+[T$,S$,I$].join("|")+")"+P$+A$+")*",DZ=P$+A$+MZ,$Z="(?:"+[T$+a_+"?",a_,S$,I$,NZ].join("|")+")",LZ=RegExp(s_+"(?="+s_+")|"+$Z+DZ,"g");function VZ(t){return t.match(LZ)||[]}var FZ=VZ,BZ=IZ,UZ=x$,zZ=FZ;function WZ(t){return UZ(t)?zZ(t):BZ(t)}var qZ=WZ,GZ=mZ,HZ=x$,KZ=qZ,YZ=g$;function QZ(t){return function(e){e=YZ(e);var n=HZ(e)?KZ(e):void 0,r=n?n[0]:e.charAt(0),i=n?GZ(n,1).join(""):e.slice(1);return r[t]()+i}}var XZ=QZ,JZ=XZ,ZZ=JZ("toUpperCase"),eee=ZZ;const gy=We(eee);function Ge(t){return function(){return t}}const O$=Math.cos,fm=Math.sin,jr=Math.sqrt,dm=Math.PI,yy=2*dm,l_=Math.PI,u_=2*l_,ca=1e-6,tee=u_-ca;function C$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function nee(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return C$;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ree{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?C$:nee(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>ca)if(!(Math.abs(f*l-u*c)>ca)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,g=i-s,y=l*l+u*u,b=p*p+g*g,x=Math.sqrt(y),w=Math.sqrt(h),_=o*Math.tan((l_-Math.acos((y+h-b)/(2*x*w)))/2),P=_/w,T=_/x;Math.abs(P-1)>ca&&this._append`L${e+P*c},${n+P*f}`,this._append`A${o},${o},0,0,${+(f*p>c*g)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ca||Math.abs(this._y1-c)>ca)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%u_+u_),h>tee?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>ca&&this._append`A${r},${r},0,${+(h>=l_)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function B1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ree(e)}function U1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function k$(t){this._context=t}k$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vy(t){return new k$(t)}function N$(t){return t[0]}function R$(t){return t[1]}function j$(t,e){var n=Ge(!0),r=null,i=vy,o=null,a=B1(s);t=typeof t=="function"?t:t===void 0?N$:Ge(t),e=typeof e=="function"?e:e===void 0?R$:Ge(e);function s(l){var u,c=(l=U1(l)).length,f,h=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ge(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ge(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ge(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Eh(t,e,n){var r=null,i=Ge(!0),o=null,a=vy,s=null,l=B1(u);t=typeof t=="function"?t:t===void 0?N$:Ge(+t),e=typeof e=="function"?e:Ge(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?R$:Ge(+n);function u(f){var h,p,g,y=(f=U1(f)).length,b,x=!1,w,_=new Array(y),P=new Array(y);for(o==null&&(s=a(w=l())),h=0;h<=y;++h){if(!(h<y&&i(b=f[h],h,f))===x)if(x=!x)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=p;--g)s.point(_[g],P[g]);s.lineEnd(),s.areaEnd()}x&&(_[h]=+t(b,h,f),P[h]=+e(b,h,f),s.point(r?+r(b,h,f):_[h],n?+n(b,h,f):P[h]))}if(w)return s=null,w+""||null}function c(){return j$().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ge(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ge(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ge(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ge(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ge(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ge(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ge(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class M${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function iee(t){return new M$(t,!0)}function oee(t){return new M$(t,!1)}const z1={draw(t,e){const n=jr(e/dm);t.moveTo(n,0),t.arc(0,0,n,0,yy)}},aee={draw(t,e){const n=jr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},D$=jr(1/3),see=D$*2,lee={draw(t,e){const n=jr(e/see),r=n*D$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},uee={draw(t,e){const n=jr(e),r=-n/2;t.rect(r,r,n,n)}},cee=.8908130915292852,$$=fm(dm/10)/fm(7*dm/10),fee=fm(yy/10)*$$,dee=-O$(yy/10)*$$,hee={draw(t,e){const n=jr(e*cee),r=fee*n,i=dee*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=yy*o/5,s=O$(a),l=fm(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Zv=jr(3),pee={draw(t,e){const n=-jr(e/(Zv*3));t.moveTo(0,n*2),t.lineTo(-Zv*n,-n),t.lineTo(Zv*n,-n),t.closePath()}},Hn=-.5,Kn=jr(3)/2,c_=1/jr(12),mee=(c_/2+1)*3,gee={draw(t,e){const n=jr(e/mee),r=n/2,i=n*c_,o=r,a=n*c_+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Hn*r-Kn*i,Kn*r+Hn*i),t.lineTo(Hn*o-Kn*a,Kn*o+Hn*a),t.lineTo(Hn*s-Kn*l,Kn*s+Hn*l),t.lineTo(Hn*r+Kn*i,Hn*i-Kn*r),t.lineTo(Hn*o+Kn*a,Hn*a-Kn*o),t.lineTo(Hn*s+Kn*l,Hn*l-Kn*s),t.closePath()}};function yee(t,e){let n=null,r=B1(i);t=typeof t=="function"?t:Ge(t||z1),e=typeof e=="function"?e:Ge(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ge(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ge(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function hm(){}function pm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function L$(t){this._context=t}L$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vee(t){return new L$(t)}function V$(t){this._context=t}V$.prototype={areaStart:hm,areaEnd:hm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:pm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bee(t){return new V$(t)}function F$(t){this._context=t}F$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:pm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _ee(t){return new F$(t)}function B$(t){this._context=t}B$.prototype={areaStart:hm,areaEnd:hm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function wee(t){return new B$(t)}function TP(t){return t<0?-1:1}function SP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(TP(o)+TP(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function IP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function e0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function mm(t){this._context=t}mm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:e0(this,this._t0,IP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,e0(this,IP(this,n=SP(this,t,e)),n);break;default:e0(this,this._t0,n=SP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function U$(t){this._context=new z$(t)}(U$.prototype=Object.create(mm.prototype)).point=function(t,e){mm.prototype.point.call(this,e,t)};function z$(t){this._context=t}z$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function xee(t){return new mm(t)}function Eee(t){return new U$(t)}function W$(t){this._context=t}W$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=AP(t),i=AP(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function AP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Tee(t){return new W$(t)}function by(t,e){this._context=t,this._t=e}by.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function See(t){return new by(t,.5)}function Iee(t){return new by(t,0)}function Aee(t){return new by(t,1)}function Il(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function f_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Pee(t,e){return t[e]}function Oee(t){const e=[];return e.key=t,e}function Cee(){var t=Ge([]),e=f_,n=Il,r=Pee;function i(o){var a=Array.from(t.apply(this,arguments),Oee),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=U1(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ge(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ge(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?f_:typeof o=="function"?o:Ge(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Il,i):n},i}function kee(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Il(t,e)}}function Nee(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Il(t,e)}}function Ree(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,p=(f-h)/2,g=0;g<s;++g){var y=t[e[g]],b=y[r][1]||0,x=y[r-1][1]||0;p+=b-x}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Il(t,e)}}function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}var jee=["type","size","sizeType"];function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(this,arguments)}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){Mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mee(t,e,n){return e=Dee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dee(t){var e=$ee(t,"string");return bf(e)=="symbol"?e:e+""}function $ee(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lee(t,e){if(t==null)return{};var n=Vee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var q$={symbolCircle:z1,symbolCross:aee,symbolDiamond:lee,symbolSquare:uee,symbolStar:hee,symbolTriangle:pee,symbolWye:gee},Fee=Math.PI/180,Bee=function(e){var n="symbol".concat(gy(e));return q$[n]||z1},Uee=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Fee;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zee=function(e,n){q$["symbol".concat(gy(e))]=n},W1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=Lee(e,jee),u=OP(OP({},l),{},{type:r,size:o,sizeType:s}),c=function(){var b=Bee(r),x=yee().type(b).size(Uee(o,s,r));return x()},f=u.className,h=u.cx,p=u.cy,g=Ae(u,!0);return h===+h&&p===+p&&o===+o?D.createElement("path",d_({},g,{className:ke("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};W1.registerSymbol=zee;function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(this,arguments)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){_f(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H$(r.key),r)}}function Hee(t,e,n){return e&&Gee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kee(t,e,n){return e=gm(e),Yee(t,G$()?Reflect.construct(e,n||[],gm(t).constructor):e.apply(t,n))}function Yee(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qee(t)}function Qee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G$=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gm(t)}function Xee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p_(t,e)}function p_(t,e){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p_(t,e)}function _f(t,e,n){return e=H$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H$(t){var e=Jee(t,"string");return Al(e)=="symbol"?e:e+""}function Jee(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yn=32,q1=function(t){function e(){return qee(this,e),Kee(this,e,arguments)}return Xee(e,t),Hee(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Yn/2,a=Yn/6,s=Yn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Yn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Yn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Yn/8,"h").concat(Yn,"v").concat(Yn*3/4,"h").concat(-Yn,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=Wee({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(W1,{fill:l,cx:o,cy:o,size:Yn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Yn,height:Yn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,g){var y=p.formatter||l,b=ke(_f(_f({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=we(p.value)?null:p.value;Ti(!we(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return D.createElement("li",h_({className:b,style:f,key:"legend-item-".concat(g)},cm(r.props,p,g)),D.createElement(i_,{width:a,height:a,viewBox:c,style:h},r.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y?y(x,p,g):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(M.PureComponent);_f(q1,"displayName","Legend");_f(q1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Zee=ry;function ete(){this.__data__=new Zee,this.size=0}var tte=ete;function nte(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var rte=nte;function ite(t){return this.__data__.get(t)}var ote=ite;function ate(t){return this.__data__.has(t)}var ste=ate,lte=ry,ute=N1,cte=R1,fte=200;function dte(t,e){var n=this.__data__;if(n instanceof lte){var r=n.__data__;if(!ute||r.length<fte-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new cte(r)}return n.set(t,e),this.size=n.size,this}var hte=dte,pte=ry,mte=tte,gte=rte,yte=ote,vte=ste,bte=hte;function uu(t){var e=this.__data__=new pte(t);this.size=e.size}uu.prototype.clear=mte;uu.prototype.delete=gte;uu.prototype.get=yte;uu.prototype.has=vte;uu.prototype.set=bte;var K$=uu,_te="__lodash_hash_undefined__";function wte(t){return this.__data__.set(t,_te),this}var xte=wte;function Ete(t){return this.__data__.has(t)}var Tte=Ete,Ste=R1,Ite=xte,Ate=Tte;function ym(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ste;++e<n;)this.add(t[e])}ym.prototype.add=ym.prototype.push=Ite;ym.prototype.has=Ate;var Y$=ym;function Pte(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Q$=Pte;function Ote(t,e){return t.has(e)}var X$=Ote,Cte=Y$,kte=Q$,Nte=X$,Rte=1,jte=2;function Mte(t,e,n,r,i,o){var a=n&Rte,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,p=n&jte?new Cte:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var g=t[f],y=e[f];if(r)var b=a?r(y,g,f,e,t,o):r(g,y,f,t,e,o);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!kte(e,function(x,w){if(!Nte(p,w)&&(g===x||i(g,x,n,r,o)))return p.push(w)})){h=!1;break}}else if(!(g===y||i(g,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var J$=Mte,Dte=ei,$te=Dte.Uint8Array,Lte=$te;function Vte(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Fte=Vte;function Bte(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var G1=Bte,kP=Ed,NP=Lte,Ute=k1,zte=J$,Wte=Fte,qte=G1,Gte=1,Hte=2,Kte="[object Boolean]",Yte="[object Date]",Qte="[object Error]",Xte="[object Map]",Jte="[object Number]",Zte="[object RegExp]",ene="[object Set]",tne="[object String]",nne="[object Symbol]",rne="[object ArrayBuffer]",ine="[object DataView]",RP=kP?kP.prototype:void 0,t0=RP?RP.valueOf:void 0;function one(t,e,n,r,i,o,a){switch(n){case ine:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case rne:return!(t.byteLength!=e.byteLength||!o(new NP(t),new NP(e)));case Kte:case Yte:case Jte:return Ute(+t,+e);case Qte:return t.name==e.name&&t.message==e.message;case Zte:case tne:return t==e+"";case Xte:var s=Wte;case ene:var l=r&Gte;if(s||(s=qte),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=Hte,a.set(t,e);var c=zte(s(t),s(e),r,i,o,a);return a.delete(t),c;case nne:if(t0)return t0.call(t)==t0.call(e)}return!1}var ane=one;function sne(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Z$=sne,lne=Z$,une=Pn;function cne(t,e,n){var r=e(t);return une(t)?r:lne(r,n(t))}var fne=cne;function dne(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var hne=dne;function pne(){return[]}var mne=pne,gne=hne,yne=mne,vne=Object.prototype,bne=vne.propertyIsEnumerable,jP=Object.getOwnPropertySymbols,_ne=jP?function(t){return t==null?[]:(t=Object(t),gne(jP(t),function(e){return bne.call(t,e)}))}:yne,wne=_ne;function xne(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Ene=xne,Tne=Ui,Sne=zi,Ine="[object Arguments]";function Ane(t){return Sne(t)&&Tne(t)==Ine}var Pne=Ane,MP=Pne,One=zi,eL=Object.prototype,Cne=eL.hasOwnProperty,kne=eL.propertyIsEnumerable,Nne=MP(function(){return arguments}())?MP:function(t){return One(t)&&Cne.call(t,"callee")&&!kne.call(t,"callee")},H1=Nne,vm={exports:{}};function Rne(){return!1}var jne=Rne;vm.exports;(function(t,e){var n=ei,r=jne,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(vm,vm.exports);var tL=vm.exports,Mne=9007199254740991,Dne=/^(?:0|[1-9]\d*)$/;function $ne(t,e){var n=typeof t;return e=e??Mne,!!e&&(n=="number"||n!="symbol"&&Dne.test(t))&&t>-1&&t%1==0&&t<e}var K1=$ne,Lne=9007199254740991;function Vne(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Lne}var Y1=Vne,Fne=Ui,Bne=Y1,Une=zi,zne="[object Arguments]",Wne="[object Array]",qne="[object Boolean]",Gne="[object Date]",Hne="[object Error]",Kne="[object Function]",Yne="[object Map]",Qne="[object Number]",Xne="[object Object]",Jne="[object RegExp]",Zne="[object Set]",ere="[object String]",tre="[object WeakMap]",nre="[object ArrayBuffer]",rre="[object DataView]",ire="[object Float32Array]",ore="[object Float64Array]",are="[object Int8Array]",sre="[object Int16Array]",lre="[object Int32Array]",ure="[object Uint8Array]",cre="[object Uint8ClampedArray]",fre="[object Uint16Array]",dre="[object Uint32Array]",Xe={};Xe[ire]=Xe[ore]=Xe[are]=Xe[sre]=Xe[lre]=Xe[ure]=Xe[cre]=Xe[fre]=Xe[dre]=!0;Xe[zne]=Xe[Wne]=Xe[nre]=Xe[qne]=Xe[rre]=Xe[Gne]=Xe[Hne]=Xe[Kne]=Xe[Yne]=Xe[Qne]=Xe[Xne]=Xe[Jne]=Xe[Zne]=Xe[ere]=Xe[tre]=!1;function hre(t){return Une(t)&&Bne(t.length)&&!!Xe[Fne(t)]}var pre=hre;function mre(t){return function(e){return t(e)}}var nL=mre,bm={exports:{}};bm.exports;(function(t,e){var n=c$,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(bm,bm.exports);var gre=bm.exports,yre=pre,vre=nL,DP=gre,$P=DP&&DP.isTypedArray,bre=$P?vre($P):yre,rL=bre,_re=Ene,wre=H1,xre=Pn,Ere=tL,Tre=K1,Sre=rL,Ire=Object.prototype,Are=Ire.hasOwnProperty;function Pre(t,e){var n=xre(t),r=!n&&wre(t),i=!n&&!r&&Ere(t),o=!n&&!r&&!i&&Sre(t),a=n||r||i||o,s=a?_re(t.length,String):[],l=s.length;for(var u in t)(e||Are.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Tre(u,l)))&&s.push(u);return s}var Ore=Pre,Cre=Object.prototype;function kre(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Cre;return t===n}var Nre=kre;function Rre(t,e){return function(n){return t(e(n))}}var iL=Rre,jre=iL,Mre=jre(Object.keys,Object),Dre=Mre,$re=Nre,Lre=Dre,Vre=Object.prototype,Fre=Vre.hasOwnProperty;function Bre(t){if(!$re(t))return Lre(t);var e=[];for(var n in Object(t))Fre.call(t,n)&&n!="constructor"&&e.push(n);return e}var Ure=Bre,zre=C1,Wre=Y1;function qre(t){return t!=null&&Wre(t.length)&&!zre(t)}var Ad=qre,Gre=Ore,Hre=Ure,Kre=Ad;function Yre(t){return Kre(t)?Gre(t):Hre(t)}var _y=Yre,Qre=fne,Xre=wne,Jre=_y;function Zre(t){return Qre(t,Jre,Xre)}var eie=Zre,LP=eie,tie=1,nie=Object.prototype,rie=nie.hasOwnProperty;function iie(t,e,n,r,i,o){var a=n&tie,s=LP(t),l=s.length,u=LP(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:rie.call(e,h)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var y=!0;o.set(t,e),o.set(e,t);for(var b=a;++f<l;){h=s[f];var x=t[h],w=e[h];if(r)var _=a?r(w,x,h,e,t,o):r(x,w,h,t,e,o);if(!(_===void 0?x===w||i(x,w,n,r,o):_)){y=!1;break}b||(b=h=="constructor")}if(y&&!b){var P=t.constructor,T=e.constructor;P!=T&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof T=="function"&&T instanceof T)&&(y=!1)}return o.delete(t),o.delete(e),y}var oie=iie,aie=cs,sie=ei,lie=aie(sie,"DataView"),uie=lie,cie=cs,fie=ei,die=cie(fie,"Promise"),hie=die,pie=cs,mie=ei,gie=pie(mie,"Set"),oL=gie,yie=cs,vie=ei,bie=yie(vie,"WeakMap"),_ie=bie,m_=uie,g_=N1,y_=hie,v_=oL,b_=_ie,aL=Ui,cu=d$,VP="[object Map]",wie="[object Object]",FP="[object Promise]",BP="[object Set]",UP="[object WeakMap]",zP="[object DataView]",xie=cu(m_),Eie=cu(g_),Tie=cu(y_),Sie=cu(v_),Iie=cu(b_),fa=aL;(m_&&fa(new m_(new ArrayBuffer(1)))!=zP||g_&&fa(new g_)!=VP||y_&&fa(y_.resolve())!=FP||v_&&fa(new v_)!=BP||b_&&fa(new b_)!=UP)&&(fa=function(t){var e=aL(t),n=e==wie?t.constructor:void 0,r=n?cu(n):"";if(r)switch(r){case xie:return zP;case Eie:return VP;case Tie:return FP;case Sie:return BP;case Iie:return UP}return e});var Aie=fa,n0=K$,Pie=J$,Oie=ane,Cie=oie,WP=Aie,qP=Pn,GP=tL,kie=rL,Nie=1,HP="[object Arguments]",KP="[object Array]",Th="[object Object]",Rie=Object.prototype,YP=Rie.hasOwnProperty;function jie(t,e,n,r,i,o){var a=qP(t),s=qP(e),l=a?KP:WP(t),u=s?KP:WP(e);l=l==HP?Th:l,u=u==HP?Th:u;var c=l==Th,f=u==Th,h=l==u;if(h&&GP(t)){if(!GP(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new n0),a||kie(t)?Pie(t,e,n,r,i,o):Oie(t,e,l,n,r,i,o);if(!(n&Nie)){var p=c&&YP.call(t,"__wrapped__"),g=f&&YP.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,b=g?e.value():e;return o||(o=new n0),i(y,b,n,r,o)}}return h?(o||(o=new n0),Cie(t,e,n,r,i,o)):!1}var Mie=jie,Die=Mie,QP=zi;function sL(t,e,n,r,i){return t===e?!0:t==null||e==null||!QP(t)&&!QP(e)?t!==t&&e!==e:Die(t,e,n,r,sL,i)}var Q1=sL,$ie=K$,Lie=Q1,Vie=1,Fie=2;function Bie(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new $ie;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?Lie(c,u,Vie|Fie,r,f):h))return!1}}return!0}var Uie=Bie,zie=Ho;function Wie(t){return t===t&&!zie(t)}var lL=Wie,qie=lL,Gie=_y;function Hie(t){for(var e=Gie(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,qie(i)]}return e}var Kie=Hie;function Yie(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var uL=Yie,Qie=Uie,Xie=Kie,Jie=uL;function Zie(t){var e=Xie(t);return e.length==1&&e[0][2]?Jie(e[0][0],e[0][1]):function(n){return n===t||Qie(n,t,e)}}var eoe=Zie;function toe(t,e){return t!=null&&e in Object(t)}var noe=toe,roe=y$,ioe=H1,ooe=Pn,aoe=K1,soe=Y1,loe=oy;function uoe(t,e,n){e=roe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=loe(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&soe(i)&&aoe(a,i)&&(ooe(t)||ioe(t)))}var coe=uoe,foe=noe,doe=coe;function hoe(t,e){return t!=null&&doe(t,e,foe)}var poe=hoe,moe=Q1,goe=v$,yoe=poe,voe=O1,boe=lL,_oe=uL,woe=oy,xoe=1,Eoe=2;function Toe(t,e){return voe(t)&&boe(e)?_oe(woe(t),e):function(n){var r=goe(n,t);return r===void 0&&r===e?yoe(n,t):moe(e,r,xoe|Eoe)}}var Soe=Toe;function Ioe(t){return t}var fu=Ioe;function Aoe(t){return function(e){return e==null?void 0:e[t]}}var Poe=Aoe,Ooe=D1;function Coe(t){return function(e){return Ooe(e,t)}}var koe=Coe,Noe=Poe,Roe=koe,joe=O1,Moe=oy;function Doe(t){return joe(t)?Noe(Moe(t)):Roe(t)}var $oe=Doe,Loe=eoe,Voe=Soe,Foe=fu,Boe=Pn,Uoe=$oe;function zoe(t){return typeof t=="function"?t:t==null?Foe:typeof t=="object"?Boe(t)?Voe(t[0],t[1]):Loe(t):Uoe(t)}var Ko=zoe;function Woe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var cL=Woe;function qoe(t){return t!==t}var Goe=qoe;function Hoe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Koe=Hoe,Yoe=cL,Qoe=Goe,Xoe=Koe;function Joe(t,e,n){return e===e?Xoe(t,e,n):Yoe(t,Qoe,n)}var Zoe=Joe,eae=Zoe;function tae(t,e){var n=t==null?0:t.length;return!!n&&eae(t,e,0)>-1}var nae=tae;function rae(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var iae=rae;function oae(){}var aae=oae,r0=oL,sae=aae,lae=G1,uae=1/0,cae=r0&&1/lae(new r0([,-0]))[1]==uae?function(t){return new r0(t)}:sae,fae=cae,dae=Y$,hae=nae,pae=iae,mae=X$,gae=fae,yae=G1,vae=200;function bae(t,e,n){var r=-1,i=hae,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=pae;else if(o>=vae){var u=e?null:gae(t);if(u)return yae(u);a=!1,i=mae,l=new dae}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var _ae=bae,wae=Ko,xae=_ae;function Eae(t,e){return t&&t.length?xae(t,wae(e)):[]}var Tae=Eae;const XP=We(Tae);function fL(t,e,n){return e===!0?XP(t,n):we(e)?XP(t,e):t}function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}var Sae=["ref"];function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){wy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hL(r.key),r)}}function Aae(t,e,n){return e&&ZP(t.prototype,e),n&&ZP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pae(t,e,n){return e=_m(e),Oae(t,dL()?Reflect.construct(e,n||[],_m(t).constructor):e.apply(t,n))}function Oae(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cae(t)}function Cae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dL=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_m(t)}function kae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&__(t,e)}function __(t,e){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},__(t,e)}function wy(t,e,n){return e=hL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hL(t){var e=Nae(t,"string");return Pl(e)=="symbol"?e:e+""}function Nae(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rae(t,e){if(t==null)return{};var n=jae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mae(t){return t.value}function Dae(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var n=Rae(e,Sae);return D.createElement(q1,n)}var eO=1,ka=function(t){function e(){var n;Iae(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Pae(this,e,[].concat(i)),wy(n,"lastBoundingBox",{width:-1,height:-1}),n}return kae(e,t),Aae(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>eO||Math.abs(i.height-this.lastBoundingBox.height)>eO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ai({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((c||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ai(ai({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=ai(ai({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},Dae(o,ai(ai({},this.props),{},{payload:fL(c,u,Mae)})))}}],[{key:"getWithHeight",value:function(r,i){var o=ai(ai({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&te(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(M.PureComponent);wy(ka,"displayName","Legend");wy(ka,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var tO=Ed,$ae=H1,Lae=Pn,nO=tO?tO.isConcatSpreadable:void 0;function Vae(t){return Lae(t)||$ae(t)||!!(nO&&t&&t[nO])}var Fae=Vae,Bae=Z$,Uae=Fae;function pL(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Uae),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?pL(s,e-1,n,r,i):Bae(i,s):r||(i[i.length]=s)}return i}var mL=pL;function zae(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var Wae=zae,qae=Wae,Gae=qae(),Hae=Gae,Kae=Hae,Yae=_y;function Qae(t,e){return t&&Kae(t,e,Yae)}var gL=Qae,Xae=Ad;function Jae(t,e){return function(n,r){if(n==null)return n;if(!Xae(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var Zae=Jae,ese=gL,tse=Zae,nse=tse(ese),X1=nse,rse=X1,ise=Ad;function ose(t,e){var n=-1,r=ise(t)?Array(t.length):[];return rse(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var yL=ose;function ase(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var sse=ase,rO=iu;function lse(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=rO(t),a=e!==void 0,s=e===null,l=e===e,u=rO(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var use=lse,cse=use;function fse(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=cse(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var dse=fse,i0=M1,hse=D1,pse=Ko,mse=yL,gse=sse,yse=nL,vse=dse,bse=fu,_se=Pn;function wse(t,e,n){e.length?e=i0(e,function(o){return _se(o)?function(a){return hse(a,o.length===1?o[0]:o)}:o}):e=[bse];var r=-1;e=i0(e,yse(pse));var i=mse(t,function(o,a,s){var l=i0(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return gse(i,function(o,a){return vse(o,a,n)})}var xse=wse;function Ese(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Tse=Ese,Sse=Tse,iO=Math.max;function Ise(t,e,n){return e=iO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=iO(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),Sse(t,this,s)}}var Ase=Ise;function Pse(t){return function(){return t}}var Ose=Pse,Cse=cs,kse=function(){try{var t=Cse(Object,"defineProperty");return t({},"",{}),t}catch{}}(),vL=kse,Nse=Ose,oO=vL,Rse=fu,jse=oO?function(t,e){return oO(t,"toString",{configurable:!0,enumerable:!1,value:Nse(e),writable:!0})}:Rse,Mse=jse,Dse=800,$se=16,Lse=Date.now;function Vse(t){var e=0,n=0;return function(){var r=Lse(),i=$se-(r-n);if(n=r,i>0){if(++e>=Dse)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Fse=Vse,Bse=Mse,Use=Fse,zse=Use(Bse),Wse=zse,qse=fu,Gse=Ase,Hse=Wse;function Kse(t,e){return Hse(Gse(t,e,qse),t+"")}var Yse=Kse,Qse=k1,Xse=Ad,Jse=K1,Zse=Ho;function ele(t,e,n){if(!Zse(n))return!1;var r=typeof e;return(r=="number"?Xse(n)&&Jse(e,n.length):r=="string"&&e in n)?Qse(n[e],t):!1}var xy=ele,tle=mL,nle=xse,rle=Yse,aO=xy,ile=rle(function(t,e){if(t==null)return[];var n=e.length;return n>1&&aO(t,e[0],e[1])?e=[]:n>2&&aO(e[0],e[1],e[2])&&(e=[e[0]]),nle(t,tle(e,1),[])}),ole=ile;const J1=We(ole);function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}function ale(t,e){return cle(t)||ule(t,e)||lle(t,e)||sle()}function sle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lle(t,e){if(t){if(typeof t=="string")return sO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sO(t,e)}}function sO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ule(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function cle(t){if(Array.isArray(t))return t}function lO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(n),!0).forEach(function(r){fle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fle(t,e,n){return e=dle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=hle(t,"string");return wf(e)=="symbol"?e:e+""}function hle(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ple(t){return Array.isArray(t)&&Pt(t[0])&&Pt(t[1])?t.join(" ~ "):t}var mle=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,y=e.label,b=e.labelFormatter,x=e.accessibilityLayer,w=x===void 0?!1:x,_=function(){if(c&&c.length){var R={padding:0,margin:0},N=(h?J1(c,h):c).map(function(U,B){if(U.type==="none")return null;var G=o0({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},s),H=U.formatter||f||ple,V=U.value,W=U.name,Y=V,re=W;if(H&&Y!=null&&re!=null){var Q=H(V,W,U,B,c);if(Array.isArray(Q)){var oe=ale(Q,2);Y=oe[0],re=oe[1]}else Y=Q}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:G},Pt(re)?D.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Pt(re)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},Y),D.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:R},N)}return null},P=o0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=o0({margin:0},u),I=!Se(y),E=I?y:"",S=ke("recharts-default-tooltip",p),O=ke("recharts-tooltip-label",g);I&&b&&c!==void 0&&c!==null&&(E=b(y,c));var k=w?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",w_({className:S,style:P},k),D.createElement("p",{className:O,style:T},D.isValidElement(E)?E:"".concat(E)),_())};function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function Sh(t,e,n){return e=gle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gle(t){var e=yle(t,"string");return xf(e)=="symbol"?e:e+""}function yle(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qu="recharts-tooltip-wrapper",vle={visibility:"hidden"};function ble(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ke(Qu,Sh(Sh(Sh(Sh({},"".concat(Qu,"-right"),te(n)&&e&&te(e.x)&&n>=e.x),"".concat(Qu,"-left"),te(n)&&e&&te(e.x)&&n<e.x),"".concat(Qu,"-bottom"),te(r)&&e&&te(e.y)&&r>=e.y),"".concat(Qu,"-top"),te(r)&&e&&te(e.y)&&r<e.y))}function uO(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&te(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var h=c,p=l[r];return h<p?Math.max(f,l[r]):Math.max(c,l[r])}var g=f+s,y=l[r]+u;return g>y?Math.max(c,l[r]):Math.max(f,l[r])}function _le(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function wle(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=uO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=uO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=_le({translateX:c,translateY:f,useTranslate3d:s})):u=vle,{cssProperties:u,cssClasses:ble({translateX:c,translateY:f,coordinate:n})}}function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){E_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ele(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_L(r.key),r)}}function Tle(t,e,n){return e&&Ele(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sle(t,e,n){return e=wm(e),Ile(t,bL()?Reflect.construct(e,n||[],wm(t).constructor):e.apply(t,n))}function Ile(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ale(t)}function Ale(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bL=function(){return!!t})()}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wm(t)}function Ple(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x_(t,e)}function x_(t,e){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x_(t,e)}function E_(t,e,n){return e=_L(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _L(t){var e=Ole(t,"string");return Ol(e)=="symbol"?e:e+""}function Ole(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dO=1,Cle=function(t){function e(){var n;xle(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Sle(this,e,[].concat(i)),E_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),E_(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Ple(e,t),Tle(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>dO||Math.abs(r.height-this.state.lastBoundingBox.height)>dO)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,y=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,w=i.wrapperStyle,_=wle({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:x}),P=_.cssClasses,T=_.cssProperties,I=fO(fO({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return D.createElement("div",{tabIndex:-1,className:P,style:I,ref:function(S){r.wrapperNode=S}},u)}}])}(M.PureComponent),kle=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},du={isSsr:kle()};function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){Z1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xL(r.key),r)}}function jle(t,e,n){return e&&Rle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mle(t,e,n){return e=xm(e),Dle(t,wL()?Reflect.construct(e,n||[],xm(t).constructor):e.apply(t,n))}function Dle(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $le(t)}function $le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wL=function(){return!!t})()}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xm(t)}function Lle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T_(t,e)}function T_(t,e){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T_(t,e)}function Z1(t,e,n){return e=xL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xL(t){var e=Vle(t,"string");return Cl(e)=="symbol"?e:e+""}function Vle(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Fle(t){return t.dataKey}function Ble(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(mle,e)}var Vr=function(t){function e(){return Nle(this,e),Mle(this,e,arguments)}return Lle(e,t),jle(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,y=i.payloadUniqBy,b=i.position,x=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,P=i.wrapperStyle,T=g??[];f&&T.length&&(T=fL(g.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),y,Fle));var I=T.length>0;return D.createElement(Cle,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:I,offset:p,position:b,reverseDirection:x,useTranslate3d:w,viewBox:_,wrapperStyle:P},Ble(u,pO(pO({},this.props),{},{payload:T})))}}])}(M.PureComponent);Z1(Vr,"displayName","Tooltip");Z1(Vr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!du.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ule=ei,zle=function(){return Ule.Date.now()},Wle=zle,qle=/\s/;function Gle(t){for(var e=t.length;e--&&qle.test(t.charAt(e)););return e}var Hle=Gle,Kle=Hle,Yle=/^\s+/;function Qle(t){return t&&t.slice(0,Kle(t)+1).replace(Yle,"")}var Xle=Qle,Jle=Xle,mO=Ho,Zle=iu,gO=NaN,eue=/^[-+]0x[0-9a-f]+$/i,tue=/^0b[01]+$/i,nue=/^0o[0-7]+$/i,rue=parseInt;function iue(t){if(typeof t=="number")return t;if(Zle(t))return gO;if(mO(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=mO(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Jle(t);var n=tue.test(t);return n||nue.test(t)?rue(t.slice(2),n?2:8):eue.test(t)?gO:+t}var EL=iue,oue=Ho,a0=Wle,yO=EL,aue="Expected a function",sue=Math.max,lue=Math.min;function uue(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(aue);e=yO(e)||0,oue(n)&&(c=!!n.leading,f="maxWait"in n,o=f?sue(yO(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(I){var E=r,S=i;return r=i=void 0,u=I,a=t.apply(S,E),a}function g(I){return u=I,s=setTimeout(x,e),c?p(I):a}function y(I){var E=I-l,S=I-u,O=e-E;return f?lue(O,o-S):O}function b(I){var E=I-l,S=I-u;return l===void 0||E>=e||E<0||f&&S>=o}function x(){var I=a0();if(b(I))return w(I);s=setTimeout(x,y(I))}function w(I){return s=void 0,h&&r?p(I):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function P(){return s===void 0?a:w(a0())}function T(){var I=a0(),E=b(I);if(r=arguments,i=this,l=I,E){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(x,e),p(l)}return s===void 0&&(s=setTimeout(x,e)),a}return T.cancel=_,T.flush=P,T}var cue=uue,fue=cue,due=Ho,hue="Expected a function";function pue(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(hue);return due(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),fue(t,e,{leading:r,maxWait:e,trailing:i})}var mue=pue;const TL=We(mue);function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ih(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){gue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gue(t,e,n){return e=yue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yue(t){var e=vue(t,"string");return Ef(e)=="symbol"?e:e+""}function vue(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bue(t,e){return Eue(t)||xue(t,e)||wue(t,e)||_ue()}function _ue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wue(t,e){if(t){if(typeof t=="string")return bO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bO(t,e)}}function bO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Eue(t){if(Array.isArray(t))return t}var Tue=M.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,y=g===void 0?0:g,b=t.id,x=t.className,w=t.onResize,_=t.style,P=_===void 0?{}:_,T=M.useRef(null),I=M.useRef();I.current=w,M.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var E=M.useState({containerWidth:i.width,containerHeight:i.height}),S=bue(E,2),O=S[0],k=S[1],C=M.useCallback(function(N,U){k(function(B){var G=Math.round(N),H=Math.round(U);return B.containerWidth===G&&B.containerHeight===H?B:{containerWidth:G,containerHeight:H}})},[]);M.useEffect(function(){var N=function(W){var Y,re=W[0].contentRect,Q=re.width,oe=re.height;C(Q,oe),(Y=I.current)===null||Y===void 0||Y.call(I,Q,oe)};y>0&&(N=TL(N,y,{trailing:!0,leading:!1}));var U=new ResizeObserver(N),B=T.current.getBoundingClientRect(),G=B.width,H=B.height;return C(G,H),U.observe(T.current),function(){U.disconnect()}},[C,y]);var R=M.useMemo(function(){var N=O.containerWidth,U=O.containerHeight;if(N<0||U<0)return null;Ti(xa(a)||xa(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Ti(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=xa(a)?N:a,G=xa(l)?U:l;n&&n>0&&(B?G=B/n:G&&(B=G*n),h&&G>h&&(G=h)),Ti(B>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,G,a,l,c,f,n);var H=!Array.isArray(p)&&Ei(p.type).endsWith("Chart");return D.Children.map(p,function(V){return D.isValidElement(V)?M.cloneElement(V,Ih({width:B,height:G},H?{style:Ih({height:"100%",width:"100%",maxHeight:G,maxWidth:B},V.props.style)}:{})):V})},[n,p,l,h,f,c,O,a]);return D.createElement("div",{id:b?"".concat(b):void 0,className:ke("recharts-responsive-container",x),style:Ih(Ih({},P),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:T},R)}),SL=function(e){return null};SL.displayName="Cell";function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){Sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sue(t,e,n){return e=Iue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iue(t){var e=Aue(t,"string");return Tf(e)=="symbol"?e:e+""}function Aue(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ts={widthCache:{},cacheCount:0},Pue=2e3,Oue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wO="recharts_measurement_span";function Cue(t){var e=S_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var jc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||du.isSsr)return{width:0,height:0};var r=Cue(n),i=JSON.stringify({text:e,copyStyle:r});if(Ts.widthCache[i])return Ts.widthCache[i];try{var o=document.getElementById(wO);o||(o=document.createElement("span"),o.setAttribute("id",wO),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=S_(S_({},Oue),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Ts.widthCache[i]=l,++Ts.cacheCount>Pue&&(Ts.cacheCount=0,Ts.widthCache={}),l}catch{return{width:0,height:0}}},kue=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function Em(t,e){return Mue(t)||jue(t,e)||Rue(t,e)||Nue()}function Nue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rue(t,e){if(t){if(typeof t=="string")return xO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xO(t,e)}}function xO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Mue(t){if(Array.isArray(t))return t}function Due(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lue(r.key),r)}}function $ue(t,e,n){return e&&EO(t.prototype,e),n&&EO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lue(t){var e=Vue(t,"string");return Sf(e)=="symbol"?e:e+""}function Vue(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var TO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,IL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Uue=Object.keys(IL),qs="NaN";function zue(t,e){return t*IL[e]}var Ah=function(){function t(e,n){Due(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Fue.test(n)&&(this.num=NaN,this.unit=""),Uue.includes(n)&&(this.num=zue(e,n),this.unit="px")}return $ue(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Bue.exec(n))!==null&&r!==void 0?r:[],o=Em(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function AL(t){if(t.includes(qs))return qs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=TO.exec(e))!==null&&n!==void 0?n:[],i=Em(r,4),o=i[1],a=i[2],s=i[3],l=Ah.parse(o??""),u=Ah.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return qs;e=e.replace(TO,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=SO.exec(e))!==null&&f!==void 0?f:[],p=Em(h,4),g=p[1],y=p[2],b=p[3],x=Ah.parse(g??""),w=Ah.parse(b??""),_=y==="+"?x.add(w):x.subtract(w);if(_.isNaN())return qs;e=e.replace(SO,_.toString())}return e}var IO=/\(([^()]*)\)/;function Wue(t){for(var e=t;e.includes("(");){var n=IO.exec(e),r=Em(n,2),i=r[1];e=e.replace(IO,AL(i))}return e}function que(t){var e=t.replace(/\s+/g,"");return e=Wue(e),e=AL(e),e}function Gue(t){try{return que(t)}catch{return qs}}function s0(t){var e=Gue(t.slice(5,-1));return e===qs?"":e}var Hue=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Kue=["dx","dy","angle","className","breakAll"];function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}function AO(t,e){if(t==null)return{};var n=Yue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PO(t,e){return Zue(t)||Jue(t,e)||Xue(t,e)||Que()}function Que(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xue(t,e){if(t){if(typeof t=="string")return OO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OO(t,e)}}function OO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Zue(t){if(Array.isArray(t))return t}var PL=/[ \f\n\r\t\v\u2028\u2029]+/,OL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Se(n)||(r?o=n.toString().split(""):o=n.toString().split(PL));var a=o.map(function(l){return{word:l,width:jc(l,i).width}}),s=r?0:jc(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},ece=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=te(a),f=s,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(G,H){var V=H.word,W=H.width,Y=G[G.length-1];if(Y&&(i==null||o||Y.width+W+r<Number(i)))Y.words.push(V),Y.width+=W+r;else{var re={words:[V],width:W};G.push(re)}return G},[])},p=h(n),g=function(B){return B.reduce(function(G,H){return G.width>H.width?G:H})};if(!c)return p;for(var y="…",b=function(B){var G=f.slice(0,B),H=OL({breakAll:u,style:l,children:G+y}).wordsWithComputedWidth,V=h(H),W=V.length>a||g(V).width>Number(i);return[W,V]},x=0,w=f.length-1,_=0,P;x<=w&&_<=f.length-1;){var T=Math.floor((x+w)/2),I=T-1,E=b(I),S=PO(E,2),O=S[0],k=S[1],C=b(T),R=PO(C,1),N=R[0];if(!O&&!N&&(x=T+1),O&&N&&(w=T-1),!O&&N){P=k;break}_++}return P||p},CO=function(e){var n=Se(e)?[]:e.toString().split(PL);return[{words:n}]},tce=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!du.isSsr){var l,u,c=OL({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return CO(i);return ece({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return CO(i)},kO="#808080",Tm=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,y=g===void 0?"end":g,b=e.fill,x=b===void 0?kO:b,w=AO(e,Hue),_=M.useMemo(function(){return tce({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),P=w.dx,T=w.dy,I=w.angle,E=w.className,S=w.breakAll,O=AO(w,Kue);if(!Pt(r)||!Pt(o))return null;var k=r+(te(P)?P:0),C=o+(te(T)?T:0),R;switch(y){case"start":R=s0("calc(".concat(u,")"));break;case"middle":R=s0("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=s0("calc(".concat(_.length-1," * -").concat(s,")"));break}var N=[];if(f){var U=_[0].width,B=w.width;N.push("scale(".concat((te(B)?B/U:1)/U,")"))}return I&&N.push("rotate(".concat(I,", ").concat(k,", ").concat(C,")")),N.length&&(O.transform=N.join(" ")),D.createElement("text",I_({},Ae(O,!0),{x:k,y:C,className:ke("recharts-text",E),textAnchor:p,fill:x.includes("url")?kO:x}),_.map(function(G,H){var V=G.words.join(S?"":" ");return D.createElement("tspan",{x:k,dy:H===0?R:s,key:"".concat(V,"-").concat(H)},V)}))};function Co(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nce(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eE(t){let e,n,r;t.length!==2?(e=Co,n=(s,l)=>Co(t(s),l),r=(s,l)=>t(s)-l):(e=t===Co||t===nce?t:rce,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function rce(){return 0}function CL(t){return t===null?NaN:+t}function*ice(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const oce=eE(Co),Pd=oce.right;eE(CL).center;class NO extends Map{constructor(e,n=lce){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(RO(this,e))}has(e){return super.has(RO(this,e))}set(e,n){return super.set(ace(this,e),n)}delete(e){return super.delete(sce(this,e))}}function RO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ace({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function sce({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function lce(t){return t!==null&&typeof t=="object"?t.valueOf():t}function uce(t=Co){if(t===Co)return kL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function kL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const cce=Math.sqrt(50),fce=Math.sqrt(10),dce=Math.sqrt(2);function Sm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=cce?10:o>=fce?5:o>=dce?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Sm(t,e,n*2):[s,l,u]}function A_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Sm(e,t,n):Sm(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function P_(t,e,n){return e=+e,t=+t,n=+n,Sm(t,e,n)[2]}function O_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?P_(e,t,n):P_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function jO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function MO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function NL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?kL:uce(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+h)),g=Math.min(r,Math.floor(e+(l-u)*f/l+h));NL(t,e,p,g,i)}const o=t[e];let a=n,s=r;for(Xu(t,n,e),i(t[r],o)>0&&Xu(t,n,r);a<s;){for(Xu(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Xu(t,n,s):(++s,Xu(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Xu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function hce(t,e,n){if(t=Float64Array.from(ice(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return MO(t);if(e>=1)return jO(t);var r,i=(r-1)*e,o=Math.floor(i),a=jO(NL(t,o).subarray(0,o+1)),s=MO(t.subarray(o+1));return a+(s-a)*(i-o)}}function pce(t,e,n=CL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function mce(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function hr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Wi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const C_=Symbol("implicit");function tE(){var t=new NO,e=[],n=[],r=C_;function i(o){let a=t.get(o);if(a===void 0){if(r!==C_)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new NO;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return tE(e,n).unknown(r)},hr.apply(i,arguments),i}function If(){var t=tE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,p=i<r,g=p?i:r,y=p?r:i;o=(y-g)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),g+=(y-g-o*(h-l))*c,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var b=mce(h).map(function(x){return g+o*x});return n(p?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return If(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},hr.apply(f(),arguments)}function RL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return RL(e())},t}function Mc(){return RL(If.apply(null,arguments).paddingInner(1))}function nE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function jL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Od(){}var Af=.7,Im=1/Af,ol="\\s*([+-]?\\d+)\\s*",Pf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gce=/^#([0-9a-f]{3,8})$/,yce=new RegExp(`^rgb\\(${ol},${ol},${ol}\\)$`),vce=new RegExp(`^rgb\\(${Kr},${Kr},${Kr}\\)$`),bce=new RegExp(`^rgba\\(${ol},${ol},${ol},${Pf}\\)$`),_ce=new RegExp(`^rgba\\(${Kr},${Kr},${Kr},${Pf}\\)$`),wce=new RegExp(`^hsl\\(${Pf},${Kr},${Kr}\\)$`),xce=new RegExp(`^hsla\\(${Pf},${Kr},${Kr},${Pf}\\)$`),DO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nE(Od,Of,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:$O,formatHex:$O,formatHex8:Ece,formatHsl:Tce,formatRgb:LO,toString:LO});function $O(){return this.rgb().formatHex()}function Ece(){return this.rgb().formatHex8()}function Tce(){return ML(this).formatHsl()}function LO(){return this.rgb().formatRgb()}function Of(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=gce.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?VO(e):n===3?new En(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ph(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ph(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=yce.exec(t))?new En(e[1],e[2],e[3],1):(e=vce.exec(t))?new En(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bce.exec(t))?Ph(e[1],e[2],e[3],e[4]):(e=_ce.exec(t))?Ph(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=wce.exec(t))?UO(e[1],e[2]/100,e[3]/100,1):(e=xce.exec(t))?UO(e[1],e[2]/100,e[3]/100,e[4]):DO.hasOwnProperty(t)?VO(DO[t]):t==="transparent"?new En(NaN,NaN,NaN,0):null}function VO(t){return new En(t>>16&255,t>>8&255,t&255,1)}function Ph(t,e,n,r){return r<=0&&(t=e=n=NaN),new En(t,e,n,r)}function Sce(t){return t instanceof Od||(t=Of(t)),t?(t=t.rgb(),new En(t.r,t.g,t.b,t.opacity)):new En}function k_(t,e,n,r){return arguments.length===1?Sce(t):new En(t,e,n,r??1)}function En(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}nE(En,k_,jL(Od,{brighter(t){return t=t==null?Im:Math.pow(Im,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Af:Math.pow(Af,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new En(Na(this.r),Na(this.g),Na(this.b),Am(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FO,formatHex:FO,formatHex8:Ice,formatRgb:BO,toString:BO}));function FO(){return`#${Ea(this.r)}${Ea(this.g)}${Ea(this.b)}`}function Ice(){return`#${Ea(this.r)}${Ea(this.g)}${Ea(this.b)}${Ea((isNaN(this.opacity)?1:this.opacity)*255)}`}function BO(){const t=Am(this.opacity);return`${t===1?"rgb(":"rgba("}${Na(this.r)}, ${Na(this.g)}, ${Na(this.b)}${t===1?")":`, ${t})`}`}function Am(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Na(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ea(t){return t=Na(t),(t<16?"0":"")+t.toString(16)}function UO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Tr(t,e,n,r)}function ML(t){if(t instanceof Tr)return new Tr(t.h,t.s,t.l,t.opacity);if(t instanceof Od||(t=Of(t)),!t)return new Tr;if(t instanceof Tr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Tr(a,s,l,t.opacity)}function Ace(t,e,n,r){return arguments.length===1?ML(t):new Tr(t,e,n,r??1)}function Tr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}nE(Tr,Ace,jL(Od,{brighter(t){return t=t==null?Im:Math.pow(Im,t),new Tr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Af:Math.pow(Af,t),new Tr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new En(l0(t>=240?t-240:t+120,i,r),l0(t,i,r),l0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Tr(zO(this.h),Oh(this.s),Oh(this.l),Am(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Am(this.opacity);return`${t===1?"hsl(":"hsla("}${zO(this.h)}, ${Oh(this.s)*100}%, ${Oh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function zO(t){return t=(t||0)%360,t<0?t+360:t}function Oh(t){return Math.max(0,Math.min(1,t||0))}function l0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const rE=t=>()=>t;function Pce(t,e){return function(n){return t+n*e}}function Oce(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Cce(t){return(t=+t)==1?DL:function(e,n){return n-e?Oce(e,n,t):rE(isNaN(e)?n:e)}}function DL(t,e){var n=e-t;return n?Pce(t,n):rE(isNaN(t)?e:t)}const WO=function t(e){var n=Cce(e);function r(i,o){var a=n((i=k_(i)).r,(o=k_(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=DL(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function kce(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Nce(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Rce(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=hu(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function jce(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Pm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Mce(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=hu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var N_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,u0=new RegExp(N_.source,"g");function Dce(t){return function(){return t}}function $ce(t){return function(e){return t(e)+""}}function Lce(t,e){var n=N_.lastIndex=u0.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=N_.exec(t))&&(i=u0.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Pm(r,i)})),n=u0.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?$ce(l[0].x):Dce(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function hu(t,e){var n=typeof e,r;return e==null||n==="boolean"?rE(e):(n==="number"?Pm:n==="string"?(r=Of(e))?(e=r,WO):Lce:e instanceof Of?WO:e instanceof Date?jce:Nce(e)?kce:Array.isArray(e)?Rce:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Mce:Pm)(t,e)}function iE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Vce(t,e){e===void 0&&(e=t,t=hu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Fce(t){return function(){return t}}function Om(t){return+t}var qO=[0,1];function pn(t){return t}function R_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Fce(isNaN(e)?NaN:.5)}function Bce(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Uce(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=R_(i,r),o=n(a,o)):(r=R_(r,i),o=n(o,a)),function(s){return o(r(s))}}function zce(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=R_(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Pd(t,s,1,r)-1;return o[l](i[l](s))}}function Cd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ey(){var t=qO,e=qO,n=hu,r,i,o,a=pn,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==pn&&(a=Bce(t[0],t[h-1])),s=h>2?zce:Uce,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),Pm)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Om),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=iE,c()},f.clamp=function(h){return arguments.length?(a=h?!0:pn,c()):a!==pn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return r=h,i=p,c()}}function oE(){return Ey()(pn,pn)}function Wce(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function kl(t){return t=Cm(Math.abs(t)),t?t[1]:NaN}function qce(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Gce(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Hce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cf(t){if(!(e=Hce.exec(t)))throw new Error("invalid format: "+t);var e;return new aE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Cf.prototype=aE.prototype;function aE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}aE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kce(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var $L;function Yce(t,e){var n=Cm(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-($L=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Cm(t,Math.max(0,e+o-1))[0]}function GO(t,e){var n=Cm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const HO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Wce,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>GO(t*100,e),r:GO,s:Yce,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function KO(t){return t}var YO=Array.prototype.map,QO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Qce(t){var e=t.grouping===void 0||t.thousands===void 0?KO:qce(YO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?KO:Gce(YO.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Cf(f);var h=f.fill,p=f.align,g=f.sign,y=f.symbol,b=f.zero,x=f.width,w=f.comma,_=f.precision,P=f.trim,T=f.type;T==="n"?(w=!0,T="g"):HO[T]||(_===void 0&&(_=12),P=!0,T="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var I=y==="$"?n:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",E=y==="$"?r:/[%p]/.test(T)?a:"",S=HO[T],O=/[defgprs%]/.test(T);_=_===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function k(C){var R=I,N=E,U,B,G;if(T==="c")N=S(C)+N,C="";else{C=+C;var H=C<0||1/C<0;if(C=isNaN(C)?l:S(Math.abs(C),_),P&&(C=Kce(C)),H&&+C==0&&g!=="+"&&(H=!1),R=(H?g==="("?g:s:g==="-"||g==="("?"":g)+R,N=(T==="s"?QO[8+$L/3]:"")+N+(H&&g==="("?")":""),O){for(U=-1,B=C.length;++U<B;)if(G=C.charCodeAt(U),48>G||G>57){N=(G===46?i+C.slice(U+1):C.slice(U))+N,C=C.slice(0,U);break}}}w&&!b&&(C=e(C,1/0));var V=R.length+C.length+N.length,W=V<x?new Array(x-V+1).join(h):"";switch(w&&b&&(C=e(W+C,W.length?x-N.length:1/0),W=""),p){case"<":C=R+C+N+W;break;case"=":C=R+W+C+N;break;case"^":C=W.slice(0,V=W.length>>1)+R+C+N+W.slice(V);break;default:C=W+R+C+N;break}return o(C)}return k.toString=function(){return f+""},k}function c(f,h){var p=u((f=Cf(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(kl(h)/3)))*3,y=Math.pow(10,-g),b=QO[8+g/3];return function(x){return p(y*x)+b}}return{format:u,formatPrefix:c}}var Ch,sE,LL;Xce({thousands:",",grouping:[3],currency:["$",""]});function Xce(t){return Ch=Qce(t),sE=Ch.format,LL=Ch.formatPrefix,Ch}function Jce(t){return Math.max(0,-kl(Math.abs(t)))}function Zce(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kl(e)/3)))*3-kl(Math.abs(t)))}function efe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,kl(e)-kl(t))+1}function VL(t,e,n,r){var i=O_(t,e,n),o;switch(r=Cf(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Zce(i,a))&&(r.precision=o),LL(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=efe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Jce(i))&&(r.precision=o-(r.type==="%")*2);break}}return sE(r)}function Yo(t){var e=t.domain;return t.ticks=function(n){var r=e();return A_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return VL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=P_(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function km(){var t=oE();return t.copy=function(){return Cd(t,km())},hr.apply(t,arguments),Yo(t)}function FL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Om),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return FL(t).unknown(e)},t=arguments.length?Array.from(t,Om):[0,1],Yo(n)}function BL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function XO(t){return Math.log(t)}function JO(t){return Math.exp(t)}function tfe(t){return-Math.log(-t)}function nfe(t){return-Math.exp(-t)}function rfe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ife(t){return t===10?rfe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ofe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ZO(t){return(e,n)=>-t(-e,n)}function lE(t){const e=t(XO,JO),n=e.domain;let r=10,i,o;function a(){return i=ofe(r),o=ife(r),n()[0]<0?(i=ZO(i),o=ZO(o),t(tfe,nfe)):t(XO,JO),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),g,y;const b=s==null?10:+s;let x=[];if(!(r%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<r;++g)if(y=h<0?g/o(-h):g*o(h),!(y<u)){if(y>c)break;x.push(y)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(y=h>0?g/o(-h):g*o(h),!(y<u)){if(y>c)break;x.push(y)}x.length*2<b&&(x=A_(u,c,b))}else x=A_(h,p,Math.min(p-h,b)).map(o);return f?x.reverse():x},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Cf(l)).precision==null&&(l.trim=!0),l=sE(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(BL(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function UL(){const t=lE(Ey()).domain([1,10]);return t.copy=()=>Cd(t,UL()).base(t.base()),hr.apply(t,arguments),t}function eC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function tC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function uE(t){var e=1,n=t(eC(e),tC(e));return n.constant=function(r){return arguments.length?t(eC(e=+r),tC(e)):e},Yo(n)}function zL(){var t=uE(Ey());return t.copy=function(){return Cd(t,zL()).constant(t.constant())},hr.apply(t,arguments)}function nC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function afe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function sfe(t){return t<0?-t*t:t*t}function cE(t){var e=t(pn,pn),n=1;function r(){return n===1?t(pn,pn):n===.5?t(afe,sfe):t(nC(n),nC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Yo(e)}function fE(){var t=cE(Ey());return t.copy=function(){return Cd(t,fE()).exponent(t.exponent())},hr.apply(t,arguments),t}function lfe(){return fE.apply(null,arguments).exponent(.5)}function rC(t){return Math.sign(t)*t*t}function ufe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function WL(){var t=oE(),e=[0,1],n=!1,r;function i(o){var a=ufe(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(rC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Om)).map(rC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return WL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},hr.apply(i,arguments),Yo(i)}function qL(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=pce(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Pd(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Co),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return qL().domain(t).range(e).unknown(r)},hr.apply(o,arguments)}function GL(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Pd(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return GL().domain([t,e]).range(i).unknown(o)},hr.apply(Yo(a),arguments)}function HL(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Pd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return HL().domain(t).range(e).unknown(n)},hr.apply(i,arguments)}const c0=new Date,f0=new Date;function kt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>kt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(c0.setTime(+o),f0.setTime(+a),t(c0),t(f0),Math.floor(n(c0,f0))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Nm=kt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Nm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?kt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Nm);Nm.range;const yi=1e3,tr=yi*60,vi=tr*60,ji=vi*24,dE=ji*7,iC=ji*30,d0=ji*365,Ta=kt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getUTCSeconds());Ta.range;const hE=kt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yi)},(t,e)=>{t.setTime(+t+e*tr)},(t,e)=>(e-t)/tr,t=>t.getMinutes());hE.range;const pE=kt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*tr)},(t,e)=>(e-t)/tr,t=>t.getUTCMinutes());pE.range;const mE=kt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yi-t.getMinutes()*tr)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getHours());mE.range;const gE=kt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getUTCHours());gE.range;const kd=kt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*tr)/ji,t=>t.getDate()-1);kd.range;const Ty=kt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ji,t=>t.getUTCDate()-1);Ty.range;const KL=kt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ji,t=>Math.floor(t/ji));KL.range;function fs(t){return kt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*tr)/dE)}const Sy=fs(0),Rm=fs(1),cfe=fs(2),ffe=fs(3),Nl=fs(4),dfe=fs(5),hfe=fs(6);Sy.range;Rm.range;cfe.range;ffe.range;Nl.range;dfe.range;hfe.range;function ds(t){return kt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/dE)}const Iy=ds(0),jm=ds(1),pfe=ds(2),mfe=ds(3),Rl=ds(4),gfe=ds(5),yfe=ds(6);Iy.range;jm.range;pfe.range;mfe.range;Rl.range;gfe.range;yfe.range;const yE=kt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());yE.range;const vE=kt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());vE.range;const Mi=kt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Mi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Mi.range;const Di=kt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Di.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Di.range;function YL(t,e,n,r,i,o){const a=[[Ta,1,yi],[Ta,5,5*yi],[Ta,15,15*yi],[Ta,30,30*yi],[o,1,tr],[o,5,5*tr],[o,15,15*tr],[o,30,30*tr],[i,1,vi],[i,3,3*vi],[i,6,6*vi],[i,12,12*vi],[r,1,ji],[r,2,2*ji],[n,1,dE],[e,1,iC],[e,3,3*iC],[t,1,d0]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),g=p?p.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,f){const h=Math.abs(c-u)/f,p=eE(([,,b])=>b).right(a,h);if(p===a.length)return t.every(O_(u/d0,c/d0,f));if(p===0)return Nm.every(Math.max(O_(u,c,f),1));const[g,y]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return g.every(y)}return[s,l]}const[vfe,bfe]=YL(Di,vE,Iy,KL,gE,pE),[_fe,wfe]=YL(Mi,yE,Sy,kd,mE,hE);function h0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function p0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ju(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function xfe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Zu(i),c=ec(i),f=Zu(o),h=ec(o),p=Zu(a),g=ec(a),y=Zu(s),b=ec(s),x=Zu(l),w=ec(l),_={a:H,A:V,b:W,B:Y,c:null,d:cC,e:cC,f:qfe,g:tde,G:rde,H:Ufe,I:zfe,j:Wfe,L:QL,m:Gfe,M:Hfe,p:re,q:Q,Q:hC,s:pC,S:Kfe,u:Yfe,U:Qfe,V:Xfe,w:Jfe,W:Zfe,x:null,X:null,y:ede,Y:nde,Z:ide,"%":dC},P={a:oe,A:Ie,b:Re,B:it,c:null,d:fC,e:fC,f:lde,g:vde,G:_de,H:ode,I:ade,j:sde,L:JL,m:ude,M:cde,p:$t,q:Gt,Q:hC,s:pC,S:fde,u:dde,U:hde,V:pde,w:mde,W:gde,x:null,X:null,y:yde,Y:bde,Z:wde,"%":dC},T={a:k,A:C,b:R,B:N,c:U,d:lC,e:lC,f:Lfe,g:sC,G:aC,H:uC,I:uC,j:jfe,L:$fe,m:Rfe,M:Mfe,p:O,q:Nfe,Q:Ffe,s:Bfe,S:Dfe,u:Afe,U:Pfe,V:Ofe,w:Ife,W:Cfe,x:B,X:G,y:sC,Y:aC,Z:kfe,"%":Vfe};_.x=I(n,_),_.X=I(r,_),_.c=I(e,_),P.x=I(n,P),P.X=I(r,P),P.c=I(e,P);function I(ie,he){return function(ge){var K=[],qe=-1,_e=0,ot=ie.length,ft,Ht,Mr;for(ge instanceof Date||(ge=new Date(+ge));++qe<ot;)ie.charCodeAt(qe)===37&&(K.push(ie.slice(_e,qe)),(Ht=oC[ft=ie.charAt(++qe)])!=null?ft=ie.charAt(++qe):Ht=ft==="e"?" ":"0",(Mr=he[ft])&&(ft=Mr(ge,Ht)),K.push(ft),_e=qe+1);return K.push(ie.slice(_e,qe)),K.join("")}}function E(ie,he){return function(ge){var K=Ju(1900,void 0,1),qe=S(K,ie,ge+="",0),_e,ot;if(qe!=ge.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(he&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(_e=p0(Ju(K.y,0,1)),ot=_e.getUTCDay(),_e=ot>4||ot===0?jm.ceil(_e):jm(_e),_e=Ty.offset(_e,(K.V-1)*7),K.y=_e.getUTCFullYear(),K.m=_e.getUTCMonth(),K.d=_e.getUTCDate()+(K.w+6)%7):(_e=h0(Ju(K.y,0,1)),ot=_e.getDay(),_e=ot>4||ot===0?Rm.ceil(_e):Rm(_e),_e=kd.offset(_e,(K.V-1)*7),K.y=_e.getFullYear(),K.m=_e.getMonth(),K.d=_e.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),ot="Z"in K?p0(Ju(K.y,0,1)).getUTCDay():h0(Ju(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(ot+5)%7:K.w+K.U*7-(ot+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,p0(K)):h0(K)}}function S(ie,he,ge,K){for(var qe=0,_e=he.length,ot=ge.length,ft,Ht;qe<_e;){if(K>=ot)return-1;if(ft=he.charCodeAt(qe++),ft===37){if(ft=he.charAt(qe++),Ht=T[ft in oC?he.charAt(qe++):ft],!Ht||(K=Ht(ie,ge,K))<0)return-1}else if(ft!=ge.charCodeAt(K++))return-1}return K}function O(ie,he,ge){var K=u.exec(he.slice(ge));return K?(ie.p=c.get(K[0].toLowerCase()),ge+K[0].length):-1}function k(ie,he,ge){var K=p.exec(he.slice(ge));return K?(ie.w=g.get(K[0].toLowerCase()),ge+K[0].length):-1}function C(ie,he,ge){var K=f.exec(he.slice(ge));return K?(ie.w=h.get(K[0].toLowerCase()),ge+K[0].length):-1}function R(ie,he,ge){var K=x.exec(he.slice(ge));return K?(ie.m=w.get(K[0].toLowerCase()),ge+K[0].length):-1}function N(ie,he,ge){var K=y.exec(he.slice(ge));return K?(ie.m=b.get(K[0].toLowerCase()),ge+K[0].length):-1}function U(ie,he,ge){return S(ie,e,he,ge)}function B(ie,he,ge){return S(ie,n,he,ge)}function G(ie,he,ge){return S(ie,r,he,ge)}function H(ie){return a[ie.getDay()]}function V(ie){return o[ie.getDay()]}function W(ie){return l[ie.getMonth()]}function Y(ie){return s[ie.getMonth()]}function re(ie){return i[+(ie.getHours()>=12)]}function Q(ie){return 1+~~(ie.getMonth()/3)}function oe(ie){return a[ie.getUTCDay()]}function Ie(ie){return o[ie.getUTCDay()]}function Re(ie){return l[ie.getUTCMonth()]}function it(ie){return s[ie.getUTCMonth()]}function $t(ie){return i[+(ie.getUTCHours()>=12)]}function Gt(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var he=I(ie+="",_);return he.toString=function(){return ie},he},parse:function(ie){var he=E(ie+="",!1);return he.toString=function(){return ie},he},utcFormat:function(ie){var he=I(ie+="",P);return he.toString=function(){return ie},he},utcParse:function(ie){var he=E(ie+="",!0);return he.toString=function(){return ie},he}}}var oC={"-":"",_:" ",0:"0"},Dt=/^\s*\d+/,Efe=/^%/,Tfe=/[\\^$*+?|[\]().{}]/g;function Ne(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Sfe(t){return t.replace(Tfe,"\\$&")}function Zu(t){return new RegExp("^(?:"+t.map(Sfe).join("|")+")","i")}function ec(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Ife(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Afe(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Pfe(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ofe(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Cfe(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function aC(t,e,n){var r=Dt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function sC(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kfe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Nfe(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Rfe(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function lC(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function jfe(t,e,n){var r=Dt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function uC(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Mfe(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Dfe(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function $fe(t,e,n){var r=Dt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Lfe(t,e,n){var r=Dt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Vfe(t,e,n){var r=Efe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ffe(t,e,n){var r=Dt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Bfe(t,e,n){var r=Dt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function cC(t,e){return Ne(t.getDate(),e,2)}function Ufe(t,e){return Ne(t.getHours(),e,2)}function zfe(t,e){return Ne(t.getHours()%12||12,e,2)}function Wfe(t,e){return Ne(1+kd.count(Mi(t),t),e,3)}function QL(t,e){return Ne(t.getMilliseconds(),e,3)}function qfe(t,e){return QL(t,e)+"000"}function Gfe(t,e){return Ne(t.getMonth()+1,e,2)}function Hfe(t,e){return Ne(t.getMinutes(),e,2)}function Kfe(t,e){return Ne(t.getSeconds(),e,2)}function Yfe(t){var e=t.getDay();return e===0?7:e}function Qfe(t,e){return Ne(Sy.count(Mi(t)-1,t),e,2)}function XL(t){var e=t.getDay();return e>=4||e===0?Nl(t):Nl.ceil(t)}function Xfe(t,e){return t=XL(t),Ne(Nl.count(Mi(t),t)+(Mi(t).getDay()===4),e,2)}function Jfe(t){return t.getDay()}function Zfe(t,e){return Ne(Rm.count(Mi(t)-1,t),e,2)}function ede(t,e){return Ne(t.getFullYear()%100,e,2)}function tde(t,e){return t=XL(t),Ne(t.getFullYear()%100,e,2)}function nde(t,e){return Ne(t.getFullYear()%1e4,e,4)}function rde(t,e){var n=t.getDay();return t=n>=4||n===0?Nl(t):Nl.ceil(t),Ne(t.getFullYear()%1e4,e,4)}function ide(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ne(e/60|0,"0",2)+Ne(e%60,"0",2)}function fC(t,e){return Ne(t.getUTCDate(),e,2)}function ode(t,e){return Ne(t.getUTCHours(),e,2)}function ade(t,e){return Ne(t.getUTCHours()%12||12,e,2)}function sde(t,e){return Ne(1+Ty.count(Di(t),t),e,3)}function JL(t,e){return Ne(t.getUTCMilliseconds(),e,3)}function lde(t,e){return JL(t,e)+"000"}function ude(t,e){return Ne(t.getUTCMonth()+1,e,2)}function cde(t,e){return Ne(t.getUTCMinutes(),e,2)}function fde(t,e){return Ne(t.getUTCSeconds(),e,2)}function dde(t){var e=t.getUTCDay();return e===0?7:e}function hde(t,e){return Ne(Iy.count(Di(t)-1,t),e,2)}function ZL(t){var e=t.getUTCDay();return e>=4||e===0?Rl(t):Rl.ceil(t)}function pde(t,e){return t=ZL(t),Ne(Rl.count(Di(t),t)+(Di(t).getUTCDay()===4),e,2)}function mde(t){return t.getUTCDay()}function gde(t,e){return Ne(jm.count(Di(t)-1,t),e,2)}function yde(t,e){return Ne(t.getUTCFullYear()%100,e,2)}function vde(t,e){return t=ZL(t),Ne(t.getUTCFullYear()%100,e,2)}function bde(t,e){return Ne(t.getUTCFullYear()%1e4,e,4)}function _de(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Rl(t):Rl.ceil(t),Ne(t.getUTCFullYear()%1e4,e,4)}function wde(){return"+0000"}function dC(){return"%"}function hC(t){return+t}function pC(t){return Math.floor(+t/1e3)}var Ss,eV,tV;xde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xde(t){return Ss=xfe(t),eV=Ss.format,Ss.parse,tV=Ss.utcFormat,Ss.utcParse,Ss}function Ede(t){return new Date(t)}function Tde(t){return t instanceof Date?+t:+new Date(+t)}function bE(t,e,n,r,i,o,a,s,l,u){var c=oE(),f=c.invert,h=c.domain,p=u(".%L"),g=u(":%S"),y=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),w=u("%b %d"),_=u("%B"),P=u("%Y");function T(I){return(l(I)<I?p:s(I)<I?g:a(I)<I?y:o(I)<I?b:r(I)<I?i(I)<I?x:w:n(I)<I?_:P)(I)}return c.invert=function(I){return new Date(f(I))},c.domain=function(I){return arguments.length?h(Array.from(I,Tde)):h().map(Ede)},c.ticks=function(I){var E=h();return t(E[0],E[E.length-1],I??10)},c.tickFormat=function(I,E){return E==null?T:u(E)},c.nice=function(I){var E=h();return(!I||typeof I.range!="function")&&(I=e(E[0],E[E.length-1],I??10)),I?h(BL(E,I)):c},c.copy=function(){return Cd(c,bE(t,e,n,r,i,o,a,s,l,u))},c}function Sde(){return hr.apply(bE(_fe,wfe,Mi,yE,Sy,kd,mE,hE,Ta,eV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ide(){return hr.apply(bE(vfe,bfe,Di,vE,Iy,Ty,gE,pE,Ta,tV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ay(){var t=0,e=1,n,r,i,o,a=pn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(h){var p,g;return arguments.length?([p,g]=h,a=f(p,g),u):[a(0),a(1)]}}return u.range=c(hu),u.rangeRound=c(iE),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Qo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function nV(){var t=Yo(Ay()(pn));return t.copy=function(){return Qo(t,nV())},Wi.apply(t,arguments)}function rV(){var t=lE(Ay()).domain([1,10]);return t.copy=function(){return Qo(t,rV()).base(t.base())},Wi.apply(t,arguments)}function iV(){var t=uE(Ay());return t.copy=function(){return Qo(t,iV()).constant(t.constant())},Wi.apply(t,arguments)}function _E(){var t=cE(Ay());return t.copy=function(){return Qo(t,_E()).exponent(t.exponent())},Wi.apply(t,arguments)}function Ade(){return _E.apply(null,arguments).exponent(.5)}function oV(){var t=[],e=pn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Pd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Co),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>hce(t,o/r))},n.copy=function(){return oV(e).domain(t)},Wi.apply(n,arguments)}function Py(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=pn,c,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-o)*(r*y<r*o?s:l),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function g(y){return function(b){var x,w,_;return arguments.length?([x,w,_]=b,u=Vce(y,[x,w,_]),p):[u(0),u(.5),u(1)]}}return p.range=g(hu),p.rangeRound=g(iE),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return c=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function aV(){var t=Yo(Py()(pn));return t.copy=function(){return Qo(t,aV())},Wi.apply(t,arguments)}function sV(){var t=lE(Py()).domain([.1,1,10]);return t.copy=function(){return Qo(t,sV()).base(t.base())},Wi.apply(t,arguments)}function lV(){var t=uE(Py());return t.copy=function(){return Qo(t,lV()).constant(t.constant())},Wi.apply(t,arguments)}function wE(){var t=cE(Py());return t.copy=function(){return Qo(t,wE()).exponent(t.exponent())},Wi.apply(t,arguments)}function Pde(){return wE.apply(null,arguments).exponent(.5)}const mC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:If,scaleDiverging:aV,scaleDivergingLog:sV,scaleDivergingPow:wE,scaleDivergingSqrt:Pde,scaleDivergingSymlog:lV,scaleIdentity:FL,scaleImplicit:C_,scaleLinear:km,scaleLog:UL,scaleOrdinal:tE,scalePoint:Mc,scalePow:fE,scaleQuantile:qL,scaleQuantize:GL,scaleRadial:WL,scaleSequential:nV,scaleSequentialLog:rV,scaleSequentialPow:_E,scaleSequentialQuantile:oV,scaleSequentialSqrt:Ade,scaleSequentialSymlog:iV,scaleSqrt:lfe,scaleSymlog:zL,scaleThreshold:HL,scaleTime:Sde,scaleUtc:Ide,tickFormat:VL},Symbol.toStringTag,{value:"Module"}));var Ode=iu;function Cde(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Ode(a):n(a,s)))var s=a,l=o}return l}var uV=Cde;function kde(t,e){return t>e}var Nde=kde,Rde=uV,jde=Nde,Mde=fu;function Dde(t){return t&&t.length?Rde(t,Mde,jde):void 0}var $de=Dde;const Oy=We($de);function Lde(t,e){return t<e}var Vde=Lde,Fde=uV,Bde=Vde,Ude=fu;function zde(t){return t&&t.length?Fde(t,Ude,Bde):void 0}var Wde=zde;const Cy=We(Wde);var qde=M1,Gde=Ko,Hde=yL,Kde=Pn;function Yde(t,e){var n=Kde(t)?qde:Hde;return n(t,Gde(e))}var Qde=Yde,Xde=mL,Jde=Qde;function Zde(t,e){return Xde(Jde(t,e),1)}var ehe=Zde;const the=We(ehe);var nhe=Q1;function rhe(t,e){return nhe(t,e)}var ihe=rhe;const ky=We(ihe);var pu=1e9,ohe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},EE,nt=!0,fr="[DecimalError] ",Ra=fr+"Invalid argument: ",xE=fr+"Exponent out of range: ",mu=Math.floor,da=Math.pow,ahe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jn,Rt=1e7,Je=7,cV=9007199254740991,Mm=mu(cV/Je),se={};se.absoluteValue=se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};se.comparedTo=se.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};se.decimalPlaces=se.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Je;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};se.dividedBy=se.div=function(t){return Si(this,new this.constructor(t))};se.dividedToIntegerBy=se.idiv=function(t){var e=this,n=e.constructor;return ze(Si(e,new n(t),0,1),n.precision)};se.equals=se.eq=function(t){return!this.cmp(t)};se.exponent=function(){return Et(this)};se.greaterThan=se.gt=function(t){return this.cmp(t)>0};se.greaterThanOrEqualTo=se.gte=function(t){return this.cmp(t)>=0};se.isInteger=se.isint=function(){return this.e>this.d.length-2};se.isNegative=se.isneg=function(){return this.s<0};se.isPositive=se.ispos=function(){return this.s>0};se.isZero=function(){return this.s===0};se.lessThan=se.lt=function(t){return this.cmp(t)<0};se.lessThanOrEqualTo=se.lte=function(t){return this.cmp(t)<1};se.logarithm=se.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(jn))throw Error(fr+"NaN");if(n.s<1)throw Error(fr+(n.s?"NaN":"-Infinity"));return n.eq(jn)?new r(0):(nt=!1,e=Si(kf(n,o),kf(t,o),o),nt=!0,ze(e,i))};se.minus=se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hV(e,t):fV(e,(t.s=-t.s,t))};se.modulo=se.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(fr+"NaN");return n.s?(nt=!1,e=Si(n,t,0,1).times(t),nt=!0,n.minus(e)):ze(new r(n),i)};se.naturalExponential=se.exp=function(){return dV(this)};se.naturalLogarithm=se.ln=function(){return kf(this)};se.negated=se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};se.plus=se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fV(e,t):hV(e,(t.s=-t.s,t))};se.precision=se.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ra+t);if(e=Et(i)+1,r=i.d.length-1,n=r*Je+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};se.squareRoot=se.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(fr+"NaN")}for(t=Et(s),nt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=zr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=mu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Si(s,o,a+2)).times(.5),zr(o.d).slice(0,a)===(e=zr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(ze(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return nt=!0,ze(r,n)};se.times=se.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,h=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*h[i-r-1]+e,o[i--]=s%Rt|0,e=s/Rt|0;o[i]=(o[i]+e)%Rt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,nt?ze(t,f.precision):t};se.toDecimalPlaces=se.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Jr(t,0,pu),e===void 0?e=r.rounding:Jr(e,0,8),ze(n,t+Et(n)+1,e))};se.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Za(r,!0):(Jr(t,0,pu),e===void 0?e=i.rounding:Jr(e,0,8),r=ze(new i(r),t+1,e),n=Za(r,!0,t+1)),n};se.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Za(i):(Jr(t,0,pu),e===void 0?e=o.rounding:Jr(e,0,8),r=ze(new o(i),t+Et(i)+1,e),n=Za(r.abs(),!1,t+Et(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};se.toInteger=se.toint=function(){var t=this,e=t.constructor;return ze(new e(t),Et(t)+1,e.rounding)};se.toNumber=function(){return+this};se.toPower=se.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(jn);if(s=new l(s),!s.s){if(t.s<1)throw Error(fr+"Infinity");return s}if(s.eq(jn))return s;if(r=l.precision,t.eq(jn))return ze(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=cV){for(i=new l(jn),e=Math.ceil(r/Je+4),nt=!1;n%2&&(i=i.times(s),yC(i.d,e)),n=mu(n/2),n!==0;)s=s.times(s),yC(s.d,e);return nt=!0,t.s<0?new l(jn).div(i):ze(i,r)}}else if(o<0)throw Error(fr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,nt=!1,i=t.times(kf(s,r+u)),nt=!0,i=dV(i),i.s=o,i};se.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Et(i),r=Za(i,n<=o.toExpNeg||n>=o.toExpPos)):(Jr(t,1,pu),e===void 0?e=o.rounding:Jr(e,0,8),i=ze(new o(i),t,e),n=Et(i),r=Za(i,t<=n||n<=o.toExpNeg,t)),r};se.toSignificantDigits=se.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Jr(t,1,pu),e===void 0?e=r.rounding:Jr(e,0,8)),ze(new r(n),t,e)};se.toString=se.valueOf=se.val=se.toJSON=se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Et(t),n=t.constructor;return Za(t,e<=n.toExpNeg||e>=n.toExpPos)};function fV(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),nt?ze(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/Je),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Rt|0,l[o]%=Rt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,nt?ze(e,f):e}function Jr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ra+t)}function zr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Je-r.length,n&&(o+=no(n)),o+=r;a=t[e],r=a+"",n=Je-r.length,n&&(o+=no(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Si=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Rt|0,a=o/Rt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Rt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,h,p,g,y,b,x,w,_,P,T,I,E,S,O=r.constructor,k=r.s==i.s?1:-1,C=r.d,R=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(fr+"Division by zero");for(l=r.e-i.e,E=R.length,T=C.length,p=new O(k),g=p.d=[],u=0;R[u]==(C[u]||0);)++u;if(R[u]>(C[u]||0)&&--l,o==null?w=o=O.precision:a?w=o+(Et(r)-Et(i))+1:w=o,w<0)return new O(0);if(w=w/Je+2|0,u=0,E==1)for(c=0,R=R[0],w++;(u<T||c)&&w--;u++)_=c*Rt+(C[u]||0),g[u]=_/R|0,c=_%R|0;else{for(c=Rt/(R[0]+1)|0,c>1&&(R=t(R,c),C=t(C,c),E=R.length,T=C.length),P=E,y=C.slice(0,E),b=y.length;b<E;)y[b++]=0;S=R.slice(),S.unshift(0),I=R[0],R[1]>=Rt/2&&++I;do c=0,s=e(R,y,E,b),s<0?(x=y[0],E!=b&&(x=x*Rt+(y[1]||0)),c=x/I|0,c>1?(c>=Rt&&(c=Rt-1),f=t(R,c),h=f.length,b=y.length,s=e(f,y,h,b),s==1&&(c--,n(f,E<h?S:R,h))):(c==0&&(s=c=1),f=R.slice()),h=f.length,h<b&&f.unshift(0),n(y,f,b),s==-1&&(b=y.length,s=e(R,y,E,b),s<1&&(c++,n(y,E<b?S:R,b))),b=y.length):s===0&&(c++,y=[0]),g[u++]=c,s&&y[0]?y[b++]=C[P]||0:(y=[C[P]],b=1);while((P++<T||y[0]!==void 0)&&w--)}return g[0]||g.shift(),p.e=l,ze(p,a?o+Et(p)+1:o)}}();function dV(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(Et(t)>16)throw Error(xE+Et(t));if(!t.s)return new c(jn);for(e==null?(nt=!1,s=f):s=e,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(da(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(jn),c.precision=s;;){if(i=ze(i.times(t),s),n=n.times(++l),a=o.plus(Si(i,n,s)),zr(a.d).slice(0,s)===zr(o.d).slice(0,s)){for(;u--;)o=ze(o.times(o),s);return c.precision=f,e==null?(nt=!0,ze(o,f)):o}o=a}}function Et(t){for(var e=t.e*Je,n=t.d[0];n>=10;n/=10)e++;return e}function m0(t,e,n){if(e>t.LN10.sd())throw nt=!0,n&&(t.precision=n),Error(fr+"LN10 precision limit exceeded");return ze(new t(t.LN10),e)}function no(t){for(var e="";t--;)e+="0";return e}function kf(t,e){var n,r,i,o,a,s,l,u,c,f=1,h=10,p=t,g=p.d,y=p.constructor,b=y.precision;if(p.s<1)throw Error(fr+(p.s?"NaN":"-Infinity"));if(p.eq(jn))return new y(0);if(e==null?(nt=!1,u=b):u=e,p.eq(10))return e==null&&(nt=!0),m0(y,u);if(u+=h,y.precision=u,n=zr(g),r=n.charAt(0),o=Et(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=zr(p.d),r=n.charAt(0),f++;o=Et(p),r>1?(p=new y("0."+n),o++):p=new y(r+"."+n.slice(1))}else return l=m0(y,u+2,b).times(o+""),p=kf(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=b,e==null?(nt=!0,ze(p,b)):p;for(s=a=p=Si(p.minus(jn),p.plus(jn),u),c=ze(p.times(p),u),i=3;;){if(a=ze(a.times(c),u),l=s.plus(Si(a,new y(i),u)),zr(l.d).slice(0,u)===zr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(m0(y,u+2,b).times(o+""))),s=Si(s,new y(f),u),y.precision=b,e==null?(nt=!0,ze(s,b)):s;s=l,i+=2}}function gC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=mu(n/Je),t.d=[],r=(n+1)%Je,n<0&&(r+=Je),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Je;r<i;)t.d.push(+e.slice(r,r+=Je));e=e.slice(r),r=Je-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),nt&&(t.e>Mm||t.e<-Mm))throw Error(xE+n)}else t.s=0,t.e=0,t.d=[0];return t}function ze(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Je,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Je),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=Je,i=r-Je+a}if(n!==void 0&&(o=da(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/da(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Et(t),f.length=1,e=e-o-1,f[0]=da(10,(Je-e%Je)%Je),t.e=mu(-e/Je)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=da(10,Je-r),f[c]=i>0?(u/da(10,a-i)%da(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Rt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Rt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(nt&&(t.e>Mm||t.e<-Mm))throw Error(xE+Et(t));return t}function hV(t,e){var n,r,i,o,a,s,l,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),nt?ze(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/Je),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Rt-1;--l[o],l[i]+=Rt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,nt?ze(e,p):e):new h(0)}function Za(t,e,n){var r,i=Et(t),o=zr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+no(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+no(-i-1)+o,n&&(r=n-a)>0&&(o+=no(r))):i>=a?(o+=no(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+no(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=no(r))),t.s<0?"-"+o:o}function yC(t,e){if(t.length>e)return t.length=e,!0}function pV(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ra+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return gC(a,o.toString())}else if(typeof o!="string")throw Error(Ra+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,ahe.test(o))gC(a,o);else throw Error(Ra+o)}if(i.prototype=se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=pV,i.config=i.set=she,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function she(t){if(!t||typeof t!="object")throw Error(fr+"Object expected");var e,n,r,i=["precision",1,pu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(mu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ra+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ra+n+": "+r);return this}var EE=pV(ohe);jn=new EE(1);const Fe=EE;function lhe(t){return dhe(t)||fhe(t)||che(t)||uhe()}function uhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function che(t,e){if(t){if(typeof t=="string")return j_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j_(t,e)}}function fhe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function dhe(t){if(Array.isArray(t))return j_(t)}function j_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hhe=function(e){return e},mV={"@@functional/placeholder":!0},gV=function(e){return e===mV},vC=function(e){return function n(){return arguments.length===0||arguments.length===1&&gV(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},phe=function t(e,n){return e===1?n:vC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==mV}).length;return a>=e?n.apply(void 0,i):t(e-a,vC(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return gV(f)?l.shift():f});return n.apply(void 0,lhe(c).concat(l))}))})},Ny=function(e){return phe(e.length,e)},M_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},mhe=Ny(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),ghe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return hhe;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},D_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},yV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function yhe(t){var e;return t===0?e=1:e=Math.floor(new Fe(t).abs().log(10).toNumber())+1,e}function vhe(t,e,n){for(var r=new Fe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var bhe=Ny(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),_he=Ny(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),whe=Ny(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Ry={rangeStep:vhe,getDigitCount:yhe,interpolateNumber:bhe,uninterpolateNumber:_he,uninterpolateTruncation:whe};function $_(t){return The(t)||Ehe(t)||vV(t)||xhe()}function xhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ehe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function The(t){if(Array.isArray(t))return L_(t)}function Nf(t,e){return Ahe(t)||Ihe(t,e)||vV(t,e)||She()}function She(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vV(t,e){if(t){if(typeof t=="string")return L_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L_(t,e)}}function L_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ihe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function Ahe(t){if(Array.isArray(t))return t}function bV(t){var e=Nf(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function _V(t,e,n){if(t.lte(0))return new Fe(0);var r=Ry.getDigitCount(t.toNumber()),i=new Fe(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Fe(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Fe(Math.ceil(l))}function Phe(t,e,n){var r=1,i=new Fe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Fe(10).pow(Ry.getDigitCount(t)-1),i=new Fe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Fe(Math.floor(t)))}else t===0?i=new Fe(Math.floor((e-1)/2)):n||(i=new Fe(Math.floor(t)));var a=Math.floor((e-1)/2),s=ghe(mhe(function(l){return i.add(new Fe(l-a).mul(r)).toNumber()}),M_);return s(0,e)}function wV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Fe(0),tickMin:new Fe(0),tickMax:new Fe(0)};var o=_V(new Fe(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Fe(0):(a=new Fe(t).add(e).div(2),a=a.sub(new Fe(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Fe(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?wV(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Fe(s).mul(o)),tickMax:a.add(new Fe(l).mul(o))})}function Ohe(t){var e=Nf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=bV([n,r]),l=Nf(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat($_(M_(0,i-1).map(function(){return 1/0}))):[].concat($_(M_(0,i-1).map(function(){return-1/0})),[c]);return n>r?D_(f):f}if(u===c)return Phe(u,i,o);var h=wV(u,c,a,o),p=h.step,g=h.tickMin,y=h.tickMax,b=Ry.rangeStep(g,y.add(new Fe(.1).mul(p)),p);return n>r?D_(b):b}function Che(t,e){var n=Nf(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=bV([r,i]),s=Nf(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=_V(new Fe(u).sub(l).div(c-1),o,0),h=[].concat($_(Ry.rangeStep(new Fe(l),new Fe(u).sub(new Fe(.99).mul(f)),f)),[u]);return r>i?D_(h):h}var khe=yV(Ohe),Nhe=yV(Che),Rhe="Invariant failed";function es(t,e){throw new Error(Rhe)}var jhe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dm.apply(this,arguments)}function Mhe(t,e){return Vhe(t)||Lhe(t,e)||$he(t,e)||Dhe()}function Dhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $he(t,e){if(t){if(typeof t=="string")return bC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bC(t,e)}}function bC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Vhe(t){if(Array.isArray(t))return t}function Fhe(t,e){if(t==null)return{};var n=Bhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TV(r.key),r)}}function Whe(t,e,n){return e&&zhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qhe(t,e,n){return e=$m(e),Ghe(t,xV()?Reflect.construct(e,n||[],$m(t).constructor):e.apply(t,n))}function Ghe(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hhe(t)}function Hhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xV=function(){return!!t})()}function $m(t){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$m(t)}function Khe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function EV(t,e,n){return e=TV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TV(t){var e=Yhe(t,"string");return jl(e)=="symbol"?e:e+""}function Yhe(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nd=function(t){function e(){return Uhe(this,e),qhe(this,e,arguments)}return Khe(e,t),Whe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=Fhe(r,jhe),p=Ae(h,!1);this.props.direction==="x"&&c.type!=="number"&&es();var g=l.map(function(y){var b=u(y,s),x=b.x,w=b.y,_=b.value,P=b.errorVal;if(!P)return null;var T=[],I,E;if(Array.isArray(P)){var S=Mhe(P,2);I=S[0],E=S[1]}else I=E=P;if(o==="vertical"){var O=c.scale,k=w+i,C=k+a,R=k-a,N=O(_-I),U=O(_+E);T.push({x1:U,y1:C,x2:U,y2:R}),T.push({x1:N,y1:k,x2:U,y2:k}),T.push({x1:N,y1:C,x2:N,y2:R})}else if(o==="horizontal"){var B=f.scale,G=x+i,H=G-a,V=G+a,W=B(_-I),Y=B(_+E);T.push({x1:H,y1:Y,x2:V,y2:Y}),T.push({x1:G,y1:W,x2:G,y2:Y}),T.push({x1:H,y1:W,x2:V,y2:W})}return D.createElement(yt,Dm({className:"recharts-errorBar",key:"bar-".concat(T.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},p),T.map(function(re){return D.createElement("line",Dm({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return D.createElement(yt,{className:"recharts-errorBars"},g)}}])}(D.Component);EV(Nd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});EV(Nd,"displayName","ErrorBar");function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){Qhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qhe(t,e,n){return e=Xhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Jhe(t,"string");return Rf(e)=="symbol"?e:e+""}function Jhe(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Rn(n,ka);if(!a)return null;var s=ka.defaultProps,l=s!==void 0?ia(ia({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return c.concat(g.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,p=h!==void 0?ia(ia({},h),f.props):{},g=p.dataKey,y=p.name,b=p.legendType,x=p.hide;return{inactive:x,dataKey:g,type:l.iconType||b||"square",color:TE(f),value:y||g,payload:p}}),ia(ia(ia({},l),ka.getWithHeight(a,i)),{},{payload:u,item:a})};function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function wC(t){return npe(t)||tpe(t)||epe(t)||Zhe()}function Zhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function epe(t,e){if(t){if(typeof t=="string")return F_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(t,e)}}function tpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function npe(t){if(Array.isArray(t))return F_(t)}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xC(Object(n),!0).forEach(function(r){al(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function al(t,e,n){return e=rpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rpe(t){var e=ipe(t,"string");return jf(e)=="symbol"?e:e+""}function ipe(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wn(t,e,n){return Se(t)||Se(e)?n:Pt(e)?ar(t,e,n):we(e)?e(t):n}function Dc(t,e,n,r){var i=the(t,function(s){return Wn(s,e)});if(n==="number"){var o=i.filter(function(s){return te(s)||parseFloat(s)});return o.length?[Cy(o),Oy(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Se(s)}):i;return a.map(function(s){return Pt(s)||s instanceof Date?s:""})}var ope=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Ir(f-c)!==Ir(h-f)){var g=[];if(Ir(h-f)===Ir(l[1]-l[0])){p=h;var y=f+l[1]-l[0];g[0]=Math.min(y,(y+c)/2),g[1]=Math.max(y,(y+c)/2)}else{p=c;var b=h+l[1]-l[0];g[0]=Math.min(f,(b+f)/2),g[1]=Math.max(f,(b+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){a=i[u].index;break}}else{var w=Math.min(c,h),_=Math.max(c,h);if(e>(w+f)/2&&e<=(_+f)/2){a=i[u].index;break}}}else for(var P=0;P<s;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<s-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===s-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){a=r[P].index;break}return a},TE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?pt(pt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},ape=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),h=0,p=f.length;h<p;h++){var g=c[f[h]],y=g.items,b=g.cateAxisId,x=y.filter(function(E){return Ei(E.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,_=w!==void 0?pt(pt({},w),x[0].props):x[0].props,P=_.barSize,T=_[b];a[T]||(a[T]=[]);var I=Se(P)?n:P;a[T].push({item:x[0],stackList:x.slice(1),barSize:Se(I)?void 0:Ja(I,r,0)})}}return a},spe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Ja(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/l,g=a.reduce(function(P,T){return P+T.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var y=(i-g)/2>>0,b={offset:y-u,size:0};c=a.reduce(function(P,T){var I={item:T.item,position:{offset:b.offset+b.size+u,size:h?p:T.barSize}},E=[].concat(wC(P),[I]);return b=E[E.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:b})}),E},f)}else{var x=Ja(r,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var w=(i-2*x-(l-1)*u)/l;w>1&&(w>>=0);var _=s===+s?Math.min(w,s):w;c=a.reduce(function(P,T,I){var E=[].concat(wC(P),[{item:T.item,position:{offset:x+(w+u)*I+(w-_)/2,size:_}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:E[E.length-1].position})}),E},f)}return c},lpe=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=SV({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,p=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&p!=="center"&&te(e[p]))return pt(pt({},e),{},al({},p,e[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&g!=="middle"&&te(e[g]))return pt(pt({},e),{},al({},g,e[g]+(h||0)))}return e},upe=function(e,n,r){return Se(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},IV=function(e,n,r,i,o){var a=n.props.children,s=sr(a,Nd).filter(function(u){return upe(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Wn(c,r);if(Se(f))return u;var h=Array.isArray(f)?[Cy(f),Oy(f)]:[f,f],p=l.reduce(function(g,y){var b=Wn(c,y,0),x=h[0]-Math.abs(Array.isArray(b)?b[0]:b),w=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(x,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},cpe=function(e,n,r,i,o){var a=n.map(function(s){return IV(e,s,r,o,i)}).filter(function(s){return!Se(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},AV=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&IV(e,l,u,i)||Dc(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},PV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},OV=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},bi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ir(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!Sd(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},g0=new WeakMap,kh=function(e,n){if(typeof n!="function")return e;g0.has(e)||g0.set(e,new WeakMap);var r=g0.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},fpe=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:If(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:km(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Mc(),realScaleType:"point"}:o==="category"?{scale:If(),realScaleType:"band"}:{scale:km(),realScaleType:"linear"};if(Td(i)){var l="scale".concat(gy(i));return{scale:(mC[l]||Mc)(),realScaleType:mC[l]?l:"point"}}return we(i)?{scale:i}:{scale:Mc(),realScaleType:"point"}},EC=1e-4,dpe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-EC,a=Math.max(i[0],i[1])+EC,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},hpe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},ppe=function(e,n){if(!n||n.length!==2||!te(n[0])||!te(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!te(e[0])||e[0]<r)&&(o[0]=r),(!te(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},mpe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Sd(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},gpe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Sd(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},ype={sign:mpe,expand:kee,none:Il,silhouette:Nee,wiggle:Ree,positive:gpe},vpe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=ype[r],a=Cee().keys(i).value(function(s,l){return+Wn(s,l,0)}).order(f_).offset(o);return a(e)},bpe=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?pt(pt({},h.type.defaultProps),h.props):h.props,y=g.stackId,b=g.hide;if(b)return f;var x=g[r],w=f[x]||{hasStack:!1,stackGroups:{}};if(Pt(y)){var _=w.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[y]=_}else w.stackGroups[Id("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return pt(pt({},f),{},al({},x,w))},l),c={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,b){var x=p.stackGroups[b];return pt(pt({},y),{},al({},b,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:vpe(e,x.items,o)}))},g)}return pt(pt({},f),{},al({},h,p))},c)},_pe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=khe(u,o,s);return e.domain([Cy(c),Oy(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=Nhe(f,o,s);return{niceTicks:h}}return null};function TC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Se(i[e.dataKey])){var s=lm(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Wn(i,Se(a)?e.dataKey:a);return Se(l)?null:e.scale(l)}var SC=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Wn(a,n.dataKey,n.domain[s]);return Se(l)?null:n.scale(l)-o/2+i},wpe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},xpe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?pt(pt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Pt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},Epe=function(e){return e.reduce(function(n,r){return[Cy(r.concat([n[0]]).filter(te)),Oy(r.concat([n[1]]).filter(te))]},[1/0,-1/0])},CV=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=Epe(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},IC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,B_=function(e,n,r){if(we(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(te(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(IC.test(e[0])){var o=+IC.exec(e[0])[1];i[0]=n[0]-o}else we(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(te(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(AC.test(e[1])){var a=+AC.exec(e[1])[1];i[1]=n[1]+a}else we(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Lm=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=J1(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},PC=function(e,n,r){return!e||!e.length||ky(e,ar(r,"type.defaultProps.domain"))?n:e},kV=function(e,n){var r=e.type.defaultProps?pt(pt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return pt(pt({},Ae(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:TE(e),value:Wn(n,i),type:l,payload:n,chartType:u,hide:c})};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function OC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OC(Object(n),!0).forEach(function(r){Tpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tpe(t,e,n){return e=Spe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Spe(t){var e=Ipe(t,"string");return Mf(e)=="symbol"?e:e+""}function Ipe(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vm=Math.PI/180,Ape=function(e){return e*180/Math.PI},zt=function(e,n,r,i){return{x:e+Math.cos(-Vm*i)*r,y:n+Math.sin(-Vm*i)*r}},Ppe=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},Ope=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=Ppe({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:Ape(u),angleInRadian:u}},Cpe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},kpe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},kC=function(e,n){var r=e.x,i=e.y,o=Ope({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=Cpe(n),f=c.startAngle,h=c.endAngle,p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?CC(CC({},n),{},{radius:a,angle:kpe(p,n)}):null};function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}var Npe=["offset"];function Rpe(t){return $pe(t)||Dpe(t)||Mpe(t)||jpe()}function jpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mpe(t,e){if(t){if(typeof t=="string")return U_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(t,e)}}function Dpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $pe(t){if(Array.isArray(t))return U_(t)}function U_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lpe(t,e){if(t==null)return{};var n=Vpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NC(Object(n),!0).forEach(function(r){Fpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fpe(t,e,n){return e=Bpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bpe(t){var e=Upe(t,"string");return Df(e)=="symbol"?e:e+""}function Upe(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $f(){return $f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$f.apply(this,arguments)}var zpe=function(e){var n=e.value,r=e.formatter,i=Se(e.children)?n:e.children;return we(r)?r(i):i},Wpe=function(e,n){var r=Ir(n-e),i=Math.min(Math.abs(n-e),360);return r*i},qpe=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,y=l.clockWise,b=(f+h)/2,x=Wpe(p,g),w=x>=0?1:-1,_,P;i==="insideStart"?(_=p+w*a,P=y):i==="insideEnd"?(_=g-w*a,P=!y):i==="end"&&(_=g+w*a,P=y),P=x<=0?P:!P;var T=zt(u,c,b,_),I=zt(u,c,b,_+(P?1:-1)*359),E="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(P?0:1,`,
    `).concat(I.x,",").concat(I.y),S=Se(e.id)?Id("recharts-radial-line-"):e.id;return D.createElement("text",$f({},r,{dominantBaseline:"central",className:ke("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:S,d:E})),D.createElement("textPath",{xlinkHref:"#".concat(S)},n))},Gpe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var p=zt(a,s,u+r,h),g=p.x,y=p.y;return{x:g,y,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,x=zt(a,s,b,h),w=x.x,_=x.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Hpe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,h=f*i,p=f>0?"end":"start",g=f>0?"start":"end",y=u>=0?1:-1,b=y*i,x=y>0?"end":"start",w=y>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return St(St({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var P={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:g};return St(St({},P),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var T={x:s-b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return St(St({},T),r?{width:Math.max(T.x-r.x,0),height:c}:{})}if(o==="right"){var I={x:s+u+b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return St(St({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return o==="insideLeft"?St({x:s+b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},E):o==="insideRight"?St({x:s+u-b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},E):o==="insideTop"?St({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},E):o==="insideBottom"?St({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:p},E):o==="insideTopLeft"?St({x:s+b,y:l+h,textAnchor:w,verticalAnchor:g},E):o==="insideTopRight"?St({x:s+u-b,y:l+h,textAnchor:x,verticalAnchor:g},E):o==="insideBottomLeft"?St({x:s+b,y:l+c-h,textAnchor:w,verticalAnchor:p},E):o==="insideBottomRight"?St({x:s+u-b,y:l+c-h,textAnchor:x,verticalAnchor:p},E):ou(o)&&(te(o.x)||xa(o.x))&&(te(o.y)||xa(o.y))?St({x:s+Ja(o.x,u),y:l+Ja(o.y,c),textAnchor:"end",verticalAnchor:"end"},E):St({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Kpe=function(e){return"cx"in e&&te(e.cx)};function nn(t){var e=t.offset,n=e===void 0?5:e,r=Lpe(t,Npe),i=St({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||Se(s)&&Se(l)&&!M.isValidElement(u)&&!we(u))return null;if(M.isValidElement(u))return M.cloneElement(u,i);var p;if(we(u)){if(p=M.createElement(u,i),M.isValidElement(p))return p}else p=zpe(i);var g=Kpe(o),y=Ae(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return qpe(i,p,y);var b=g?Gpe(i):Hpe(i);return D.createElement(Tm,$f({className:ke("recharts-label",f)},y,b,{breakAll:h}),p)}nn.displayName="Label";var NV=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,p=e.top,g=e.left,y=e.width,b=e.height,x=e.clockWise,w=e.labelViewBox;if(w)return w;if(te(y)&&te(b)){if(te(f)&&te(h))return{x:f,y:h,width:y,height:b};if(te(p)&&te(g))return{x:p,y:g,width:y,height:b}}return te(f)&&te(h)?{x:f,y:h,width:0,height:0}:te(n)&&te(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:x}:e.viewBox?e.viewBox:{}},Ype=function(e,n){return e?e===!0?D.createElement(nn,{key:"label-implicit",viewBox:n}):Pt(e)?D.createElement(nn,{key:"label-implicit",viewBox:n,value:e}):M.isValidElement(e)?e.type===nn?M.cloneElement(e,{key:"label-implicit",viewBox:n}):D.createElement(nn,{key:"label-implicit",content:e,viewBox:n}):we(e)?D.createElement(nn,{key:"label-implicit",content:e,viewBox:n}):ou(e)?D.createElement(nn,$f({viewBox:n},e,{key:"label-implicit"})):null:null},Qpe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=NV(e),a=sr(i,nn).map(function(l,u){return M.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Ype(e.label,n||o);return[s].concat(Rpe(a))};nn.parseViewBox=NV;nn.renderCallByParent=Qpe;function Xpe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Jpe=Xpe;const Zpe=We(Jpe);function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}var eme=["valueAccessor"],tme=["data","dataKey","clockWise","id","textBreakAll"];function nme(t){return ame(t)||ome(t)||ime(t)||rme()}function rme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ime(t,e){if(t){if(typeof t=="string")return z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z_(t,e)}}function ome(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ame(t){if(Array.isArray(t))return z_(t)}function z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fm(){return Fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fm.apply(this,arguments)}function RC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(n),!0).forEach(function(r){sme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sme(t,e,n){return e=lme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lme(t){var e=ume(t,"string");return Lf(e)=="symbol"?e:e+""}function ume(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MC(t,e){if(t==null)return{};var n=cme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fme=function(e){return Array.isArray(e.value)?Zpe(e.value):e.value};function ko(t){var e=t.valueAccessor,n=e===void 0?fme:e,r=MC(t,eme),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=MC(r,tme);return!i||!i.length?null:D.createElement(yt,{className:"recharts-label-list"},i.map(function(c,f){var h=Se(o)?n(c,f):Wn(c&&c.payload,o),p=Se(s)?{}:{id:"".concat(s,"-").concat(f)};return D.createElement(nn,Fm({},Ae(c,!0),u,p,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:nn.parseViewBox(Se(a)?c:jC(jC({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}ko.displayName="LabelList";function dme(t,e){return t?t===!0?D.createElement(ko,{key:"labelList-implicit",data:e}):D.isValidElement(t)||we(t)?D.createElement(ko,{key:"labelList-implicit",data:e,content:t}):ou(t)?D.createElement(ko,Fm({data:e},t,{key:"labelList-implicit"})):null:null}function hme(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=sr(r,ko).map(function(a,s){return M.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=dme(t.label,e);return[o].concat(nme(i))}ko.renderCallByParent=hme;function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(this,arguments)}function DC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $C(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(n),!0).forEach(function(r){pme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pme(t,e,n){return e=mme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mme(t){var e=gme(t,"string");return Vf(e)=="symbol"?e:e+""}function gme(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yme=function(e,n){var r=Ir(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Nh=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Vm,h=u?o:o+a*f,p=zt(n,r,c,h),g=zt(n,r,i,h),y=u?o-a*f:o,b=zt(n,r,c*Math.cos(f*Vm),y);return{center:p,circleTangency:g,lineTangency:b,theta:f}},RV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=yme(a,s),u=a+l,c=zt(n,r,o,a),f=zt(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=zt(n,r,i,a),g=zt(n,r,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},vme=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Ir(c-u),h=Nh({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,y=h.theta,b=Nh({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),x=b.circleTangency,w=b.lineTangency,_=b.theta,P=l?Math.abs(u-c):Math.abs(u-c)-y-_;if(P<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):RV({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var T="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(P>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var I=Nh({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),E=I.circleTangency,S=I.lineTangency,O=I.theta,k=Nh({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),C=k.circleTangency,R=k.lineTangency,N=k.theta,U=l?Math.abs(u-c):Math.abs(u-c)-O-N;if(U<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},bme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},jV=function(e){var n=$C($C({},bme),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(a<o||c===f)return null;var p=ke("recharts-sector",h),g=a-o,y=Ja(s,g,0,!0),b;return y>0&&Math.abs(c-f)<360?b=vme({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):b=RV({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),D.createElement("path",W_({},Ae(n,!0),{className:p,d:b,role:"img"}))};function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q_.apply(this,arguments)}function LC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(n),!0).forEach(function(r){_me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _me(t,e,n){return e=wme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wme(t){var e=xme(t,"string");return Ff(e)=="symbol"?e:e+""}function xme(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FC={curveBasisClosed:bee,curveBasisOpen:_ee,curveBasis:vee,curveBumpX:iee,curveBumpY:oee,curveLinearClosed:wee,curveLinear:vy,curveMonotoneX:xee,curveMonotoneY:Eee,curveNatural:Tee,curveStep:See,curveStepAfter:Aee,curveStepBefore:Iee},Rh=function(e){return e.x===+e.x&&e.y===+e.y},tc=function(e){return e.x},nc=function(e){return e.y},Eme=function(e,n){if(we(e))return e;var r="curve".concat(gy(e));return(r==="curveMonotone"||r==="curveBump")&&n?FC["".concat(r).concat(n==="vertical"?"Y":"X")]:FC[r]||vy},Tme=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Eme(r,s),f=u?o.filter(function(y){return Rh(y)}):o,h;if(Array.isArray(a)){var p=u?a.filter(function(y){return Rh(y)}):a,g=f.map(function(y,b){return VC(VC({},y),{},{base:p[b]})});return s==="vertical"?h=Eh().y(nc).x1(tc).x0(function(y){return y.base.x}):h=Eh().x(tc).y1(nc).y0(function(y){return y.base.y}),h.defined(Rh).curve(c),h(g)}return s==="vertical"&&te(a)?h=Eh().y(nc).x1(tc).x0(a):te(a)?h=Eh().x(tc).y1(nc).y0(a):h=j$().x(tc).y(nc),h.defined(Rh).curve(c),h(f)},G_=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Tme(e):i;return D.createElement("path",q_({},Ae(e,!1),um(e),{className:ke("recharts-curve",n),d:a,ref:o}))},MV={exports:{}},Sme="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ime=Sme,Ame=Ime;function DV(){}function $V(){}$V.resetWarningCache=DV;var Pme=function(){function t(r,i,o,a,s,l){if(l!==Ame){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:$V,resetWarningCache:DV};return n.PropTypes=n,n};MV.exports=Pme();var Ome=MV.exports;const ve=We(Ome);var Cme=Object.getOwnPropertyNames,kme=Object.getOwnPropertySymbols,Nme=Object.prototype.hasOwnProperty;function BC(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function jh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function UC(t){return Cme(t).concat(kme(t))}var LV=Object.hasOwn||function(t,e){return Nme.call(t,e)};function gu(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var VV="_owner",zC=Object.getOwnPropertyDescriptor,WC=Object.keys;function Rme(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function jme(t,e){return gu(t.getTime(),e.getTime())}function qC(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),o=0,a,s;(a=i.next())&&!a.done;){for(var l=e.entries(),u=!1,c=0;(s=l.next())&&!s.done;){var f=a.value,h=f[0],p=f[1],g=s.value,y=g[0],b=g[1];!u&&!r[c]&&(u=n.equals(h,y,o,c,t,e,n)&&n.equals(p,b,h,y,t,e,n))&&(r[c]=!0),c++}if(!u)return!1;o++}return!0}function Mme(t,e,n){var r=WC(t),i=r.length;if(WC(e).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===VV&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!LV(e,o)||!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function rc(t,e,n){var r=UC(t),i=r.length;if(UC(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],o===VV&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!LV(e,o)||!n.equals(t[o],e[o],o,o,t,e,n)||(a=zC(t,o),s=zC(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Dme(t,e){return gu(t.valueOf(),e.valueOf())}function $me(t,e){return t.source===e.source&&t.flags===e.flags}function GC(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),o,a;(o=i.next())&&!o.done;){for(var s=e.values(),l=!1,u=0;(a=s.next())&&!a.done;)!l&&!r[u]&&(l=n.equals(o.value,a.value,o.value,a.value,t,e,n))&&(r[u]=!0),u++;if(!l)return!1}return!0}function Lme(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var Vme="[object Arguments]",Fme="[object Boolean]",Bme="[object Date]",Ume="[object Map]",zme="[object Number]",Wme="[object Object]",qme="[object RegExp]",Gme="[object Set]",Hme="[object String]",Kme=Array.isArray,HC=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,KC=Object.assign,Yme=Object.prototype.toString.call.bind(Object.prototype.toString);function Qme(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(c,f,h){if(c===f)return!0;if(c==null||f==null||typeof c!="object"||typeof f!="object")return c!==c&&f!==f;var p=c.constructor;if(p!==f.constructor)return!1;if(p===Object)return i(c,f,h);if(Kme(c))return e(c,f,h);if(HC!=null&&HC(c))return l(c,f,h);if(p===Date)return n(c,f,h);if(p===RegExp)return a(c,f,h);if(p===Map)return r(c,f,h);if(p===Set)return s(c,f,h);var g=Yme(c);return g===Bme?n(c,f,h):g===qme?a(c,f,h):g===Ume?r(c,f,h):g===Gme?s(c,f,h):g===Wme?typeof c.then!="function"&&typeof f.then!="function"&&i(c,f,h):g===Vme?i(c,f,h):g===Fme||g===zme||g===Hme?o(c,f,h):!1}}function Xme(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?rc:Rme,areDatesEqual:jme,areMapsEqual:r?BC(qC,rc):qC,areObjectsEqual:r?rc:Mme,arePrimitiveWrappersEqual:Dme,areRegExpsEqual:$me,areSetsEqual:r?BC(GC,rc):GC,areTypedArraysEqual:r?rc:Lme};if(n&&(i=KC({},i,n(i))),e){var o=jh(i.areArraysEqual),a=jh(i.areMapsEqual),s=jh(i.areObjectsEqual),l=jh(i.areSetsEqual);i=KC({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function Jme(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Zme(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:h,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var ege=Xo();Xo({strict:!0});Xo({circular:!0});Xo({circular:!0,strict:!0});Xo({createInternalComparator:function(){return gu}});Xo({strict:!0,createInternalComparator:function(){return gu}});Xo({circular:!0,createInternalComparator:function(){return gu}});Xo({circular:!0,createInternalComparator:function(){return gu},strict:!0});function Xo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=Xme(t),l=Qme(s),u=r?r(l):Jme(l);return Zme({circular:n,comparator:l,createState:i,equals:u,strict:a})}function tge(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function YC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):tge(i)};requestAnimationFrame(r)}function H_(t){"@babel/helpers - typeof";return H_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H_(t)}function nge(t){return age(t)||oge(t)||ige(t)||rge()}function rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ige(t,e){if(t){if(typeof t=="string")return QC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QC(t,e)}}function QC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function age(t){if(Array.isArray(t))return t}function sge(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=nge(a),l=s[0],u=s.slice(1);if(typeof l=="number"){YC(i.bind(null,u),l);return}i(l),YC(i.bind(null,u));return}H_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){FV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FV(t,e,n){return e=lge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lge(t){var e=uge(t,"string");return Bf(e)==="symbol"?e:String(e)}function uge(t,e){if(Bf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cge=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},fge=function(e){return e},dge=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},$c=function(e,n){return Object.keys(n).reduce(function(r,i){return JC(JC({},r),{},FV({},i,e(i,n[i])))},{})},ZC=function(e,n,r){return e.map(function(i){return"".concat(dge(i)," ").concat(n,"ms ").concat(r)}).join(",")};function hge(t,e){return gge(t)||mge(t,e)||BV(t,e)||pge()}function pge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function gge(t){if(Array.isArray(t))return t}function yge(t){return _ge(t)||bge(t)||BV(t)||vge()}function vge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BV(t,e){if(t){if(typeof t=="string")return K_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(t,e)}}function bge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ge(t){if(Array.isArray(t))return K_(t)}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bm=1e-4,UV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},zV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},e2=function(e,n){return function(r){var i=UV(e,n);return zV(i,r)}},wge=function(e,n){return function(r){var i=UV(e,n),o=[].concat(yge(i.map(function(a,s){return a*s}).slice(1)),[0]);return zV(o,r)}},t2=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),c=hge(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=e2(i,a),h=e2(o,s),p=wge(i,a),g=function(x){return x>1?1:x<0?0:x},y=function(x){for(var w=x>1?1:x,_=w,P=0;P<8;++P){var T=f(_)-w,I=p(_);if(Math.abs(T-w)<Bm||I<Bm)return h(_);_=g(_-T/I)}return h(_)};return y.isStepper=!1,y},xge=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,h){var p=-(c-f)*r,g=h*o,y=h+(p-g)*s/1e3,b=h*s/1e3+c;return Math.abs(b-f)<Bm&&Math.abs(y)<Bm?[f,0]:[b,y]};return l.isStepper=!0,l.dt=s,l},Ege=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return t2(i);case"spring":return xge();default:if(i.split("(")[0]==="cubic-bezier")return t2(i)}return typeof i=="function"?i:null};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function n2(t){return Ige(t)||Sge(t)||WV(t)||Tge()}function Tge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ige(t){if(Array.isArray(t))return Q_(t)}function r2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(n),!0).forEach(function(r){Y_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y_(t,e,n){return e=Age(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Age(t){var e=Pge(t,"string");return Uf(e)==="symbol"?e:String(e)}function Pge(t,e){if(Uf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oge(t,e){return Nge(t)||kge(t,e)||WV(t,e)||Cge()}function Cge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WV(t,e){if(t){if(typeof t=="string")return Q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q_(t,e)}}function Q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Nge(t){if(Array.isArray(t))return t}var Um=function(e,n,r){return e+(n-e)*r},X_=function(e){var n=e.from,r=e.to;return n!==r},Rge=function t(e,n,r){var i=$c(function(o,a){if(X_(a)){var s=e(a.from,a.to,a.velocity),l=Oge(s,2),u=l[0],c=l[1];return Vt(Vt({},a),{},{from:u,velocity:c})}return a},n);return r<1?$c(function(o,a){return X_(a)?Vt(Vt({},a),{},{velocity:Um(a.velocity,i[o].velocity,r),from:Um(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const jge=function(t,e,n,r,i){var o=cge(t,e),a=o.reduce(function(b,x){return Vt(Vt({},b),{},Y_({},x,[t[x],e[x]]))},{}),s=o.reduce(function(b,x){return Vt(Vt({},b),{},Y_({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return $c(function(x,w){return w.from},s)},p=function(){return!Object.values(s).filter(X_).length},g=function(x){u||(u=x);var w=x-u,_=w/n.dt;s=Rge(n,s,_),i(Vt(Vt(Vt({},t),e),h())),u=x,p()||(l=requestAnimationFrame(f))},y=function(x){c||(c=x);var w=(x-c)/r,_=$c(function(T,I){return Um.apply(void 0,n2(I).concat([n(w)]))},a);if(i(Vt(Vt(Vt({},t),e),_)),w<1)l=requestAnimationFrame(f);else{var P=$c(function(T,I){return Um.apply(void 0,n2(I).concat([n(1)]))},a);i(Vt(Vt(Vt({},t),e),P))}};return f=n.isStepper?g:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}var Mge=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Dge(t,e){if(t==null)return{};var n=$ge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ge(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function y0(t){return Bge(t)||Fge(t)||Vge(t)||Lge()}function Lge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vge(t,e){if(t){if(typeof t=="string")return J_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(t,e)}}function Fge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bge(t){if(Array.isArray(t))return J_(t)}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i2(Object(n),!0).forEach(function(r){gc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gc(t,e,n){return e=qV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qV(r.key),r)}}function Wge(t,e,n){return e&&zge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qV(t){var e=qge(t,"string");return Ml(e)==="symbol"?e:String(e)}function qge(t,e){if(Ml(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ml(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z_(t,e)}function Z_(t,e){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z_(t,e)}function Hge(t){var e=Kge();return function(){var r=zm(t),i;if(e){var o=zm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ew(this,i)}}function ew(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tw(t)}function tw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zm(t)}var $i=function(t){Gge(n,t);var e=Hge(n);function n(r,i){var o;Uge(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,h=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(tw(o)),o.changeStyle=o.changeStyle.bind(tw(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),ew(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},ew(o);o.state={style:l?gc({},l,u):u}}else o.state={style:{}};return o}return Wge(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(s){if(!a){var p={style:l?gc({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(p);return}if(!(ege(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?f:i.to;if(this.state&&h){var b={style:l?gc({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(b)}this.runAnimation(gr(gr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=jge(a,s,Ege(u),l,this.changeStyle),g=function(){o.stopJSAnimation=p()};this.manager.start([h,c,g,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,h=f===void 0?0:f,p=function(y,b,x){if(x===0)return y;var w=b.duration,_=b.easing,P=_===void 0?"ease":_,T=b.style,I=b.properties,E=b.onAnimationEnd,S=x>0?a[x-1]:b,O=I||Object.keys(T);if(typeof P=="function"||P==="spring")return[].concat(y0(y),[o.runJSAnimation.bind(o,{from:S.style,to:T,duration:w,easing:P}),w]);var k=ZC(O,w,P),C=gr(gr(gr({},S.style),T),{},{transition:k});return[].concat(y0(y),[C,w,E]).filter(fge)};return this.manager.start([l].concat(y0(a.reduce(p,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=sge());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?gc({},s,l):l,b=ZC(Object.keys(y),a,u);g.start([c,o,gr(gr({},y),{},{transition:b}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Dge(i,Mge),u=M.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(p){var g=p.props,y=g.style,b=y===void 0?{}:y,x=g.className,w=M.cloneElement(p,gr(gr({},l),{},{style:gr(gr({},b),c),className:x}));return w};return u===1?f(M.Children.only(o)):D.createElement("div",null,M.Children.map(o,function(h){return f(h)}))}}]),n}(M.PureComponent);$i.displayName="Animate";$i.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$i.propTypes={from:ve.oneOfType([ve.object,ve.string]),to:ve.oneOfType([ve.object,ve.string]),attributeName:ve.string,duration:ve.number,begin:ve.number,easing:ve.oneOfType([ve.string,ve.func]),steps:ve.arrayOf(ve.shape({duration:ve.number.isRequired,style:ve.object.isRequired,easing:ve.oneOfType([ve.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ve.func]),properties:ve.arrayOf("string"),onAnimationEnd:ve.func})),children:ve.oneOfType([ve.node,ve.func]),isActive:ve.bool,canBegin:ve.bool,onAnimationEnd:ve.func,shouldReAnimate:ve.bool,onAnimationStart:ve.func,onAnimationReStart:ve.func};ve.object,ve.object,ve.object,ve.element;ve.object,ve.object,ve.object,ve.oneOfType([ve.array,ve.element]),ve.any;function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wm.apply(this,arguments)}function Yge(t,e){return Zge(t)||Jge(t,e)||Xge(t,e)||Qge()}function Qge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xge(t,e){if(t){if(typeof t=="string")return o2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o2(t,e)}}function o2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Zge(t){if(Array.isArray(t))return t}function a2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(n),!0).forEach(function(r){eye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eye(t,e,n){return e=tye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tye(t){var e=nye(t,"string");return zf(e)=="symbol"?e:e+""}function nye(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l2=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var g=Math.min(a,o);c="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},rye=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},iye={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SE=function(e){var n=s2(s2({},iye),e),r=M.useRef(),i=M.useState(-1),o=Yge(i,2),a=o[0],s=o[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&s(P)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,p=n.className,g=n.animationEasing,y=n.animationDuration,b=n.animationBegin,x=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var _=ke("recharts-rectangle",p);return w?D.createElement($i,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:y,animationEasing:g,isActive:w},function(P){var T=P.width,I=P.height,E=P.x,S=P.y;return D.createElement($i,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:x,easing:g},D.createElement("path",Wm({},Ae(n,!0),{className:_,d:l2(E,S,T,I,h),ref:r})))}):D.createElement("path",Wm({},Ae(n,!0),{className:_,d:l2(l,u,c,f,h)}))};function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(this,arguments)}var IE=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=ke("recharts-dot",o);return n===+n&&r===+r&&i===+i?D.createElement("circle",nw({},Ae(e,!1),um(e),{className:a,cx:n,cy:r,r:i})):null};function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}var oye=["x","y","top","left","width","height","className"];function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(this,arguments)}function u2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u2(Object(n),!0).forEach(function(r){sye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sye(t,e,n){return e=lye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lye(t){var e=uye(t,"string");return Wf(e)=="symbol"?e:e+""}function uye(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cye(t,e){if(t==null)return{};var n=fye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dye=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},hye=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,p=h===void 0?0:h,g=e.className,y=cye(e,oye),b=aye({x:r,y:o,top:s,left:u,width:f,height:p},y);return!te(r)||!te(o)||!te(f)||!te(p)||!te(s)||!te(u)?null:D.createElement("path",rw({},Ae(b,!0),{className:ke("recharts-cross",g),d:dye(r,o,f,p,s,u)}))},pye=iL,mye=pye(Object.getPrototypeOf,Object),gye=mye,yye=Ui,vye=gye,bye=zi,_ye="[object Object]",wye=Function.prototype,xye=Object.prototype,GV=wye.toString,Eye=xye.hasOwnProperty,Tye=GV.call(Object);function Sye(t){if(!bye(t)||yye(t)!=_ye)return!1;var e=vye(t);if(e===null)return!0;var n=Eye.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&GV.call(n)==Tye}var Iye=Sye;const Aye=We(Iye);var Pye=Ui,Oye=zi,Cye="[object Boolean]";function kye(t){return t===!0||t===!1||Oye(t)&&Pye(t)==Cye}var Nye=kye;const Rye=We(Nye);function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function qm(){return qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qm.apply(this,arguments)}function jye(t,e){return Lye(t)||$ye(t,e)||Dye(t,e)||Mye()}function Mye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dye(t,e){if(t){if(typeof t=="string")return c2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c2(t,e)}}function c2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $ye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Lye(t){if(Array.isArray(t))return t}function f2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(n),!0).forEach(function(r){Vye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vye(t,e,n){return e=Fye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fye(t){var e=Bye(t,"string");return qf(e)=="symbol"?e:e+""}function Bye(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h2=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Uye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zye=function(e){var n=d2(d2({},Uye),e),r=M.useRef(),i=M.useState(-1),o=jye(i,2),a=o[0],s=o[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,y=n.animationDuration,b=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var w=ke("recharts-trapezoid",p);return x?D.createElement($i,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:y,animationEasing:g,isActive:x},function(_){var P=_.upperWidth,T=_.lowerWidth,I=_.height,E=_.x,S=_.y;return D.createElement($i,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:g},D.createElement("path",qm({},Ae(n,!0),{className:w,d:h2(E,S,P,T,I),ref:r})))}):D.createElement("g",null,D.createElement("path",qm({},Ae(n,!0),{className:w,d:h2(l,u,c,f,h)})))},Wye=["option","shapeType","propTransformer","activeClassName","isActive"];function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function qye(t,e){if(t==null)return{};var n=Gye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function p2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(n),!0).forEach(function(r){Hye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hye(t,e,n){return e=Kye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kye(t){var e=Yye(t,"string");return Gf(e)=="symbol"?e:e+""}function Yye(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qye(t,e){return Gm(Gm({},e),t)}function Xye(t,e){return t==="symbols"}function m2(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D.createElement(SE,n);case"trapezoid":return D.createElement(zye,n);case"sector":return D.createElement(jV,n);case"symbols":if(Xye(e))return D.createElement(W1,n);break;default:return null}}function Jye(t){return M.isValidElement(t)?t.props:t}function Zye(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Qye:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=qye(t,Wye),u;if(M.isValidElement(e))u=M.cloneElement(e,Gm(Gm({},l),Jye(e)));else if(we(e))u=e(l);else if(Aye(e)&&!Rye(e)){var c=i(e,l);u=D.createElement(m2,{shapeType:n,elementProps:c})}else{var f=l;u=D.createElement(m2,{shapeType:n,elementProps:f})}return s?D.createElement(yt,{className:a},u):u}function jy(t,e){return e!=null&&"trapezoids"in t.props}function My(t,e){return e!=null&&"sectors"in t.props}function Hf(t,e){return e!=null&&"points"in t.props}function eve(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function tve(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function nve(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function rve(t,e){var n;return jy(t,e)?n=eve:My(t,e)?n=tve:Hf(t,e)&&(n=nve),n}function ive(t,e){var n;return jy(t,e)?n="trapezoids":My(t,e)?n="sectors":Hf(t,e)&&(n="points"),n}function ove(t,e){if(jy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(My(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Hf(t,e)?e.payload:{}}function ave(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=ive(n,e),o=ove(n,e),a=r.filter(function(l,u){var c=ky(o,l),f=n.props[i].filter(function(g){var y=rve(n,e);return y(g,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var sve=Math.ceil,lve=Math.max;function uve(t,e,n,r){for(var i=-1,o=lve(sve((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var cve=uve,fve=EL,g2=1/0,dve=17976931348623157e292;function hve(t){if(!t)return t===0?t:0;if(t=fve(t),t===g2||t===-g2){var e=t<0?-1:1;return e*dve}return t===t?t:0}var HV=hve,pve=cve,mve=xy,v0=HV;function gve(t){return function(e,n,r){return r&&typeof r!="number"&&mve(e,n,r)&&(n=r=void 0),e=v0(e),n===void 0?(n=e,e=0):n=v0(n),r=r===void 0?e<n?1:-1:v0(r),pve(e,n,r,t)}}var yve=gve,vve=yve,bve=vve(),_ve=bve;const Hm=We(_ve);function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(n),!0).forEach(function(r){KV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KV(t,e,n){return e=wve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wve(t){var e=xve(t,"string");return Kf(e)=="symbol"?e:e+""}function xve(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eve=["Webkit","Moz","O","ms"],Tve=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Eve.reduce(function(o,a){return v2(v2({},o),{},KV({},a+r,n))},{});return i[e]=n,i};function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function Km(){return Km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Km.apply(this,arguments)}function b2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(n),!0).forEach(function(r){kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QV(r.key),r)}}function Ive(t,e,n){return e&&_2(t.prototype,e),n&&_2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ave(t,e,n){return e=Ym(e),Pve(t,YV()?Reflect.construct(e,n||[],Ym(t).constructor):e.apply(t,n))}function Pve(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ove(t)}function Ove(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YV=function(){return!!t})()}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ym(t)}function Cve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iw(t,e)}function iw(t,e){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iw(t,e)}function kn(t,e,n){return e=QV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QV(t){var e=kve(t,"string");return Dl(e)=="symbol"?e:e+""}function kve(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nve=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Mc().domain(Hm(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},w2=function(e){return e.changedTouches&&!!e.changedTouches.length},$l=function(t){function e(n){var r;return Sve(this,e),r=Ave(this,e,[n]),kn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),kn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),kn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),kn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),kn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),kn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),kn(r,"handleSlideDragStart",function(i){var o=w2(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Cve(e,t),Ive(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),p=e.getIndexInRange(a,f),g=e.getIndexInRange(a,h);return{startIndex:p-p%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Wn(o[r],s,r);return we(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+c-f-s,u+c-f-a):y<0&&(y=Math.max(y,u-a,u-s));var b=this.getIndex({startX:a+y,endX:s+y});(b.startIndex!==h||b.endIndex!==p)&&g&&g(b),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=w2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,h=c.width,p=c.travellerWidth,g=c.onChange,y=c.gap,b=c.data,x={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-p-u):w<0&&(w=Math.max(w,f-u)),x[a]=u+w;var _=this.getIndex(x),P=_.startIndex,T=_.endIndex,I=function(){var S=b.length-1;return a==="startX"&&(s>l?P%y===0:T%y===0)||s<l&&T===S||a==="endX"&&(s>l?T%y===0:P%y===0)||s>l&&T===S};this.setState(kn(kn({},a,u+w),"brushMoveStartX",r.pageX),function(){g&&I()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(kn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=M.Children.only(u);return f?D.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,y=l.startIndex,b=l.endIndex,x=Math.max(r,this.props.x),w=b0(b0({},Ae(this.props,!1)),{},{x,y:u,width:c,height:f}),_=p||"Min value: ".concat((o=g[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=g[b])===null||a===void 0?void 0:a.name);return D.createElement(yt,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,p=5,g={pointerEvents:"none",fill:u};return D.createElement(yt,{className:"recharts-brush-texts"},D.createElement(Tm,Km({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:a+s/2},g),this.getTextOfTick(i)),D.createElement(Tm,Km({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:a+s/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,g=h.endX,y=h.isTextActive,b=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!te(s)||!te(l)||!te(u)||!te(c)||u<=0||c<=0)return null;var _=ke("recharts-brush",o),P=D.Children.count(a)===1,T=Tve("userSelect","none");return D.createElement(yt,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(y||b||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return D.isValidElement(r)?o=D.cloneElement(r,i):we(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return b0({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Nve({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(M.PureComponent);kn($l,"displayName","Brush");kn($l,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Rve=X1;function jve(t,e){var n;return Rve(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Mve=jve,Dve=Q$,$ve=Ko,Lve=Mve,Vve=Pn,Fve=xy;function Bve(t,e,n){var r=Vve(t)?Dve:Lve;return n&&Fve(t,e,n)&&(e=void 0),r(t,$ve(e))}var Uve=Bve;const zve=We(Uve);var Yr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},x2=vL;function Wve(t,e,n){e=="__proto__"&&x2?x2(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var qve=Wve,Gve=qve,Hve=gL,Kve=Ko;function Yve(t,e){var n={};return e=Kve(e),Hve(t,function(r,i,o){Gve(n,i,e(r,i,o))}),n}var Qve=Yve;const Xve=We(Qve);function Jve(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Zve=Jve,e0e=X1;function t0e(t,e){var n=!0;return e0e(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var n0e=t0e,r0e=Zve,i0e=n0e,o0e=Ko,a0e=Pn,s0e=xy;function l0e(t,e,n){var r=a0e(t)?r0e:i0e;return n&&s0e(t,e,n)&&(e=void 0),r(t,o0e(e))}var u0e=l0e;const XV=We(u0e);var c0e=["x","y"];function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ic(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){f0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f0e(t,e,n){return e=d0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d0e(t){var e=h0e(t,"string");return Yf(e)=="symbol"?e:e+""}function h0e(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p0e(t,e){if(t==null)return{};var n=m0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function m0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function g0e(t,e){var n=t.x,r=t.y,i=p0e(t,c0e),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return ic(ic(ic(ic(ic({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function T2(t){return D.createElement(Zye,ow({shapeType:"rectangle",propTransformer:g0e,activeClassName:"recharts-active-bar"},t))}var y0e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||es(),n)}},v0e=["value","background"],JV;function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function b0e(t,e){if(t==null)return{};var n=_0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qm.apply(this,arguments)}function S2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(n),!0).forEach(function(r){yo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e4(r.key),r)}}function x0e(t,e,n){return e&&I2(t.prototype,e),n&&I2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function E0e(t,e,n){return e=Xm(e),T0e(t,ZV()?Reflect.construct(e,n||[],Xm(t).constructor):e.apply(t,n))}function T0e(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S0e(t)}function S0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZV=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xm(t)}function I0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aw(t,e)}function aw(t,e){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aw(t,e)}function yo(t,e,n){return e=e4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e4(t){var e=A0e(t,"string");return Ll(e)=="symbol"?e:e+""}function A0e(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rd=function(t){function e(){var n;w0e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=E0e(this,e,[].concat(i)),yo(n,"state",{isAnimationFinished:!1}),yo(n,"id",Id("recharts-bar-")),yo(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),yo(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return I0e(e,t),x0e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Ae(this.props,!1);return r&&r.map(function(f,h){var p=h===l,g=p?u:a,y=_t(_t(_t({},c),f),{},{isActive:p,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(yt,Qm({className:"recharts-bar-rectangle"},cm(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),D.createElement(T2,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return D.createElement($i,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,y=o.map(function(b,x){var w=h&&h[x];if(w){var _=Er(w.x,b.x),P=Er(w.y,b.y),T=Er(w.width,b.width),I=Er(w.height,b.height);return _t(_t({},b),{},{x:_(g),y:P(g),width:T(g),height:I(g)})}if(a==="horizontal"){var E=Er(0,b.height),S=E(g);return _t(_t({},b),{},{y:b.y+b.height-S,height:S})}var O=Er(0,b.width),k=O(g);return _t(_t({},b),{},{width:k})});return D.createElement(yt,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!ky(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Ae(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=b0e(u,v0e);if(!f)return null;var p=_t(_t(_t(_t(_t({},h),{},{fill:"#eee"},f),l),cm(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return D.createElement(T2,Qm({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=sr(c,Nd);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,p=function(b,x){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:Wn(b,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(yt,g,f.map(function(y){return D.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,p=r.isAnimationActive,g=r.background,y=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,x=ke("recharts-bar",a),w=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,P=w||_,T=Se(y)?this.id:y;return D.createElement(yt,{className:x},w||_?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(T)},D.createElement("rect",{x:w?u:u-f/2,y:_?c:c-h/2,width:w?f:f*2,height:_?h:h*2}))):null,D.createElement(yt,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(T,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,T),(!p||b)&&ko.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(M.PureComponent);JV=Rd;yo(Rd,"displayName","Bar");yo(Rd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!du.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});yo(Rd,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,p=hpe(r,n);if(!p)return null;var g=e.layout,y=n.type.defaultProps,b=y!==void 0?_t(_t({},y),n.props):n.props,x=b.dataKey,w=b.children,_=b.minPointSize,P=g==="horizontal"?a:o,T=u?P.scale.domain():null,I=wpe({numericAxis:P}),E=sr(w,SL),S=f.map(function(O,k){var C,R,N,U,B,G;u?C=ppe(u[c+k],T):(C=Wn(O,x),Array.isArray(C)||(C=[I,C]));var H=y0e(_,JV.defaultProps.minPointSize)(C[1],k);if(g==="horizontal"){var V,W=[a.scale(C[0]),a.scale(C[1])],Y=W[0],re=W[1];R=SC({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:O,index:k}),N=(V=re??Y)!==null&&V!==void 0?V:void 0,U=p.size;var Q=Y-re;if(B=Number.isNaN(Q)?0:Q,G={x:R,y:a.y,width:U,height:a.height},Math.abs(H)>0&&Math.abs(B)<Math.abs(H)){var oe=Ir(B||H)*(Math.abs(H)-Math.abs(B));N-=oe,B+=oe}}else{var Ie=[o.scale(C[0]),o.scale(C[1])],Re=Ie[0],it=Ie[1];if(R=Re,N=SC({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:O,index:k}),U=it-Re,B=p.size,G={x:o.x,y:N,width:o.width,height:B},Math.abs(H)>0&&Math.abs(U)<Math.abs(H)){var $t=Ir(U||H)*(Math.abs(H)-Math.abs(U));U+=$t}}return _t(_t(_t({},O),{},{x:R,y:N,width:U,height:B,value:u?C:C[1],payload:O,background:G},E&&E[k]&&E[k].props),{},{tooltipPayload:[kV(n,O)],tooltipPosition:{x:R+U/2,y:N+B/2}})});return _t({data:S,layout:g},h)});function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function P0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t4(r.key),r)}}function O0e(t,e,n){return e&&A2(t.prototype,e),n&&A2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){Dy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dy(t,e,n){return e=t4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t4(t){var e=C0e(t,"string");return Qf(e)=="symbol"?e:e+""}function C0e(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k0e=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Rn(u,Rd);return c.reduce(function(p,g){var y=n[g],b=y.orientation,x=y.domain,w=y.padding,_=w===void 0?{}:w,P=y.mirror,T=y.reversed,I="".concat(b).concat(P?"Mirror":""),E,S,O,k,C;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var R=x[1]-x[0],N=1/0,U=y.categoricalDomain.sort();if(U.forEach(function(Ie,Re){Re>0&&(N=Math.min((Ie||0)-(U[Re-1]||0),N))}),Number.isFinite(N)){var B=N/R,G=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(E=B*G/2),y.padding==="no-gap"){var H=Ja(e.barCategoryGap,B*G),V=B*G/2;E=V-H-(V-H)/G*H}}}i==="xAxis"?S=[r.left+(_.left||0)+(E||0),r.left+r.width-(_.right||0)-(E||0)]:i==="yAxis"?S=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(E||0),r.top+r.height-(_.bottom||0)-(E||0)]:S=y.range,T&&(S=[S[1],S[0]]);var W=fpe(y,o,h),Y=W.scale,re=W.realScaleType;Y.domain(x).range(S),dpe(Y);var Q=_pe(Y,_r(_r({},y),{},{realScaleType:re}));i==="xAxis"?(C=b==="top"&&!P||b==="bottom"&&P,O=r.left,k=f[I]-C*y.height):i==="yAxis"&&(C=b==="left"&&!P||b==="right"&&P,O=f[I]-C*y.width,k=r.top);var oe=_r(_r(_r({},y),Q),{},{realScaleType:re,x:O,y:k,scale:Y,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return oe.bandSize=Lm(oe,Q),!y.hide&&i==="xAxis"?f[I]+=(C?-1:1)*oe.height:y.hide||(f[I]+=(C?-1:1)*oe.width),_r(_r({},p),{},Dy({},g,oe))},{})},n4=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},N0e=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return n4({x:n,y:r},{x:i,y:o})},r4=function(){function t(e){P0e(this,t),this.scale=e}return O0e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Dy(r4,"EPS",1e-4);var AE=function(e){var n=Object.keys(e).reduce(function(r,i){return _r(_r({},r),{},Dy({},i,r4.create(e[i])))},{});return _r(_r({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Xve(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return XV(i,function(o,a){return n[a].isInRange(o)})}})};function R0e(t){return(t%180+180)%180}var j0e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=R0e(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},M0e=Ko,D0e=Ad,$0e=_y;function L0e(t){return function(e,n,r){var i=Object(e);if(!D0e(e)){var o=M0e(n);e=$0e(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var V0e=L0e,F0e=HV;function B0e(t){var e=F0e(t),n=e%1;return e===e?n?e-n:e:0}var U0e=B0e,z0e=cL,W0e=Ko,q0e=U0e,G0e=Math.max;function H0e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:q0e(n);return i<0&&(i=G0e(r+i,0)),z0e(t,W0e(e),i)}var K0e=H0e,Y0e=V0e,Q0e=K0e,X0e=Y0e(Q0e),J0e=X0e;const Z0e=We(J0e);var ebe=YX(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),PE=M.createContext(void 0),OE=M.createContext(void 0),i4=M.createContext(void 0),o4=M.createContext({}),a4=M.createContext(void 0),s4=M.createContext(0),l4=M.createContext(0),O2=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=ebe(o);return D.createElement(PE.Provider,{value:r},D.createElement(OE.Provider,{value:i},D.createElement(o4.Provider,{value:o},D.createElement(i4.Provider,{value:c},D.createElement(a4.Provider,{value:a},D.createElement(s4.Provider,{value:u},D.createElement(l4.Provider,{value:l},s)))))))},tbe=function(){return M.useContext(a4)},u4=function(e){var n=M.useContext(PE);n==null&&es();var r=n[e];return r==null&&es(),r},nbe=function(){var e=M.useContext(PE);return fo(e)},rbe=function(){var e=M.useContext(OE),n=Z0e(e,function(r){return XV(r.domain,Number.isFinite)});return n||fo(e)},c4=function(e){var n=M.useContext(OE);n==null&&es();var r=n[e];return r==null&&es(),r},ibe=function(){var e=M.useContext(i4);return e},obe=function(){return M.useContext(o4)},CE=function(){return M.useContext(l4)},kE=function(){return M.useContext(s4)};function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function abe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d4(r.key),r)}}function lbe(t,e,n){return e&&sbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ube(t,e,n){return e=Jm(e),cbe(t,f4()?Reflect.construct(e,n||[],Jm(t).constructor):e.apply(t,n))}function cbe(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fbe(t)}function fbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f4=function(){return!!t})()}function Jm(t){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jm(t)}function dbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sw(t,e)}function sw(t,e){return sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sw(t,e)}function C2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C2(Object(n),!0).forEach(function(r){NE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NE(t,e,n){return e=d4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d4(t){var e=hbe(t,"string");return Vl(e)=="symbol"?e:e+""}function hbe(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pbe(t,e){return vbe(t)||ybe(t,e)||gbe(t,e)||mbe()}function mbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gbe(t,e){if(t){if(typeof t=="string")return N2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N2(t,e)}}function N2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ybe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function vbe(t){if(Array.isArray(t))return t}function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(this,arguments)}var bbe=function(e,n){var r;return D.isValidElement(e)?r=D.cloneElement(e,n):we(e)?r=e(n):r=D.createElement("line",lw({},n,{className:"recharts-reference-line-line"})),r},_be=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,h=o.width,p=o.height;if(r){var g=u.y,y=e.y.apply(g,{position:a});if(Yr(u,"discard")&&!e.y.isInRange(y))return null;var b=[{x:c+h,y},{x:c,y}];return l==="left"?b.reverse():b}if(n){var x=u.x,w=e.x.apply(x,{position:a});if(Yr(u,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+p},{x:w,y:f}];return s==="top"?_.reverse():_}if(i){var P=u.segment,T=P.map(function(I){return e.apply(I,{position:a})});return Yr(u,"discard")&&zve(T,function(I){return!e.isInRange(I)})?null:T}return null};function wbe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=tbe(),c=u4(i),f=c4(o),h=ibe();if(!u||!h)return null;Ti(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=AE({x:c.scale,y:f.scale}),g=Pt(e),y=Pt(n),b=r&&r.length===2,x=_be(p,g,y,b,h,t.position,c.orientation,f.orientation,t);if(!x)return null;var w=pbe(x,2),_=w[0],P=_.x,T=_.y,I=w[1],E=I.x,S=I.y,O=Yr(t,"hidden")?"url(#".concat(u,")"):void 0,k=k2(k2({clipPath:O},Ae(t,!0)),{},{x1:P,y1:T,x2:E,y2:S});return D.createElement(yt,{className:ke("recharts-reference-line",s)},bbe(a,k),nn.renderCallByParent(t,N0e({x1:P,y1:T,x2:E,y2:S})))}var RE=function(t){function e(){return abe(this,e),ube(this,e,arguments)}return dbe(e,t),lbe(e,[{key:"render",value:function(){return D.createElement(wbe,this.props)}}])}(D.Component);NE(RE,"displayName","ReferenceLine");NE(RE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(this,arguments)}function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function R2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(n),!0).forEach(function(r){$y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ebe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p4(r.key),r)}}function Tbe(t,e,n){return e&&Ebe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sbe(t,e,n){return e=Zm(e),Ibe(t,h4()?Reflect.construct(e,n||[],Zm(t).constructor):e.apply(t,n))}function Ibe(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Abe(t)}function Abe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h4=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zm(t)}function Pbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cw(t,e)}function cw(t,e){return cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cw(t,e)}function $y(t,e,n){return e=p4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p4(t){var e=Obe(t,"string");return Fl(e)=="symbol"?e:e+""}function Obe(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cbe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=AE({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Yr(e,"discard")&&!a.isInRange(s)?null:s},Ly=function(t){function e(){return xbe(this,e),Sbe(this,e,arguments)}return Pbe(e,t),Tbe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Pt(i),c=Pt(o);if(Ti(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Cbe(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,y=g.shape,b=g.className,x=Yr(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=j2(j2({clipPath:x},Ae(this.props,!0)),{},{cx:h,cy:p});return D.createElement(yt,{className:ke("recharts-reference-dot",b)},e.renderDot(y,w),nn.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])}(D.Component);$y(Ly,"displayName","ReferenceDot");$y(Ly,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});$y(Ly,"renderDot",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):we(t)?n=t(e):n=D.createElement(IE,uw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(this,arguments)}function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){Vy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g4(r.key),r)}}function Rbe(t,e,n){return e&&Nbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jbe(t,e,n){return e=eg(e),Mbe(t,m4()?Reflect.construct(e,n||[],eg(t).constructor):e.apply(t,n))}function Mbe(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dbe(t)}function Dbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m4=function(){return!!t})()}function eg(t){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eg(t)}function $be(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dw(t,e)}function dw(t,e){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dw(t,e)}function Vy(t,e,n){return e=g4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g4(t){var e=Lbe(t,"string");return Bl(e)=="symbol"?e:e+""}function Lbe(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vbe=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=AE({x:c.scale,y:f.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Yr(o,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:n4(p,g)},Fy=function(t){function e(){return kbe(this,e),jbe(this,e,arguments)}return $be(e,t),Rbe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ti(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Pt(i),h=Pt(o),p=Pt(a),g=Pt(s),y=this.props.shape;if(!f&&!h&&!p&&!g&&!y)return null;var b=Vbe(f,h,p,g,this.props);if(!b&&!y)return null;var x=Yr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return D.createElement(yt,{className:ke("recharts-reference-area",l)},e.renderRect(y,D2(D2({clipPath:x},Ae(this.props,!0)),b)),nn.renderCallByParent(this.props,b))}}])}(D.Component);Vy(Fy,"displayName","ReferenceArea");Vy(Fy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Vy(Fy,"renderRect",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):we(t)?n=t(e):n=D.createElement(SE,fw({},e,{className:"recharts-reference-area-rect"})),n});function y4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Fbe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return j0e(r,n)}function Bbe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function tg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Ube(t,e){return y4(t,e+1)}function zbe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:y4(r,u)};var y=l,b,x=function(){return b===void 0&&(b=n(g,y)),b},w=g.coordinate,_=l===0||tg(t,w,x,c,s);_||(l=0,c=a,u+=1),_&&(c=w+t*(x()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){Wbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wbe(t,e,n){return e=qbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qbe(t){var e=Gbe(t,"string");return Xf(e)=="symbol"?e:e+""}function Gbe(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hbe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var p=o[h],g,y=function(){return g===void 0&&(g=n(p,h)),g};if(h===a-1){var b=t*(p.coordinate+t*y()/2-l);o[h]=p=en(en({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else o[h]=p=en(en({},p),{},{tickCoord:p.coordinate});var x=tg(t,p.tickCoord,y,s,l);x&&(l=p.tickCoord-t*(y()/2+i),o[h]=en(en({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Kbe(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);a[s-1]=c=en(en({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=tg(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),a[s-1]=en(en({},c),{},{isShow:!0}))}for(var g=o?s-1:s,y=function(w){var _=a[w],P,T=function(){return P===void 0&&(P=n(_,w)),P};if(w===0){var I=t*(_.coordinate-t*T()/2-l);a[w]=_=en(en({},_),{},{tickCoord:I<0?_.coordinate-I*t:_.coordinate})}else a[w]=_=en(en({},_),{},{tickCoord:_.coordinate});var E=tg(t,_.tickCoord,T,l,u);E&&(l=_.tickCoord+t*(T()/2+i),a[w]=en(en({},_),{},{isShow:!0}))},b=0;b<g;b++)y(b);return a}function jE(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(te(l)||du.isSsr)return Ube(i,typeof l=="number"&&te(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",g=c&&p==="width"?jc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,P){var T=we(u)?u(_.value,P):_.value;return p==="width"?Fbe(jc(T,{fontSize:e,letterSpacing:n}),g,f):jc(T,{fontSize:e,letterSpacing:n})[p]},b=i.length>=2?Ir(i[1].coordinate-i[0].coordinate):1,x=Bbe(o,b,p);return l==="equidistantPreserveStart"?zbe(b,x,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Kbe(b,x,y,i,a,l==="preserveStartEnd"):h=Hbe(b,x,y,i,a),h.filter(function(w){return w.isShow}))}var Ybe=["viewBox"],Qbe=["viewBox"],Xbe=["ticks"];function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function Gs(){return Gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gs.apply(this,arguments)}function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(r){ME(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _0(t,e){if(t==null)return{};var n=Jbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b4(r.key),r)}}function e_e(t,e,n){return e&&V2(t.prototype,e),n&&V2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function t_e(t,e,n){return e=ng(e),n_e(t,v4()?Reflect.construct(e,n||[],ng(t).constructor):e.apply(t,n))}function n_e(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r_e(t)}function r_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v4=function(){return!!t})()}function ng(t){return ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ng(t)}function i_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hw(t,e)}function hw(t,e){return hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hw(t,e)}function ME(t,e,n){return e=b4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b4(t){var e=o_e(t,"string");return Ul(e)=="symbol"?e:e+""}function o_e(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yu=function(t){function e(n){var r;return Zbe(this,e),r=t_e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return i_e(e,t),e_e(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=_0(r,Ybe),s=this.props,l=s.viewBox,u=_0(s,Qbe);return!il(o,l)||!il(a,u)||!il(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,p,g,y,b,x,w,_=f?-1:1,P=r.tickSize||c,T=te(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=g=r.coordinate,b=a+ +!f*l,y=b-_*P,w=y-_*h,x=T;break;case"left":y=b=r.coordinate,g=o+ +!f*s,p=g-_*P,x=p-_*h,w=T;break;case"right":y=b=r.coordinate,g=o+ +f*s,p=g+_*P,x=p+_*h,w=T;break;default:p=g=r.coordinate,b=a+ +f*l,y=b+_*P,w=y+_*h,x=T;break}return{line:{x1:p,y1:y,x2:g,y2:b},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=cn(cn(cn({},Ae(this.props,!1)),Ae(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=cn(cn({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=cn(cn({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return D.createElement("line",Gs({},f,{className:ke("recharts-cartesian-axis-line",ar(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,p=jE(cn(cn({},this.props),{},{ticks:r}),i,o),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=Ae(this.props,!1),x=Ae(c,!1),w=cn(cn({},b),{},{fill:"none"},Ae(l,!1)),_=p.map(function(P,T){var I=a.getTickLineCoord(P),E=I.line,S=I.tick,O=cn(cn(cn(cn({textAnchor:g,verticalAnchor:y},b),{},{stroke:"none",fill:u},x),S),{},{index:T,payload:P,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(yt,Gs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},cm(a.props,P,T)),l&&D.createElement("line",Gs({},w,E,{className:ke("recharts-cartesian-axis-tick-line",ar(l,"className"))})),c&&e.renderTickItem(c,O,"".concat(we(f)?f(P.value,T):P.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,p=_0(f,Xbe),g=h;return we(l)&&(g=h&&h.length>0?l(this.props):l(p)),a<=0||s<=0||!g||!g.length?null:D.createElement(yt,{className:ke("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),nn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return D.isValidElement(r)?a=D.cloneElement(r,i):we(r)?a=r(i):a=D.createElement(Tm,Gs({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(M.Component);ME(yu,"displayName","CartesianAxis");ME(yu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var a_e=["x1","y1","x2","y2","key"],s_e=["offset"];function ts(t){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(t)}function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){l_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l_e(t,e,n){return e=u_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u_e(t){var e=c_e(t,"string");return ts(e)=="symbol"?e:e+""}function c_e(t,e){if(ts(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sa.apply(this,arguments)}function B2(t,e){if(t==null)return{};var n=f_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function f_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var d_e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return D.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _4(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(we(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=B2(e,a_e),u=Ae(l,!1);u.offset;var c=B2(u,s_e);n=D.createElement("line",Sa({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function h_e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=rn(rn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return _4(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function p_e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=rn(rn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return _4(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function m_e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var g=!c[p+1],y=g?i+a-h:c[p+1]-h;if(y<=0)return null;var b=p%e.length;return D.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:y,width:o,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function g_e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var g=!c[p+1],y=g?o+s-h:c[p+1]-h;if(y<=0)return null;var b=p%r.length;return D.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var y_e=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return OV(jE(rn(rn(rn({},yu.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},v_e=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return OV(jE(rn(rn(rn({},yu.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Is={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function w4(t){var e,n,r,i,o,a,s=CE(),l=kE(),u=obe(),c=rn(rn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Is.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Is.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Is.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Is.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Is.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Is.verticalFill,x:te(t.x)?t.x:u.left,y:te(t.y)?t.y:u.top,width:te(t.width)?t.width:u.width,height:te(t.height)?t.height:u.height}),f=c.x,h=c.y,p=c.width,g=c.height,y=c.syncWithTicks,b=c.horizontalValues,x=c.verticalValues,w=nbe(),_=rbe();if(!te(p)||p<=0||!te(g)||g<=0||!te(f)||f!==+f||!te(h)||h!==+h)return null;var P=c.verticalCoordinatesGenerator||y_e,T=c.horizontalCoordinatesGenerator||v_e,I=c.horizontalPoints,E=c.verticalPoints;if((!I||!I.length)&&we(T)){var S=b&&b.length,O=T({yAxis:_?rn(rn({},_),{},{ticks:S?b:_.ticks}):void 0,width:s,height:l,offset:u},S?!0:y);Ti(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ts(O),"]")),Array.isArray(O)&&(I=O)}if((!E||!E.length)&&we(P)){var k=x&&x.length,C=P({xAxis:w?rn(rn({},w),{},{ticks:k?x:w.ticks}):void 0,width:s,height:l,offset:u},k?!0:y);Ti(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ts(C),"]")),Array.isArray(C)&&(E=C)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(d_e,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),D.createElement(h_e,Sa({},c,{offset:u,horizontalPoints:I,xAxis:w,yAxis:_})),D.createElement(p_e,Sa({},c,{offset:u,verticalPoints:E,xAxis:w,yAxis:_})),D.createElement(m_e,Sa({},c,{horizontalPoints:I})),D.createElement(g_e,Sa({},c,{verticalPoints:E})))}w4.displayName="CartesianGrid";var b_e=["type","layout","connectNulls","ref"],__e=["key"];function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function U2(t,e){if(t==null)return{};var n=w_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lc(){return Lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lc.apply(this,arguments)}function z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(n),!0).forEach(function(r){wr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function As(t){return S_e(t)||T_e(t)||E_e(t)||x_e()}function x_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E_e(t,e){if(t){if(typeof t=="string")return pw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pw(t,e)}}function T_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function S_e(t){if(Array.isArray(t))return pw(t)}function pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E4(r.key),r)}}function A_e(t,e,n){return e&&W2(t.prototype,e),n&&W2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function P_e(t,e,n){return e=rg(e),O_e(t,x4()?Reflect.construct(e,n||[],rg(t).constructor):e.apply(t,n))}function O_e(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C_e(t)}function C_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x4=function(){return!!t})()}function rg(t){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rg(t)}function k_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mw(t,e)}function mw(t,e){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mw(t,e)}function wr(t,e,n){return e=E4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E4(t){var e=N_e(t,"string");return zl(e)=="symbol"?e:e+""}function N_e(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ja=function(t){function e(){var n;I_e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=P_e(this,e,[].concat(i)),wr(n,"state",{isAnimationFinished:!0,totalLength:0}),wr(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),wr(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(x,w){return x+w});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),f=a%u,h=s-a,p=[],g=0,y=0;g<l.length;y+=l[g],++g)if(y+l[g]>f){p=[].concat(As(l.slice(0,g)),[f-y]);break}var b=p.length%2===0?[0,h]:[h];return[].concat(As(e.repeat(l,c)),As(p),b).map(function(x){return"".concat(x,"px")}).join(", ")}),wr(n,"id",Id("recharts-line-")),wr(n,"pathRef",function(a){n.mainCurve=a}),wr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),wr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return k_e(e,t),A_e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=sr(c,Nd);if(!f)return null;var h=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:Wn(y.payload,b)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(yt,p,f.map(function(g){return D.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=Ae(this.props,!1),h=Ae(l,!0),p=u.map(function(y,b){var x=Cn(Cn(Cn({key:"dot-".concat(b),r:3},f),h),{},{value:y.value,dataKey:c,cx:y.x,cy:y.y,index:b,payload:y.payload});return e.renderDotItem(l,x)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return D.createElement(yt,Lc({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=U2(s,b_e),h=Cn(Cn(Cn({},Ae(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return D.createElement(G_,Lc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,g=a.animateNewValues,y=a.width,b=a.height,x=this.state,w=x.prevPoints,_=x.totalLength;return D.createElement($i,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var T=P.t;if(w){var I=w.length/s.length,E=s.map(function(R,N){var U=Math.floor(N*I);if(w[U]){var B=w[U],G=Er(B.x,R.x),H=Er(B.y,R.y);return Cn(Cn({},R),{},{x:G(T),y:H(T)})}if(g){var V=Er(y*2,R.x),W=Er(b/2,R.y);return Cn(Cn({},R),{},{x:V(T),y:W(T)})}return Cn(Cn({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(E,r,i)}var S=Er(0,_),O=S(T),k;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});k=o.getStrokeDasharray(O,_,C)}else k=o.generateSimpleStrokeDasharray(_,O);return o.renderCurveStatically(s,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!ky(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,h=i.left,p=i.width,g=i.height,y=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var x=this.state.isAnimationFinished,w=s.length===1,_=ke("recharts-line",l),P=u&&u.allowDataOverflow,T=c&&c.allowDataOverflow,I=P||T,E=Se(b)?this.id:b,S=(r=Ae(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=S.r,k=O===void 0?3:O,C=S.strokeWidth,R=C===void 0?2:C,N=tZ(a)?a:{},U=N.clipDot,B=U===void 0?!0:U,G=k*2+R;return D.createElement(yt,{className:_},P||T?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(E)},D.createElement("rect",{x:P?h:h-p/2,y:T?f:f-g/2,width:P?p:p*2,height:T?g:g*2})),!B&&D.createElement("clipPath",{id:"clipPath-dots-".concat(E)},D.createElement("rect",{x:h-G/2,y:f-G/2,width:p+G,height:g+G}))):null,!w&&this.renderCurve(I,E),this.renderErrorBar(I,E),(w||a)&&this.renderDots(I,B,E),(!y||x)&&ko.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(As(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(As(a),As(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(D.isValidElement(r))o=D.cloneElement(r,i);else if(we(r))o=r(i);else{var a=i.key,s=U2(i,__e),l=ke("recharts-line-dot",typeof r!="boolean"?r.className:"");o=D.createElement(IE,Lc({key:a},s,{className:l}))}return o}}])}(M.PureComponent);wr(ja,"displayName","Line");wr(ja,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!du.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});wr(ja,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(h,p){var g=Wn(h,a);return c==="horizontal"?{x:TC({axis:n,ticks:i,bandSize:s,entry:h,index:p}),y:Se(g)?null:r.scale(g),value:g,payload:h}:{x:Se(g)?null:n.scale(g),y:TC({axis:r,ticks:o,bandSize:s,entry:h,index:p}),value:g,payload:h}});return Cn({points:f,layout:c},u)});function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function R_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I4(r.key),r)}}function M_e(t,e,n){return e&&j_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D_e(t,e,n){return e=ig(e),$_e(t,T4()?Reflect.construct(e,n||[],ig(t).constructor):e.apply(t,n))}function $_e(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L_e(t)}function L_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T4=function(){return!!t})()}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ig(t)}function V_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gw(t,e)}function S4(t,e,n){return e=I4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I4(t){var e=F_e(t,"string");return Wl(e)=="symbol"?e:e+""}function F_e(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(this,arguments)}function B_e(t){var e=t.xAxisId,n=CE(),r=kE(),i=u4(e);return i==null?null:D.createElement(yu,yw({},i,{className:ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return bi(a,!0)}}))}var By=function(t){function e(){return R_e(this,e),D_e(this,e,arguments)}return V_e(e,t),M_e(e,[{key:"render",value:function(){return D.createElement(B_e,this.props)}}])}(D.Component);S4(By,"displayName","XAxis");S4(By,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function U_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O4(r.key),r)}}function W_e(t,e,n){return e&&z_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function q_e(t,e,n){return e=og(e),G_e(t,A4()?Reflect.construct(e,n||[],og(t).constructor):e.apply(t,n))}function G_e(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H_e(t)}function H_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A4=function(){return!!t})()}function og(t){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},og(t)}function K_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vw(t,e)}function vw(t,e){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vw(t,e)}function P4(t,e,n){return e=O4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O4(t){var e=Y_e(t,"string");return ql(e)=="symbol"?e:e+""}function Y_e(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bw.apply(this,arguments)}var Q_e=function(e){var n=e.yAxisId,r=CE(),i=kE(),o=c4(n);return o==null?null:D.createElement(yu,bw({},o,{className:ke("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return bi(s,!0)}}))},Uy=function(t){function e(){return U_e(this,e),q_e(this,e,arguments)}return K_e(e,t),W_e(e,[{key:"render",value:function(){return D.createElement(Q_e,this.props)}}])}(D.Component);P4(Uy,"displayName","YAxis");P4(Uy,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function q2(t){return ewe(t)||Z_e(t)||J_e(t)||X_e()}function X_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J_e(t,e){if(t){if(typeof t=="string")return _w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _w(t,e)}}function Z_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ewe(t){if(Array.isArray(t))return _w(t)}function _w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ww=function(e,n,r,i,o){var a=sr(e,RE),s=sr(e,Ly),l=[].concat(q2(a),q2(s)),u=sr(e,Fy),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(y,b){if(b.props[c]===r&&Yr(b.props,"extendDomain")&&te(b.props[f])){var x=b.props[f];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(y,b){if(b.props[c]===r&&Yr(b.props,"extendDomain")&&te(b.props[p])&&te(b.props[g])){var x=b.props[p],w=b.props[g];return[Math.min(y[0],x,w),Math.max(y[1],x,w)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,b){return te(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},h)),h},C4={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,p,g){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],x=arguments.length,w,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,f),!0;case 4:return b.fn.call(b.context,c,f,h),!0;case 5:return b.fn.call(b.context,c,f,h,p),!0;case 6:return b.fn.call(b.context,c,f,h,p,g),!0}for(_=1,w=new Array(x-1);_<x;_++)w[_-1]=arguments[_];b.fn.apply(b.context,w)}else{var P=b.length,T;for(_=0;_<P;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),x){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,c);break;case 3:b[_].fn.call(b[_].context,c,f);break;case 4:b[_].fn.call(b[_].context,c,f,h);break;default:if(!w)for(T=1,w=new Array(x-1);T<x;T++)w[T-1]=arguments[T];b[_].fn.apply(b[_].context,w)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!h||g.once)&&(!f||g.context===f)&&a(this,p);else{for(var y=0,b=[],x=g.length;y<x;y++)(g[y].fn!==c||h&&!g[y].once||f&&g[y].context!==f)&&b.push(g[y]);b.length?this._events[p]=b.length===1?b[0]:b:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(C4);var twe=C4.exports;const nwe=We(twe);var w0=new nwe,x0="recharts.syncMouseEvents";function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function rwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k4(r.key),r)}}function owe(t,e,n){return e&&iwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function E0(t,e,n){return e=k4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k4(t){var e=awe(t,"string");return Jf(e)=="symbol"?e:e+""}function awe(t,e){if(Jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var swe=function(){function t(){rwe(this,t),E0(this,"activeIndex",0),E0(this,"coordinateList",[]),E0(this,"layout","horizontal")}return owe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function lwe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&te(r)&&te(i))return!0}return!1}function uwe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function N4(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=zt(e,n,r,i),s=zt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function cwe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=zt(s,l,u,f),p=zt(s,l,c,f);r=h.x,i=h.y,o=p.x,a=p.y}else return N4(e);return[{x:r,y:i},{x:o,y:a}]}function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function G2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(n),!0).forEach(function(r){fwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fwe(t,e,n){return e=dwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dwe(t){var e=hwe(t,"string");return Zf(e)=="symbol"?e:e+""}function hwe(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pwe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var g,y=G_;if(h==="ScatterChart")g=a,y=hye;else if(h==="BarChart")g=uwe(f,a,l,c),y=SE;else if(f==="radial"){var b=N4(a),x=b.cx,w=b.cy,_=b.radius,P=b.startAngle,T=b.endAngle;g={cx:x,cy:w,startAngle:P,endAngle:T,innerRadius:_,outerRadius:_},y=jV}else g={points:cwe(f,a,l)},y=G_;var I=Mh(Mh(Mh(Mh({stroke:"#ccc",pointerEvents:"none"},l),g),Ae(p,!1)),{},{payload:s,payloadIndex:u,className:ke("recharts-tooltip-cursor",p.className)});return M.isValidElement(p)?M.cloneElement(p,I):M.createElement(y,I)}var mwe=["item"],gwe=["children","className","width","height","style","compact","title","desc"];function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hs.apply(this,arguments)}function H2(t,e){return bwe(t)||vwe(t,e)||j4(t,e)||ywe()}function ywe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function bwe(t){if(Array.isArray(t))return t}function K2(t,e){if(t==null)return{};var n=_we(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _we(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M4(r.key),r)}}function Ewe(t,e,n){return e&&xwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Twe(t,e,n){return e=ag(e),Swe(t,R4()?Reflect.construct(e,n||[],ag(t).constructor):e.apply(t,n))}function Swe(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iwe(t)}function Iwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R4=function(){return!!t})()}function ag(t){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ag(t)}function Awe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}function xw(t,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xw(t,e)}function Hl(t){return Cwe(t)||Owe(t)||j4(t)||Pwe()}function Pwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j4(t,e){if(t){if(typeof t=="string")return Ew(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ew(t,e)}}function Owe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cwe(t){if(Array.isArray(t))return Ew(t)}function Ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(n),!0).forEach(function(r){fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fe(t,e,n){return e=M4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M4(t){var e=kwe(t,"string");return Gl(e)=="symbol"?e:e+""}function kwe(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nwe={xAxis:["bottom","top"],yAxis:["left","right"]},Rwe={width:"100%",height:"100%"},D4={x:0,y:0};function Dh(t){return t}var jwe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Mwe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return z(z(z({},i),zt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return z(z(z({},i),zt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return D4},zy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Hl(s),Hl(u)):s},[]);return a.length>0?a:e&&e.length&&te(i)&&te(o)?e.slice(i,o+1):[]};function $4(t){return t==="number"?[0,"auto"]:void 0}var Tw=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=zy(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;h=lm(p,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Hl(l),[kV(u,h)]):l},[])},Q2=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=jwe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=ope(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=Tw(e,n,c,f),p=Mwe(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Dwe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,p=PV(c,o);return r.reduce(function(g,y){var b,x=y.type.defaultProps!==void 0?z(z({},y.type.defaultProps),y.props):y.props,w=x.type,_=x.dataKey,P=x.allowDataOverflow,T=x.allowDuplicatedCategory,I=x.scale,E=x.ticks,S=x.includeHidden,O=x[a];if(g[O])return g;var k=zy(e.data,{graphicalItems:i.filter(function(Q){var oe,Ie=a in Q.props?Q.props[a]:(oe=Q.type.defaultProps)===null||oe===void 0?void 0:oe[a];return Ie===O}),dataStartIndex:l,dataEndIndex:u}),C=k.length,R,N,U;lwe(x.domain,P,w)&&(R=B_(x.domain,null,P),p&&(w==="number"||I!=="auto")&&(U=Dc(k,_,"category")));var B=$4(w);if(!R||R.length===0){var G,H=(G=x.domain)!==null&&G!==void 0?G:B;if(_){if(R=Dc(k,_,w),w==="category"&&p){var V=GJ(R);T&&V?(N=R,R=Hm(0,C)):T||(R=PC(H,R,y).reduce(function(Q,oe){return Q.indexOf(oe)>=0?Q:[].concat(Hl(Q),[oe])},[]))}else if(w==="category")T?R=R.filter(function(Q){return Q!==""&&!Se(Q)}):R=PC(H,R,y).reduce(function(Q,oe){return Q.indexOf(oe)>=0||oe===""||Se(oe)?Q:[].concat(Hl(Q),[oe])},[]);else if(w==="number"){var W=cpe(k,i.filter(function(Q){var oe,Ie,Re=a in Q.props?Q.props[a]:(oe=Q.type.defaultProps)===null||oe===void 0?void 0:oe[a],it="hide"in Q.props?Q.props.hide:(Ie=Q.type.defaultProps)===null||Ie===void 0?void 0:Ie.hide;return Re===O&&(S||!it)}),_,o,c);W&&(R=W)}p&&(w==="number"||I!=="auto")&&(U=Dc(k,_,"category"))}else p?R=Hm(0,C):s&&s[O]&&s[O].hasStack&&w==="number"?R=h==="expand"?[0,1]:CV(s[O].stackGroups,l,u):R=AV(k,i.filter(function(Q){var oe=a in Q.props?Q.props[a]:Q.type.defaultProps[a],Ie="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return oe===O&&(S||!Ie)}),w,c,!0);if(w==="number")R=ww(f,R,O,o,E),H&&(R=B_(H,R,P));else if(w==="category"&&H){var Y=H,re=R.every(function(Q){return Y.indexOf(Q)>=0});re&&(R=Y)}}return z(z({},g),{},fe({},O,z(z({},x),{},{axisType:o,domain:R,categoricalDomain:U,duplicateDomain:N,originalDomain:(b=x.domain)!==null&&b!==void 0?b:B,isCategorical:p,layout:c})))},{})},$we=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=zy(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=h.length,g=PV(c,o),y=-1;return r.reduce(function(b,x){var w=x.type.defaultProps!==void 0?z(z({},x.type.defaultProps),x.props):x.props,_=w[a],P=$4("number");if(!b[_]){y++;var T;return g?T=Hm(0,p):s&&s[_]&&s[_].hasStack?(T=CV(s[_].stackGroups,l,u),T=ww(f,T,_,o)):(T=B_(P,AV(h,r.filter(function(I){var E,S,O=a in I.props?I.props[a]:(E=I.type.defaultProps)===null||E===void 0?void 0:E[a],k="hide"in I.props?I.props.hide:(S=I.type.defaultProps)===null||S===void 0?void 0:S.hide;return O===_&&!k}),"number",c),i.defaultProps.allowDataOverflow),T=ww(f,T,_,o)),z(z({},b),{},fe({},_,z(z({axisType:o},i.defaultProps),{},{hide:!0,orientation:ar(Nwe,"".concat(o,".").concat(y%2),null),domain:T,originalDomain:P,isCategorical:g,layout:c})))}return b},{})},Lwe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=sr(c,o),p={};return h&&h.length?p=Dwe(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=$we(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},Vwe=function(e){var n=fo(e),r=bi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:J1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Lm(n,r)}},X2=function(e){var n=e.children,r=e.defaultShowTooltip,i=Rn(n,$l),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Fwe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ei(n&&n.type);return r&&r.indexOf("Bar")>=0})},J2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Bwe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},p=Rn(f,$l),g=Rn(f,ka),y=Object.keys(l).reduce(function(T,I){var E=l[I],S=E.orientation;return!E.mirror&&!E.hide?z(z({},T),{},fe({},S,T[S]+E.width)):T},{left:h.left||0,right:h.right||0}),b=Object.keys(a).reduce(function(T,I){var E=a[I],S=E.orientation;return!E.mirror&&!E.hide?z(z({},T),{},fe({},S,ar(T,"".concat(S))+E.height)):T},{top:h.top||0,bottom:h.bottom||0}),x=z(z({},b),y),w=x.bottom;p&&(x.bottom+=p.props.height||$l.defaultProps.height),g&&n&&(x=lpe(x,i,r,n));var _=u-x.left-x.right,P=c-x.top-x.bottom;return z(z({brushBottom:w},x),{},{width:Math.max(_,0),height:Math.max(P,0)})},Uwe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},zwe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(x,w){var _=w.graphicalItems,P=w.stackGroups,T=w.offset,I=w.updateId,E=w.dataStartIndex,S=w.dataEndIndex,O=x.barSize,k=x.layout,C=x.barGap,R=x.barCategoryGap,N=x.maxBarSize,U=J2(k),B=U.numericAxisName,G=U.cateAxisName,H=Fwe(_),V=[];return _.forEach(function(W,Y){var re=zy(x.data,{graphicalItems:[W],dataStartIndex:E,dataEndIndex:S}),Q=W.type.defaultProps!==void 0?z(z({},W.type.defaultProps),W.props):W.props,oe=Q.dataKey,Ie=Q.maxBarSize,Re=Q["".concat(B,"Id")],it=Q["".concat(G,"Id")],$t={},Gt=l.reduce(function(Dr,ni){var Jo=w["".concat(ni.axisType,"Map")],hs=Q["".concat(ni.axisType,"Id")];Jo&&Jo[hs]||ni.axisType==="zAxis"||es();var vu=Jo[hs];return z(z({},Dr),{},fe(fe({},ni.axisType,vu),"".concat(ni.axisType,"Ticks"),bi(vu)))},$t),ie=Gt[G],he=Gt["".concat(G,"Ticks")],ge=P&&P[Re]&&P[Re].hasStack&&xpe(W,P[Re].stackGroups),K=Ei(W.type).indexOf("Bar")>=0,qe=Lm(ie,he),_e=[],ot=H&&ape({barSize:O,stackGroups:P,totalSize:Uwe(Gt,G)});if(K){var ft,Ht,Mr=Se(Ie)?N:Ie,ti=(ft=(Ht=Lm(ie,he,!0))!==null&&Ht!==void 0?Ht:Mr)!==null&&ft!==void 0?ft:0;_e=spe({barGap:C,barCategoryGap:R,bandSize:ti!==qe?ti:qe,sizeList:ot[it],maxBarSize:Mr}),ti!==qe&&(_e=_e.map(function(Dr){return z(z({},Dr),{},{position:z(z({},Dr.position),{},{offset:Dr.position.offset-ti/2})})}))}var qi=W&&W.type&&W.type.getComposedData;qi&&V.push({props:z(z({},qi(z(z({},Gt),{},{displayedData:re,props:x,dataKey:oe,item:W,bandSize:qe,barPosition:_e,offset:T,stackedData:ge,layout:k,dataStartIndex:E,dataEndIndex:S}))),{},fe(fe(fe({key:W.key||"item-".concat(Y)},B,Gt[B]),G,Gt[G]),"animationId",I)),childIndex:iZ(W,x.children),item:W})}),V},p=function(x,w){var _=x.props,P=x.dataStartIndex,T=x.dataEndIndex,I=x.updateId;if(!wP({props:_}))return null;var E=_.children,S=_.layout,O=_.stackOffset,k=_.data,C=_.reverseStackOrder,R=J2(S),N=R.numericAxisName,U=R.cateAxisName,B=sr(E,r),G=bpe(k,B,"".concat(N,"Id"),"".concat(U,"Id"),O,C),H=l.reduce(function(Q,oe){var Ie="".concat(oe.axisType,"Map");return z(z({},Q),{},fe({},Ie,Lwe(_,z(z({},oe),{},{graphicalItems:B,stackGroups:oe.axisType===N&&G,dataStartIndex:P,dataEndIndex:T}))))},{}),V=Bwe(z(z({},H),{},{props:_,graphicalItems:B}),w==null?void 0:w.legendBBox);Object.keys(H).forEach(function(Q){H[Q]=c(_,H[Q],V,Q.replace("Map",""),n)});var W=H["".concat(U,"Map")],Y=Vwe(W),re=h(_,z(z({},H),{},{dataStartIndex:P,dataEndIndex:T,updateId:I,graphicalItems:B,stackGroups:G,offset:V}));return z(z({formattedGraphicalItems:re,graphicalItems:B,offset:V,stackGroups:G},Y),H)},g=function(b){function x(w){var _,P,T;return wwe(this,x),T=Twe(this,x,[w]),fe(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),fe(T,"accessibilityManager",new swe),fe(T,"handleLegendBBoxUpdate",function(I){if(I){var E=T.state,S=E.dataStartIndex,O=E.dataEndIndex,k=E.updateId;T.setState(z({legendBBox:I},p({props:T.props,dataStartIndex:S,dataEndIndex:O,updateId:k},z(z({},T.state),{},{legendBBox:I}))))}}),fe(T,"handleReceiveSyncEvent",function(I,E,S){if(T.props.syncId===I){if(S===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(E)}}),fe(T,"handleBrushChange",function(I){var E=I.startIndex,S=I.endIndex;if(E!==T.state.dataStartIndex||S!==T.state.dataEndIndex){var O=T.state.updateId;T.setState(function(){return z({dataStartIndex:E,dataEndIndex:S},p({props:T.props,dataStartIndex:E,dataEndIndex:S,updateId:O},T.state))}),T.triggerSyncEvent({dataStartIndex:E,dataEndIndex:S})}}),fe(T,"handleMouseEnter",function(I){var E=T.getMouseInfo(I);if(E){var S=z(z({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var O=T.props.onMouseEnter;we(O)&&O(S,I)}}),fe(T,"triggeredAfterMouseMove",function(I){var E=T.getMouseInfo(I),S=E?z(z({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var O=T.props.onMouseMove;we(O)&&O(S,I)}),fe(T,"handleItemMouseEnter",function(I){T.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),fe(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),fe(T,"handleMouseMove",function(I){I.persist(),T.throttleTriggeredAfterMouseMove(I)}),fe(T,"handleMouseLeave",function(I){T.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var S=T.props.onMouseLeave;we(S)&&S(E,I)}),fe(T,"handleOuterEvent",function(I){var E=rZ(I),S=ar(T.props,"".concat(E));if(E&&we(S)){var O,k;/.*touch.*/i.test(E)?k=T.getMouseInfo(I.changedTouches[0]):k=T.getMouseInfo(I),S((O=k)!==null&&O!==void 0?O:{},I)}}),fe(T,"handleClick",function(I){var E=T.getMouseInfo(I);if(E){var S=z(z({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var O=T.props.onClick;we(O)&&O(S,I)}}),fe(T,"handleMouseDown",function(I){var E=T.props.onMouseDown;if(we(E)){var S=T.getMouseInfo(I);E(S,I)}}),fe(T,"handleMouseUp",function(I){var E=T.props.onMouseUp;if(we(E)){var S=T.getMouseInfo(I);E(S,I)}}),fe(T,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),fe(T,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.handleMouseDown(I.changedTouches[0])}),fe(T,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.handleMouseUp(I.changedTouches[0])}),fe(T,"triggerSyncEvent",function(I){T.props.syncId!==void 0&&w0.emit(x0,T.props.syncId,I,T.eventEmitterSymbol)}),fe(T,"applySyncEvent",function(I){var E=T.props,S=E.layout,O=E.syncMethod,k=T.state.updateId,C=I.dataStartIndex,R=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)T.setState(z({dataStartIndex:C,dataEndIndex:R},p({props:T.props,dataStartIndex:C,dataEndIndex:R,updateId:k},T.state)));else if(I.activeTooltipIndex!==void 0){var N=I.chartX,U=I.chartY,B=I.activeTooltipIndex,G=T.state,H=G.offset,V=G.tooltipTicks;if(!H)return;if(typeof O=="function")B=O(V,I);else if(O==="value"){B=-1;for(var W=0;W<V.length;W++)if(V[W].value===I.activeLabel){B=W;break}}var Y=z(z({},H),{},{x:H.left,y:H.top}),re=Math.min(N,Y.x+Y.width),Q=Math.min(U,Y.y+Y.height),oe=V[B]&&V[B].value,Ie=Tw(T.state,T.props.data,B),Re=V[B]?{x:S==="horizontal"?V[B].coordinate:re,y:S==="horizontal"?Q:V[B].coordinate}:D4;T.setState(z(z({},I),{},{activeLabel:oe,activeCoordinate:Re,activePayload:Ie,activeTooltipIndex:B}))}else T.setState(I)}),fe(T,"renderCursor",function(I){var E,S=T.state,O=S.isTooltipActive,k=S.activeCoordinate,C=S.activePayload,R=S.offset,N=S.activeTooltipIndex,U=S.tooltipAxisBandSize,B=T.getTooltipEventType(),G=(E=I.props.active)!==null&&E!==void 0?E:O,H=T.props.layout,V=I.key||"_recharts-cursor";return D.createElement(pwe,{key:V,activeCoordinate:k,activePayload:C,activeTooltipIndex:N,chartName:n,element:I,isActive:G,layout:H,offset:R,tooltipAxisBandSize:U,tooltipEventType:B})}),fe(T,"renderPolarAxis",function(I,E,S){var O=ar(I,"type.axisType"),k=ar(T.state,"".concat(O,"Map")),C=I.type.defaultProps,R=C!==void 0?z(z({},C),I.props):I.props,N=k&&k[R["".concat(O,"Id")]];return M.cloneElement(I,z(z({},N),{},{className:ke(O,N.className),key:I.key||"".concat(E,"-").concat(S),ticks:bi(N,!0)}))}),fe(T,"renderPolarGrid",function(I){var E=I.props,S=E.radialLines,O=E.polarAngles,k=E.polarRadius,C=T.state,R=C.radiusAxisMap,N=C.angleAxisMap,U=fo(R),B=fo(N),G=B.cx,H=B.cy,V=B.innerRadius,W=B.outerRadius;return M.cloneElement(I,{polarAngles:Array.isArray(O)?O:bi(B,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(k)?k:bi(U,!0).map(function(Y){return Y.coordinate}),cx:G,cy:H,innerRadius:V,outerRadius:W,key:I.key||"polar-grid",radialLines:S})}),fe(T,"renderLegend",function(){var I=T.state.formattedGraphicalItems,E=T.props,S=E.children,O=E.width,k=E.height,C=T.props.margin||{},R=O-(C.left||0)-(C.right||0),N=SV({children:S,formattedGraphicalItems:I,legendWidth:R,legendContent:u});if(!N)return null;var U=N.item,B=K2(N,mwe);return M.cloneElement(U,z(z({},B),{},{chartWidth:O,chartHeight:k,margin:C,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),fe(T,"renderTooltip",function(){var I,E=T.props,S=E.children,O=E.accessibilityLayer,k=Rn(S,Vr);if(!k)return null;var C=T.state,R=C.isTooltipActive,N=C.activeCoordinate,U=C.activePayload,B=C.activeLabel,G=C.offset,H=(I=k.props.active)!==null&&I!==void 0?I:R;return M.cloneElement(k,{viewBox:z(z({},G),{},{x:G.left,y:G.top}),active:H,label:B,payload:H?U:[],coordinate:N,accessibilityLayer:O})}),fe(T,"renderBrush",function(I){var E=T.props,S=E.margin,O=E.data,k=T.state,C=k.offset,R=k.dataStartIndex,N=k.dataEndIndex,U=k.updateId;return M.cloneElement(I,{key:I.key||"_recharts-brush",onChange:kh(T.handleBrushChange,I.props.onChange),data:O,x:te(I.props.x)?I.props.x:C.left,y:te(I.props.y)?I.props.y:C.top+C.height+C.brushBottom-(S.bottom||0),width:te(I.props.width)?I.props.width:C.width,startIndex:R,endIndex:N,updateId:"brush-".concat(U)})}),fe(T,"renderReferenceElement",function(I,E,S){if(!I)return null;var O=T,k=O.clipPathId,C=T.state,R=C.xAxisMap,N=C.yAxisMap,U=C.offset,B=I.type.defaultProps||{},G=I.props,H=G.xAxisId,V=H===void 0?B.xAxisId:H,W=G.yAxisId,Y=W===void 0?B.yAxisId:W;return M.cloneElement(I,{key:I.key||"".concat(E,"-").concat(S),xAxis:R[V],yAxis:N[Y],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:k})}),fe(T,"renderActivePoints",function(I){var E=I.item,S=I.activePoint,O=I.basePoint,k=I.childIndex,C=I.isRange,R=[],N=E.props.key,U=E.item.type.defaultProps!==void 0?z(z({},E.item.type.defaultProps),E.item.props):E.item.props,B=U.activeDot,G=U.dataKey,H=z(z({index:k,dataKey:G,cx:S.x,cy:S.y,r:4,fill:TE(E.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Ae(B,!1)),um(B));return R.push(x.renderActiveDot(B,H,"".concat(N,"-activePoint-").concat(k))),O?R.push(x.renderActiveDot(B,z(z({},H),{},{cx:O.x,cy:O.y}),"".concat(N,"-basePoint-").concat(k))):C&&R.push(null),R}),fe(T,"renderGraphicChild",function(I,E,S){var O=T.filterFormatItem(I,E,S);if(!O)return null;var k=T.getTooltipEventType(),C=T.state,R=C.isTooltipActive,N=C.tooltipAxis,U=C.activeTooltipIndex,B=C.activeLabel,G=T.props.children,H=Rn(G,Vr),V=O.props,W=V.points,Y=V.isRange,re=V.baseLine,Q=O.item.type.defaultProps!==void 0?z(z({},O.item.type.defaultProps),O.item.props):O.item.props,oe=Q.activeDot,Ie=Q.hide,Re=Q.activeBar,it=Q.activeShape,$t=!!(!Ie&&R&&H&&(oe||Re||it)),Gt={};k!=="axis"&&H&&H.props.trigger==="click"?Gt={onClick:kh(T.handleItemMouseEnter,I.props.onClick)}:k!=="axis"&&(Gt={onMouseLeave:kh(T.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:kh(T.handleItemMouseEnter,I.props.onMouseEnter)});var ie=M.cloneElement(I,z(z({},O.props),Gt));function he(ni){return typeof N.dataKey=="function"?N.dataKey(ni.payload):null}if($t)if(U>=0){var ge,K;if(N.dataKey&&!N.allowDuplicatedCategory){var qe=typeof N.dataKey=="function"?he:"payload.".concat(N.dataKey.toString());ge=lm(W,qe,B),K=Y&&re&&lm(re,qe,B)}else ge=W==null?void 0:W[U],K=Y&&re&&re[U];if(it||Re){var _e=I.props.activeIndex!==void 0?I.props.activeIndex:U;return[M.cloneElement(I,z(z(z({},O.props),Gt),{},{activeIndex:_e})),null,null]}if(!Se(ge))return[ie].concat(Hl(T.renderActivePoints({item:O,activePoint:ge,basePoint:K,childIndex:U,isRange:Y})))}else{var ot,ft=(ot=T.getItemByXY(T.state.activeCoordinate))!==null&&ot!==void 0?ot:{graphicalItem:ie},Ht=ft.graphicalItem,Mr=Ht.item,ti=Mr===void 0?I:Mr,qi=Ht.childIndex,Dr=z(z(z({},O.props),Gt),{},{activeIndex:qi});return[M.cloneElement(ti,Dr),null,null]}return Y?[ie,null,null]:[ie,null]}),fe(T,"renderCustomized",function(I,E,S){return M.cloneElement(I,z(z({key:"recharts-customized-".concat(S)},T.props),T.state))}),fe(T,"renderMap",{CartesianGrid:{handler:Dh,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:Dh},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:Dh},YAxis:{handler:Dh},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:Id("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=TL(T.triggeredAfterMouseMove,(P=w.throttleDelay)!==null&&P!==void 0?P:1e3/60),T.state={},T}return Awe(x,b),Ewe(x,[{key:"componentDidMount",value:function(){var _,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,P=_.children,T=_.data,I=_.height,E=_.layout,S=Rn(P,Vr);if(S){var O=S.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,C=Tw(this.state,T,O,k),R=this.state.tooltipTicks[O].coordinate,N=(this.state.offset.top+I)/2,U=E==="horizontal",B=U?{x:R,y:N}:{y:R,x:N},G=this.state.formattedGraphicalItems.find(function(V){var W=V.item;return W.type.name==="Scatter"});G&&(B=z(z({},B),G.props.points[O].tooltipPosition),C=G.props.points[O].tooltipPayload);var H={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:k,activePayload:C,activeCoordinate:B};this.setState(H),this.renderCursor(S),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var T,I;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(_){n_([Rn(_.children,Vr)],[Rn(this.props.children,Vr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Rn(this.props.children,Vr);if(_&&typeof _.props.shared=="boolean"){var P=_.props.shared?"axis":"item";return s.indexOf(P)>=0?P:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var P=this.container,T=P.getBoundingClientRect(),I=kue(T),E={chartX:Math.round(_.pageX-I.left),chartY:Math.round(_.pageY-I.top)},S=T.width/P.offsetWidth||1,O=this.inRange(E.chartX,E.chartY,S);if(!O)return null;var k=this.state,C=k.xAxisMap,R=k.yAxisMap,N=this.getTooltipEventType();if(N!=="axis"&&C&&R){var U=fo(C).scale,B=fo(R).scale,G=U&&U.invert?U.invert(E.chartX):null,H=B&&B.invert?B.invert(E.chartY):null;return z(z({},E),{},{xValue:G,yValue:H})}var V=Q2(this.state,this.props.data,this.props.layout,O);return V?z(z({},E),V):null}},{key:"inRange",value:function(_,P){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,E=_/T,S=P/T;if(I==="horizontal"||I==="vertical"){var O=this.state.offset,k=E>=O.left&&E<=O.left+O.width&&S>=O.top&&S<=O.top+O.height;return k?{x:E,y:S}:null}var C=this.state,R=C.angleAxisMap,N=C.radiusAxisMap;if(R&&N){var U=fo(R);return kC({x:E,y:S},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,P=this.getTooltipEventType(),T=Rn(_,Vr),I={};T&&P==="axis"&&(T.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=um(this.props,this.handleOuterEvent);return z(z({},E),I)}},{key:"addListener",value:function(){w0.on(x0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){w0.removeListener(x0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,P,T){for(var I=this.state.formattedGraphicalItems,E=0,S=I.length;E<S;E++){var O=I[E];if(O.item===_||O.props.key===_.key||P===Ei(O.item.type)&&T===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,P=this.state.offset,T=P.left,I=P.top,E=P.height,S=P.width;return D.createElement("defs",null,D.createElement("clipPath",{id:_},D.createElement("rect",{x:T,y:I,height:E,width:S})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(P,T){var I=H2(T,2),E=I[0],S=I[1];return z(z({},P),{},fe({},E,S.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(P,T){var I=H2(T,2),E=I[0],S=I[1];return z(z({},P),{},fe({},E,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[_])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(_){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[_])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(_){var P=this.state,T=P.formattedGraphicalItems,I=P.activeItem;if(T&&T.length)for(var E=0,S=T.length;E<S;E++){var O=T[E],k=O.props,C=O.item,R=C.type.defaultProps!==void 0?z(z({},C.type.defaultProps),C.props):C.props,N=Ei(C.type);if(N==="Bar"){var U=(k.data||[]).find(function(V){return rye(_,V)});if(U)return{graphicalItem:O,payload:U}}else if(N==="RadialBar"){var B=(k.data||[]).find(function(V){return kC(_,V)});if(B)return{graphicalItem:O,payload:B}}else if(jy(O,I)||My(O,I)||Hf(O,I)){var G=ave({graphicalItem:O,activeTooltipItem:I,itemData:R.data}),H=R.activeIndex===void 0?G:R.activeIndex;return{graphicalItem:z(z({},O),{},{childIndex:H}),payload:Hf(O,I)?R.data[G]:O.props.data[G]}}}return null}},{key:"render",value:function(){var _=this;if(!wP(this))return null;var P=this.props,T=P.children,I=P.className,E=P.width,S=P.height,O=P.style,k=P.compact,C=P.title,R=P.desc,N=K2(P,gwe),U=Ae(N,!1);if(k)return D.createElement(O2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(i_,Hs({},U,{width:E,height:S,title:C,desc:R}),this.renderClipPath(),EP(T,this.renderMap)));if(this.props.accessibilityLayer){var B,G;U.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,U.role=(G=this.props.role)!==null&&G!==void 0?G:"application",U.onKeyDown=function(V){_.accessibilityManager.keyboardEvent(V)},U.onFocus=function(){_.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return D.createElement(O2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",Hs({className:ke("recharts-wrapper",I),style:z({position:"relative",cursor:"default",width:E,height:S},O)},H,{ref:function(W){_.container=W}}),D.createElement(i_,Hs({},U,{width:E,height:S,title:C,desc:R,style:Rwe}),this.renderClipPath(),EP(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(M.Component);fe(g,"displayName",n),fe(g,"defaultProps",z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),fe(g,"getDerivedStateFromProps",function(b,x){var w=b.dataKey,_=b.data,P=b.children,T=b.width,I=b.height,E=b.layout,S=b.stackOffset,O=b.margin,k=x.dataStartIndex,C=x.dataEndIndex;if(x.updateId===void 0){var R=X2(b);return z(z(z({},R),{},{updateId:0},p(z(z({props:b},R),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:_,prevWidth:T,prevHeight:I,prevLayout:E,prevStackOffset:S,prevMargin:O,prevChildren:P})}if(w!==x.prevDataKey||_!==x.prevData||T!==x.prevWidth||I!==x.prevHeight||E!==x.prevLayout||S!==x.prevStackOffset||!il(O,x.prevMargin)){var N=X2(b),U={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},B=z(z({},Q2(x,_,E)),{},{updateId:x.updateId+1}),G=z(z(z({},N),U),B);return z(z(z({},G),p(z({props:b},G),x)),{},{prevDataKey:w,prevData:_,prevWidth:T,prevHeight:I,prevLayout:E,prevStackOffset:S,prevMargin:O,prevChildren:P})}if(!n_(P,x.prevChildren)){var H,V,W,Y,re=Rn(P,$l),Q=re&&(H=(V=re.props)===null||V===void 0?void 0:V.startIndex)!==null&&H!==void 0?H:k,oe=re&&(W=(Y=re.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&W!==void 0?W:C,Ie=Q!==k||oe!==C,Re=!Se(_),it=Re&&!Ie?x.updateId:x.updateId+1;return z(z({updateId:it},p(z(z({props:b},x),{},{updateId:it,dataStartIndex:Q,dataEndIndex:oe}),x)),{},{prevChildren:P,dataStartIndex:Q,dataEndIndex:oe})}return null}),fe(g,"renderActiveDot",function(b,x,w){var _;return M.isValidElement(b)?_=M.cloneElement(b,x):we(b)?_=b(x):_=D.createElement(IE,x),D.createElement(yt,{className:"recharts-active-dot",key:w},_)});var y=M.forwardRef(function(x,w){return D.createElement(g,Hs({},x,{ref:w}))});return y.displayName=g.displayName,y},Wwe=zwe({chartName:"LineChart",GraphicalChild:ja,axisComponents:[{axisType:"xAxis",AxisComp:By},{axisType:"yAxis",AxisComp:Uy}],formatAxisMap:k0e});const qwe=(t,e)=>{const n=[],r=new Date,i=100;if(e==="lme-cash"){for(let o=i;o>=0;o--){const a=Yv(r,o);n.push({date:Lo(a,"MMM dd"),"lme-cash":Math.random()*20+2630})}return n}for(let o=i;o>=0;o--){let a;switch(t){case"1min":a=oP(r,o);break;case"30min":a=oP(r,o*30);break;case"1h":a=iP(r,o);break;case"1d":a=iP(r,o*2);break;case"1w":a=Yv(r,o);break;case"1m":a=Yv(r,o*2);break;default:a=new Date}n.push({date:Lo(a,t==="1min"?"HH:mm:ss":"MMM dd HH:mm"),mcx:Math.random()*10+230,lme:Math.random()*10+225})}return n};function Gwe(){const[t,e]=M.useState("1d"),[n,r]=M.useState("all"),[i,o]=M.useState({start:"",end:""}),[a,s]=M.useState(!1),[l,u]=M.useState(1),[c,f]=M.useState(!1),[h,p]=M.useState("auto"),[g,y]=M.useState("auto"),b=[{value:"live",label:"Live",disabled:n==="lme-cash"},{value:"1min",label:"1 Min",disabled:n==="lme-cash"},{value:"30min",label:"30 Min",disabled:n==="lme-cash"},{value:"1h",label:"1 Hour",disabled:n==="lme-cash"},{value:"1d",label:"1 Day"},{value:"1w",label:"1 Week"},{value:"1m",label:"1 Month"}],x=[{value:"all",label:"MCX & LME"},{value:"mcx",label:"MCX Only"},{value:"lme",label:"LME Only"},{value:"lme-cash",label:"LME Cash Settlement"}];D.useEffect(()=>{n==="lme-cash"&&["live","1min","30min","1h"].includes(t)&&e("1d")},[n]);const w=qwe(t,n);return D.useEffect(()=>{let _;return c&&n!=="lme-cash"&&(_=window.setInterval(()=>{},1e3)),()=>{_&&clearInterval(_)}},[c,n]),m.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[m.jsxs("div",{className:"flex flex-wrap gap-6 mb-8",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Time Range"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(_=>m.jsxs("button",{onClick:()=>{_.disabled||(e(_.value),f(_.value==="live"))},disabled:_.disabled,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t===_.value?"bg-blue-50 text-blue-600 border-2 border-blue-200":_.disabled?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-50 text-gray-600 border-2 border-transparent hover:bg-gray-100"}`,children:[_.value==="live"&&m.jsx(NH,{className:`w-4 h-4 inline-block mr-1 ${c?"animate-spin":""}`}),_.label]},_.value))})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Y-Axis Scale"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"number",value:l,onChange:_=>u(Number(_.target.value)),className:"w-20 px-2 py-1 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0.1",step:"0.1"}),m.jsx("span",{className:"text-sm text-gray-600",children:"₹ interval"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"number",placeholder:"Min",onChange:_=>p(_.target.value?Number(_.target.value):"auto"),className:"w-20 px-2 py-1 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),m.jsx("span",{className:"text-sm text-gray-600",children:"to"}),m.jsx("input",{type:"number",placeholder:"Max",onChange:_=>y(_.target.value?Number(_.target.value):"auto"),className:"w-20 px-2 py-1 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price Range"}),m.jsx("div",{className:"flex gap-2",children:x.map(_=>m.jsxs("button",{onClick:()=>r(_.value),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===_.value?"bg-blue-50 text-blue-600 border-2 border-blue-200":"bg-gray-50 text-gray-600 border-2 border-transparent hover:bg-gray-100"}`,children:[_.value==="all"?m.jsx(n$,{className:"w-4 h-4"}):m.jsx(t$,{className:"w-4 h-4"}),_.label]},_.value))})]})]}),m.jsx("div",{className:"h-[500px]",children:m.jsx(Tue,{width:"100%",height:"100%",children:m.jsxs(Wwe,{data:w,margin:{top:5,right:30,left:20,bottom:5},children:[m.jsx(w4,{strokeDasharray:"3 3"}),m.jsx(By,{dataKey:"date",tick:{fontSize:12}}),m.jsx(Uy,{yAxisId:"price",domain:[h,g],tick:{fontSize:12},label:{value:n==="lme-cash"?"Price (USD/MT)":"Price (₹/kg)",angle:-90,position:"insideLeft"},interval:0,ticks:h!=="auto"&&g!=="auto"?Array.from({length:Math.ceil((Number(g)-Number(h))/l)+1},(_,P)=>Number(h)+P*l):void 0}),m.jsx(Vr,{contentStyle:{backgroundColor:"white",borderRadius:"8px",border:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},labelStyle:{fontWeight:"bold",marginBottom:"4px"}}),m.jsx(ka,{}),(n==="all"||n==="mcx")&&m.jsx(ja,{yAxisId:"price",type:"monotone",dataKey:"mcx",name:"MCX Price",stroke:"#3B82F6",strokeWidth:2,dot:!1,activeDot:{r:6}}),(n==="all"||n==="lme")&&m.jsx(ja,{yAxisId:"price",type:"monotone",dataKey:"lme",name:"LME Price (INR)",stroke:"#10B981",strokeWidth:2,dot:!1,activeDot:{r:6}}),n==="lme-cash"&&m.jsx(ja,{yAxisId:"price",type:"monotone",dataKey:"lme-cash",name:"LME Cash Settlement",stroke:"#8B5CF6",strokeWidth:2,dot:!0,activeDot:{r:6}})]})})})]})})}function Hwe({className:t}){const[e,n]=M.useState("243.75"),[r,i]=M.useState(""),[o,a]=M.useState(""),[s,l]=M.useState("2639.50"),[u,c]=M.useState(""),[f,h]=M.useState(""),p=M.useRef(null),g=1.0825,y=84.4063,b=(_,P)=>{_.key==="Enter"&&p.current&&p.current.focus()},x=()=>{const _=parseFloat(e)||0,P=parseFloat(r)||0,T=parseFloat(o)||0;return _+P+T},w=()=>{const _=parseFloat(s)||0,P=parseFloat(u)||0,T=parseFloat(f)||0;return(_+P)*g*y/1e3+T};return m.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-8 ${t}`,children:[m.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl shadow-sm p-6 border border-blue-100 h-[101.5%]",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[m.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:m.jsx(JA,{className:"w-6 h-6 text-blue-600"})}),m.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"MCX Based Price"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MCX Aluminum Price (₹/kg)"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx("span",{className:"text-gray-500",children:"₹"})}),m.jsx("input",{type:"number",value:e,onChange:_=>n(_.target.value),className:"w-full pl-8 pr-4 py-2.5 bg-white border-2 border-gray-200 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter MCX price"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Premium (₹/kg)"}),m.jsx("input",{type:"number",value:r,onChange:_=>i(_.target.value),onKeyPress:_=>b(_),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter premium"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Freight (₹/kg)"}),m.jsx("input",{ref:p,type:"number",value:o,onChange:_=>a(_.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter freight"})]}),m.jsxs("div",{className:"pt-4 border-t border-blue-100",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Price (per kg)"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx("span",{className:"text-white",children:"₹"})}),m.jsx("input",{type:"text",value:x().toFixed(2),disabled:!0,className:"w-full pl-8 pr-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 border-0 rounded-lg font-bold text-white text-lg shadow-sm"})]})]})]})]}),m.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl shadow-sm p-6 border border-purple-100 h-[101.5%]",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[m.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:m.jsx(JA,{className:"w-6 h-6 text-purple-600"})}),m.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"LME Based Price"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LME Aluminum Price (USD/MT)"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx("span",{className:"text-gray-500",children:"$"})}),m.jsx("input",{type:"number",value:s,onChange:_=>l(_.target.value),className:"w-full pl-8 pr-4 py-2.5 bg-white border-2 border-gray-200 rounded-lg text-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter LME price"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Premium (USD/MT)"}),m.jsx("input",{type:"number",value:u,onChange:_=>c(_.target.value),onKeyPress:_=>b(_),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter premium"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Freight (₹/kg)"}),m.jsx("input",{type:"number",value:f,onChange:_=>h(_.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter freight"})]}),m.jsxs("div",{className:"pt-4 border-t border-purple-100",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Price (per kg)"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx("span",{className:"text-white",children:"₹"})}),m.jsx("input",{type:"text",value:w().toFixed(2),disabled:!0,className:"w-full pl-8 pr-4 py-3 bg-gradient-to-r from-purple-600 to-pink-600 border-0 rounded-lg font-bold text-white text-lg shadow-sm"})]})]})]})]})]})}function Kwe({data:t,previousPrice:e,rbiRate:n=84.4063}){const r=e?Math.abs(t.price-e):0,i=r*n,o=e?t.price>e:!1;return m.jsxs("div",{className:`bg-gradient-to-br from-blue-50/90 via-purple-50/90 to-pink-50/90 backdrop-blur-sm rounded-xl p-6 
      border border-white/50 shadow-[0_4px_12px_rgba(0,0,0,0.05)] hover:shadow-[0_6px_16px_rgba(0,0,0,0.1)] 
      transition-all duration-300`,children:[m.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:Lo(new Date(t.date),"MMM dd, yyyy")}),m.jsxs("div",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:["$",t.price.toFixed(2)]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:`flex items-center gap-1 text-sm ${o?"text-green-500":"text-red-500"}`,children:[o?m.jsx(Xa,{className:"w-4 h-4"}):m.jsx(vf,{className:"w-4 h-4"}),m.jsxs("span",{className:"font-medium",children:["$",r.toFixed(2)]})]}),m.jsxs("div",{className:`flex items-center gap-1 text-sm ${o?"text-green-500":"text-red-500"}`,children:[o?m.jsx(Xa,{className:"w-4 h-4"}):m.jsx(vf,{className:"w-4 h-4"}),m.jsxs("span",{className:"font-medium",children:["₹",i.toFixed(2)]})]})]})]})}function Ywe({data:t,loading:e,error:n}){return e?m.jsx("div",{className:"flex justify-center items-center h-48",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n?m.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-red-500 gap-2",children:[m.jsx(QD,{className:"w-8 h-8"}),m.jsx("p",{children:n})]}):m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((r,i)=>m.jsx(Kwe,{data:r,previousPrice:i<t.length-1?t[i+1].price:void 0},r.date))})}function Qwe(){const[t,e]=M.useState(!1),[n,r]=M.useState(""),[i,o]=M.useState(""),[a,s]=M.useState(""),[l,u]=M.useState(""),{data:c,loading:f,error:h}=A1(),[p]=M.useState([{id:"1",name:"Supplier A",phone:"+91 9876543210",email:"suppliera@example.com"},{id:"2",name:"Supplier B",phone:"+91 9876543211",email:"supplierb@example.com"}]),g=[{id:"1",name:"Aluminium Ingots"},{id:"2",name:"Aluminium Wire Rods"},{id:"3",name:"Aluminium Billets"}],y=b=>{b.preventDefault(),console.log({supplier:n,product:i,quantity:a,deliveryLocation:l})};return m.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[m.jsxs("section",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700 
        shadow-[0_4px_12px_rgba(0,0,0,0.05)] p-6 mb-8`,children:[m.jsxs("div",{className:"flex justify-between items-baseline mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent",children:"LME Cash Settlement"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Source: Westmetals"})]}),m.jsx(Ywe,{data:c,loading:f,error:h})]}),m.jsxs("div",{className:"grid grid-cols-12 gap-8",children:[m.jsx("div",{className:"col-span-12 lg:col-span-8",children:m.jsx(Hwe,{})}),m.jsx("div",{className:"col-span-12 lg:col-span-4",children:m.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700 
            shadow-[0_4px_12px_rgba(0,0,0,0.05)] hover:shadow-[0_6px_16px_rgba(0,0,0,0.1)] 
            transition-all duration-300 p-6 pb-8`,children:[m.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[m.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg",children:m.jsx(ZA,{className:"w-6 h-6 text-blue-600"})}),m.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Request Quote"})]}),m.jsxs("form",{onSubmit:y,className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Supplier"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("select",{value:n,onChange:b=>r(b.target.value),className:"flex-1 px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[m.jsx("option",{value:"",children:"Choose a supplier"}),p.map(b=>m.jsx("option",{value:b.id,children:b.name},b.id))]}),m.jsxs("button",{type:"button",onClick:()=>e(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[m.jsx(r$,{className:"w-5 h-5"}),"Add"]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Product"}),m.jsxs("select",{value:i,onChange:b=>o(b.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[m.jsx("option",{value:"",children:"Choose a product"}),g.map(b=>m.jsx("option",{value:b.id,children:b.name},b.id))]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity (MT)"}),m.jsx("input",{type:"number",value:a,onChange:b=>s(b.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter quantity",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Location"}),m.jsx("input",{type:"text",value:l,onChange:b=>u(b.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter location",required:!0})]})]}),m.jsx("div",{className:"pt-4 border-t border-gray-100",children:m.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all shadow-md hover:shadow-lg",children:[m.jsx(ZA,{className:"w-5 h-5"}),"Send RFQ"]})})]})]})})]})]})}const Xwe=(t,e)=>{const n={up:"from-green-500 to-green-600",down:"from-red-500 to-red-600",neutral:"from-gray-500 to-gray-600"},r={high:"opacity-100",medium:"opacity-80",low:"opacity-60"};return`${n[t]} ${r[e]}`};function Jwe({prediction:t,confidence:e}){return m.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-gray-50 rounded-xl",children:[m.jsxs("div",{className:"relative group mb-2",children:[m.jsx(xH,{className:"w-5 h-5 text-gray-400 cursor-help"}),m.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block w-48 bg-gray-900 text-white text-xs rounded-lg p-2",children:"AI-powered price prediction based on news sentiment analysis"})]}),m.jsx("div",{className:"text-center mb-2",children:m.jsx("div",{className:"text-sm font-medium text-gray-500",children:"LME Price Prediction"})}),m.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center bg-gradient-to-r ${Xwe(t,e)} shadow-lg`,children:t==="up"?m.jsx(Xa,{className:"w-8 h-8 text-white"}):t==="down"?m.jsx(vf,{className:"w-8 h-8 text-white"}):m.jsx("div",{className:"w-8 h-1 bg-white rounded-full"})}),m.jsxs("div",{className:"mt-2 text-sm font-medium text-gray-500",children:[e.charAt(0).toUpperCase()+e.slice(1)," Confidence"]})]})}function Zwe({news:t}){return m.jsxs("article",{className:"flex flex-col md:flex-row gap-6 p-6 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[m.jsx("div",{className:"md:w-1/4",children:m.jsx("img",{src:`${t.imageUrl}/600x400`,alt:t.title,className:"w-full h-48 object-cover rounded-lg"})}),m.jsxs("div",{className:"md:w-2/4",children:[m.jsxs("div",{className:"flex items-start justify-between gap-4",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:t.title}),m.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 p-2 hover:bg-gray-200 rounded-full transition-colors",children:m.jsx(e$,{className:"w-5 h-5 text-gray-500"})})]}),m.jsx("p",{className:"text-gray-600 mb-4",children:t.summary}),m.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(wH,{className:"w-4 h-4"}),m.jsx("span",{children:t.source})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(yH,{className:"w-4 h-4"}),m.jsx("span",{children:Lo(new Date(t.date),"MMM d, yyyy")})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx($H,{className:"w-4 h-4"}),m.jsx("span",{className:"capitalize",children:t.category})]})]})]}),m.jsx("div",{className:"md:w-1/4 flex items-center justify-center",children:m.jsx(Jwe,{prediction:t.prediction,confidence:t.confidence})})]})}function exe({show:t,onClose:e,preferences:n,onPreferencesChange:r}){return t?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(I1,{className:"w-6 h-6 text-blue-600"}),m.jsx("h2",{className:"text-xl font-bold",children:"Smart News Alerts"})]}),m.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:m.jsx(e$,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(S1,{className:"w-5 h-5 text-green-500"}),m.jsx("span",{children:"WhatsApp Notifications"})]}),m.jsx("button",{onClick:()=>r({...n,whatsapp:!n.whatsapp}),className:`w-12 h-6 rounded-full transition-colors ${n.whatsapp?"bg-green-500":"bg-gray-300"}`,children:m.jsx("div",{className:`w-5 h-5 bg-white rounded-full transform transition-transform ${n.whatsapp?"translate-x-6":"translate-x-1"}`})})]}),m.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(xd,{className:"w-5 h-5 text-blue-500"}),m.jsx("span",{children:"Email Notifications"})]}),m.jsx("button",{onClick:()=>r({...n,email:!n.email}),className:`w-12 h-6 rounded-full transition-colors ${n.email?"bg-green-500":"bg-gray-300"}`,children:m.jsx("div",{className:`w-5 h-5 bg-white rounded-full transform transition-transform ${n.email?"translate-x-6":"translate-x-1"}`})})]}),m.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Hr,{className:"w-5 h-5 text-purple-500"}),m.jsx("span",{children:"Web App Notifications"})]}),m.jsx("button",{onClick:()=>r({...n,webApp:!n.webApp}),className:`w-12 h-6 rounded-full transition-colors ${n.webApp?"bg-green-500":"bg-gray-300"}`,children:m.jsx("div",{className:`w-5 h-5 bg-white rounded-full transform transition-transform ${n.webApp?"translate-x-6":"translate-x-1"}`})})]})]}),m.jsx("button",{onClick:e,className:"w-full mt-6 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300",children:"Save Preferences"})]})}):null}const txe=[{id:"1",title:"Global Aluminum Prices Surge Amid Supply Chain Disruptions",source:"Metal Industry News",date:"2024-02-15T09:30:00Z",summary:"Aluminum prices reached a six-month high as supply chain disruptions and increased energy costs impact global production. Industry experts predict continued volatility in the coming months.",url:"https://example.com/news/1",imageUrl:"https://images.unsplash.com/photo-1533062618053-d51e617307ec",category:"market",region:"global",prediction:"up",confidence:"high"},{id:"2",title:"New Recycling Technology Promises to Revolutionize Aluminum Industry",source:"Tech Innovation Daily",date:"2024-02-14T14:15:00Z",summary:"A breakthrough in recycling technology could reduce aluminum processing costs by up to 40% while minimizing environmental impact. Major manufacturers are already showing interest in adoption.",url:"https://example.com/news/2",imageUrl:"https://images.unsplash.com/photo-1558346490-a72e53ae2d4f",category:"technology",region:"americas",prediction:"down",confidence:"medium"},{id:"3",title:"China's Aluminum Output Hits Record High in January",source:"Asian Markets Today",date:"2024-02-13T11:00:00Z",summary:"Chinese aluminum production reached unprecedented levels in January, raising concerns about oversupply and potential impact on global prices.",url:"https://example.com/news/3",imageUrl:"https://images.unsplash.com/photo-1518623489648-a173ef7824f3",category:"industry",region:"asia",prediction:"down",confidence:"high"}];function nxe(){const[t,e]=M.useState(""),[n,r]=M.useState("all"),[i,o]=M.useState("all"),[a,s]=M.useState(!1),[l,u]=M.useState({whatsapp:!1,email:!1,webApp:!1}),c=txe.filter(f=>{const h=f.title.toLowerCase().includes(t.toLowerCase())||f.summary.toLowerCase().includes(t.toLowerCase()),p=n==="all"||f.category===n,g=i==="all"||f.region===i;return h&&p&&g});return m.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold",children:"Aluminum Shorts"}),m.jsxs("button",{onClick:()=>s(!0),className:"group inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full hover:from-blue-700 hover:to-purple-700 transition-all duration-300 shadow-md hover:shadow-lg",children:[m.jsx(I1,{className:"w-5 h-5"}),"Smart News Alerts"]})]}),m.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[m.jsx("div",{className:"flex-1 min-w-[200px]",children:m.jsxs("div",{className:"relative",children:[m.jsx(i$,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Search news...",value:t,onChange:f=>e(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),m.jsxs("select",{value:n,onChange:f=>r(f.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[m.jsx("option",{value:"all",children:"All Categories"}),m.jsx("option",{value:"market",children:"Market"}),m.jsx("option",{value:"industry",children:"Industry"}),m.jsx("option",{value:"technology",children:"Technology"}),m.jsx("option",{value:"sustainability",children:"Sustainability"})]}),m.jsxs("select",{value:i,onChange:f=>o(f.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[m.jsx("option",{value:"all",children:"All Regions"}),m.jsx("option",{value:"global",children:"Global"}),m.jsx("option",{value:"asia",children:"Asia"}),m.jsx("option",{value:"europe",children:"Europe"}),m.jsx("option",{value:"americas",children:"Americas"})]})]}),m.jsx("div",{className:"grid grid-cols-1 gap-6",children:c.map(f=>m.jsx(Zwe,{news:f},f.id))}),m.jsx(exe,{show:a,onClose:()=>s(!1),preferences:l,onPreferencesChange:u})]})}function rxe({alert:t,onClose:e,onSave:n}){const[r,i]=M.useState({targetPrice:t.targetPrice,customMessage:t.customMessage,notificationChannels:t.notificationChannels,isActive:t.isActive}),[o,a]=M.useState({}),s=()=>{const u={};return(!r.targetPrice||r.targetPrice<=0)&&(u.targetPrice="Please enter a valid target price"),r.notificationChannels.length===0&&(u.notificationChannels="Please select at least one notification method"),a(u),Object.keys(u).length===0},l=async u=>{if(u.preventDefault(),!!s())try{await n(r)}catch(c){console.error("Failed to update alert:",c)}};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:[m.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[m.jsx("h2",{className:"text-xl font-bold",children:"Edit Alert"}),m.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:m.jsx(Zg,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:l,className:"p-6 space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Price"}),m.jsx("input",{type:"number",step:"0.01",value:r.targetPrice,onChange:u=>i({...r,targetPrice:parseFloat(u.target.value)}),className:`w-full px-3 py-2 border ${o.targetPrice?"border-red-500":"border-gray-200"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),o.targetPrice&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:o.targetPrice})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Message"}),m.jsx("textarea",{value:r.customMessage,onChange:u=>i({...r,customMessage:u.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Methods"}),m.jsx("div",{className:"space-y-2",children:["web","whatsapp","email"].map(u=>m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:r.notificationChannels.includes(u),onChange:c=>{const f=c.target.checked?[...r.notificationChannels,u]:r.notificationChannels.filter(h=>h!==u);i({...r,notificationChannels:f})},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("span",{className:"ml-2 text-gray-700 capitalize",children:u})]},u))}),o.notificationChannels&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:o.notificationChannels})]}),m.jsx("div",{children:m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:r.isActive,onChange:u=>i({...r,isActive:u.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("span",{className:"ml-2 text-gray-700",children:"Active"})]})}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),m.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})]})})}function ixe({isOpen:t,onClose:e,onConfirm:n,title:r,message:i}){return t?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:m.jsx(XD,{className:"w-6 h-6 text-red-600"})}),m.jsx("h2",{className:"text-xl font-bold",children:r}),m.jsx("button",{onClick:e,className:"ml-auto p-2 hover:bg-gray-100 rounded-full",children:m.jsx(Zg,{className:"w-5 h-5"})})]}),m.jsx("p",{className:"text-gray-600 mb-6",children:i}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),m.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})]})}):null}function oxe({currentPage:t,totalPages:e,onPageChange:n}){return m.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8",children:[m.jsx("button",{onClick:()=>n(t-1),disabled:t===1,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:m.jsx(JD,{className:"w-5 h-5"})}),Array.from({length:e},(r,i)=>i+1).map(r=>m.jsx("button",{onClick:()=>n(r),className:`w-8 h-8 rounded-lg ${t===r?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:r},r)),m.jsx("button",{onClick:()=>n(t+1),disabled:t===e,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:m.jsx(ZD,{className:"w-5 h-5"})})]})}function axe({alerts:t,loading:e,onDelete:n,onUpdate:r,currentPage:i,totalPages:o,onPageChange:a}){const[s,l]=M.useState(null),[u,c]=M.useState(null);return e?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):!t||t.length===0?m.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[m.jsx(QD,{className:"w-12 h-12 text-blue-400 mx-auto mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No alerts found"}),m.jsx("p",{className:"text-gray-500",children:"Create your first price alert to get started"})]}):m.jsxs("div",{className:"space-y-4",children:[t.map(f=>{var h,p,g;return m.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 transition-all hover:shadow-md",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${f.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.isActive?"Active":"Inactive"}),m.jsx("span",{className:"text-gray-500",children:"•"}),m.jsxs("span",{className:"text-sm text-gray-500",children:["Created ",Lo(new Date(f.createdAt),"MMM d, yyyy HH:mm")]})]}),m.jsxs("h3",{className:"text-lg font-semibold mb-1",children:["Target: ₹",f.targetPrice.toFixed(2)]}),f.customMessage&&m.jsx("p",{className:"text-gray-600 mb-4",children:f.customMessage}),m.jsxs("div",{className:"flex gap-2",children:[((h=f.notificationChannels)==null?void 0:h.includes("web"))&&m.jsxs("span",{className:"flex items-center gap-1 text-sm text-gray-600",children:[m.jsx(Hr,{className:"w-4 h-4"}),"Web"]}),((p=f.notificationChannels)==null?void 0:p.includes("whatsapp"))&&m.jsxs("span",{className:"flex items-center gap-1 text-sm text-gray-600",children:[m.jsx(S1,{className:"w-4 h-4"}),"WhatsApp"]}),((g=f.notificationChannels)==null?void 0:g.includes("email"))&&m.jsxs("span",{className:"flex items-center gap-1 text-sm text-gray-600",children:[m.jsx(xd,{className:"w-4 h-4"}),"Email"]})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>l(f),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:m.jsx(OH,{className:"w-5 h-5 text-gray-600"})}),m.jsx("button",{onClick:()=>c(f.id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:m.jsx(VH,{className:"w-5 h-5 text-red-600"})})]})]})},f.id)}),o>1&&m.jsx(oxe,{currentPage:i,totalPages:o,onPageChange:a}),s&&m.jsx(rxe,{alert:s,onClose:()=>l(null),onSave:async f=>{await r(s.id,f),l(null)}}),m.jsx(ixe,{isOpen:!!u,onClose:()=>c(null),onConfirm:async()=>{u&&(await n(u),c(null))},title:"Delete Alert",message:"Are you sure you want to delete this alert? This action cannot be undone."})]})}function sxe({filters:t,onChange:e}){return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alert Type"}),m.jsxs("select",{value:t.type,onChange:n=>e({...t,type:n.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[m.jsx("option",{value:"all",children:"All Types"}),m.jsx("option",{value:"mcx",children:"MCX"}),m.jsx("option",{value:"lme",children:"LME"}),m.jsx("option",{value:"nalco",children:"NALCO"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),m.jsxs("select",{value:t.status,onChange:n=>e({...t,status:n.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[m.jsx("option",{value:"all",children:"All Status"}),m.jsx("option",{value:"active",children:"Active"}),m.jsx("option",{value:"inactive",children:"Inactive"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("select",{value:t.sortBy,onChange:n=>e({...t,sortBy:n.target.value}),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[m.jsx("option",{value:"date",children:"Date Created"}),m.jsx("option",{value:"price",children:"Target Price"}),m.jsx("option",{value:"type",children:"Alert Type"})]}),m.jsx("button",{onClick:()=>e({...t,sortBy:t.sortBy.startsWith("-")?t.sortBy.substring(1):`-${t.sortBy}`}),className:"p-2 hover:bg-gray-100 rounded-lg",children:m.jsx(gH,{className:"w-5 h-5 text-gray-600"})})]})]})]})}function lxe({value:t,onChange:e}){return m.jsxs("div",{className:"relative",children:[m.jsx(i$,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),m.jsx("input",{type:"text",value:t,onChange:n=>e(n.target.value),placeholder:"Search alerts by message or price...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}function uxe({onClose:t,onCreate:e}){const[n,r]=M.useState({targetPrice:"",customMessage:"",notificationChannels:["web"],category:"MCX",isActive:!0}),[i,o]=M.useState({}),[a,s]=M.useState(!1),l=()=>{const c={};return(!n.targetPrice||parseFloat(n.targetPrice)<=0)&&(c.targetPrice="Please enter a valid target price"),n.notificationChannels.length===0&&(c.notificationChannels="Please select at least one notification method"),o(c),Object.keys(c).length===0},u=async c=>{if(c.preventDefault(),!(!l()||a)){s(!0);try{await e({...n,targetPrice:parseFloat(n.targetPrice),currentPrice:parseFloat(n.targetPrice)}),t()}catch(f){console.error("Failed to create alert:",f)}finally{s(!1)}}};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:[m.jsxs("div",{className:"flex items-center gap-3 p-6 border-b",children:[m.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:m.jsx(XD,{className:"w-6 h-6 text-blue-600"})}),m.jsx("h2",{className:"text-xl font-bold",children:"Create Price Alert"}),m.jsx("button",{onClick:t,className:"ml-auto p-2 hover:bg-gray-100 rounded-full",children:m.jsx(Zg,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Price (₹)"}),m.jsx("input",{type:"number",step:"0.01",value:n.targetPrice,onChange:c=>r({...n,targetPrice:c.target.value}),className:`w-full px-3 py-2 border ${i.targetPrice?"border-red-500":"border-gray-200"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`,placeholder:"Enter target price"}),i.targetPrice&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.targetPrice})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Message (Optional)"}),m.jsx("textarea",{value:n.customMessage,onChange:c=>r({...n,customMessage:c.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Add a custom message for your alert"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Methods"}),m.jsx("div",{className:"space-y-2",children:[{id:"web",label:"Web App",icon:Hr},{id:"whatsapp",label:"WhatsApp",icon:Hr},{id:"email",label:"Email",icon:Hr}].map(({id:c,label:f})=>m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:n.notificationChannels.includes(c),onChange:h=>{const p=h.target.checked?[...n.notificationChannels,c]:n.notificationChannels.filter(g=>g!==c);r({...n,notificationChannels:p})},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("span",{className:"ml-2 text-gray-700",children:f})]},c))}),i.notificationChannels&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.notificationChannels})]}),m.jsxs("div",{className:"flex gap-3 pt-4",children:[m.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create Alert"})]})]})]})})}const Z2=10;function cxe({searchTerm:t,filters:e,page:n}){const{user:r}=wd(),[i,o]=M.useState([]),[a,s]=M.useState(!0),[l,u]=M.useState(null),[c,f]=M.useState(1);M.useEffect(()=>{if(!(r!=null&&r.id)){o([]),s(!1);return}s(!0),u(null);try{const y=[Wv("userId","==",r.id)];e.type!=="all"&&y.push(Wv("category","==",e.type)),e.status!=="all"&&y.push(Wv("isActive","==",e.status==="active")),y.push(GW("createdAt","desc")),y.push(HW(Z2));const b=Kb(Jn,"alerts"),x=qW(b,...y),w=ZW(x,_=>{let P=_.docs.map(T=>({id:T.id,...T.data()}));if(t){const T=t.toLowerCase();P=P.filter(I=>{var E;return((E=I.customMessage)==null?void 0:E.toLowerCase().includes(T))||I.targetPrice.toString().includes(T)})}o(P),f(Math.ceil(P.length/Z2)||1),s(!1),u(null)},_=>{console.error("Error fetching alerts:",_),u("Failed to load alerts. Please refresh the page."),s(!1),De.error("Failed to load alerts. Please refresh the page.")});return()=>w()}catch(y){console.error("Error setting up alerts subscription:",y),u("Failed to load alerts. Please refresh the page."),s(!1),De.error("Failed to load alerts. Please refresh the page.")}},[r==null?void 0:r.id,t,e,n]);const h=M.useCallback(async y=>{if(!(r!=null&&r.id)){De.error("You must be logged in to create alerts");return}try{const b={...y,userId:r.id,createdAt:Ke.now(),updatedAt:Ke.now()},x=await _D(Kb(Jn,"alerts"),b);return De.success("Alert created successfully"),{id:x.id,...b}}catch(b){throw console.error("Error creating alert:",b),De.error("Failed to create alert. Please try again."),b}},[r==null?void 0:r.id]),p=M.useCallback(async(y,b)=>{var x;if(!(r!=null&&r.id)){De.error("You must be logged in to update alerts");return}try{const w=uo(Jn,"alerts",y),_=await Nc(w);if(!_.exists()||((x=_.data())==null?void 0:x.userId)!==r.id)throw new Error("Alert not found or unauthorized");await XW(w,{...b,updatedAt:Ke.now()}),De.success("Alert updated successfully")}catch(w){throw console.error("Error updating alert:",w),De.error("Failed to update alert. Please try again."),w}},[r==null?void 0:r.id]),g=M.useCallback(async y=>{var b;if(!(r!=null&&r.id)){De.error("You must be logged in to delete alerts");return}try{const x=uo(Jn,"alerts",y),w=await Nc(x);if(!w.exists()||((b=w.data())==null?void 0:b.userId)!==r.id)throw new Error("Alert not found or unauthorized");await JW(x),De.success("Alert deleted successfully")}catch(x){throw console.error("Error deleting alert:",x),De.error("Failed to delete alert. Please try again."),x}},[r==null?void 0:r.id]);return{alerts:i,loading:a,error:l,totalPages:c,createAlert:h,updateAlert:p,deleteAlert:g}}function fxe(){const[t,e]=M.useState(""),[n,r]=M.useState(1),[i,o]=M.useState(!1),[a,s]=M.useState({type:"all",status:"all",sortBy:"createdAt"}),[l,u]=M.useState(!1),{alerts:c,loading:f,totalPages:h,createAlert:p,deleteAlert:g,updateAlert:y}=cxe({searchTerm:t,filters:a,page:n});return m.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[m.jsx(KD,{position:"top-right"}),m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Manage Alerts"}),m.jsx("p",{className:"text-gray-600 mt-2",children:"Set up and manage your price alerts"})]}),m.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all shadow-md hover:shadow-lg",children:[m.jsx(r$,{className:"w-5 h-5"}),"Create Alert"]})]}),m.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[m.jsx("div",{className:"lg:w-1/4",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(_H,{className:"w-5 h-5 text-blue-600"}),m.jsx("h2",{className:"text-lg font-semibold",children:"Filters"})]}),m.jsx("button",{onClick:()=>u(!l),className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg",children:m.jsx(MH,{className:"w-5 h-5"})})]}),m.jsx("div",{className:`${l?"block":"hidden lg:block"}`,children:m.jsx(sxe,{filters:a,onChange:s})})]})}),m.jsxs("div",{className:"lg:w-3/4",children:[m.jsx("div",{className:"mb-6",children:m.jsx(lxe,{value:t,onChange:e})}),m.jsx(axe,{alerts:c,loading:f,onDelete:g,onUpdate:y,currentPage:n,totalPages:h,onPageChange:r})]})]}),i&&m.jsx(uxe,{onClose:()=>o(!1),onCreate:p})]})}function dxe(){const{user:t,sendVerificationEmail:e}=wd();return!t||t.emailVerified?null:m.jsx("div",{className:"fixed top-4 right-4 max-w-md bg-yellow-50 p-4 rounded-lg shadow-lg border border-yellow-200 z-50",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"p-2 bg-yellow-100 rounded-full",children:m.jsx(xd,{className:"w-5 h-5 text-yellow-600"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Verify your email"}),m.jsx("p",{className:"mt-1 text-sm text-yellow-700",children:"Please check your inbox and verify your email address to access all features."}),m.jsxs("button",{onClick:e,className:"mt-3 flex items-center gap-2 text-sm font-medium text-yellow-800 hover:text-yellow-900",children:[m.jsx(RH,{className:"w-4 h-4"}),"Resend verification email"]})]})]})})}function hxe(){const[t,e]=M.useState(!1),[n,r]=M.useState(!1),i=({children:o})=>m.jsx("div",{className:`${t?"dark":""}`,children:m.jsxs("div",{className:"dashboard-layout",children:[m.jsx(BH,{currentPage:window.location.pathname.substring(1)||"home",onPageChange:()=>{},isCollapsed:n,onCollapse:r,isDarkMode:t,onThemeChange:e}),m.jsx("div",{className:`transition-all duration-300 ${n?"pl-16":"pl-64"}`,children:m.jsx("main",{className:"dashboard-content py-6",children:o})})]})});return m.jsx(dH,{children:m.jsxs(O6,{children:[m.jsx(dxe,{}),m.jsx(KD,{position:"top-right"}),m.jsxs(I6,{children:[m.jsx(si,{path:"/",element:m.jsx(WH,{})}),m.jsx(si,{path:"/auth",element:m.jsx(o$,{})}),m.jsx(si,{path:"/dashboard",element:m.jsx(Gu,{children:m.jsx(i,{children:m.jsx(dY,{})})})}),m.jsx(si,{path:"/trends",element:m.jsx(Gu,{children:m.jsx(i,{children:m.jsx(Gwe,{})})})}),m.jsx(si,{path:"/quote",element:m.jsx(Gu,{children:m.jsx(i,{children:m.jsx(Qwe,{})})})}),m.jsx(si,{path:"/aluminum-shorts",element:m.jsx(Gu,{children:m.jsx(i,{children:m.jsx(nxe,{})})})}),m.jsx(si,{path:"/alerts",element:m.jsx(Gu,{children:m.jsx(i,{children:m.jsx(fxe,{})})})}),m.jsx(si,{path:"*",element:m.jsx(TR,{to:"/",replace:!0})})]})]})})}T0.createRoot(document.getElementById("root")).render(m.jsx(D.StrictMode,{children:m.jsx(hxe,{})}));
